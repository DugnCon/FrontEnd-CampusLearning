const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/html2canvas-1PQvphRT.js","assets/vendor-RRnETbPA.js","assets/index.es-BoHqLB3V.js"])))=>i.map(i=>d[i]);
var iP=Object.defineProperty;var sC=e=>{throw TypeError(e)};var oP=(e,t,r)=>t in e?iP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var sd=(e,t,r)=>oP(e,typeof t!="symbol"?t+"":t,r),X1=(e,t,r)=>t.has(e)||sC("Cannot "+r);var xt=(e,t,r)=>(X1(e,t,"read from private field"),r?r.call(e):t.get(e)),qr=(e,t,r)=>t.has(e)?sC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),wr=(e,t,r,s)=>(X1(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),di=(e,t,r)=>(X1(e,t,"access private method"),r);var kg=(e,t,r,s)=>({set _(i){wr(e,t,i,r)},get _(){return xt(e,t,s)}});import{r as m,a as KS,R as Xt,u as rn,L as Zt,b as Sv,c as Sg,d as Lo,e as lo,f as Rm,g as xp,h as aP,i as zS,j as Pn,k as lP,N as Xf,B as cP}from"./vendor-RRnETbPA.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var WS={exports:{}},Ix={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uP=m,dP=Symbol.for("react.element"),AP=Symbol.for("react.fragment"),hP=Object.prototype.hasOwnProperty,fP=uP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mP={key:!0,ref:!0,__self:!0,__source:!0};function GS(e,t,r){var s,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(s in t)hP.call(t,s)&&!mP.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:dP,type:e,key:o,ref:a,props:i,_owner:fP.current}}Ix.Fragment=AP;Ix.jsx=GS;Ix.jsxs=GS;WS.exports=Ix;var n=WS.exports,qS={},Tx={};Tx.byteLength=xP;Tx.toByteArray=bP;Tx.fromByteArray=jP;var dl=[],qo=[],pP=typeof Uint8Array<"u"?Uint8Array:Array,J1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var JA=0,gP=J1.length;JA<gP;++JA)dl[JA]=J1[JA],qo[J1.charCodeAt(JA)]=JA;qo[45]=62;qo[95]=63;function XS(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var s=r===t?0:4-r%4;return[r,s]}function xP(e){var t=XS(e),r=t[0],s=t[1];return(r+s)*3/4-s}function yP(e,t,r){return(t+r)*3/4-r}function bP(e){var t,r=XS(e),s=r[0],i=r[1],o=new pP(yP(e,s,i)),a=0,l=i>0?s-4:s,c;for(c=0;c<l;c+=4)t=qo[e.charCodeAt(c)]<<18|qo[e.charCodeAt(c+1)]<<12|qo[e.charCodeAt(c+2)]<<6|qo[e.charCodeAt(c+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=qo[e.charCodeAt(c)]<<2|qo[e.charCodeAt(c+1)]>>4,o[a++]=t&255),i===1&&(t=qo[e.charCodeAt(c)]<<10|qo[e.charCodeAt(c+1)]<<4|qo[e.charCodeAt(c+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function vP(e){return dl[e>>18&63]+dl[e>>12&63]+dl[e>>6&63]+dl[e&63]}function wP(e,t,r){for(var s,i=[],o=t;o<r;o+=3)s=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(vP(s));return i.join("")}function jP(e){for(var t,r=e.length,s=r%3,i=[],o=16383,a=0,l=r-s;a<l;a+=o)i.push(wP(e,a,a+o>l?l:a+o));return s===1?(t=e[r-1],i.push(dl[t>>2]+dl[t<<4&63]+"==")):s===2&&(t=(e[r-2]<<8)+e[r-1],i.push(dl[t>>10]+dl[t>>4&63]+dl[t<<2&63]+"=")),i.join("")}var I2={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */I2.read=function(e,t,r,s,i){var o,a,l=i*8-s-1,c=(1<<l)-1,d=c>>1,u=-7,A=r?i-1:0,f=r?-1:1,h=e[t+A];for(A+=f,o=h&(1<<-u)-1,h>>=-u,u+=l;u>0;o=o*256+e[t+A],A+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=s;u>0;a=a*256+e[t+A],A+=f,u-=8);if(o===0)o=1-d;else{if(o===c)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,s),o=o-d}return(h?-1:1)*a*Math.pow(2,o-s)};I2.write=function(e,t,r,s,i,o){var a,l,c,d=o*8-i-1,u=(1<<d)-1,A=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=s?0:o-1,g=s?1:-1,p=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+A>=1?t+=f/c:t+=f*Math.pow(2,1-A),t*c>=2&&(a++,c/=2),a+A>=u?(l=0,a=u):a+A>=1?(l=(t*c-1)*Math.pow(2,i),a=a+A):(l=t*Math.pow(2,A-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=l&255,h+=g,l/=256,i-=8);for(a=a<<i|l,d+=i;d>0;e[r+h]=a&255,h+=g,a/=256,d-=8);e[r+h-g]|=p*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Tx,r=I2,s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=j,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=o(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const q=new Uint8Array(1),M={foo:function(){return 42}};return Object.setPrototypeOf(M,Uint8Array.prototype),Object.setPrototypeOf(q,M),q.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function a(q){if(q>i)throw new RangeError('The value "'+q+'" is invalid for option "size"');const M=new Uint8Array(q);return Object.setPrototypeOf(M,l.prototype),M}function l(q,M,$){if(typeof q=="number"){if(typeof M=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A(q)}return c(q,M,$)}l.poolSize=8192;function c(q,M,$){if(typeof q=="string")return f(q,M);if(ArrayBuffer.isView(q))return g(q);if(q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(qe(q,ArrayBuffer)||q&&qe(q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(qe(q,SharedArrayBuffer)||q&&qe(q.buffer,SharedArrayBuffer)))return p(q,M,$);if(typeof q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const J=q.valueOf&&q.valueOf();if(J!=null&&J!==q)return l.from(J,M,$);const ee=b(q);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof q[Symbol.toPrimitive]=="function")return l.from(q[Symbol.toPrimitive]("string"),M,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}l.from=function(q,M,$){return c(q,M,$)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function d(q){if(typeof q!="number")throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function u(q,M,$){return d(q),q<=0?a(q):M!==void 0?typeof $=="string"?a(q).fill(M,$):a(q).fill(M):a(q)}l.alloc=function(q,M,$){return u(q,M,$)};function A(q){return d(q),a(q<0?0:x(q)|0)}l.allocUnsafe=function(q){return A(q)},l.allocUnsafeSlow=function(q){return A(q)};function f(q,M){if((typeof M!="string"||M==="")&&(M="utf8"),!l.isEncoding(M))throw new TypeError("Unknown encoding: "+M);const $=w(q,M)|0;let J=a($);const ee=J.write(q,M);return ee!==$&&(J=J.slice(0,ee)),J}function h(q){const M=q.length<0?0:x(q.length)|0,$=a(M);for(let J=0;J<M;J+=1)$[J]=q[J]&255;return $}function g(q){if(qe(q,Uint8Array)){const M=new Uint8Array(q);return p(M.buffer,M.byteOffset,M.byteLength)}return h(q)}function p(q,M,$){if(M<0||q.byteLength<M)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<M+($||0))throw new RangeError('"length" is outside of buffer bounds');let J;return M===void 0&&$===void 0?J=new Uint8Array(q):$===void 0?J=new Uint8Array(q,M):J=new Uint8Array(q,M,$),Object.setPrototypeOf(J,l.prototype),J}function b(q){if(l.isBuffer(q)){const M=x(q.length)|0,$=a(M);return $.length===0||q.copy($,0,0,M),$}if(q.length!==void 0)return typeof q.length!="number"||St(q.length)?a(0):h(q);if(q.type==="Buffer"&&Array.isArray(q.data))return h(q.data)}function x(q){if(q>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return q|0}function j(q){return+q!=q&&(q=0),l.alloc(+q)}l.isBuffer=function(M){return M!=null&&M._isBuffer===!0&&M!==l.prototype},l.compare=function(M,$){if(qe(M,Uint8Array)&&(M=l.from(M,M.offset,M.byteLength)),qe($,Uint8Array)&&($=l.from($,$.offset,$.byteLength)),!l.isBuffer(M)||!l.isBuffer($))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(M===$)return 0;let J=M.length,ee=$.length;for(let ve=0,Se=Math.min(J,ee);ve<Se;++ve)if(M[ve]!==$[ve]){J=M[ve],ee=$[ve];break}return J<ee?-1:ee<J?1:0},l.isEncoding=function(M){switch(String(M).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(M,$){if(!Array.isArray(M))throw new TypeError('"list" argument must be an Array of Buffers');if(M.length===0)return l.alloc(0);let J;if($===void 0)for($=0,J=0;J<M.length;++J)$+=M[J].length;const ee=l.allocUnsafe($);let ve=0;for(J=0;J<M.length;++J){let Se=M[J];if(qe(Se,Uint8Array))ve+Se.length>ee.length?(l.isBuffer(Se)||(Se=l.from(Se)),Se.copy(ee,ve)):Uint8Array.prototype.set.call(ee,Se,ve);else if(l.isBuffer(Se))Se.copy(ee,ve);else throw new TypeError('"list" argument must be an Array of Buffers');ve+=Se.length}return ee};function w(q,M){if(l.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||qe(q,ArrayBuffer))return q.byteLength;if(typeof q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);const $=q.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&$===0)return 0;let ee=!1;for(;;)switch(M){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return Ct(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $*2;case"hex":return $>>>1;case"base64":return st(q).length;default:if(ee)return J?-1:Ct(q).length;M=(""+M).toLowerCase(),ee=!0}}l.byteLength=w;function S(q,M,$){let J=!1;if((M===void 0||M<0)&&(M=0),M>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0,M>>>=0,$<=M))return"";for(q||(q="utf8");;)switch(q){case"hex":return ye(this,M,$);case"utf8":case"utf-8":return P(this,M,$);case"ascii":return he(this,M,$);case"latin1":case"binary":return ce(this,M,$);case"base64":return H(this,M,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,M,$);default:if(J)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),J=!0}}l.prototype._isBuffer=!0;function I(q,M,$){const J=q[M];q[M]=q[$],q[$]=J}l.prototype.swap16=function(){const M=this.length;if(M%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let $=0;$<M;$+=2)I(this,$,$+1);return this},l.prototype.swap32=function(){const M=this.length;if(M%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let $=0;$<M;$+=4)I(this,$,$+3),I(this,$+1,$+2);return this},l.prototype.swap64=function(){const M=this.length;if(M%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let $=0;$<M;$+=8)I(this,$,$+7),I(this,$+1,$+6),I(this,$+2,$+5),I(this,$+3,$+4);return this},l.prototype.toString=function(){const M=this.length;return M===0?"":arguments.length===0?P(this,0,M):S.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(M){if(!l.isBuffer(M))throw new TypeError("Argument must be a Buffer");return this===M?!0:l.compare(this,M)===0},l.prototype.inspect=function(){let M="";const $=e.INSPECT_MAX_BYTES;return M=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim(),this.length>$&&(M+=" ... "),"<Buffer "+M+">"},s&&(l.prototype[s]=l.prototype.inspect),l.prototype.compare=function(M,$,J,ee,ve){if(qe(M,Uint8Array)&&(M=l.from(M,M.offset,M.byteLength)),!l.isBuffer(M))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof M);if($===void 0&&($=0),J===void 0&&(J=M?M.length:0),ee===void 0&&(ee=0),ve===void 0&&(ve=this.length),$<0||J>M.length||ee<0||ve>this.length)throw new RangeError("out of range index");if(ee>=ve&&$>=J)return 0;if(ee>=ve)return-1;if($>=J)return 1;if($>>>=0,J>>>=0,ee>>>=0,ve>>>=0,this===M)return 0;let Se=ve-ee,We=J-$;const $e=Math.min(Se,We),Pe=this.slice(ee,ve),Be=M.slice($,J);for(let Te=0;Te<$e;++Te)if(Pe[Te]!==Be[Te]){Se=Pe[Te],We=Be[Te];break}return Se<We?-1:We<Se?1:0};function F(q,M,$,J,ee){if(q.length===0)return-1;if(typeof $=="string"?(J=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,St($)&&($=ee?0:q.length-1),$<0&&($=q.length+$),$>=q.length){if(ee)return-1;$=q.length-1}else if($<0)if(ee)$=0;else return-1;if(typeof M=="string"&&(M=l.from(M,J)),l.isBuffer(M))return M.length===0?-1:T(q,M,$,J,ee);if(typeof M=="number")return M=M&255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(q,M,$):Uint8Array.prototype.lastIndexOf.call(q,M,$):T(q,[M],$,J,ee);throw new TypeError("val must be string, number or Buffer")}function T(q,M,$,J,ee){let ve=1,Se=q.length,We=M.length;if(J!==void 0&&(J=String(J).toLowerCase(),J==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(q.length<2||M.length<2)return-1;ve=2,Se/=2,We/=2,$/=2}function $e(Be,Te){return ve===1?Be[Te]:Be.readUInt16BE(Te*ve)}let Pe;if(ee){let Be=-1;for(Pe=$;Pe<Se;Pe++)if($e(q,Pe)===$e(M,Be===-1?0:Pe-Be)){if(Be===-1&&(Be=Pe),Pe-Be+1===We)return Be*ve}else Be!==-1&&(Pe-=Pe-Be),Be=-1}else for($+We>Se&&($=Se-We),Pe=$;Pe>=0;Pe--){let Be=!0;for(let Te=0;Te<We;Te++)if($e(q,Pe+Te)!==$e(M,Te)){Be=!1;break}if(Be)return Pe}return-1}l.prototype.includes=function(M,$,J){return this.indexOf(M,$,J)!==-1},l.prototype.indexOf=function(M,$,J){return F(this,M,$,J,!0)},l.prototype.lastIndexOf=function(M,$,J){return F(this,M,$,J,!1)};function U(q,M,$,J){$=Number($)||0;const ee=q.length-$;J?(J=Number(J),J>ee&&(J=ee)):J=ee;const ve=M.length;J>ve/2&&(J=ve/2);let Se;for(Se=0;Se<J;++Se){const We=parseInt(M.substr(Se*2,2),16);if(St(We))return Se;q[$+Se]=We}return Se}function K(q,M,$,J){return at(Ct(M,q.length-$),q,$,J)}function B(q,M,$,J){return at(ct(M),q,$,J)}function R(q,M,$,J){return at(st(M),q,$,J)}function D(q,M,$,J){return at(rt(M,q.length-$),q,$,J)}l.prototype.write=function(M,$,J,ee){if($===void 0)ee="utf8",J=this.length,$=0;else if(J===void 0&&typeof $=="string")ee=$,J=this.length,$=0;else if(isFinite($))$=$>>>0,isFinite(J)?(J=J>>>0,ee===void 0&&(ee="utf8")):(ee=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ve=this.length-$;if((J===void 0||J>ve)&&(J=ve),M.length>0&&(J<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");let Se=!1;for(;;)switch(ee){case"hex":return U(this,M,$,J);case"utf8":case"utf-8":return K(this,M,$,J);case"ascii":case"latin1":case"binary":return B(this,M,$,J);case"base64":return R(this,M,$,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,M,$,J);default:if(Se)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),Se=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(q,M,$){return M===0&&$===q.length?t.fromByteArray(q):t.fromByteArray(q.slice(M,$))}function P(q,M,$){$=Math.min(q.length,$);const J=[];let ee=M;for(;ee<$;){const ve=q[ee];let Se=null,We=ve>239?4:ve>223?3:ve>191?2:1;if(ee+We<=$){let $e,Pe,Be,Te;switch(We){case 1:ve<128&&(Se=ve);break;case 2:$e=q[ee+1],($e&192)===128&&(Te=(ve&31)<<6|$e&63,Te>127&&(Se=Te));break;case 3:$e=q[ee+1],Pe=q[ee+2],($e&192)===128&&(Pe&192)===128&&(Te=(ve&15)<<12|($e&63)<<6|Pe&63,Te>2047&&(Te<55296||Te>57343)&&(Se=Te));break;case 4:$e=q[ee+1],Pe=q[ee+2],Be=q[ee+3],($e&192)===128&&(Pe&192)===128&&(Be&192)===128&&(Te=(ve&15)<<18|($e&63)<<12|(Pe&63)<<6|Be&63,Te>65535&&Te<1114112&&(Se=Te))}}Se===null?(Se=65533,We=1):Se>65535&&(Se-=65536,J.push(Se>>>10&1023|55296),Se=56320|Se&1023),J.push(Se),ee+=We}return G(J)}const z=4096;function G(q){const M=q.length;if(M<=z)return String.fromCharCode.apply(String,q);let $="",J=0;for(;J<M;)$+=String.fromCharCode.apply(String,q.slice(J,J+=z));return $}function he(q,M,$){let J="";$=Math.min(q.length,$);for(let ee=M;ee<$;++ee)J+=String.fromCharCode(q[ee]&127);return J}function ce(q,M,$){let J="";$=Math.min(q.length,$);for(let ee=M;ee<$;++ee)J+=String.fromCharCode(q[ee]);return J}function ye(q,M,$){const J=q.length;(!M||M<0)&&(M=0),(!$||$<0||$>J)&&($=J);let ee="";for(let ve=M;ve<$;++ve)ee+=kt[q[ve]];return ee}function X(q,M,$){const J=q.slice(M,$);let ee="";for(let ve=0;ve<J.length-1;ve+=2)ee+=String.fromCharCode(J[ve]+J[ve+1]*256);return ee}l.prototype.slice=function(M,$){const J=this.length;M=~~M,$=$===void 0?J:~~$,M<0?(M+=J,M<0&&(M=0)):M>J&&(M=J),$<0?($+=J,$<0&&($=0)):$>J&&($=J),$<M&&($=M);const ee=this.subarray(M,$);return Object.setPrototypeOf(ee,l.prototype),ee};function re(q,M,$){if(q%1!==0||q<0)throw new RangeError("offset is not uint");if(q+M>$)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(M,$,J){M=M>>>0,$=$>>>0,J||re(M,$,this.length);let ee=this[M],ve=1,Se=0;for(;++Se<$&&(ve*=256);)ee+=this[M+Se]*ve;return ee},l.prototype.readUintBE=l.prototype.readUIntBE=function(M,$,J){M=M>>>0,$=$>>>0,J||re(M,$,this.length);let ee=this[M+--$],ve=1;for(;$>0&&(ve*=256);)ee+=this[M+--$]*ve;return ee},l.prototype.readUint8=l.prototype.readUInt8=function(M,$){return M=M>>>0,$||re(M,1,this.length),this[M]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(M,$){return M=M>>>0,$||re(M,2,this.length),this[M]|this[M+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(M,$){return M=M>>>0,$||re(M,2,this.length),this[M]<<8|this[M+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(M,$){return M=M>>>0,$||re(M,4,this.length),(this[M]|this[M+1]<<8|this[M+2]<<16)+this[M+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(M,$){return M=M>>>0,$||re(M,4,this.length),this[M]*16777216+(this[M+1]<<16|this[M+2]<<8|this[M+3])},l.prototype.readBigUInt64LE=He(function(M){M=M>>>0,je(M,"offset");const $=this[M],J=this[M+7];($===void 0||J===void 0)&&De(M,this.length-8);const ee=$+this[++M]*2**8+this[++M]*2**16+this[++M]*2**24,ve=this[++M]+this[++M]*2**8+this[++M]*2**16+J*2**24;return BigInt(ee)+(BigInt(ve)<<BigInt(32))}),l.prototype.readBigUInt64BE=He(function(M){M=M>>>0,je(M,"offset");const $=this[M],J=this[M+7];($===void 0||J===void 0)&&De(M,this.length-8);const ee=$*2**24+this[++M]*2**16+this[++M]*2**8+this[++M],ve=this[++M]*2**24+this[++M]*2**16+this[++M]*2**8+J;return(BigInt(ee)<<BigInt(32))+BigInt(ve)}),l.prototype.readIntLE=function(M,$,J){M=M>>>0,$=$>>>0,J||re(M,$,this.length);let ee=this[M],ve=1,Se=0;for(;++Se<$&&(ve*=256);)ee+=this[M+Se]*ve;return ve*=128,ee>=ve&&(ee-=Math.pow(2,8*$)),ee},l.prototype.readIntBE=function(M,$,J){M=M>>>0,$=$>>>0,J||re(M,$,this.length);let ee=$,ve=1,Se=this[M+--ee];for(;ee>0&&(ve*=256);)Se+=this[M+--ee]*ve;return ve*=128,Se>=ve&&(Se-=Math.pow(2,8*$)),Se},l.prototype.readInt8=function(M,$){return M=M>>>0,$||re(M,1,this.length),this[M]&128?(255-this[M]+1)*-1:this[M]},l.prototype.readInt16LE=function(M,$){M=M>>>0,$||re(M,2,this.length);const J=this[M]|this[M+1]<<8;return J&32768?J|4294901760:J},l.prototype.readInt16BE=function(M,$){M=M>>>0,$||re(M,2,this.length);const J=this[M+1]|this[M]<<8;return J&32768?J|4294901760:J},l.prototype.readInt32LE=function(M,$){return M=M>>>0,$||re(M,4,this.length),this[M]|this[M+1]<<8|this[M+2]<<16|this[M+3]<<24},l.prototype.readInt32BE=function(M,$){return M=M>>>0,$||re(M,4,this.length),this[M]<<24|this[M+1]<<16|this[M+2]<<8|this[M+3]},l.prototype.readBigInt64LE=He(function(M){M=M>>>0,je(M,"offset");const $=this[M],J=this[M+7];($===void 0||J===void 0)&&De(M,this.length-8);const ee=this[M+4]+this[M+5]*2**8+this[M+6]*2**16+(J<<24);return(BigInt(ee)<<BigInt(32))+BigInt($+this[++M]*2**8+this[++M]*2**16+this[++M]*2**24)}),l.prototype.readBigInt64BE=He(function(M){M=M>>>0,je(M,"offset");const $=this[M],J=this[M+7];($===void 0||J===void 0)&&De(M,this.length-8);const ee=($<<24)+this[++M]*2**16+this[++M]*2**8+this[++M];return(BigInt(ee)<<BigInt(32))+BigInt(this[++M]*2**24+this[++M]*2**16+this[++M]*2**8+J)}),l.prototype.readFloatLE=function(M,$){return M=M>>>0,$||re(M,4,this.length),r.read(this,M,!0,23,4)},l.prototype.readFloatBE=function(M,$){return M=M>>>0,$||re(M,4,this.length),r.read(this,M,!1,23,4)},l.prototype.readDoubleLE=function(M,$){return M=M>>>0,$||re(M,8,this.length),r.read(this,M,!0,52,8)},l.prototype.readDoubleBE=function(M,$){return M=M>>>0,$||re(M,8,this.length),r.read(this,M,!1,52,8)};function _(q,M,$,J,ee,ve){if(!l.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>ee||M<ve)throw new RangeError('"value" argument is out of bounds');if($+J>q.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(M,$,J,ee){if(M=+M,$=$>>>0,J=J>>>0,!ee){const We=Math.pow(2,8*J)-1;_(this,M,$,J,We,0)}let ve=1,Se=0;for(this[$]=M&255;++Se<J&&(ve*=256);)this[$+Se]=M/ve&255;return $+J},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(M,$,J,ee){if(M=+M,$=$>>>0,J=J>>>0,!ee){const We=Math.pow(2,8*J)-1;_(this,M,$,J,We,0)}let ve=J-1,Se=1;for(this[$+ve]=M&255;--ve>=0&&(Se*=256);)this[$+ve]=M/Se&255;return $+J},l.prototype.writeUint8=l.prototype.writeUInt8=function(M,$,J){return M=+M,$=$>>>0,J||_(this,M,$,1,255,0),this[$]=M&255,$+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(M,$,J){return M=+M,$=$>>>0,J||_(this,M,$,2,65535,0),this[$]=M&255,this[$+1]=M>>>8,$+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(M,$,J){return M=+M,$=$>>>0,J||_(this,M,$,2,65535,0),this[$]=M>>>8,this[$+1]=M&255,$+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(M,$,J){return M=+M,$=$>>>0,J||_(this,M,$,4,4294967295,0),this[$+3]=M>>>24,this[$+2]=M>>>16,this[$+1]=M>>>8,this[$]=M&255,$+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(M,$,J){return M=+M,$=$>>>0,J||_(this,M,$,4,4294967295,0),this[$]=M>>>24,this[$+1]=M>>>16,this[$+2]=M>>>8,this[$+3]=M&255,$+4};function Q(q,M,$,J,ee){we(M,J,ee,q,$,7);let ve=Number(M&BigInt(4294967295));q[$++]=ve,ve=ve>>8,q[$++]=ve,ve=ve>>8,q[$++]=ve,ve=ve>>8,q[$++]=ve;let Se=Number(M>>BigInt(32)&BigInt(4294967295));return q[$++]=Se,Se=Se>>8,q[$++]=Se,Se=Se>>8,q[$++]=Se,Se=Se>>8,q[$++]=Se,$}function Z(q,M,$,J,ee){we(M,J,ee,q,$,7);let ve=Number(M&BigInt(4294967295));q[$+7]=ve,ve=ve>>8,q[$+6]=ve,ve=ve>>8,q[$+5]=ve,ve=ve>>8,q[$+4]=ve;let Se=Number(M>>BigInt(32)&BigInt(4294967295));return q[$+3]=Se,Se=Se>>8,q[$+2]=Se,Se=Se>>8,q[$+1]=Se,Se=Se>>8,q[$]=Se,$+8}l.prototype.writeBigUInt64LE=He(function(M,$=0){return Q(this,M,$,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=He(function(M,$=0){return Z(this,M,$,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(M,$,J,ee){if(M=+M,$=$>>>0,!ee){const $e=Math.pow(2,8*J-1);_(this,M,$,J,$e-1,-$e)}let ve=0,Se=1,We=0;for(this[$]=M&255;++ve<J&&(Se*=256);)M<0&&We===0&&this[$+ve-1]!==0&&(We=1),this[$+ve]=(M/Se>>0)-We&255;return $+J},l.prototype.writeIntBE=function(M,$,J,ee){if(M=+M,$=$>>>0,!ee){const $e=Math.pow(2,8*J-1);_(this,M,$,J,$e-1,-$e)}let ve=J-1,Se=1,We=0;for(this[$+ve]=M&255;--ve>=0&&(Se*=256);)M<0&&We===0&&this[$+ve+1]!==0&&(We=1),this[$+ve]=(M/Se>>0)-We&255;return $+J},l.prototype.writeInt8=function(M,$,J){return M=+M,$=$>>>0,J||_(this,M,$,1,127,-128),M<0&&(M=255+M+1),this[$]=M&255,$+1},l.prototype.writeInt16LE=function(M,$,J){return M=+M,$=$>>>0,J||_(this,M,$,2,32767,-32768),this[$]=M&255,this[$+1]=M>>>8,$+2},l.prototype.writeInt16BE=function(M,$,J){return M=+M,$=$>>>0,J||_(this,M,$,2,32767,-32768),this[$]=M>>>8,this[$+1]=M&255,$+2},l.prototype.writeInt32LE=function(M,$,J){return M=+M,$=$>>>0,J||_(this,M,$,4,2147483647,-2147483648),this[$]=M&255,this[$+1]=M>>>8,this[$+2]=M>>>16,this[$+3]=M>>>24,$+4},l.prototype.writeInt32BE=function(M,$,J){return M=+M,$=$>>>0,J||_(this,M,$,4,2147483647,-2147483648),M<0&&(M=4294967295+M+1),this[$]=M>>>24,this[$+1]=M>>>16,this[$+2]=M>>>8,this[$+3]=M&255,$+4},l.prototype.writeBigInt64LE=He(function(M,$=0){return Q(this,M,$,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=He(function(M,$=0){return Z(this,M,$,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ae(q,M,$,J,ee,ve){if($+J>q.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function me(q,M,$,J,ee){return M=+M,$=$>>>0,ee||Ae(q,M,$,4),r.write(q,M,$,J,23,4),$+4}l.prototype.writeFloatLE=function(M,$,J){return me(this,M,$,!0,J)},l.prototype.writeFloatBE=function(M,$,J){return me(this,M,$,!1,J)};function ae(q,M,$,J,ee){return M=+M,$=$>>>0,ee||Ae(q,M,$,8),r.write(q,M,$,J,52,8),$+8}l.prototype.writeDoubleLE=function(M,$,J){return ae(this,M,$,!0,J)},l.prototype.writeDoubleBE=function(M,$,J){return ae(this,M,$,!1,J)},l.prototype.copy=function(M,$,J,ee){if(!l.isBuffer(M))throw new TypeError("argument should be a Buffer");if(J||(J=0),!ee&&ee!==0&&(ee=this.length),$>=M.length&&($=M.length),$||($=0),ee>0&&ee<J&&(ee=J),ee===J||M.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),M.length-$<ee-J&&(ee=M.length-$+J);const ve=ee-J;return this===M&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin($,J,ee):Uint8Array.prototype.set.call(M,this.subarray(J,ee),$),ve},l.prototype.fill=function(M,$,J,ee){if(typeof M=="string"){if(typeof $=="string"?(ee=$,$=0,J=this.length):typeof J=="string"&&(ee=J,J=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!l.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(M.length===1){const Se=M.charCodeAt(0);(ee==="utf8"&&Se<128||ee==="latin1")&&(M=Se)}}else typeof M=="number"?M=M&255:typeof M=="boolean"&&(M=Number(M));if($<0||this.length<$||this.length<J)throw new RangeError("Out of range index");if(J<=$)return this;$=$>>>0,J=J===void 0?this.length:J>>>0,M||(M=0);let ve;if(typeof M=="number")for(ve=$;ve<J;++ve)this[ve]=M;else{const Se=l.isBuffer(M)?M:l.from(M,ee),We=Se.length;if(We===0)throw new TypeError('The value "'+M+'" is invalid for argument "value"');for(ve=0;ve<J-$;++ve)this[ve+$]=Se[ve%We]}return this};const ie={};function te(q,M,$){ie[q]=class extends ${constructor(){super(),Object.defineProperty(this,"message",{value:M.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${q}]`,this.stack,delete this.name}get code(){return q}set code(ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ee,writable:!0})}toString(){return`${this.name} [${q}]: ${this.message}`}}}te("ERR_BUFFER_OUT_OF_BOUNDS",function(q){return q?`${q} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),te("ERR_INVALID_ARG_TYPE",function(q,M){return`The "${q}" argument must be of type number. Received type ${typeof M}`},TypeError),te("ERR_OUT_OF_RANGE",function(q,M,$){let J=`The value of "${q}" is out of range.`,ee=$;return Number.isInteger($)&&Math.abs($)>2**32?ee=fe(String($)):typeof $=="bigint"&&(ee=String($),($>BigInt(2)**BigInt(32)||$<-(BigInt(2)**BigInt(32)))&&(ee=fe(ee)),ee+="n"),J+=` It must be ${M}. Received ${ee}`,J},RangeError);function fe(q){let M="",$=q.length;const J=q[0]==="-"?1:0;for(;$>=J+4;$-=3)M=`_${q.slice($-3,$)}${M}`;return`${q.slice(0,$)}${M}`}function pe(q,M,$){je(M,"offset"),(q[M]===void 0||q[M+$]===void 0)&&De(M,q.length-($+1))}function we(q,M,$,J,ee,ve){if(q>$||q<M){const Se=typeof M=="bigint"?"n":"";let We;throw M===0||M===BigInt(0)?We=`>= 0${Se} and < 2${Se} ** ${(ve+1)*8}${Se}`:We=`>= -(2${Se} ** ${(ve+1)*8-1}${Se}) and < 2 ** ${(ve+1)*8-1}${Se}`,new ie.ERR_OUT_OF_RANGE("value",We,q)}pe(J,ee,ve)}function je(q,M){if(typeof q!="number")throw new ie.ERR_INVALID_ARG_TYPE(M,"number",q)}function De(q,M,$){throw Math.floor(q)!==q?(je(q,$),new ie.ERR_OUT_OF_RANGE("offset","an integer",q)):M<0?new ie.ERR_BUFFER_OUT_OF_BOUNDS:new ie.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${M}`,q)}const Ue=/[^+/0-9A-Za-z-_]/g;function Ce(q){if(q=q.split("=")[0],q=q.trim().replace(Ue,""),q.length<2)return"";for(;q.length%4!==0;)q=q+"=";return q}function Ct(q,M){M=M||1/0;let $;const J=q.length;let ee=null;const ve=[];for(let Se=0;Se<J;++Se){if($=q.charCodeAt(Se),$>55295&&$<57344){if(!ee){if($>56319){(M-=3)>-1&&ve.push(239,191,189);continue}else if(Se+1===J){(M-=3)>-1&&ve.push(239,191,189);continue}ee=$;continue}if($<56320){(M-=3)>-1&&ve.push(239,191,189),ee=$;continue}$=(ee-55296<<10|$-56320)+65536}else ee&&(M-=3)>-1&&ve.push(239,191,189);if(ee=null,$<128){if((M-=1)<0)break;ve.push($)}else if($<2048){if((M-=2)<0)break;ve.push($>>6|192,$&63|128)}else if($<65536){if((M-=3)<0)break;ve.push($>>12|224,$>>6&63|128,$&63|128)}else if($<1114112){if((M-=4)<0)break;ve.push($>>18|240,$>>12&63|128,$>>6&63|128,$&63|128)}else throw new Error("Invalid code point")}return ve}function ct(q){const M=[];for(let $=0;$<q.length;++$)M.push(q.charCodeAt($)&255);return M}function rt(q,M){let $,J,ee;const ve=[];for(let Se=0;Se<q.length&&!((M-=2)<0);++Se)$=q.charCodeAt(Se),J=$>>8,ee=$%256,ve.push(ee),ve.push(J);return ve}function st(q){return t.toByteArray(Ce(q))}function at(q,M,$,J){let ee;for(ee=0;ee<J&&!(ee+$>=M.length||ee>=q.length);++ee)M[ee+$]=q[ee];return ee}function qe(q,M){return q instanceof M||q!=null&&q.constructor!=null&&q.constructor.name!=null&&q.constructor.name===M.name}function St(q){return q!==q}const kt=function(){const q="0123456789abcdef",M=new Array(256);for(let $=0;$<16;++$){const J=$*16;for(let ee=0;ee<16;++ee)M[J+ee]=q[$]+q[ee]}return M}();function He(q){return typeof BigInt>"u"?Le:q}function Le(){throw new Error("BigInt not supported")}})(qS);var Ev={},iC=KS;Ev.createRoot=iC.createRoot,Ev.hydrateRoot=iC.hydrateRoot;var JS={exports:{}},YS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=m;function CP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var NP=typeof Object.is=="function"?Object.is:CP,BP=yp.useSyncExternalStore,kP=yp.useRef,SP=yp.useEffect,EP=yp.useMemo,IP=yp.useDebugValue;YS.useSyncExternalStoreWithSelector=function(e,t,r,s,i){var o=kP(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=EP(function(){function c(h){if(!d){if(d=!0,u=h,h=s(h),i!==void 0&&a.hasValue){var g=a.value;if(i(g,h))return A=g}return A=h}if(g=A,NP(u,h))return g;var p=s(h);return i!==void 0&&i(g,p)?(u=h,g):(u=h,A=p)}var d=!1,u,A,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,s,i]);var l=BP(e,o[0],o[1]);return SP(function(){a.hasValue=!0,a.value=l},[l]),IP(l),l};JS.exports=YS;var TP=JS.exports;function FP(e){e()}function LP(){let e=null,t=null;return{clear(){e=null,t=null},notify(){FP(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!s||e===null||(s=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var oC={notify(){},get:()=>[]};function PP(e,t){let r,s=oC,i=0,o=!1;function a(p){u();const b=s.subscribe(p);let x=!1;return()=>{x||(x=!0,b(),A())}}function l(){s.notify()}function c(){g.onStateChange&&g.onStateChange()}function d(){return o}function u(){i++,r||(r=e.subscribe(c),s=LP())}function A(){i--,r&&i===0&&(r(),r=void 0,s.clear(),s=oC)}function f(){o||(o=!0,u())}function h(){o&&(o=!1,A())}const g={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>s};return g}var UP=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RP=UP(),MP=()=>typeof navigator<"u"&&navigator.product==="ReactNative",DP=MP(),OP=()=>RP||DP?m.useLayoutEffect:m.useEffect,QP=OP(),Y1=Symbol.for("react-redux-context"),Z1=typeof globalThis<"u"?globalThis:{};function _P(){if(!m.createContext)return{};const e=Z1[Y1]??(Z1[Y1]=new Map);let t=e.get(m.createContext);return t||(t=m.createContext(null),e.set(m.createContext,t)),t}var yu=_P();function HP(e){const{children:t,context:r,serverState:s,store:i}=e,o=m.useMemo(()=>{const c=PP(i);return{store:i,subscription:c,getServerState:s?()=>s:void 0}},[i,s]),a=m.useMemo(()=>i.getState(),[i]);QP(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=r||yu;return m.createElement(l.Provider,{value:o},t)}var $P=HP;function T2(e=yu){return function(){return m.useContext(e)}}var ZS=T2();function eE(e=yu){const t=e===yu?ZS:T2(e),r=()=>{const{store:s}=t();return s};return Object.assign(r,{withTypes:()=>r}),r}var VP=eE();function KP(e=yu){const t=e===yu?VP:eE(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var Mn=KP(),zP=(e,t)=>e===t;function WP(e=yu){const t=e===yu?ZS:T2(e),r=(s,i={})=>{const{equalityFn:o=zP}=typeof i=="function"?{equalityFn:i}:i,a=t(),{store:l,subscription:c,getServerState:d}=a;m.useRef(!0);const u=m.useCallback({[s.name](f){return s(f)}}[s.name],[s]),A=TP.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,d||l.getState,u,o);return m.useDebugValue(A),A};return Object.assign(r,{withTypes:()=>r}),r}var Is=WP();function tE(e,t){return function(){return e.apply(t,arguments)}}const{toString:GP}=Object.prototype,{getPrototypeOf:F2}=Object,{iterator:Fx,toStringTag:rE}=Symbol,Lx=(e=>t=>{const r=GP.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ta=e=>(e=e.toLowerCase(),t=>Lx(t)===e),Px=e=>t=>typeof t===e,{isArray:Xh}=Array,Mm=Px("undefined");function qP(e){return e!==null&&!Mm(e)&&e.constructor!==null&&!Mm(e.constructor)&&so(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const nE=Ta("ArrayBuffer");function XP(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&nE(e.buffer),t}const JP=Px("string"),so=Px("function"),sE=Px("number"),Ux=e=>e!==null&&typeof e=="object",YP=e=>e===!0||e===!1,l0=e=>{if(Lx(e)!=="object")return!1;const t=F2(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(rE in e)&&!(Fx in e)},ZP=Ta("Date"),e3=Ta("File"),t3=Ta("Blob"),r3=Ta("FileList"),n3=e=>Ux(e)&&so(e.pipe),s3=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||so(e.append)&&((t=Lx(e))==="formdata"||t==="object"&&so(e.toString)&&e.toString()==="[object FormData]"))},i3=Ta("URLSearchParams"),[o3,a3,l3,c3]=["ReadableStream","Request","Response","Headers"].map(Ta),u3=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bp(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,i;if(typeof e!="object"&&(e=[e]),Xh(e))for(s=0,i=e.length;s<i;s++)t.call(null,e[s],s,e);else{const o=r?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let l;for(s=0;s<a;s++)l=o[s],t.call(null,e[l],l,e)}}function iE(e,t){t=t.toLowerCase();const r=Object.keys(e);let s=r.length,i;for(;s-- >0;)if(i=r[s],t===i.toLowerCase())return i;return null}const Cd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:window,oE=e=>!Mm(e)&&e!==Cd;function Iv(){const{caseless:e}=oE(this)&&this||{},t={},r=(s,i)=>{const o=e&&iE(t,i)||i;l0(t[o])&&l0(s)?t[o]=Iv(t[o],s):l0(s)?t[o]=Iv({},s):Xh(s)?t[o]=s.slice():t[o]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&bp(arguments[s],r);return t}const d3=(e,t,r,{allOwnKeys:s}={})=>(bp(t,(i,o)=>{r&&so(i)?e[o]=tE(i,r):e[o]=i},{allOwnKeys:s}),e),A3=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),h3=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},f3=(e,t,r,s)=>{let i,o,a;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],(!s||s(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=r!==!1&&F2(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},m3=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},p3=e=>{if(!e)return null;if(Xh(e))return e;let t=e.length;if(!sE(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},g3=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&F2(Uint8Array)),x3=(e,t)=>{const s=(e&&e[Fx]).call(e);let i;for(;(i=s.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},y3=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},b3=Ta("HTMLFormElement"),v3=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,i){return s.toUpperCase()+i}),aC=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),w3=Ta("RegExp"),aE=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};bp(r,(i,o)=>{let a;(a=t(i,o,e))!==!1&&(s[o]=a||i)}),Object.defineProperties(e,s)},j3=e=>{aE(e,(t,r)=>{if(so(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(so(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},C3=(e,t)=>{const r={},s=i=>{i.forEach(o=>{r[o]=!0})};return Xh(e)?s(e):s(String(e).split(t)),r},N3=()=>{},B3=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function k3(e){return!!(e&&so(e.append)&&e[rE]==="FormData"&&e[Fx])}const S3=e=>{const t=new Array(10),r=(s,i)=>{if(Ux(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[i]=s;const o=Xh(s)?[]:{};return bp(s,(a,l)=>{const c=r(a,i+1);!Mm(c)&&(o[l]=c)}),t[i]=void 0,o}}return s};return r(e,0)},E3=Ta("AsyncFunction"),I3=e=>e&&(Ux(e)||so(e))&&so(e.then)&&so(e.catch),lE=((e,t)=>e?setImmediate:t?((r,s)=>(Cd.addEventListener("message",({source:i,data:o})=>{i===Cd&&o===r&&s.length&&s.shift()()},!1),i=>{s.push(i),Cd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",so(Cd.postMessage)),T3=typeof queueMicrotask<"u"?queueMicrotask.bind(Cd):typeof process<"u"&&process.nextTick||lE,F3=e=>e!=null&&so(e[Fx]),ot={isArray:Xh,isArrayBuffer:nE,isBuffer:qP,isFormData:s3,isArrayBufferView:XP,isString:JP,isNumber:sE,isBoolean:YP,isObject:Ux,isPlainObject:l0,isReadableStream:o3,isRequest:a3,isResponse:l3,isHeaders:c3,isUndefined:Mm,isDate:ZP,isFile:e3,isBlob:t3,isRegExp:w3,isFunction:so,isStream:n3,isURLSearchParams:i3,isTypedArray:g3,isFileList:r3,forEach:bp,merge:Iv,extend:d3,trim:u3,stripBOM:A3,inherits:h3,toFlatObject:f3,kindOf:Lx,kindOfTest:Ta,endsWith:m3,toArray:p3,forEachEntry:x3,matchAll:y3,isHTMLForm:b3,hasOwnProperty:aC,hasOwnProp:aC,reduceDescriptors:aE,freezeMethods:j3,toObjectSet:C3,toCamelCase:v3,noop:N3,toFiniteNumber:B3,findKey:iE,global:Cd,isContextDefined:oE,isSpecCompliantForm:k3,toJSONObject:S3,isAsyncFn:E3,isThenable:I3,setImmediate:lE,asap:T3,isIterable:F3};function Nr(e,t,r,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}ot.inherits(Nr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ot.toJSONObject(this.config),code:this.code,status:this.status}}});const cE=Nr.prototype,uE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{uE[e]={value:e}});Object.defineProperties(Nr,uE);Object.defineProperty(cE,"isAxiosError",{value:!0});Nr.from=(e,t,r,s,i,o)=>{const a=Object.create(cE);return ot.toFlatObject(e,a,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Nr.call(a,e.message,t,r,s,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const L3=null;function Tv(e){return ot.isPlainObject(e)||ot.isArray(e)}function dE(e){return ot.endsWith(e,"[]")?e.slice(0,-2):e}function lC(e,t,r){return e?e.concat(t).map(function(i,o){return i=dE(i),!r&&o?"["+i+"]":i}).join(r?".":""):t}function P3(e){return ot.isArray(e)&&!e.some(Tv)}const U3=ot.toFlatObject(ot,{},null,function(t){return/^is[A-Z]/.test(t)});function Rx(e,t,r){if(!ot.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ot.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,b){return!ot.isUndefined(b[p])});const s=r.metaTokens,i=r.visitor||u,o=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ot.isSpecCompliantForm(t);if(!ot.isFunction(i))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(ot.isDate(g))return g.toISOString();if(ot.isBoolean(g))return g.toString();if(!c&&ot.isBlob(g))throw new Nr("Blob is not supported. Use a Buffer instead.");return ot.isArrayBuffer(g)||ot.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,p,b){let x=g;if(g&&!b&&typeof g=="object"){if(ot.endsWith(p,"{}"))p=s?p:p.slice(0,-2),g=JSON.stringify(g);else if(ot.isArray(g)&&P3(g)||(ot.isFileList(g)||ot.endsWith(p,"[]"))&&(x=ot.toArray(g)))return p=dE(p),x.forEach(function(w,S){!(ot.isUndefined(w)||w===null)&&t.append(a===!0?lC([p],S,o):a===null?p:p+"[]",d(w))}),!1}return Tv(g)?!0:(t.append(lC(b,p,o),d(g)),!1)}const A=[],f=Object.assign(U3,{defaultVisitor:u,convertValue:d,isVisitable:Tv});function h(g,p){if(!ot.isUndefined(g)){if(A.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));A.push(g),ot.forEach(g,function(x,j){(!(ot.isUndefined(x)||x===null)&&i.call(t,x,ot.isString(j)?j.trim():j,p,f))===!0&&h(x,p?p.concat(j):[j])}),A.pop()}}if(!ot.isObject(e))throw new TypeError("data must be an object");return h(e),t}function cC(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function L2(e,t){this._pairs=[],e&&Rx(e,this,t)}const AE=L2.prototype;AE.append=function(t,r){this._pairs.push([t,r])};AE.toString=function(t){const r=t?function(s){return t.call(this,s,cC)}:cC;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function R3(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hE(e,t,r){if(!t)return e;const s=r&&r.encode||R3;ot.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let o;if(i?o=i(t,r):o=ot.isURLSearchParams(t)?t.toString():new L2(t,r).toString(s),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class uC{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ot.forEach(this.handlers,function(s){s!==null&&t(s)})}}const fE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},M3=typeof URLSearchParams<"u"?URLSearchParams:L2,D3=typeof FormData<"u"?FormData:null,O3=typeof Blob<"u"?Blob:null,Q3={isBrowser:!0,classes:{URLSearchParams:M3,FormData:D3,Blob:O3},protocols:["http","https","file","blob","url","data"]},P2=typeof window<"u"&&typeof document<"u",Fv=typeof navigator=="object"&&navigator||void 0,_3=P2&&(!Fv||["ReactNative","NativeScript","NS"].indexOf(Fv.product)<0),H3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$3=P2&&window.location.href||"http://localhost",V3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:P2,hasStandardBrowserEnv:_3,hasStandardBrowserWebWorkerEnv:H3,navigator:Fv,origin:$3},Symbol.toStringTag,{value:"Module"})),xi={...V3,...Q3};function K3(e,t){return Rx(e,new xi.classes.URLSearchParams,Object.assign({visitor:function(r,s,i,o){return xi.isNode&&ot.isBuffer(r)?(this.append(s,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function z3(e){return ot.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function W3(e){const t={},r=Object.keys(e);let s;const i=r.length;let o;for(s=0;s<i;s++)o=r[s],t[o]=e[o];return t}function mE(e){function t(r,s,i,o){let a=r[o++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=o>=r.length;return a=!a&&ot.isArray(i)?i.length:a,c?(ot.hasOwnProp(i,a)?i[a]=[i[a],s]:i[a]=s,!l):((!i[a]||!ot.isObject(i[a]))&&(i[a]=[]),t(r,s,i[a],o)&&ot.isArray(i[a])&&(i[a]=W3(i[a])),!l)}if(ot.isFormData(e)&&ot.isFunction(e.entries)){const r={};return ot.forEachEntry(e,(s,i)=>{t(z3(s),i,r,0)}),r}return null}function G3(e,t,r){if(ot.isString(e))try{return(t||JSON.parse)(e),ot.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const vp={transitional:fE,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",i=s.indexOf("application/json")>-1,o=ot.isObject(t);if(o&&ot.isHTMLForm(t)&&(t=new FormData(t)),ot.isFormData(t))return i?JSON.stringify(mE(t)):t;if(ot.isArrayBuffer(t)||ot.isBuffer(t)||ot.isStream(t)||ot.isFile(t)||ot.isBlob(t)||ot.isReadableStream(t))return t;if(ot.isArrayBufferView(t))return t.buffer;if(ot.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return K3(t,this.formSerializer).toString();if((l=ot.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Rx(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),G3(t)):t}],transformResponse:[function(t){const r=this.transitional||vp.transitional,s=r&&r.forcedJSONParsing,i=this.responseType==="json";if(ot.isResponse(t)||ot.isReadableStream(t))return t;if(t&&ot.isString(t)&&(s&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?Nr.from(l,Nr.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xi.classes.FormData,Blob:xi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ot.forEach(["delete","get","head","post","put","patch"],e=>{vp.headers[e]={}});const q3=ot.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),X3=e=>{const t={};let r,s,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),s=a.substring(i+1).trim(),!(!r||t[r]&&q3[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},dC=Symbol("internals");function Uf(e){return e&&String(e).trim().toLowerCase()}function c0(e){return e===!1||e==null?e:ot.isArray(e)?e.map(c0):String(e)}function J3(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const Y3=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function eb(e,t,r,s,i){if(ot.isFunction(s))return s.call(this,t,r);if(i&&(t=r),!!ot.isString(t)){if(ot.isString(s))return t.indexOf(s)!==-1;if(ot.isRegExp(s))return s.test(t)}}function Z3(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function eU(e,t){const r=ot.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(i,o,a){return this[s].call(this,t,i,o,a)},configurable:!0})})}let io=class{constructor(t){t&&this.set(t)}set(t,r,s){const i=this;function o(l,c,d){const u=Uf(c);if(!u)throw new Error("header name must be a non-empty string");const A=ot.findKey(i,u);(!A||i[A]===void 0||d===!0||d===void 0&&i[A]!==!1)&&(i[A||c]=c0(l))}const a=(l,c)=>ot.forEach(l,(d,u)=>o(d,u,c));if(ot.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(ot.isString(t)&&(t=t.trim())&&!Y3(t))a(X3(t),r);else if(ot.isObject(t)&&ot.isIterable(t)){let l={},c,d;for(const u of t){if(!ot.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?ot.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}a(l,r)}else t!=null&&o(r,t,s);return this}get(t,r){if(t=Uf(t),t){const s=ot.findKey(this,t);if(s){const i=this[s];if(!r)return i;if(r===!0)return J3(i);if(ot.isFunction(r))return r.call(this,i,s);if(ot.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Uf(t),t){const s=ot.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||eb(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let i=!1;function o(a){if(a=Uf(a),a){const l=ot.findKey(s,a);l&&(!r||eb(s,s[l],l,r))&&(delete s[l],i=!0)}}return ot.isArray(t)?t.forEach(o):o(t),i}clear(t){const r=Object.keys(this);let s=r.length,i=!1;for(;s--;){const o=r[s];(!t||eb(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const r=this,s={};return ot.forEach(this,(i,o)=>{const a=ot.findKey(s,o);if(a){r[a]=c0(i),delete r[o];return}const l=t?Z3(o):String(o).trim();l!==o&&delete r[o],r[l]=c0(i),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ot.forEach(this,(s,i)=>{s!=null&&s!==!1&&(r[i]=t&&ot.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(i=>s.set(i)),s}static accessor(t){const s=(this[dC]=this[dC]={accessors:{}}).accessors,i=this.prototype;function o(a){const l=Uf(a);s[l]||(eU(i,a),s[l]=!0)}return ot.isArray(t)?t.forEach(o):o(t),this}};io.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ot.reduceDescriptors(io.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});ot.freezeMethods(io);function tb(e,t){const r=this||vp,s=t||r,i=io.from(s.headers);let o=s.data;return ot.forEach(e,function(l){o=l.call(r,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function pE(e){return!!(e&&e.__CANCEL__)}function Jh(e,t,r){Nr.call(this,e??"canceled",Nr.ERR_CANCELED,t,r),this.name="CanceledError"}ot.inherits(Jh,Nr,{__CANCEL__:!0});function gE(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new Nr("Request failed with status code "+r.status,[Nr.ERR_BAD_REQUEST,Nr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function tU(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function rU(e,t){e=e||10;const r=new Array(e),s=new Array(e);let i=0,o=0,a;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=s[o];a||(a=d),r[i]=c,s[i]=d;let A=o,f=0;for(;A!==i;)f+=r[A++],A=A%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),d-a<t)return;const h=u&&d-u;return h?Math.round(f*1e3/h):void 0}}function nU(e,t){let r=0,s=1e3/t,i,o;const a=(d,u=Date.now())=>{r=u,i=null,o&&(clearTimeout(o),o=null),e.apply(null,d)};return[(...d)=>{const u=Date.now(),A=u-r;A>=s?a(d,u):(i=d,o||(o=setTimeout(()=>{o=null,a(i)},s-A)))},()=>i&&a(i)]}const H0=(e,t,r=3)=>{let s=0;const i=rU(50,250);return nU(o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,c=a-s,d=i(c),u=a<=l;s=a;const A={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-a)/d:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(A)},r)},AC=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},hC=e=>(...t)=>ot.asap(()=>e(...t)),sU=xi.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,xi.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(xi.origin),xi.navigator&&/(msie|trident)/i.test(xi.navigator.userAgent)):()=>!0,iU=xi.hasStandardBrowserEnv?{write(e,t,r,s,i,o){const a=[e+"="+encodeURIComponent(t)];ot.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),ot.isString(s)&&a.push("path="+s),ot.isString(i)&&a.push("domain="+i),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function oU(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function aU(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function xE(e,t,r){let s=!oU(t);return e&&(s||r==!1)?aU(e,t):t}const fC=e=>e instanceof io?{...e}:e;function Kd(e,t){t=t||{};const r={};function s(d,u,A,f){return ot.isPlainObject(d)&&ot.isPlainObject(u)?ot.merge.call({caseless:f},d,u):ot.isPlainObject(u)?ot.merge({},u):ot.isArray(u)?u.slice():u}function i(d,u,A,f){if(ot.isUndefined(u)){if(!ot.isUndefined(d))return s(void 0,d,A,f)}else return s(d,u,A,f)}function o(d,u){if(!ot.isUndefined(u))return s(void 0,u)}function a(d,u){if(ot.isUndefined(u)){if(!ot.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,A){if(A in t)return s(d,u);if(A in e)return s(void 0,d)}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(d,u,A)=>i(fC(d),fC(u),A,!0)};return ot.forEach(Object.keys(Object.assign({},e,t)),function(u){const A=c[u]||i,f=A(e[u],t[u],u);ot.isUndefined(f)&&A!==l||(r[u]=f)}),r}const yE=e=>{const t=Kd({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:l}=t;t.headers=a=io.from(a),t.url=hE(xE(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ot.isFormData(r)){if(xi.hasStandardBrowserEnv||xi.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[d,...u]=c?c.split(";").map(A=>A.trim()).filter(Boolean):[];a.setContentType([d||"multipart/form-data",...u].join("; "))}}if(xi.hasStandardBrowserEnv&&(s&&ot.isFunction(s)&&(s=s(t)),s||s!==!1&&sU(t.url))){const d=i&&o&&iU.read(o);d&&a.set(i,d)}return t},lU=typeof XMLHttpRequest<"u",cU=lU&&function(e){return new Promise(function(r,s){const i=yE(e);let o=i.data;const a=io.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,u,A,f,h,g;function p(){h&&h(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function x(){if(!b)return;const w=io.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),I={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:w,config:e,request:b};gE(function(T){r(T),p()},function(T){s(T),p()},I),b=null}"onloadend"in b?b.onloadend=x:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(x)},b.onabort=function(){b&&(s(new Nr("Request aborted",Nr.ECONNABORTED,e,b)),b=null)},b.onerror=function(){s(new Nr("Network Error",Nr.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const I=i.transitional||fE;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),s(new Nr(S,I.clarifyTimeoutError?Nr.ETIMEDOUT:Nr.ECONNABORTED,e,b)),b=null},o===void 0&&a.setContentType(null),"setRequestHeader"in b&&ot.forEach(a.toJSON(),function(S,I){b.setRequestHeader(I,S)}),ot.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),l&&l!=="json"&&(b.responseType=i.responseType),d&&([f,g]=H0(d,!0),b.addEventListener("progress",f)),c&&b.upload&&([A,h]=H0(c),b.upload.addEventListener("progress",A),b.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=w=>{b&&(s(!w||w.type?new Jh(null,e,b):w),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const j=tU(i.url);if(j&&xi.protocols.indexOf(j)===-1){s(new Nr("Unsupported protocol "+j+":",Nr.ERR_BAD_REQUEST,e));return}b.send(o||null)})},uU=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,i;const o=function(d){if(!i){i=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof Nr?u:new Jh(u instanceof Error?u.message:u))}};let a=t&&setTimeout(()=>{a=null,o(new Nr(`timeout ${t} of ms exceeded`,Nr.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),e=null)};e.forEach(d=>d.addEventListener("abort",o));const{signal:c}=s;return c.unsubscribe=()=>ot.asap(l),c}},dU=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,i;for(;s<r;)i=s+t,yield e.slice(s,i),s=i},AU=async function*(e,t){for await(const r of hU(e))yield*dU(r,t)},hU=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},mC=(e,t,r,s)=>{const i=AU(e,t);let o=0,a,l=c=>{a||(a=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){l(),c.close();return}let A=u.byteLength;if(r){let f=o+=A;r(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Mx=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",bE=Mx&&typeof ReadableStream=="function",fU=Mx&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),vE=(e,...t)=>{try{return!!e(...t)}catch{return!1}},mU=bE&&vE(()=>{let e=!1;const t=new Request(xi.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),pC=64*1024,Lv=bE&&vE(()=>ot.isReadableStream(new Response("").body)),$0={stream:Lv&&(e=>e.body)};Mx&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!$0[t]&&($0[t]=ot.isFunction(e[t])?r=>r[t]():(r,s)=>{throw new Nr(`Response type '${t}' is not supported`,Nr.ERR_NOT_SUPPORT,s)})})})(new Response);const pU=async e=>{if(e==null)return 0;if(ot.isBlob(e))return e.size;if(ot.isSpecCompliantForm(e))return(await new Request(xi.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ot.isArrayBufferView(e)||ot.isArrayBuffer(e))return e.byteLength;if(ot.isURLSearchParams(e)&&(e=e+""),ot.isString(e))return(await fU(e)).byteLength},gU=async(e,t)=>{const r=ot.toFiniteNumber(e.getContentLength());return r??pU(t)},xU=Mx&&(async e=>{let{url:t,method:r,data:s,signal:i,cancelToken:o,timeout:a,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:A="same-origin",fetchOptions:f}=yE(e);d=d?(d+"").toLowerCase():"text";let h=uU([i,o&&o.toAbortSignal()],a),g;const p=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let b;try{if(c&&mU&&r!=="get"&&r!=="head"&&(b=await gU(u,s))!==0){let I=new Request(t,{method:"POST",body:s,duplex:"half"}),F;if(ot.isFormData(s)&&(F=I.headers.get("content-type"))&&u.setContentType(F),I.body){const[T,U]=AC(b,H0(hC(c)));s=mC(I.body,pC,T,U)}}ot.isString(A)||(A=A?"include":"omit");const x="credentials"in Request.prototype;g=new Request(t,{...f,signal:h,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:x?A:void 0});let j=await fetch(g,f);const w=Lv&&(d==="stream"||d==="response");if(Lv&&(l||w&&p)){const I={};["status","statusText","headers"].forEach(K=>{I[K]=j[K]});const F=ot.toFiniteNumber(j.headers.get("content-length")),[T,U]=l&&AC(F,H0(hC(l),!0))||[];j=new Response(mC(j.body,pC,T,()=>{U&&U(),p&&p()}),I)}d=d||"text";let S=await $0[ot.findKey($0,d)||"text"](j,e);return!w&&p&&p(),await new Promise((I,F)=>{gE(I,F,{data:S,headers:io.from(j.headers),status:j.status,statusText:j.statusText,config:e,request:g})})}catch(x){throw p&&p(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new Nr("Network Error",Nr.ERR_NETWORK,e,g),{cause:x.cause||x}):Nr.from(x,x&&x.code,e,g)}}),Pv={http:L3,xhr:cU,fetch:xU};ot.forEach(Pv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const gC=e=>`- ${e}`,yU=e=>ot.isFunction(e)||e===null||e===!1,wE={getAdapter:e=>{e=ot.isArray(e)?e:[e];const{length:t}=e;let r,s;const i={};for(let o=0;o<t;o++){r=e[o];let a;if(s=r,!yU(r)&&(s=Pv[(a=String(r)).toLowerCase()],s===void 0))throw new Nr(`Unknown adapter '${a}'`);if(s)break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=t?o.length>1?`since :
`+o.map(gC).join(`
`):" "+gC(o[0]):"as no adapter specified";throw new Nr("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s},adapters:Pv};function rb(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Jh(null,e)}function xC(e){return rb(e),e.headers=io.from(e.headers),e.data=tb.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),wE.getAdapter(e.adapter||vp.adapter)(e).then(function(s){return rb(e),s.data=tb.call(e,e.transformResponse,s),s.headers=io.from(s.headers),s},function(s){return pE(s)||(rb(e),s&&s.response&&(s.response.data=tb.call(e,e.transformResponse,s.response),s.response.headers=io.from(s.response.headers))),Promise.reject(s)})}const jE="1.10.0",Dx={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Dx[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const yC={};Dx.transitional=function(t,r,s){function i(o,a){return"[Axios v"+jE+"] Transitional option '"+o+"'"+a+(s?". "+s:"")}return(o,a,l)=>{if(t===!1)throw new Nr(i(a," has been removed"+(r?" in "+r:"")),Nr.ERR_DEPRECATED);return r&&!yC[a]&&(yC[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,l):!0}};Dx.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function bU(e,t,r){if(typeof e!="object")throw new Nr("options must be an object",Nr.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let i=s.length;for(;i-- >0;){const o=s[i],a=t[o];if(a){const l=e[o],c=l===void 0||a(l,o,e);if(c!==!0)throw new Nr("option "+o+" must be "+c,Nr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Nr("Unknown option "+o,Nr.ERR_BAD_OPTION)}}const u0={assertOptions:bU,validators:Dx},tl=u0.validators;let Ud=class{constructor(t){this.defaults=t||{},this.interceptors={request:new uC,response:new uC}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Kd(this.defaults,r);const{transitional:s,paramsSerializer:i,headers:o}=r;s!==void 0&&u0.assertOptions(s,{silentJSONParsing:tl.transitional(tl.boolean),forcedJSONParsing:tl.transitional(tl.boolean),clarifyTimeoutError:tl.transitional(tl.boolean)},!1),i!=null&&(ot.isFunction(i)?r.paramsSerializer={serialize:i}:u0.assertOptions(i,{encode:tl.function,serialize:tl.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),u0.assertOptions(r,{baseUrl:tl.spelling("baseURL"),withXsrfToken:tl.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=o&&ot.merge(o.common,o[r.method]);o&&ot.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),r.headers=io.concat(a,o);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,A=0,f;if(!c){const g=[xC.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,d),f=g.length,u=Promise.resolve(r);A<f;)u=u.then(g[A++],g[A++]);return u}f=l.length;let h=r;for(A=0;A<f;){const g=l[A++],p=l[A++];try{h=g(h)}catch(b){p.call(this,b);break}}try{u=xC.call(this,h)}catch(g){return Promise.reject(g)}for(A=0,f=d.length;A<f;)u=u.then(d[A++],d[A++]);return u}getUri(t){t=Kd(this.defaults,t);const r=xE(t.baseURL,t.url,t.allowAbsoluteUrls);return hE(r,t.params,t.paramsSerializer)}};ot.forEach(["delete","get","head","options"],function(t){Ud.prototype[t]=function(r,s){return this.request(Kd(s||{},{method:t,url:r,data:(s||{}).data}))}});ot.forEach(["post","put","patch"],function(t){function r(s){return function(o,a,l){return this.request(Kd(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Ud.prototype[t]=r(),Ud.prototype[t+"Form"]=r(!0)});let vU=class CE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const s=this;this.promise.then(i=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](i);s._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(l=>{s.subscribe(l),o=l}).then(i);return a.cancel=function(){s.unsubscribe(o)},a},t(function(o,a,l){s.reason||(s.reason=new Jh(o,a,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new CE(function(i){t=i}),cancel:t}}};function wU(e){return function(r){return e.apply(null,r)}}function jU(e){return ot.isObject(e)&&e.isAxiosError===!0}const Uv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Uv).forEach(([e,t])=>{Uv[t]=e});function NE(e){const t=new Ud(e),r=tE(Ud.prototype.request,t);return ot.extend(r,Ud.prototype,t,{allOwnKeys:!0}),ot.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return NE(Kd(e,i))},r}const Ht=NE(vp);Ht.Axios=Ud;Ht.CanceledError=Jh;Ht.CancelToken=vU;Ht.isCancel=pE;Ht.VERSION=jE;Ht.toFormData=Rx;Ht.AxiosError=Nr;Ht.Cancel=Ht.CanceledError;Ht.all=function(t){return Promise.all(t)};Ht.spread=wU;Ht.isAxiosError=jU;Ht.mergeConfig=Kd;Ht.AxiosHeaders=io;Ht.formToJSON=e=>mE(ot.isHTMLForm(e)?new FormData(e):e);Ht.getAdapter=wE.getAdapter;Ht.HttpStatusCode=Uv;Ht.default=Ht;const{Axios:Hme,AxiosError:$me,CanceledError:Vme,isCancel:Kme,CancelToken:zme,VERSION:Wme,all:Gme,Cancel:qme,isAxiosError:Xme,spread:Jme,toFormData:Yme,AxiosHeaders:Zme,HttpStatusCode:epe,formToJSON:tpe,getAdapter:rpe,mergeConfig:npe}=Ht,BE=m.createContext();function CU({children:e}){const t=(()=>{try{const w=localStorage.getItem("user"),S=localStorage.getItem("token");if(w&&S&&S.length>10){const I=JSON.parse(w);return{...I,token:S,id:I.id||I.UserID||I.userId}}}catch{}return null})(),[r,s]=m.useState(t),[i,o]=m.useState(!!t),[a,l]=m.useState(!1),[c,d]=m.useState(null),[u,A]=m.useState(!1);m.useEffect(()=>{if(u||t)return;const w=localStorage.getItem("user"),S=localStorage.getItem("token");if(w&&S)try{if(S.length<10){console.error("Invalid token format found in localStorage"),f(),l(!1),A(!0);return}const I=JSON.parse(w),F={...I,token:S,id:I.id||I.UserID||I.userId};if(!F.id){console.error("User object does not contain ID information"),f(),l(!1),A(!0);return}s(F),o(!0),Ht.defaults.headers.common.Authorization=`Bearer ${S}`,b().catch(T=>console.error("Background auth check failed:",T))}catch(I){console.error("Error parsing saved user:",I),f()}l(!1),A(!0)},[u,t]);const f=m.useCallback(()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),delete Ht.defaults.headers.common.Authorization,s(null),o(!1)},[]),h=async(w,S)=>{var I,F;try{d(null),l(!0);const T=await Ht.post("http://localhost:5001/api/auth/login",{email:w,password:S});if(T.data&&T.data.token){const U=T.data.token;if(U.length<10)throw new Error("Invalid token received from server");localStorage.setItem("token",U),T.data.refreshToken&&localStorage.setItem("refreshToken",T.data.refreshToken);const K=T.data.user||{};if(!K.id&&!K.UserID&&!K.userId)throw new Error("User data does not contain an ID field");const B={...K,token:U,id:K.id||K.UserID||K.userId,UserID:K.id||K.UserID||K.userId,userId:K.id||K.UserID||K.userId};return localStorage.setItem("user",JSON.stringify(B)),s(B),Ht.defaults.headers.common.Authorization=`Bearer ${U}`,o(!0),{success:!0,user:B}}else throw new Error("Login response did not contain token")}catch(T){console.error("Login error:",T);const U=((F=(I=T.response)==null?void 0:I.data)==null?void 0:F.message)||T.message||"Login failed";return d(U),{success:!1,error:U}}finally{l(!1)}},g=async w=>{var S,I,F;try{d(null),l(!0);const T=await Ht.post("http://localhost:5001/api/auth/register",w);if(T.data&&T.data.success)return{success:!0,message:T.data.message};throw new Error(((S=T.data)==null?void 0:S.message)||"Registration failed")}catch(T){console.error("Registration error:",T);const U=((F=(I=T.response)==null?void 0:I.data)==null?void 0:F.message)||T.message||"Registration failed";return d(U),{success:!1,error:U}}finally{l(!1)}},p=async()=>{try{const w=localStorage.getItem("token");w&&await Ht.post("http://localhost:5001/api/auth/logout",{},{headers:{Authorization:`Bearer ${w}`}}).catch(S=>console.log("Logout API error:",S))}finally{f()}},b=m.useCallback(async()=>{try{const w=localStorage.getItem("token");if(!w)return o(!1),!1;if(w.length<10)return console.error("Invalid token format in checkAuth"),f(),!1;const S=await Ht.get("http://localhost:5001/api/auth/check",{headers:{Authorization:`Bearer ${w}`}});if(S.data&&S.data.success){if(S.data.user){const I=S.data.user.id||S.data.user.UserID||S.data.user.userId;if(!I)return console.error("User data from auth check does not contain ID"),!1;const F={...S.data.user,token:w,id:I,UserID:I,userId:I};s(F),localStorage.setItem("user",JSON.stringify(F)),Ht.defaults.headers.common.Authorization=`Bearer ${w}`}return o(!0),!0}return o(!1),!1}catch(w){return console.warn("Auth check failed:",w),w.response?((w.response.status===401||w.response.status===403)&&f(),!1):!0}},[f]),j={currentUser:r,isAuthenticated:i,loading:a,authError:c,login:h,register:g,logout:p,checkAuth:b,refreshUserToken:async()=>{try{const w=localStorage.getItem("refreshToken");if(localStorage.getItem("token")&&!w)return console.log("No refresh token available but valid token exists"),!0;if(!w)return console.log("No refresh token available for refresh"),!1;const I=await Ht.post("http://localhost:5001/api/auth/refresh-token",{refreshToken:w});return I.data&&I.data.token?(localStorage.setItem("token",I.data.token),I.data.refreshToken&&localStorage.setItem("refreshToken",I.data.refreshToken),!0):!1}catch(w){return console.log("Token refresh failed:",w.message),w.response&&(w.response.status===400||w.response.status===401)&&(localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),delete Ht.defaults.headers.common.Authorization,o(!1),s(null)),!1}}};return n.jsx(BE.Provider,{value:j,children:e})}function co(){const e=m.useContext(BE);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const wl=Object.create(null);wl.open="0";wl.close="1";wl.ping="2";wl.pong="3";wl.message="4";wl.upgrade="5";wl.noop="6";const d0=Object.create(null);Object.keys(wl).forEach(e=>{d0[wl[e]]=e});const Rv={type:"error",data:"parser error"},kE=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",SE=typeof ArrayBuffer=="function",EE=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,U2=({type:e,data:t},r,s)=>kE&&t instanceof Blob?r?s(t):bC(t,s):SE&&(t instanceof ArrayBuffer||EE(t))?r?s(t):bC(new Blob([t]),s):s(wl[e]+(t||"")),bC=(e,t)=>{const r=new FileReader;return r.onload=function(){const s=r.result.split(",")[1];t("b"+(s||""))},r.readAsDataURL(e)};function vC(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let nb;function NU(e,t){if(kE&&e.data instanceof Blob)return e.data.arrayBuffer().then(vC).then(t);if(SE&&(e.data instanceof ArrayBuffer||EE(e.data)))return t(vC(e.data));U2(e,!1,r=>{nb||(nb=new TextEncoder),t(nb.encode(r))})}const wC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<wC.length;e++)Jf[wC.charCodeAt(e)]=e;const BU=e=>{let t=e.length*.75,r=e.length,s,i=0,o,a,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(s=0;s<r;s+=4)o=Jf[e.charCodeAt(s)],a=Jf[e.charCodeAt(s+1)],l=Jf[e.charCodeAt(s+2)],c=Jf[e.charCodeAt(s+3)],u[i++]=o<<2|a>>4,u[i++]=(a&15)<<4|l>>2,u[i++]=(l&3)<<6|c&63;return d},kU=typeof ArrayBuffer=="function",R2=(e,t)=>{if(typeof e!="string")return{type:"message",data:IE(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:SU(e.substring(1),t)}:d0[r]?e.length>1?{type:d0[r],data:e.substring(1)}:{type:d0[r]}:Rv},SU=(e,t)=>{if(kU){const r=BU(e);return IE(r,t)}else return{base64:!0,data:e}},IE=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},TE="",EU=(e,t)=>{const r=e.length,s=new Array(r);let i=0;e.forEach((o,a)=>{U2(o,!1,l=>{s[a]=l,++i===r&&t(s.join(TE))})})},IU=(e,t)=>{const r=e.split(TE),s=[];for(let i=0;i<r.length;i++){const o=R2(r[i],t);if(s.push(o),o.type==="error")break}return s};function TU(){return new TransformStream({transform(e,t){NU(e,r=>{const s=r.length;let i;if(s<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,s);else if(s<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let sb;function Eg(e){return e.reduce((t,r)=>t+r.length,0)}function Ig(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let s=0;for(let i=0;i<t;i++)r[i]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),r}function FU(e,t){sb||(sb=new TextDecoder);const r=[];let s=0,i=-1,o=!1;return new TransformStream({transform(a,l){for(r.push(a);;){if(s===0){if(Eg(r)<1)break;const c=Ig(r,1);o=(c[0]&128)===128,i=c[0]&127,i<126?s=3:i===126?s=1:s=2}else if(s===1){if(Eg(r)<2)break;const c=Ig(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(Eg(r)<8)break;const c=Ig(r,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(Rv);break}i=u*Math.pow(2,32)+d.getUint32(4),s=3}else{if(Eg(r)<i)break;const c=Ig(r,i);l.enqueue(R2(o?c:sb.decode(c),t)),s=0}if(i===0||i>e){l.enqueue(Rv);break}}}})}const FE=4;function Es(e){if(e)return LU(e)}function LU(e){for(var t in Es.prototype)e[t]=Es.prototype[t];return e}Es.prototype.on=Es.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Es.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Es.prototype.off=Es.prototype.removeListener=Es.prototype.removeAllListeners=Es.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,i=0;i<r.length;i++)if(s=r[i],s===t||s.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Es.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(r){r=r.slice(0);for(var s=0,i=r.length;s<i;++s)r[s].apply(this,t)}return this};Es.prototype.emitReserved=Es.prototype.emit;Es.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Es.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ox=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),Yo=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),PU="arraybuffer";function LE(e,...t){return t.reduce((r,s)=>(e.hasOwnProperty(s)&&(r[s]=e[s]),r),{})}const UU=Yo.setTimeout,RU=Yo.clearTimeout;function Qx(e,t){t.useNativeTimers?(e.setTimeoutFn=UU.bind(Yo),e.clearTimeoutFn=RU.bind(Yo)):(e.setTimeoutFn=Yo.setTimeout.bind(Yo),e.clearTimeoutFn=Yo.clearTimeout.bind(Yo))}const MU=1.33;function DU(e){return typeof e=="string"?OU(e):Math.ceil((e.byteLength||e.size)*MU)}function OU(e){let t=0,r=0;for(let s=0,i=e.length;s<i;s++)t=e.charCodeAt(s),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(s++,r+=4);return r}function PE(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function QU(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function _U(e){let t={},r=e.split("&");for(let s=0,i=r.length;s<i;s++){let o=r[s].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class HU extends Error{constructor(t,r,s){super(t),this.description=r,this.context=s,this.type="TransportError"}}class M2 extends Es{constructor(t){super(),this.writable=!1,Qx(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,s){return super.emitReserved("error",new HU(t,r,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=R2(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=QU(t);return r.length?"?"+r:""}}class $U extends M2{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||r()})),this.writable||(s++,this.once("drain",function(){--s||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};IU(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,EU(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=PE()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let UE=!1;try{UE=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const VU=UE;function KU(){}class zU extends $U{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,r){const s=this.request({method:"POST",data:t});s.on("success",r),s.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,s)=>{this.onError("xhr poll error",r,s)}),this.pollXhr=t}}let jh=class A0 extends Es{constructor(t,r,s){super(),this.createRequest=t,Qx(this,s),this._opts=s,this._method=s.method||"GET",this._uri=r,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var t;const r=LE(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(r);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&s.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var i;s.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=A0.requestsCount++,A0.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=KU,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete A0.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};jh.requestsCount=0;jh.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",jC);else if(typeof addEventListener=="function"){const e="onpagehide"in Yo?"pagehide":"unload";addEventListener(e,jC,!1)}}function jC(){for(let e in jh.requests)jh.requests.hasOwnProperty(e)&&jh.requests[e].abort()}const WU=function(){const e=RE({xdomain:!1});return e&&e.responseType!==null}();class GU extends zU{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=WU&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new jh(RE,this.uri(),t)}}function RE(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||VU))return new XMLHttpRequest}catch{}if(!t)try{return new Yo[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ME=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class qU extends M2{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,s=ME?{}:LE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,s)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const s=t[r],i=r===t.length-1;U2(s,this.supportsBinary,o=>{try{this.doWrite(s,o)}catch{}i&&Ox(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=PE()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const ib=Yo.WebSocket||Yo.MozWebSocket;class XU extends qU{createSocket(t,r,s){return ME?new ib(t,r,s):r?new ib(t,r):new ib(t)}doWrite(t,r){this.ws.send(r)}}class JU extends M2{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=FU(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(r).getReader(),i=TU();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const o=()=>{s.read().then(({done:l,value:c})=>{l||(this.onPacket(c),o())}).catch(l=>{})};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const s=t[r],i=r===t.length-1;this._writer.write(s).then(()=>{i&&Ox(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const YU={websocket:XU,webtransport:JU,polling:GU},ZU=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,eR=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Mv(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),s=e.indexOf("]");r!=-1&&s!=-1&&(e=e.substring(0,r)+e.substring(r,s).replace(/:/g,";")+e.substring(s,e.length));let i=ZU.exec(e||""),o={},a=14;for(;a--;)o[eR[a]]=i[a]||"";return r!=-1&&s!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=tR(o,o.path),o.queryKey=rR(o,o.query),o}function tR(e,t){const r=/\/{2,9}/g,s=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function rR(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,i,o){i&&(r[i]=o)}),r}const Dv=typeof addEventListener=="function"&&typeof removeEventListener=="function",h0=[];Dv&&addEventListener("offline",()=>{h0.forEach(e=>e())},!1);class du extends Es{constructor(t,r){if(super(),this.binaryType=PU,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const s=Mv(t);r.hostname=s.host,r.secure=s.protocol==="https"||s.protocol==="wss",r.port=s.port,s.query&&(r.query=s.query)}else r.host&&(r.hostname=Mv(r.host).host);Qx(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(s=>{const i=s.prototype.name;this.transports.push(i),this._transportsByName[i]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=_U(this.opts.query)),Dv&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},h0.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=FE,r.transport=t,this.id&&(r.sid=this.id);const s=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&du.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",du.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let s=0;s<this.writeBuffer.length;s++){const i=this.writeBuffer[s].data;if(i&&(r+=DU(i)),s>0&&r>this._maxPayload)return this.writeBuffer.slice(0,s);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Ox(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,s){return this._sendPacket("message",t,r,s),this}send(t,r,s){return this._sendPacket("message",t,r,s),this}_sendPacket(t,r,s,i){if(typeof r=="function"&&(i=r,r=void 0),typeof s=="function"&&(i=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:t,data:r,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},s=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}_onError(t){if(du.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Dv&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=h0.indexOf(this._offlineEventListener);s!==-1&&h0.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}du.protocol=FE;class nR extends du{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),s=!1;du.priorWebsocketSuccess=!1;const i=()=>{s||(r.send([{type:"ping",data:"probe"}]),r.once("packet",A=>{if(!s)if(A.type==="pong"&&A.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;du.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function o(){s||(s=!0,u(),r.close(),r=null)}const a=A=>{const f=new Error("probe error: "+A);f.transport=r.name,o(),this.emitReserved("upgradeError",f)};function l(){a("transport closed")}function c(){a("socket closed")}function d(A){r&&A.name!==r.name&&o()}const u=()=>{r.removeListener("open",i),r.removeListener("error",a),r.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};r.once("open",i),r.once("error",a),r.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&r.push(t[s]);return r}}let sR=class extends nR{constructor(t,r={}){const s=typeof t=="object"?t:r;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(i=>YU[i]).filter(i=>!!i)),super(t,s)}};function iR(e,t="",r){let s=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),s=Mv(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const o=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+o+":"+s.port+t,s.href=s.protocol+"://"+o+(r&&r.port===s.port?"":":"+s.port),s}const oR=typeof ArrayBuffer=="function",aR=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,DE=Object.prototype.toString,lR=typeof Blob=="function"||typeof Blob<"u"&&DE.call(Blob)==="[object BlobConstructor]",cR=typeof File=="function"||typeof File<"u"&&DE.call(File)==="[object FileConstructor]";function D2(e){return oR&&(e instanceof ArrayBuffer||aR(e))||lR&&e instanceof Blob||cR&&e instanceof File}function f0(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,s=e.length;r<s;r++)if(f0(e[r]))return!0;return!1}if(D2(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return f0(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&f0(e[r]))return!0;return!1}function uR(e){const t=[],r=e.data,s=e;return s.data=Ov(r,t),s.attachments=t.length,{packet:s,buffers:t}}function Ov(e,t){if(!e)return e;if(D2(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let s=0;s<e.length;s++)r[s]=Ov(e[s],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=Ov(e[s],t));return r}return e}function dR(e,t){return e.data=Qv(e.data,t),delete e.attachments,e}function Qv(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Qv(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Qv(e[r],t));return e}const AR=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],hR=5;var Mr;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Mr||(Mr={}));class fR{constructor(t){this.replacer=t}encode(t){return(t.type===Mr.EVENT||t.type===Mr.ACK)&&f0(t)?this.encodeAsBinary({type:t.type===Mr.EVENT?Mr.BINARY_EVENT:Mr.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Mr.BINARY_EVENT||t.type===Mr.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=uR(t),s=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(s),i}}function CC(e){return Object.prototype.toString.call(e)==="[object Object]"}class O2 extends Es{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const s=r.type===Mr.BINARY_EVENT;s||r.type===Mr.BINARY_ACK?(r.type=s?Mr.EVENT:Mr.ACK,this.reconstructor=new mR(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(D2(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const s={type:Number(t.charAt(0))};if(Mr[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Mr.BINARY_EVENT||s.type===Mr.BINARY_ACK){const o=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const a=t.substring(o,r);if(a!=Number(a)||t.charAt(r)!=="-")throw new Error("Illegal attachments");s.attachments=Number(a)}if(t.charAt(r+1)==="/"){const o=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););s.nsp=t.substring(o,r)}else s.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const o=r+1;for(;++r;){const a=t.charAt(r);if(a==null||Number(a)!=a){--r;break}if(r===t.length)break}s.id=Number(t.substring(o,r+1))}if(t.charAt(++r)){const o=this.tryParse(t.substr(r));if(O2.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Mr.CONNECT:return CC(r);case Mr.DISCONNECT:return r===void 0;case Mr.CONNECT_ERROR:return typeof r=="string"||CC(r);case Mr.EVENT:case Mr.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&AR.indexOf(r[0])===-1);case Mr.ACK:case Mr.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class mR{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=dR(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const pR=Object.freeze(Object.defineProperty({__proto__:null,Decoder:O2,Encoder:fR,get PacketType(){return Mr},protocol:hR},Symbol.toStringTag,{value:"Module"}));function ja(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const gR=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class OE extends Es{constructor(t,r,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ja(t,"open",this.onopen.bind(this)),ja(t,"packet",this.onpacket.bind(this)),ja(t,"error",this.onerror.bind(this)),ja(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var s,i,o;if(gR.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const a={type:Mr.EVENT,data:r};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const u=this.ids++,A=r.pop();this._registerAckCallback(u,A),a.id=u}const l=(i=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(t,r){var s;const i=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),a=(...l)=>{this.io.clearTimeoutFn(o),r.apply(this,l)};a.withError=!0,this.acks[t]=a}emitWithAck(t,...r){return new Promise((s,i)=>{const o=(a,l)=>a?i(a):s(l);o.withError=!0,r.push(o),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...o)=>s!==this._queue[0]?void 0:(i!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Mr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Mr.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Mr.EVENT:case Mr.BINARY_EVENT:this.onevent(t);break;case Mr.ACK:case Mr.BINARY_ACK:this.onack(t);break;case Mr.DISCONNECT:this.ondisconnect();break;case Mr.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const s of r)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let s=!1;return function(...i){s||(s=!0,r.packet({type:Mr.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Mr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let s=0;s<r.length;s++)if(t===r[s])return r.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let s=0;s<r.length;s++)if(t===r[s])return r.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const s of r)s.apply(this,t.data)}}}function Yh(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Yh.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Yh.prototype.reset=function(){this.attempts=0};Yh.prototype.setMin=function(e){this.ms=e};Yh.prototype.setMax=function(e){this.max=e};Yh.prototype.setJitter=function(e){this.jitter=e};class _v extends Es{constructor(t,r){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Qx(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((s=r.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Yh({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||pR;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new sR(this.uri,this.opts);const r=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const i=ja(r,"open",function(){s.onopen(),t&&t()}),o=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},a=ja(r,"error",o);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ja(t,"ping",this.onping.bind(this)),ja(t,"data",this.ondata.bind(this)),ja(t,"error",this.onerror.bind(this)),ja(t,"close",this.onclose.bind(this)),ja(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Ox(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new OE(this,t,r),this.nsps[t]=s),s}_destroy(t){const r=Object.keys(this.nsps);for(const s of r)if(this.nsps[s].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let s=0;s<r.length;s++)this.engine.write(r[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Rf={};function im(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=iR(e,t.path||"/socket.io"),s=r.source,i=r.id,o=r.path,a=Rf[i]&&o in Rf[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let c;return l?c=new _v(s,t):(Rf[i]||(Rf[i]=new _v(s,t)),c=Rf[i]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(im,{Manager:_v,Socket:OE,io:im,connect:im});const jo="http://localhost:5001",xR=(e=!0)=>{if(!e||typeof window>"u")return;const t=console.error,r=console.warn,s=["WebSocket connection to","Socket connected","failed: WebSocket is closed","404 (Not Found)","/calls/active","Removing unpermitted intrinsics","Chrome is moving towards","third-party cookies","paypalobjects.com","datadoghq.com","Access to XMLHttpRequest","preload but not used","blocked by CORS policy","Content Security Policy","'unsafe-eval' is not an allowed source","unsafe-eval","CSP","Datadog Browser SDK","datadog-rum.js","preload for","is found, but is not used because the request credentials mode does not match","Refused to create a worker","checkoutnow?token"];return console.error=function(...i){i.some(a=>typeof a=="string"?s.some(l=>a.includes(l)):a instanceof Error?s.some(l=>a.message.includes(l)):!1)||t.apply(console,i)},console.warn=function(...i){i.some(a=>typeof a=="string"?s.some(l=>a.includes(l)):a instanceof Error?s.some(l=>a.message.includes(l)):!1)||r.apply(console,i)},()=>{console.error=t,console.warn=r}},yR=async(e,t={})=>{try{return await fetch(e,t)}catch(r){return{ok:!1,status:0,statusText:"Network Error",json:async()=>({error:"Network Error",message:r.message}),text:async()=>"Network Error"}}},bR=(e,t=null)=>{if(!e)return;const r=e.connect;return e.connect=function(){try{return r.apply(e,arguments)}catch(s){return t&&typeof t=="function"&&t(s),e}},e.on("connect_error",s=>{t&&typeof t=="function"&&t(s)}),e},QE=m.createContext(),vR=({children:e})=>{const[t,r]=m.useState(null),[s,i]=m.useState([]),[o,a]=m.useState(null),[l,c]=m.useState(!1),[d,u]=m.useState(0),A=3;return m.useEffect(()=>{const f=localStorage.getItem("user"),h=localStorage.getItem("token");if(f&&h)try{const g=JSON.parse(f);a(g);const p=im(jo.replace("/api",""),{auth:{token:h},transports:["websocket","polling"],withCredentials:!0,reconnection:!0,reconnectionAttempts:A,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4,autoConnect:!0});return bR(p,b=>{console.warn("Socket error handled silently",b.message),!b.message.includes("ECONNREFUSED")&&!b.message.includes("xhr poll error")&&u(x=>x+1)}),p.on("connect",()=>{console.log("Socket connected"),c(!0),u(0)}),p.on("disconnect",()=>{console.log("Socket disconnected"),c(!1)}),p.on("getUsers",b=>{i(b)}),p.on("connect_error",b=>{c(!1),!b.message.includes("ECONNREFUSED")&&!b.message.includes("xhr poll error")&&!b.message.includes("WebSocket is closed")&&u(x=>x+1),b.message.includes("WebSocket is closed")&&p.io.opts.transports.includes("polling")&&(console.log("WebSocket connection failed, falling back to polling"),p.io.opts.transports=["polling"],p.connect())}),r(p),()=>{if(p)try{p.disconnect()}catch{}}}catch{}},[]),m.useEffect(()=>{if(t){if(l||d>=A)return;const f=localStorage.getItem("token");if(f)try{t.auth={token:f},t.connect()}catch{}}},[t,l,d]),n.jsx(QE.Provider,{value:{socket:t,user:o,onlineUsers:s,isConnected:l},children:e})},wR=()=>m.useContext(QE),ob={blue:{primary:"#3b82f6",secondary:"#60a5fa",accent:"#dbeafe",hover:"#2563eb",active:"#1d4ed8"},red:{primary:"#ef4444",secondary:"#f87171",accent:"#fee2e2",hover:"#dc2626",active:"#b91c1c"},green:{primary:"#10b981",secondary:"#34d399",accent:"#d1fae5",hover:"#059669",active:"#047857"},purple:{primary:"#8b5cf6",secondary:"#a78bfa",accent:"#ede9fe",hover:"#7c3aed",active:"#6d28d9"},orange:{primary:"#f97316",secondary:"#fb923c",accent:"#ffedd5",hover:"#ea580c",active:"#c2410c"},custom:{primary:"#3b82f6",secondary:"#60a5fa",accent:"#dbeafe",hover:"#2563eb",active:"#1d4ed8"}},jR=e=>({"--color-primary":e.primary,"--color-secondary":e.secondary,"--color-accent":e.accent,"--color-hover":e.hover,"--color-active":e.active}),_E=m.createContext(),HE=()=>m.useContext(_E),$E=({children:e})=>{const[t,r]=m.useState(()=>{const l=localStorage.getItem("theme"),c=localStorage.getItem("themeColor");return{mode:l||"light",color:c||"blue",customColors:JSON.parse(localStorage.getItem("customColors"))||null}});m.useEffect(()=>{localStorage.setItem("theme",t.mode),localStorage.setItem("themeColor",t.color),t.mode==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");let l;t.color==="custom"&&t.customColors?l=t.customColors:l=ob[t.color];const c=jR(l);Object.entries(c).forEach(([d,u])=>{document.documentElement.style.setProperty(d,u)}),t.customColors&&localStorage.setItem("customColors",JSON.stringify(t.customColors))},[t]);const s=l=>{r(c=>({...c,mode:l}))},i=l=>{r(c=>({...c,color:l}))},o=l=>{r(c=>({...c,color:"custom",customColors:l}))},a={theme:t.mode,themeColor:t.color,colors:t.color==="custom"&&t.customColors?t.customColors:ob[t.color],setThemeMode:s,setThemeColor:i,setCustomColors:o,availableColors:Object.keys(ob)};return n.jsx(_E.Provider,{value:a,children:e})};function qs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var CR=typeof Symbol=="function"&&Symbol.observable||"@@observable",NC=CR,ab=()=>Math.random().toString(36).substring(7).split("").join("."),NR={INIT:`@@redux/INIT${ab()}`,REPLACE:`@@redux/REPLACE${ab()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ab()}`},V0=NR;function Q2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function VE(e,t,r){if(typeof e!="function")throw new Error(qs(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(qs(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(qs(1));return r(VE)(e,t)}let s=e,i=t,o=new Map,a=o,l=0,c=!1;function d(){a===o&&(a=new Map,o.forEach((b,x)=>{a.set(x,b)}))}function u(){if(c)throw new Error(qs(3));return i}function A(b){if(typeof b!="function")throw new Error(qs(4));if(c)throw new Error(qs(5));let x=!0;d();const j=l++;return a.set(j,b),function(){if(x){if(c)throw new Error(qs(6));x=!1,d(),a.delete(j),o=null}}}function f(b){if(!Q2(b))throw new Error(qs(7));if(typeof b.type>"u")throw new Error(qs(8));if(typeof b.type!="string")throw new Error(qs(17));if(c)throw new Error(qs(9));try{c=!0,i=s(i,b)}finally{c=!1}return(o=a).forEach(j=>{j()}),b}function h(b){if(typeof b!="function")throw new Error(qs(10));s=b,f({type:V0.REPLACE})}function g(){const b=A;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(qs(11));function j(){const S=x;S.next&&S.next(u())}return j(),{unsubscribe:b(j)}},[NC](){return this}}}return f({type:V0.INIT}),{dispatch:f,subscribe:A,getState:u,replaceReducer:h,[NC]:g}}function BR(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:V0.INIT})>"u")throw new Error(qs(12));if(typeof r(void 0,{type:V0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qs(13))})}function kR(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const a=t[o];typeof e[a]=="function"&&(r[a]=e[a])}const s=Object.keys(r);let i;try{BR(r)}catch(o){i=o}return function(a={},l){if(i)throw i;let c=!1;const d={};for(let u=0;u<s.length;u++){const A=s[u],f=r[A],h=a[A],g=f(h,l);if(typeof g>"u")throw l&&l.type,new Error(qs(14));d[A]=g,c=c||g!==h}return c=c||s.length!==Object.keys(a).length,c?d:a}}function K0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...s)=>t(r(...s)))}function SR(...e){return t=>(r,s)=>{const i=t(r,s);let o=()=>{throw new Error(qs(15))};const a={getState:i.getState,dispatch:(c,...d)=>o(c,...d)},l=e.map(c=>c(a));return o=K0(...l)(i.dispatch),{...i,dispatch:o}}}function ER(e){return Q2(e)&&"type"in e&&typeof e.type=="string"}var KE=Symbol.for("immer-nothing"),BC=Symbol.for("immer-draftable"),Io=Symbol.for("immer-state");function Ca(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var _h=Object.getPrototypeOf;function zd(e){return!!e&&!!e[Io]}function sc(e){var t;return e?zE(e)||Array.isArray(e)||!!e[BC]||!!((t=e.constructor)!=null&&t[BC])||Hx(e)||$x(e):!1}var IR=Object.prototype.constructor.toString();function zE(e){if(!e||typeof e!="object")return!1;const t=_h(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===IR}function z0(e,t){_x(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,s)=>t(s,r,e))}function _x(e){const t=e[Io];return t?t.type_:Array.isArray(e)?1:Hx(e)?2:$x(e)?3:0}function Hv(e,t){return _x(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function WE(e,t,r){const s=_x(e);s===2?e.set(t,r):s===3?e.add(r):e[t]=r}function TR(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Hx(e){return e instanceof Map}function $x(e){return e instanceof Set}function Ad(e){return e.copy_||e.base_}function $v(e,t){if(Hx(e))return new Map(e);if($x(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=zE(e);if(t===!0||t==="class_only"&&!r){const s=Object.getOwnPropertyDescriptors(e);delete s[Io];let i=Reflect.ownKeys(s);for(let o=0;o<i.length;o++){const a=i[o],l=s[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(s[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(_h(e),s)}else{const s=_h(e);if(s!==null&&r)return{...e};const i=Object.create(s);return Object.assign(i,e)}}function _2(e,t=!1){return Vx(e)||zd(e)||!sc(e)||(_x(e)>1&&(e.set=e.add=e.clear=e.delete=FR),Object.freeze(e),t&&Object.entries(e).forEach(([r,s])=>_2(s,!0))),e}function FR(){Ca(2)}function Vx(e){return Object.isFrozen(e)}var LR={};function Wd(e){const t=LR[e];return t||Ca(0,e),t}var Dm;function GE(){return Dm}function PR(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function kC(e,t){t&&(Wd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Vv(e){Kv(e),e.drafts_.forEach(UR),e.drafts_=null}function Kv(e){e===Dm&&(Dm=e.parent_)}function SC(e){return Dm=PR(Dm,e)}function UR(e){const t=e[Io];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function EC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Io].modified_&&(Vv(t),Ca(4)),sc(e)&&(e=W0(t,e),t.parent_||G0(t,e)),t.patches_&&Wd("Patches").generateReplacementPatches_(r[Io].base_,e,t.patches_,t.inversePatches_)):e=W0(t,r,[]),Vv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==KE?e:void 0}function W0(e,t,r){if(Vx(t))return t;const s=t[Io];if(!s)return z0(t,(i,o)=>IC(e,s,t,i,o,r)),t;if(s.scope_!==e)return t;if(!s.modified_)return G0(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const i=s.copy_;let o=i,a=!1;s.type_===3&&(o=new Set(i),i.clear(),a=!0),z0(o,(l,c)=>IC(e,s,i,l,c,r,a)),G0(e,i,!1),r&&e.patches_&&Wd("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function IC(e,t,r,s,i,o,a){if(zd(i)){const l=o&&t&&t.type_!==3&&!Hv(t.assigned_,s)?o.concat(s):void 0,c=W0(e,i,l);if(WE(r,s,c),zd(c))e.canAutoFreeze_=!1;else return}else a&&r.add(i);if(sc(i)&&!Vx(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;W0(e,i),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,s)&&G0(e,i)}}function G0(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&_2(t,r)}function RR(e,t){const r=Array.isArray(e),s={type_:r?1:0,scope_:t?t.scope_:GE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=s,o=H2;r&&(i=[s],o=Om);const{revoke:a,proxy:l}=Proxy.revocable(i,o);return s.draft_=l,s.revoke_=a,l}var H2={get(e,t){if(t===Io)return e;const r=Ad(e);if(!Hv(r,t))return MR(e,r,t);const s=r[t];return e.finalized_||!sc(s)?s:s===lb(e.base_,t)?(cb(e),e.copy_[t]=Wv(s,e)):s},has(e,t){return t in Ad(e)},ownKeys(e){return Reflect.ownKeys(Ad(e))},set(e,t,r){const s=qE(Ad(e),t);if(s!=null&&s.set)return s.set.call(e.draft_,r),!0;if(!e.modified_){const i=lb(Ad(e),t),o=i==null?void 0:i[Io];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(TR(r,i)&&(r!==void 0||Hv(e.base_,t)))return!0;cb(e),zv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return lb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,cb(e),zv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ad(e),s=Reflect.getOwnPropertyDescriptor(r,t);return s&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:s.enumerable,value:r[t]}},defineProperty(){Ca(11)},getPrototypeOf(e){return _h(e.base_)},setPrototypeOf(){Ca(12)}},Om={};z0(H2,(e,t)=>{Om[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Om.deleteProperty=function(e,t){return Om.set.call(this,e,t,void 0)};Om.set=function(e,t,r){return H2.set.call(this,e[0],t,r,e[0])};function lb(e,t){const r=e[Io];return(r?Ad(r):e)[t]}function MR(e,t,r){var i;const s=qE(t,r);return s?"value"in s?s.value:(i=s.get)==null?void 0:i.call(e.draft_):void 0}function qE(e,t){if(!(t in e))return;let r=_h(e);for(;r;){const s=Object.getOwnPropertyDescriptor(r,t);if(s)return s;r=_h(r)}}function zv(e){e.modified_||(e.modified_=!0,e.parent_&&zv(e.parent_))}function cb(e){e.copy_||(e.copy_=$v(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var DR=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,s)=>{if(typeof t=="function"&&typeof r!="function"){const o=r;r=t;const a=this;return function(c=o,...d){return a.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&Ca(6),s!==void 0&&typeof s!="function"&&Ca(7);let i;if(sc(t)){const o=SC(this),a=Wv(t,void 0);let l=!0;try{i=r(a),l=!1}finally{l?Vv(o):Kv(o)}return kC(o,s),EC(i,o)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===KE&&(i=void 0),this.autoFreeze_&&_2(i,!0),s){const o=[],a=[];Wd("Patches").generateReplacementPatches_(t,i,o,a),s(o,a)}return i}else Ca(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,c=>t(c,...l));let s,i;return[this.produce(t,r,(a,l)=>{s=a,i=l}),s,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){sc(e)||Ca(8),zd(e)&&(e=OR(e));const t=SC(this),r=Wv(e,void 0);return r[Io].isManual_=!0,Kv(t),r}finishDraft(e,t){const r=e&&e[Io];(!r||!r.isManual_)&&Ca(9);const{scope_:s}=r;return kC(s,t),EC(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const s=Wd("Patches").applyPatches_;return zd(e)?s(e,t):this.produce(e,i=>s(i,t))}};function Wv(e,t){const r=Hx(e)?Wd("MapSet").proxyMap_(e,t):$x(e)?Wd("MapSet").proxySet_(e,t):RR(e,t);return(t?t.scope_:GE()).drafts_.push(r),r}function OR(e){return zd(e)||Ca(10,e),XE(e)}function XE(e){if(!sc(e)||Vx(e))return e;const t=e[Io];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=$v(e,t.scope_.immer_.useStrictShallowCopy_)}else r=$v(e,!0);return z0(r,(s,i)=>{WE(r,s,XE(i))}),t&&(t.finalized_=!1),r}var To=new DR,JE=To.produce;To.produceWithPatches.bind(To);To.setAutoFreeze.bind(To);To.setUseStrictShallowCopy.bind(To);To.applyPatches.bind(To);To.createDraft.bind(To);To.finishDraft.bind(To);function YE(e){return({dispatch:r,getState:s})=>i=>o=>typeof o=="function"?o(r,s,e):i(o)}var QR=YE(),_R=YE,HR=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?K0:K0.apply(null,arguments)},$R=e=>e&&typeof e.match=="function";function om(e,t){function r(...s){if(t){let i=t(...s);if(!i)throw new Error(Yl(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:s[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=s=>ER(s)&&s.type===e,r}var ZE=class Yf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Yf.prototype)}static get[Symbol.species](){return Yf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Yf(...t[0].concat(this)):new Yf(...t.concat(this))}};function TC(e){return sc(e)?JE(e,()=>{}):e}function Tg(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function VR(e){return typeof e=="boolean"}var KR=()=>function(t){const{thunk:r=!0,immutableCheck:s=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let a=new ZE;return r&&(VR(r)?a.push(QR):a.push(_R(r.extraArgument))),a},zR="RTK_autoBatch",FC=e=>t=>{setTimeout(t,e)},WR=(e={type:"raf"})=>t=>(...r)=>{const s=t(...r);let i=!0,o=!1,a=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:FC(10):e.type==="callback"?e.queueNotification:FC(e.timeout),d=()=>{a=!1,o&&(o=!1,l.forEach(u=>u()))};return Object.assign({},s,{subscribe(u){const A=()=>i&&u(),f=s.subscribe(A);return l.add(u),()=>{f(),l.delete(u)}},dispatch(u){var A;try{return i=!((A=u==null?void 0:u.meta)!=null&&A[zR]),o=!i,o&&(a||(a=!0,c(d))),s.dispatch(u)}finally{i=!0}}})},GR=e=>function(r){const{autoBatch:s=!0}=r??{};let i=new ZE(e);return s&&i.push(WR(typeof s=="object"?s:void 0)),i};function qR(e){const t=KR(),{reducer:r=void 0,middleware:s,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Q2(r))l=kR(r);else throw new Error(Yl(1));let c;typeof s=="function"?c=s(t):c=t();let d=K0;i&&(d=HR({trace:!1,...typeof i=="object"&&i}));const u=SR(...c),A=GR(u);let f=typeof a=="function"?a(A):A();const h=d(...f);return VE(l,o,h)}function e6(e){const t={},r=[];let s;const i={addCase(o,a){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(Yl(28));if(l in t)throw new Error(Yl(29));return t[l]=a,i},addMatcher(o,a){return r.push({matcher:o,reducer:a}),i},addDefaultCase(o){return s=o,i}};return e(i),[t,r,s]}function XR(e){return typeof e=="function"}function JR(e,t){let[r,s,i]=e6(t),o;if(XR(e))o=()=>TC(e());else{const l=TC(e);o=()=>l}function a(l=o(),c){let d=[r[c.type],...s.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[i]),d.reduce((u,A)=>{if(A)if(zd(u)){const h=A(u,c);return h===void 0?u:h}else{if(sc(u))return JE(u,f=>A(f,c));{const f=A(u,c);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},l)}return a.getInitialState=o,a}var YR=(e,t)=>$R(e)?e.match(t):e(t);function ZR(...e){return t=>e.some(r=>YR(r,t))}var eM="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tM=(e=21)=>{let t="",r=e;for(;r--;)t+=eM[Math.random()*64|0];return t},rM=["name","message","stack","code"],ub=class{constructor(e,t){sd(this,"_type");this.payload=e,this.meta=t}},LC=class{constructor(e,t){sd(this,"_type");this.payload=e,this.meta=t}},nM=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of rM)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},PC="External signal was aborted",Kr=(()=>{function e(t,r,s){const i=om(t+"/fulfilled",(c,d,u,A)=>({payload:c,meta:{...A||{},arg:u,requestId:d,requestStatus:"fulfilled"}})),o=om(t+"/pending",(c,d,u)=>({payload:void 0,meta:{...u||{},arg:d,requestId:c,requestStatus:"pending"}})),a=om(t+"/rejected",(c,d,u,A,f)=>({payload:A,error:(s&&s.serializeError||nM)(c||"Rejected"),meta:{...f||{},arg:u,requestId:d,rejectedWithValue:!!A,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:d}={}){return(u,A,f)=>{const h=s!=null&&s.idGenerator?s.idGenerator(c):tM(),g=new AbortController;let p,b;function x(w){b=w,g.abort()}d&&(d.aborted?x(PC):d.addEventListener("abort",()=>x(PC),{once:!0}));const j=async function(){var I,F;let w;try{let T=(I=s==null?void 0:s.condition)==null?void 0:I.call(s,c,{getState:A,extra:f});if(iM(T)&&(T=await T),T===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const U=new Promise((K,B)=>{p=()=>{B({name:"AbortError",message:b||"Aborted"})},g.signal.addEventListener("abort",p)});u(o(h,c,(F=s==null?void 0:s.getPendingMeta)==null?void 0:F.call(s,{requestId:h,arg:c},{getState:A,extra:f}))),w=await Promise.race([U,Promise.resolve(r(c,{dispatch:u,getState:A,extra:f,requestId:h,signal:g.signal,abort:x,rejectWithValue:(K,B)=>new ub(K,B),fulfillWithValue:(K,B)=>new LC(K,B)})).then(K=>{if(K instanceof ub)throw K;return K instanceof LC?i(K.payload,h,c,K.meta):i(K,h,c)})])}catch(T){w=T instanceof ub?a(null,h,c,T.payload,T.meta):a(T,h,c)}finally{p&&g.signal.removeEventListener("abort",p)}return s&&!s.dispatchConditionRejection&&a.match(w)&&w.meta.condition||u(w),w}();return Object.assign(j,{abort:x,requestId:h,arg:c,unwrap(){return j.then(sM)}})}}return Object.assign(l,{pending:o,rejected:a,fulfilled:i,settled:ZR(a,i),typePrefix:t})}return e.withTypes=()=>e,e})();function sM(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function iM(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var oM=Symbol.for("rtk-slice-createasyncthunk");function aM(e,t){return`${e}/${t}`}function lM({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[oM];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(Yl(11));const l=(typeof i.reducers=="function"?i.reducers(uM()):i.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(S,I){const F=typeof S=="string"?S:S.type;if(!F)throw new Error(Yl(12));if(F in d.sliceCaseReducersByType)throw new Error(Yl(13));return d.sliceCaseReducersByType[F]=I,u},addMatcher(S,I){return d.sliceMatchers.push({matcher:S,reducer:I}),u},exposeAction(S,I){return d.actionCreators[S]=I,u},exposeCaseReducer(S,I){return d.sliceCaseReducersByName[S]=I,u}};c.forEach(S=>{const I=l[S],F={reducerName:S,type:aM(o,S),createNotation:typeof i.reducers=="function"};AM(I)?fM(F,I,u,t):dM(F,I,u)});function A(){const[S={},I=[],F=void 0]=typeof i.extraReducers=="function"?e6(i.extraReducers):[i.extraReducers],T={...S,...d.sliceCaseReducersByType};return JR(i.initialState,U=>{for(let K in T)U.addCase(K,T[K]);for(let K of d.sliceMatchers)U.addMatcher(K.matcher,K.reducer);for(let K of I)U.addMatcher(K.matcher,K.reducer);F&&U.addDefaultCase(F)})}const f=S=>S,h=new Map,g=new WeakMap;let p;function b(S,I){return p||(p=A()),p(S,I)}function x(){return p||(p=A()),p.getInitialState()}function j(S,I=!1){function F(U){let K=U[S];return typeof K>"u"&&I&&(K=Tg(g,F,x)),K}function T(U=f){const K=Tg(h,I,()=>new WeakMap);return Tg(K,U,()=>{const B={};for(const[R,D]of Object.entries(i.selectors??{}))B[R]=cM(D,U,()=>Tg(g,U,x),I);return B})}return{reducerPath:S,getSelectors:T,get selectors(){return T(F)},selectSlice:F}}const w={name:o,reducer:b,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:x,...j(a),injectInto(S,{reducerPath:I,...F}={}){const T=I??a;return S.inject({reducerPath:T,reducer:b},F),{...w,...j(T,!0)}}};return w}}function cM(e,t,r,s){function i(o,...a){let l=t(o);return typeof l>"u"&&s&&(l=r()),e(l,...a)}return i.unwrapped=e,i}var Fa=lM();function uM(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function dM({type:e,reducerName:t,createNotation:r},s,i){let o,a;if("reducer"in s){if(r&&!hM(s))throw new Error(Yl(17));o=s.reducer,a=s.prepare}else o=s;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,a?om(e,a):om(e))}function AM(e){return e._reducerDefinitionType==="asyncThunk"}function hM(e){return e._reducerDefinitionType==="reducerWithPrepare"}function fM({type:e,reducerName:t},r,s,i){if(!i)throw new Error(Yl(18));const{payloadCreator:o,fulfilled:a,pending:l,rejected:c,settled:d,options:u}=r,A=i(e,o,u);s.exposeAction(t,A),a&&s.addCase(A.fulfilled,a),l&&s.addCase(A.pending,l),c&&s.addCase(A.rejected,c),d&&s.addMatcher(A.settled,d),s.exposeCaseReducer(t,{fulfilled:a||Fg,pending:l||Fg,rejected:c||Fg,settled:d||Fg})}function Fg(){}function Yl(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Tt=Ht.create({baseURL:jo,timeout:3e4,headers:{"Content-Type":"application/json"}});Tt.interceptors.request.use(e=>{const t=localStorage.getItem("token")||localStorage.getItem("authToken");return t?(e.headers.Authorization=`Bearer ${t}`,console.log("Token added to request:",t.substring(0,20)+"...")):console.log("No token available for request"),e},e=>(console.error("Request error:",e),Promise.reject(e)));Tt.interceptors.response.use(e=>e,async e=>{const t=e.config;if(e.response&&e.response.status===401&&!t._retry){t._retry=!0;const r=localStorage.getItem("refreshToken");if(r)try{const{data:s}=await Tt.post("/auth/refresh-token",{refreshToken:r});if(s.token)return localStorage.setItem("token",s.token),Tt.defaults.headers.common.Authorization=`Bearer ${s.token}`,t.headers.Authorization=`Bearer ${s.token}`,Tt(t)}catch(s){console.error("Token refresh failed:",s)}}return e.response&&e.response.status===401&&(console.log("Clearing auth data due to 401"),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.dispatchEvent(new CustomEvent("auth_error",{detail:e}))),Promise.reject(e)});const $2={login:(e,t)=>Tt.post("/auth/login",{username:e,password:t}),register:e=>Tt.post("/auth/register",e),logout:()=>Tt.post("/auth/logout"),refreshToken:()=>Tt.post("/auth/refresh-token"),forgotPassword:e=>Tt.post("/auth/forgot-password",{email:e}),resetPassword:(e,t)=>Tt.post("/auth/reset-password",{token:e,newPassword:t}),verifyEmail:e=>Tt.get(`/auth/verify-email/${e}`),getCurrentUser:()=>Tt.get("/auth/me"),updateProfile:e=>Tt.put("/auth/profile",e),changePassword:(e,t)=>Tt.post("/auth/change-password",{oldPassword:e,newPassword:t})},us={getProfile:e=>Tt.get(e?`/api/users/${e}/profile`:"/api/users/profile"),getUserProfile:()=>Tt.get("/api/users/profile"),updateProfile:e=>Tt.put("/api/users/profile",e),getProfileSettings:()=>Tt.get("/api/settings"),updateProfileSettings:e=>Tt.put("/api/settings",e),getUserRanking:e=>Tt.get(`/api/users/${e}/ranking`),getAllUsers:e=>Tt.get("/api/users",{params:e}),getUserAchievements:e=>Tt.get(`/api/users/${e}/achievements`),uploadProfileImage:e=>Tt.post("/api/users/profile/image",e,{headers:{"Content-Type":"multipart/form-data"}}),updateEducation:e=>Tt.put("/api/users/profile",{education:e}),updateWorkExperience:e=>Tt.put("/api/users/profile",{workExperience:e}),updateSkills:e=>Tt.put("/api/users/profile",{skills:e}),updateInterests:e=>Tt.put("/api/users/profile",{interests:e}),updateSocialLinks:e=>Tt.put("/api/users/profile",{socialLinks:e}),updateAchievements:e=>Tt.put("/api/users/profile",{achievements:e}),getEmails:()=>Tt.get("/api/users/emails"),addEmail:e=>Tt.post("/api/verification/email/add",{email:e}),setPrimaryEmail:e=>Tt.put(`/api/users/emails/${e}/primary`),deleteEmail:e=>Tt.delete(`/api/users/emails/${e}`),resendVerificationEmail:e=>Tt.post("/api/verification/email/resend-additional-verification",{emailId:e}),verifyAdditionalEmail:(e,t)=>Tt.post("/api/verification/email/verify-additional",{email:e,otp:t}),getSessions:()=>Tt.get("/api/users/sessions"),deleteSession:e=>Tt.delete(`/api/users/sessions/${e}`),terminateOtherSessions:()=>Tt.post("/api/users/sessions/terminate-others")},wp={getAllEvents:e=>Tt.get("/api/events",{params:e}),getEventById:e=>Tt.get(`/api/events/${e}`),registerForEvent:(e,t={})=>Tt.post(`/api/events/${e}/register`,t),cancelEventRegistration:e=>Tt.delete(`/api/events/${e}/register`),getRegisteredEvents:()=>Tt.get("/api/events/registered"),getUpcomingEvents:()=>Tt.get("/api/events/upcoming"),getOngoingEvents:()=>Tt.get("/api/events/ongoing"),getPastEvents:()=>Tt.get("/api/events/past"),getEventSchedule:e=>Tt.get(`/api/events/${e}/schedule`),getEventParticipants:e=>Tt.get(`/api/events/${e}/participants`),getEventRounds:e=>Tt.get(`/api/events/${e}/rounds`),getEventPrizes:e=>Tt.get(`/api/events/${e}/prizes`),getEventTechnologies:e=>Tt.get(`/api/events/${e}/technologies`),getEventProgrammingLanguages:e=>Tt.get(`/api/events/${e}/languages`),getEventAchievements:e=>Tt.get(`/api/events/${e}/achievements`),getUserEventAchievements:()=>Tt.get("/api/events/achievements"),checkEventRegistration:e=>Tt.get(`/api/events/${e}/registration-status`)},t6={getAllPosts:e=>Tt.get("/posts",{params:e}),getPostById:e=>Tt.get(`/posts/${e}`),createPost:e=>Tt.post("/posts",e),updatePost:(e,t)=>Tt.put(`/posts/${e}`,t),deletePost:e=>Tt.delete(`/posts/${e}`),likePost:e=>Tt.post(`/posts/${e}/like`),unlikePost:e=>Tt.delete(`/posts/${e}/like`),getPostLikes:e=>Tt.get(`/posts/${e}/likes`),getPostComments:e=>Tt.get(`/posts/${e}/comments`),createComment:(e,t)=>Tt.post(`/posts/${e}/comments`,{content:t}),replyToComment:(e,t,r)=>Tt.post(`/posts/${e}/comments/${t}/replies`,{content:r}),updateComment:(e,t)=>Tt.put(`/comments/${e}`,{content:t}),deleteComment:e=>Tt.delete(`/comments/${e}`),likeComment:e=>Tt.post(`/comments/${e}/like`),unlikeComment:e=>Tt.delete(`/comments/${e}/like`),getCommentLikes:e=>Tt.get(`/comments/${e}/likes`),getPostsByTag:e=>Tt.get(`/tags/${e}/posts`),getTags:()=>Tt.get("/tags"),uploadPostMedia:(e,t)=>Tt.post(`/posts/${e}/media`,t,{headers:{"Content-Type":"multipart/form-data"}}),reportPost:(e,t)=>Tt.post(`/posts/${e}/report`,{reason:t})},r6={getAllNotifications:()=>Tt.get("/notifications"),markNotificationAsRead:e=>Tt.put(`/notifications/${e}/read`),getUnreadCount:()=>Tt.get("/notifications/unread-count"),markAllNotificationsAsRead:()=>Tt.put("/notifications/read-all"),deleteNotification:e=>Tt.delete(`/notifications/${e}`),getNotificationPreferences:()=>Tt.get("/notifications/preferences"),updateNotificationPreferences:e=>Tt.put("/notifications/preferences",e),subscribeToEvents:e=>Tt.post(`/events/${e}/subscribe`),unsubscribeFromEvents:e=>Tt.delete(`/events/${e}/subscribe`),subscribeToCourses:e=>Tt.post(`/courses/${e}/subscribe`),unsubscribeFromCourses:e=>Tt.delete(`/courses/${e}/subscribe`)},V2={getConversations:()=>Tt.get("/conversations"),getConversationById:e=>Tt.get(`/conversations/${e}`),sendMessage:(e,t)=>Tt.post(`/conversations/${e}/messages`,{message:t}),getMessages:e=>Tt.get(`/conversations/${e}/messages`),createConversation:e=>Tt.post("/conversations",{participantId:e}),deleteConversation:e=>Tt.delete(`/conversations/${e}`),markConversationAsRead:e=>Tt.put(`/conversations/${e}/read`),getUnreadCount:()=>Tt.get("/conversations/unread-count")},db=Kr("auth/login",async(e,{rejectWithValue:t})=>{var r;try{const s=await $2.login(e.username,e.password),i=s.data.token||s.data.accessToken,o=s.data.refreshToken;return localStorage.setItem("token",i),localStorage.setItem("authToken",i),o&&localStorage.setItem("refreshToken",o),localStorage.setItem("user",JSON.stringify(s.data.user)),s.data}catch(s){return console.error("Login error:",s),t(((r=s.response)==null?void 0:r.data)||{message:"ng nhp tht bi. Vui lng th li sau."})}}),Ab=Kr("auth/register",async(e,{rejectWithValue:t})=>{var r,s,i;try{console.log("Sending registration request to:","/api/auth/register"),console.log("Registration data:",{...e,role:"STUDENT",status:"ONLINE",accountStatus:"ACTIVE",provider:"local",emailVerified:!1});const o=await $2.register({...e,role:"STUDENT",status:"ONLINE",accountStatus:"ACTIVE",provider:"local",emailVerified:!1});return console.log("Registration response:",o.data),o.data.token&&(localStorage.setItem("token",o.data.token),o.data.refreshToken&&localStorage.setItem("refreshToken",o.data.refreshToken)),o.data}catch(o){return console.error("Registration error:",o),console.error("Error details:",((r=o.response)==null?void 0:r.data)||o.message),((s=o.response)==null?void 0:s.status)===403?t({message:"Khng c quyn ng k. Vui lng lin h qun tr vin."}):t(((i=o.response)==null?void 0:i.data)||{message:"ng k tht bi. Vui lng th li sau."})}}),hb=Kr("auth/getCurrentUser",async(e,{rejectWithValue:t})=>{var r;try{return(await $2.getCurrentUser()).data}catch(s){return t(((r=s.response)==null?void 0:r.data)||{message:"Khng th ly thng tin ngi dng"})}}),mM={user:null,token:localStorage.getItem("token"),isAuthenticated:!!localStorage.getItem("token"),loading:!1,error:null},n6=Fa({name:"auth",initialState:mM,reducers:{logout:e=>{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("authToken"),e.user=null,e.token=null,e.isAuthenticated=!1},clearError:e=>{e.error=null},updateProfileImage:(e,t)=>{e.user&&(e.user.Image=t.payload,e.user.avatar&&(e.user.avatar=t.payload))},setUser:(e,t)=>{e.user=t.payload,e.token=t.payload.token,e.isAuthenticated=!0,e.loading=!1,e.error=null}},extraReducers:e=>{e.addCase(db.pending,t=>{t.loading=!0,t.error=null}).addCase(db.fulfilled,(t,r)=>{t.loading=!1,t.isAuthenticated=!0,t.user=r.payload.user,t.token=r.payload.token,t.error=null}).addCase(db.rejected,(t,r)=>{var s;t.loading=!1,t.error=((s=r.payload)==null?void 0:s.message)||"ng nhp tht bi"}).addCase(Ab.pending,t=>{t.loading=!0,t.error=null}).addCase(Ab.fulfilled,(t,r)=>{t.loading=!1,t.isAuthenticated=!0,t.user=r.payload.user,t.token=r.payload.token}).addCase(Ab.rejected,(t,r)=>{var s;t.loading=!1,t.error=((s=r.payload)==null?void 0:s.message)||"ng k tht bi"}).addCase(hb.pending,t=>{t.loading=!0}).addCase(hb.fulfilled,(t,r)=>{t.loading=!1,t.user=r.payload,t.isAuthenticated=!0}).addCase(hb.rejected,t=>{t.loading=!1,t.user=null,t.isAuthenticated=!1,localStorage.removeItem("token")})}}),{logout:K2,clearError:ipe,updateProfileImage:Gv,setUser:s6}=n6.actions,pM=n6.reducer;var gM={};let Lg=!1,qv=[];const xM=e=>{qv.forEach(({config:t,resolve:r,reject:s})=>{t.headers.Authorization=`Bearer ${e}`,Ht(t).then(r).catch(s)}),qv=[]},Jn=Ht.create({baseURL:gM.VITE_API_URL||"http://localhost:5001/api",headers:{"Content-Type":"application/json"},timeout:1e4});Jn.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),console.log(`API Request: ${e.method.toUpperCase()} ${e.baseURL}${e.url}`,{headers:e.headers,params:e.params,data:e.data}),e},e=>(console.error("API Request Error:",e),Promise.reject(e)));const yM=async()=>{try{const e=localStorage.getItem("refreshToken"),t=localStorage.getItem("token");if(t&&!e)return console.log("No refresh token available, but token exists - considering valid"),t;if(!e)throw console.log("No refresh token available for API client refresh"),new Error("No refresh token available");const r=await Ht.post("http://localhost:5001/api/auth/refresh-token",{refreshToken:e});if(r.data&&r.data.token)return localStorage.setItem("token",r.data.token),r.data.refreshToken&&localStorage.setItem("refreshToken",r.data.refreshToken),r.data.token;throw new Error("Failed to refresh token")}catch(e){throw console.log("Error refreshing token:",e.message),e.response&&(e.response.status===400||e.response.status===401)&&(localStorage.removeItem("token"),localStorage.removeItem("refreshToken")),e}};Jn.interceptors.response.use(e=>(console.log(`API Response: ${e.status} ${e.config.method.toUpperCase()} ${e.config.url}`,{data:e.data}),e),async e=>{var r;if(e.code==="ECONNABORTED"||!e.response)return console.error("Network error or timeout:",e.message),Promise.reject({isNetworkError:!0,message:"Khng th kt ni n my ch."});console.error("API Response Error:",e.message),e.response&&console.error("Error details:",{status:e.response.status,statusText:e.response.statusText,data:e.response.data,url:e.config.url});const t=e.config;if(((r=e.response)==null?void 0:r.status)===401){const s=t.url||"",i=s.includes("/courses/")&&!s.includes("/check-enrollment")&&!s.includes("/enroll")&&!s.includes("/content")&&!s.includes("/learn")||s==="/courses"||s.includes("/auth/")||s.includes("/events")||s.includes("/public/");console.log("URL checking for public endpoint:",s,"Result:",i);const o=localStorage.getItem("token"),a=localStorage.getItem("refreshToken");if(o&&a&&!t._retry&&!s.includes("/refresh-token")){if(t._retry=!0,Lg)return new Promise((l,c)=>{qv.push({config:t,resolve:l,reject:c})});Lg=!0;try{const l=await yM();return Lg=!1,xM(l),t.headers.Authorization=`Bearer ${l}`,Ht(t)}catch(l){return Lg=!1,i||(console.warn("Token refresh failed, redirecting to login page"),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(l)}}else!i&&!o?(console.warn("Not authenticated, redirecting to login page"),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.href="/login"):console.log("Authentication required but allowing access without redirect for",s)}return Promise.reject(e)});function i6(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=i6(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function qt(){for(var e,t,r=0,s="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=i6(e))&&(s&&(s+=" "),s+=t);return s}function bM(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}bM(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var jp=e=>typeof e=="number"&&!isNaN(e),Gd=e=>typeof e=="string",ic=e=>typeof e=="function",vM=e=>Gd(e)||jp(e),Xv=e=>Gd(e)||ic(e)?e:null,wM=(e,t)=>e===!1||jp(e)&&e>0?e:t,Jv=e=>m.isValidElement(e)||Gd(e)||ic(e)||jp(e);function jM(e,t,r=300){let{scrollHeight:s,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=s+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,r)})})}function CM({enter:e,exit:t,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}){return function({children:o,position:a,preventExitTransition:l,done:c,nodeRef:d,isIn:u,playToast:A}){let f=r?`${e}--${a}`:e,h=r?`${t}--${a}`:t,g=m.useRef(0);return m.useLayoutEffect(()=>{let p=d.current,b=f.split(" "),x=j=>{j.target===d.current&&(A(),p.removeEventListener("animationend",x),p.removeEventListener("animationcancel",x),g.current===0&&j.type!=="animationcancel"&&p.classList.remove(...b))};p.classList.add(...b),p.addEventListener("animationend",x),p.addEventListener("animationcancel",x)},[]),m.useEffect(()=>{let p=d.current,b=()=>{p.removeEventListener("animationend",b),s?jM(p,c,i):c()};u||(l?b():(g.current=1,p.className+=` ${h}`,p.addEventListener("animationend",b)))},[u]),Xt.createElement(Xt.Fragment,null,o)}}function UC(e,t){return{content:o6(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function o6(e,t,r=!1){return m.isValidElement(e)&&!Gd(e.type)?m.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):ic(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function NM({closeToast:e,theme:t,ariaLabel:r="close"}){return Xt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),e(!0)},"aria-label":r},Xt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Xt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function BM({delay:e,isRunning:t,closeToast:r,type:s="default",hide:i,className:o,controlledProgress:a,progress:l,rtl:c,isIn:d,theme:u}){let A=i||a&&l===0,f={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};a&&(f.transform=`scaleX(${l})`);let h=qt("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":c}),g=ic(o)?o({rtl:c,type:s,defaultClassName:h}):qt(h,o),p={[a&&l>=1?"onTransitionEnd":"onAnimationEnd"]:a&&l<1?null:()=>{d&&r()}};return Xt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},Xt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${s}`}),Xt.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:g,style:f,...p}))}var kM=1,a6=()=>`${kM++}`;function SM(e,t,r){let s=1,i=0,o=[],a=[],l=t,c=new Map,d=new Set,u=j=>(d.add(j),()=>d.delete(j)),A=()=>{a=Array.from(c.values()),d.forEach(j=>j())},f=({containerId:j,toastId:w,updateId:S})=>{let I=j?j!==e:e!==1,F=c.has(w)&&S==null;return I||F},h=(j,w)=>{c.forEach(S=>{var I;(w==null||w===S.props.toastId)&&((I=S.toggle)==null||I.call(S,j))})},g=j=>{var w,S;(S=(w=j.props)==null?void 0:w.onClose)==null||S.call(w,j.removalReason),j.isActive=!1},p=j=>{if(j==null)c.forEach(g);else{let w=c.get(j);w&&g(w)}A()},b=()=>{i-=o.length,o=[]},x=j=>{var w,S;let{toastId:I,updateId:F}=j.props,T=F==null;j.staleId&&c.delete(j.staleId),j.isActive=!0,c.set(I,j),A(),r(UC(j,T?"added":"updated")),T&&((S=(w=j.props).onOpen)==null||S.call(w))};return{id:e,props:l,observe:u,toggle:h,removeToast:p,toasts:c,clearQueue:b,buildToast:(j,w)=>{if(f(w))return;let{toastId:S,updateId:I,data:F,staleId:T,delay:U}=w,K=I==null;K&&i++;let B={...l,style:l.toastStyle,key:s++,...Object.fromEntries(Object.entries(w).filter(([D,H])=>H!=null)),toastId:S,updateId:I,data:F,isIn:!1,className:Xv(w.className||l.toastClassName),progressClassName:Xv(w.progressClassName||l.progressClassName),autoClose:w.isLoading?!1:wM(w.autoClose,l.autoClose),closeToast(D){c.get(S).removalReason=D,p(S)},deleteToast(){let D=c.get(S);if(D!=null){if(r(UC(D,"removed")),c.delete(S),i--,i<0&&(i=0),o.length>0){x(o.shift());return}A()}}};B.closeButton=l.closeButton,w.closeButton===!1||Jv(w.closeButton)?B.closeButton=w.closeButton:w.closeButton===!0&&(B.closeButton=Jv(l.closeButton)?l.closeButton:!0);let R={content:j,props:B,staleId:T};l.limit&&l.limit>0&&i>l.limit&&K?o.push(R):jp(U)?setTimeout(()=>{x(R)},U):x(R)},setProps(j){l=j},setToggle:(j,w)=>{let S=c.get(j);S&&(S.toggle=w)},isToastActive:j=>{var w;return(w=c.get(j))==null?void 0:w.isActive},getSnapshot:()=>a}}var Vi=new Map,Qm=[],Yv=new Set,EM=e=>Yv.forEach(t=>t(e)),l6=()=>Vi.size>0;function IM(){Qm.forEach(e=>u6(e.content,e.options)),Qm=[]}var TM=(e,{containerId:t})=>{var r;return(r=Vi.get(t||1))==null?void 0:r.toasts.get(e)};function c6(e,t){var r;if(t)return!!((r=Vi.get(t))!=null&&r.isToastActive(e));let s=!1;return Vi.forEach(i=>{i.isToastActive(e)&&(s=!0)}),s}function FM(e){if(!l6()){Qm=Qm.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||vM(e))Vi.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Vi.get(e.containerId);t?t.removeToast(e.id):Vi.forEach(r=>{r.removeToast(e.id)})}}var LM=(e={})=>{Vi.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function u6(e,t){Jv(e)&&(l6()||Qm.push({content:e,options:t}),Vi.forEach(r=>{r.buildToast(e,t)}))}function PM(e){var t;(t=Vi.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function d6(e,t){Vi.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function UM(e){let t=e.containerId||1;return{subscribe(r){let s=SM(t,e,EM);Vi.set(t,s);let i=s.observe(r);return IM(),()=>{i(),Vi.delete(t)}},setProps(r){var s;(s=Vi.get(t))==null||s.setProps(r)},getSnapshot(){var r;return(r=Vi.get(t))==null?void 0:r.getSnapshot()}}}function RM(e){return Yv.add(e),()=>{Yv.delete(e)}}function MM(e){return e&&(Gd(e.toastId)||jp(e.toastId))?e.toastId:a6()}function Cp(e,t){return u6(e,t),t.toastId}function Kx(e,t){return{...t,type:t&&t.type||e,toastId:MM(t)}}function zx(e){return(t,r)=>Cp(t,Kx(e,r))}function Re(e,t){return Cp(e,Kx("default",t))}Re.loading=(e,t)=>Cp(e,Kx("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function DM(e,{pending:t,error:r,success:s},i){let o;t&&(o=Gd(t)?Re.loading(t,i):Re.loading(t.render,{...i,...t}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,u,A)=>{if(u==null){Re.dismiss(o);return}let f={type:d,...a,...i,data:A},h=Gd(u)?{render:u}:u;return o?Re.update(o,{...f,...h}):Re(h.render,{...f,...h}),A},c=ic(e)?e():e;return c.then(d=>l("success",s,d)).catch(d=>l("error",r,d)),c}Re.promise=DM;Re.success=zx("success");Re.info=zx("info");Re.error=zx("error");Re.warning=zx("warning");Re.warn=Re.warning;Re.dark=(e,t)=>Cp(e,Kx("default",{theme:"dark",...t}));function OM(e){FM(e)}Re.dismiss=OM;Re.clearWaitingQueue=LM;Re.isActive=c6;Re.update=(e,t={})=>{let r=TM(e,t);if(r){let{props:s,content:i}=r,o={delay:100,...s,...t,toastId:t.toastId||e,updateId:a6()};o.toastId!==e&&(o.staleId=e);let a=o.render||i;delete o.render,Cp(a,o)}};Re.done=e=>{Re.update(e,{progress:1})};Re.onChange=RM;Re.play=e=>d6(!0,e);Re.pause=e=>d6(!1,e);function QM(e){var t;let{subscribe:r,getSnapshot:s,setProps:i}=m.useRef(UM(e)).current;i(e);let o=(t=m.useSyncExternalStore(r,s,s))==null?void 0:t.slice();function a(l){if(!o)return[];let c=new Map;return e.newestOnTop&&o.reverse(),o.forEach(d=>{let{position:u}=d.props;c.has(u)||c.set(u,[]),c.get(u).push(d)}),Array.from(c,d=>l(d[0],d[1]))}return{getToastToRender:a,isToastActive:c6,count:o==null?void 0:o.length}}function _M(e){let[t,r]=m.useState(!1),[s,i]=m.useState(!1),o=m.useRef(null),a=m.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:A}=e;PM({id:e.toastId,containerId:e.containerId,fn:r}),m.useEffect(()=>{if(e.pauseOnFocusLoss)return f(),()=>{h()}},[e.pauseOnFocusLoss]);function f(){document.hasFocus()||x(),window.addEventListener("focus",b),window.addEventListener("blur",x)}function h(){window.removeEventListener("focus",b),window.removeEventListener("blur",x)}function g(T){if(e.draggable===!0||e.draggable===T.pointerType){j();let U=o.current;a.canCloseOnClick=!0,a.canDrag=!0,U.style.transition="none",e.draggableDirection==="x"?(a.start=T.clientX,a.removalDistance=U.offsetWidth*(e.draggablePercent/100)):(a.start=T.clientY,a.removalDistance=U.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function p(T){let{top:U,bottom:K,left:B,right:R}=o.current.getBoundingClientRect();T.nativeEvent.type!=="touchend"&&e.pauseOnHover&&T.clientX>=B&&T.clientX<=R&&T.clientY>=U&&T.clientY<=K?x():b()}function b(){r(!0)}function x(){r(!1)}function j(){a.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",I)}function w(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",I)}function S(T){let U=o.current;if(a.canDrag&&U){a.didMove=!0,t&&x(),e.draggableDirection==="x"?a.delta=T.clientX-a.start:a.delta=T.clientY-a.start,a.start!==T.clientX&&(a.canCloseOnClick=!1);let K=e.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;U.style.transform=`translate3d(${K},0)`,U.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function I(){w();let T=o.current;if(a.canDrag&&a.didMove&&T){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}T.style.transition="transform 0.2s, opacity 0.2s",T.style.removeProperty("transform"),T.style.removeProperty("opacity")}}let F={onPointerDown:g,onPointerUp:p};return l&&c&&(F.onMouseEnter=x,e.stacked||(F.onMouseLeave=b)),A&&(F.onClick=T=>{u&&u(T),a.canCloseOnClick&&d(!0)}),{playToast:b,pauseToast:x,isRunning:t,preventExitTransition:s,toastRef:o,eventHandlers:F}}var HM=typeof window<"u"?m.useLayoutEffect:m.useEffect,Wx=({theme:e,type:t,isLoading:r,...s})=>Xt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function $M(e){return Xt.createElement(Wx,{...e},Xt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function VM(e){return Xt.createElement(Wx,{...e},Xt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function KM(e){return Xt.createElement(Wx,{...e},Xt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function zM(e){return Xt.createElement(Wx,{...e},Xt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function WM(){return Xt.createElement("div",{className:"Toastify__spinner"})}var Zv={info:VM,warning:$M,success:KM,error:zM,spinner:WM},GM=e=>e in Zv;function qM({theme:e,type:t,isLoading:r,icon:s}){let i=null,o={theme:e,type:t};return s===!1||(ic(s)?i=s({...o,isLoading:r}):m.isValidElement(s)?i=m.cloneElement(s,o):r?i=Zv.spinner():GM(t)&&(i=Zv[t](o))),i}var XM=e=>{let{isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:i,playToast:o}=_M(e),{closeButton:a,children:l,autoClose:c,onClick:d,type:u,hideProgressBar:A,closeToast:f,transition:h,position:g,className:p,style:b,progressClassName:x,updateId:j,role:w,progress:S,rtl:I,toastId:F,deleteToast:T,isIn:U,isLoading:K,closeOnClick:B,theme:R,ariaLabel:D}=e,H=qt("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":B}),P=ic(p)?p({rtl:I,position:g,type:u,defaultClassName:H}):qt(H,p),z=qM(e),G=!!S||!c,he={closeToast:f,type:u,theme:R},ce=null;return a===!1||(ic(a)?ce=a(he):m.isValidElement(a)?ce=m.cloneElement(a,he):ce=NM(he)),Xt.createElement(h,{isIn:U,done:T,position:g,preventExitTransition:r,nodeRef:s,playToast:o},Xt.createElement("div",{id:F,tabIndex:0,onClick:d,"data-in":U,className:P,...i,style:b,ref:s,...U&&{role:w,"aria-label":D}},z!=null&&Xt.createElement("div",{className:qt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!K})},z),o6(l,e,!t),ce,!e.customProgressBar&&Xt.createElement(BM,{...j&&!G?{key:`p-${j}`}:{},rtl:I,theme:R,delay:c,isRunning:t,isIn:U,closeToast:f,hide:A,type:u,className:x,controlledProgress:G,progress:S||0})))},JM=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),YM=CM(JM("bounce",!0)),ZM={position:"top-right",transition:YM,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function A6(e){let t={...ZM,...e},r=e.stacked,[s,i]=m.useState(!0),o=m.useRef(null),{getToastToRender:a,isToastActive:l,count:c}=QM(t),{className:d,style:u,rtl:A,containerId:f,hotKeys:h}=t;function g(b){let x=qt("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":A});return ic(d)?d({position:b,rtl:A,defaultClassName:x}):qt(x,Xv(d))}function p(){r&&(i(!0),Re.play())}return HM(()=>{var b;if(r){let x=o.current.querySelectorAll('[data-in="true"]'),j=12,w=(b=t.position)==null?void 0:b.includes("top"),S=0,I=0;Array.from(x).reverse().forEach((F,T)=>{let U=F;U.classList.add("Toastify__toast--stacked"),T>0&&(U.dataset.collapsed=`${s}`),U.dataset.pos||(U.dataset.pos=w?"top":"bot");let K=S*(s?.2:1)+(s?0:j*T);U.style.setProperty("--y",`${w?K:K*-1}px`),U.style.setProperty("--g",`${j}`),U.style.setProperty("--s",`${1-(s?I:0)}`),S+=U.offsetHeight,I+=.025})}},[s,c,r]),m.useEffect(()=>{function b(x){var j;let w=o.current;h(x)&&((j=w.querySelector('[tabIndex="0"]'))==null||j.focus(),i(!1),Re.pause()),x.key==="Escape"&&(document.activeElement===w||w!=null&&w.contains(document.activeElement))&&(i(!0),Re.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[h]),Xt.createElement("section",{ref:o,className:"Toastify",id:f,onMouseEnter:()=>{r&&(i(!1),Re.pause())},onMouseLeave:p,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},a((b,x)=>{let j=x.length?{...u}:{...u,pointerEvents:"none"};return Xt.createElement("div",{tabIndex:-1,className:g(b),"data-stacked":r,style:j,key:`c-${b}`},x.map(({content:w,props:S})=>Xt.createElement(XM,{...S,stacked:r,collapseAll:p,isIn:l(S.toastId,S.containerId),key:`t-${S.key}`},w)))}))}var Hc={};const Er={getAllCourses:()=>Jn.get("/courses").catch(e=>{throw console.error("Error fetching courses:",e),e}),getCourseDetails:e=>{if(!e)return Promise.reject(new Error("Course identifier is required"));const t=String(e).trim();return new Promise((r,s)=>{const i=Hc.VITE_API_URL||"http://localhost:5001",o=new XMLHttpRequest;o.open("GET",`${i}/api/courses/${t}`,!0),o.setRequestHeader("Content-Type","application/json");const a=localStorage.getItem("token");a&&o.setRequestHeader("Authorization",`Bearer ${a}`),o.onload=function(){if(o.status===200)try{const l=JSON.parse(o.responseText);l.data&&l.data.isFallbackData&&console.warn("Received fallback data from server"),r(l)}catch{s(new Error("Invalid response format"))}else s(new Error(`API returned error status: ${o.status}`))},o.onerror=function(){s(new Error("Li kt ni n my ch"))},o.send()})},getEnrolledCourses:()=>Jn.get("/courses/enrolled"),checkEnrollment:e=>e?new Promise((t,r)=>{const s=Hc.VITE_API_URL||"http://localhost:5001",i=new XMLHttpRequest;i.open("GET",`${s}/api/courses/${e}/check-enrollment`,!0),i.setRequestHeader("Content-Type","application/json");const o=localStorage.getItem("token");o&&i.setRequestHeader("Authorization",`Bearer ${o}`),i.onload=function(){if(i.status>=200&&i.status<300)try{const a=JSON.parse(i.responseText);t(a)}catch{r(new Error("Invalid response format"))}else r(new Error(`API returned error status: ${i.status}`))},i.onerror=function(){r(new Error("Li kt ni n my ch"))},i.send()}):Promise.reject(new Error("Course ID is required")),enrollFreeCourse:e=>e?(console.log("Enrolling in free course:",e),new Promise((t,r)=>{const s=Hc.VITE_API_URL||"http://localhost:5001",i=new XMLHttpRequest;i.open("POST",`${s}/api/courses/${e}/enroll/free`,!0),i.setRequestHeader("Content-Type","application/json");const o=localStorage.getItem("token");if(o)i.setRequestHeader("Authorization",`Bearer ${o}`);else{r(new Error("Bn cn ng nhp  ng k kha hc"));return}i.onload=function(){if(console.log("Enrollment API response status:",i.status),i.status>=200&&i.status<300)try{const a=JSON.parse(i.responseText);console.log("Enrollment API response:",a),t(a)}catch(a){console.error("Error parsing enrollment response:",a),r(new Error("Invalid response format"))}else{console.error("HTTP error status:",i.status);try{const a=JSON.parse(i.responseText),l=a.message||`Li ng k kha hc (${i.status})`;i.status===400&&l.toLowerCase().includes("already enrolled")?(console.warn("User already enrolled  treating as success"),t({...a,alreadyEnrolled:!0})):(console.error("Error details:",a),r(new Error(l)))}catch{r(new Error(`Li ng k kha hc: M li ${i.status}`))}}},i.onerror=function(){console.error("Network error occurred during enrollment"),r(new Error("Li kt ni n my ch khi ng k kha hc"))},i.timeout=1e4,i.ontimeout=function(){console.error("Request timeout for enrollment"),r(new Error("Yu cu ng k  ht thi gian ch, vui lng th li"))},i.send()})):(console.error("Course ID is required for enrolling"),Promise.reject(new Error("Course ID is required"))),createPayment:(e,t)=>Jn.post(`/courses/${e}/create-payment`,{bankCode:t}),createVietQRPayment:e=>Jn.post(`/courses/${e}/create-vietqr`),verifyVietQRPayment:e=>Jn.post("/payments/verify-vietqr",{transactionCode:e}),processVNPayTransaction:e=>e?Jn.get(`/payment/vnpay/transaction/${e}`).catch(t=>{throw console.error("Error processing VNPay transaction:",t),t}):Promise.reject(new Error("Transaction ID is required")),createPayPalOrder:e=>Jn.post(`/courses/${e}/create-paypal-order`),processPayPalSuccess:({transactionId:e,PayerID:t,courseId:r})=>Jn.post("/payment/paypal/success",{transactionId:e,PayerID:t,courseId:r}),processPayPalCancel:e=>Jn.post(`/payment/paypal/cancel?transactionId=${e}`),getPaymentHistory:()=>Jn.get("/user/payment-history"),deletePayment:e=>e?Jn.delete(`/payments/${e}`):Promise.reject(new Error("Payment ID is required")),deleteManyPayments:e=>!e||!Array.isArray(e)||e.length===0?Promise.reject(new Error("Valid payment IDs array is required")):Jn.post("/payments/delete-many",{paymentIds:e}),getCoursePaymentHistory:e=>e?Jn.get(`/courses/${e}/payment-history`):Promise.reject(new Error("Course ID is required")),getCoursePrintDetails:e=>e?Jn.get(`/courses/${e}/print-details`):Promise.reject(new Error("Course ID is required")),getCourseContent:e=>e?new Promise((t,r)=>{const s=Hc.VITE_API_URL||"http://localhost:5001",i=new XMLHttpRequest;i.open("GET",`${s}/api/courses/${e}/content`,!0),i.setRequestHeader("Content-Type","application/json");const o=localStorage.getItem("token");o?(i.setRequestHeader("Authorization",`Bearer ${o}`),console.log("Using authentication token:",o.substring(0,10)+"...")):console.warn("No authentication token found. User might not be logged in."),i.timeout=15e3,i.onload=function(){if(i.status===200)try{const a=JSON.parse(i.responseText);console.log("Course content response:",a),a.success&&a.data.IsPreview&&console.log("User is viewing course in preview mode"),t({data:a})}catch(a){console.error("Error parsing JSON response:",a),r(new Error("Invalid response format"))}else if(i.status===401)console.warn("Authentication failed when accessing course content (401)"),localStorage.removeItem("token"),Re.info("Bn cn ng nhp  xem y  ni dung kha hc."),r(new Error("Authentication required"));else if(i.status===403)console.warn("User not authorized to access this course (403)"),Re.info("Bn cha ng k kha hc ny. Khng th xem ni dung kha hc."),r(new Error("Not enrolled in this course"));else if(i.status>=500){console.error("Server error when fetching course content:",i.status,i.responseText);let a="Unknown server error";try{const l=JSON.parse(i.responseText);a=l.message||l.code||"Unknown server error",console.error("Error details:",l)}catch{a=i.responseText||"Unknown server error"}Re.error(`Li my ch: ${a}`),r(new Error(`Server error: ${a}`))}else console.error("HTTP error status:",i.status),r(new Error(`API returned error status: ${i.status}`))},i.ontimeout=function(){console.warn("Request timeout: Server is not responding"),Re.warning("My ch phn hi chm. Vui lng th li sau."),r(new Error("Request timeout"))},i.onerror=function(){console.error("Network error occurred"),Re.warning("Khng th kt ni n my ch. Vui lng kim tra kt ni mng ca bn."),r(new Error("Network error"))},i.send()}):Promise.reject(new Error("Course ID is required")),getUserCourseProgress:e=>e?new Promise((t,r)=>{const s=Hc.VITE_API_URL||"http://localhost:5001",i=new XMLHttpRequest;i.open("GET",`${s}/api/courses/${e}/progress`,!0),i.setRequestHeader("Content-Type","application/json");const o=localStorage.getItem("token");o&&i.setRequestHeader("Authorization",`Bearer ${o}`),i.onload=function(){if(i.status===200)try{const a=JSON.parse(i.responseText);t(a)}catch{r(new Error("Invalid response format"))}else i.status===404?(console.warn("No progress found for course. Using default empty progress."),t({success:!0,message:"No progress data found yet",data:{overallProgress:0,completedLessons:[]}})):r(new Error(`API returned error status: ${i.status}`))},i.onerror=function(){console.error("Connection error while fetching course progress"),t({success:!0,message:"Connection error while fetching progress. Using default empty progress.",data:{overallProgress:0,completedLessons:[]}})},i.send()}):Promise.reject(new Error("Course ID is required")),markLessonAsComplete:(e,t)=>t?Jn.post(`/lessons/${t}/progress`,{status:"completed"}).then(r=>r.data).catch(r=>{throw console.error("Error marking lesson as complete:",r),r}):Promise.reject(new Error("Lesson ID is required")),getCodeExercise:(e,t)=>!e||!t?Promise.reject(new Error("Course ID and Lesson ID are required")):new Promise((r,s)=>{const i=Hc.VITE_API_URL||"http://localhost:5001",o=new XMLHttpRequest;o.open("GET",`${i}/api/courses/${e}/lessons/${t}/code-exercise`,!0),o.setRequestHeader("Content-Type","application/json");const a=localStorage.getItem("token");a&&o.setRequestHeader("Authorization",`Bearer ${a}`),o.onload=function(){if(o.status===200)try{const l=JSON.parse(o.responseText);r(l)}catch{s(new Error("Invalid response format"))}else s(new Error(`API returned error status: ${o.status}`))},o.onerror=function(){s(new Error("Li kt ni n my ch"))},o.send()}),runCodeExercise:(e,t,r)=>!e||!t||!r?Promise.reject(new Error("Course ID, Lesson ID, and code are required")):new Promise((s,i)=>{const o=Hc.VITE_API_URL||"http://localhost:5001",a=new XMLHttpRequest;a.open("POST",`${o}/api/courses/${e}/lessons/${t}/run-code`,!0),a.setRequestHeader("Content-Type","application/json");const l=localStorage.getItem("token");l&&a.setRequestHeader("Authorization",`Bearer ${l}`),a.onload=function(){if(a.status>=200&&a.status<300)try{const c=JSON.parse(a.responseText);s(c)}catch{i(new Error("Invalid response format"))}else i(new Error(`API returned error status: ${a.status}`))},a.onerror=function(){i(new Error("Li kt ni n my ch"))},a.send(JSON.stringify({code:r}))}),executeCode:async(e,t,r="")=>{if(!e||!t)return console.error("Code and language must be provided"),{success:!1,message:"Code v ngn ng lp trnh l bt buc"};try{console.log(`Executing code with language: ${t}`);const s=await Jn.post("/code-execution/execute",{code:e,language:t,stdin:r});return console.log("Code execution response:",s),s.data}catch(s){return console.error("Error executing code:",s),s.response?{success:!1,message:s.response.data.message||"Li khi thc thi code",error:s.response.data.error}:{success:!1,message:s.message||"Khng th kt ni n dch v thc thi code"}}},sendInput:async(e,t)=>{if(!e)return console.error("Execution ID must be provided"),{success:!1,message:"ID thc thi l bt buc"};try{console.log(`Sending input to execution ${e}: ${t}`);const r=await Jn.post("/code-execution/send-input",{executionId:e,input:t});return console.log("Send input response:",r),r.data}catch(r){return console.error("Error sending input:",r),r.response?{success:!1,message:r.response.data.message||"Li khi gi d liu u vo",error:r.response.data.error}:{success:!1,message:r.message||"Khng th kt ni n dch v thc thi code"}}},stopExecution:async e=>{if(!e)return console.error("Execution ID must be provided"),{success:!1,message:"ID thc thi l bt buc"};try{console.log(`Stopping execution ${e}`);const t=await Jn.post("/code-execution/stop",{executionId:e});return console.log("Stop execution response:",t),t.data}catch(t){return console.error("Error stopping execution:",t),t.response?{success:!1,message:t.response.data.message||"Li khi dng thc thi",error:t.response.data.error}:{success:!1,message:t.message||"Khng th kt ni n dch v thc thi code"}}},submitCodeExercise:async(e,t,r,s)=>(console.log(`Submitting code for course ${e}, lesson ${t}`),new Promise((i,o)=>{try{const a=Hc.VITE_API_URL||"http://localhost:5001",l=new XMLHttpRequest;l.open("POST",`${a}/api/courses/${e}/lessons/${t}/submit-code`,!0),l.setRequestHeader("Content-Type","application/json");const c=localStorage.getItem("token");c&&l.setRequestHeader("Authorization",`Bearer ${c}`),l.onload=function(){if(l.status>=200&&l.status<300)try{const d=JSON.parse(l.responseText);i(d)}catch{o(new Error("Invalid response format"))}else try{const d=JSON.parse(l.responseText);o(d)}catch{o(new Error(`API returned error status: ${l.status}`))}},l.onerror=function(){o({isNetworkError:!0,message:"Li kt ni n my ch"})},l.send(JSON.stringify({code:r,language:s,courseId:e}))}catch(a){console.error("Error in submitCodeExercise:",a),o(a)}})),initializeCodeServer:async(e,t)=>{var r,s;try{return(await Jn.post(`/courses/${e}/lessons/${t}/code-server`)).data}catch(i){return console.error("Error initializing code-server:",i),{success:!1,message:((s=(r=i.response)==null?void 0:r.data)==null?void 0:s.message)||"Khng th khi to mi trng code"}}}},ew=()=>{const e=localStorage.getItem("enrolledCourses");if(e)try{const{data:t,timestamp:r}=JSON.parse(e);if(Date.now()-r<5*60*1e3)return t}catch{console.warn("Failed to parse cached courses")}return null},tw=e=>{try{localStorage.setItem("enrolledCourses",JSON.stringify({data:e,timestamp:Date.now()}))}catch{console.warn("Failed to cache courses")}},ta=Kr("course/fetchEnrolledCourses",async(e={},{dispatch:t,rejectWithValue:r,getState:s})=>{var o,a,l;const{forceRefresh:i=!1}=e;try{const c=!i&&ew();if(c&&(t({type:"course/fetchEnrolledCourses/fulfilled",payload:c}),!i))return setTimeout(()=>{t(ta({forceRefresh:!0}))},100),c;console.log("Fetching enrolled courses...");const d=await Er.getEnrolledCourses();if(console.log("Enrolled courses response:",d),d.data&&d.data.success){let u=d.data.data.map(f=>({...f,enrolled:!0}));const A=new Map;return u.forEach(f=>{const h=f.CourseID||f.id;h&&!A.has(h)&&A.set(h,f)}),u=Array.from(A.values()),tw(u),u}else return r(((o=d.data)==null?void 0:o.message)||"Khng th ti kha hc  ng k")}catch(c){return console.error("Error fetching enrolled courses:",c),r(((l=(a=c.response)==null?void 0:a.data)==null?void 0:l.message)||" xy ra li khi ti kha hc  ng k")}}),m0=Kr("course/preloadAllCourses",async(e,{rejectWithValue:t})=>{var r,s,i;try{const o=await Er.getAllCourses();return o.data&&o.data.success?(localStorage.setItem("allCourses",JSON.stringify({data:o.data.data,timestamp:Date.now()})),o.data.data):t(((r=o.data)==null?void 0:r.message)||"Khng th ti danh sch kha hc")}catch(o){return console.error("Error preloading all courses:",o),t(((i=(s=o.response)==null?void 0:s.data)==null?void 0:i.message)||" xy ra li khi ti danh sch kha hc")}}),p0=Kr("courses/enrollFreeCourse",async(e,{rejectWithValue:t})=>{var r;try{return await Er.enrollFreeCourse(e)}catch(s){return t(((r=s.response)==null?void 0:r.data)||{message:"Khng th ng k kha hc"})}}),e9={enrolledCourses:[],allCourses:[],loading:!1,error:null,enrollmentSuccess:!1,dataLoaded:!1},h6=Fa({name:"courses",initialState:e9,reducers:{clearCourses:e=>{e.enrolledCourses=[]},resetEnrollmentStatus:e=>{e.enrollmentSuccess=!1},addEnrolledCourse:(e,t)=>{const r={...t.payload,CourseID:t.payload.CourseID||t.payload.id||null,enrolled:!0,CourseType:t.payload.CourseType||t.payload.courseType||((t.payload.Title||t.payload.title||"").toLowerCase().includes("it")?"it":"regular")};if(!e.enrolledCourses.some(i=>i.CourseID===r.CourseID||i.id===r.CourseID||r.id&&(i.CourseID===r.id||i.id===r.id))&&r.CourseID){console.log("Manually adding enrolled course to Redux store:",r),e.enrolledCourses.push(r);const i=ew()||[];!i.some(a=>a.CourseID===r.CourseID||a.id===r.CourseID||r.id&&(a.CourseID===r.id||a.id===r.id))&&tw([...i,r])}},loadCachedAllCourses:e=>{const t=localStorage.getItem("allCourses");if(t)try{const{data:r,timestamp:s}=JSON.parse(t);Date.now()-s<30*60*1e3&&(e.allCourses=r,e.dataLoaded=!0)}catch{console.warn("Failed to parse cached all courses")}}},extraReducers:e=>{e.addCase(ta.pending,t=>{t.loading=!0,t.error=null}).addCase(ta.fulfilled,(t,r)=>{t.loading=!1,t.enrolledCourses=r.payload}).addCase(ta.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(m0.pending,t=>{}).addCase(m0.fulfilled,(t,r)=>{t.allCourses=r.payload,t.dataLoaded=!0}).addCase(m0.rejected,t=>{}).addCase(p0.pending,t=>{t.loading=!0,t.error=null}).addCase(p0.fulfilled,(t,r)=>{if(t.loading=!1,t.enrollmentSuccess=!0,r.payload&&r.payload.course){const s={...r.payload.course,enrolled:!0};if(!t.enrolledCourses.some(o=>o.CourseID===s.CourseID||o.CourseID===s.id||o.id===s.CourseID||o.id===s.id)){t.enrolledCourses.push(s);const o=ew()||[];tw([...o,s])}}}).addCase(p0.rejected,(t,r)=>{var s;t.loading=!1,t.error=((s=r.payload)==null?void 0:s.message)||"Li khi ng k kha hc"})}}),{clearCourses:ope,resetEnrollmentStatus:ape,addEnrolledCourse:z2,loadCachedAllCourses:t9}=h6.actions,r9=h6.reducer,n9=()=>localStorage.getItem("token"),s9=async e=>{const t=n9();return await Ht.get(`${jo}/api/events/${e}`,{headers:{Authorization:`Bearer ${t}`}})},fb=Kr("events/fetchUpcoming",async(e,{rejectWithValue:t})=>{var r;try{return(await wp.getUpcomingEvents()).data}catch(s){return t(((r=s.response)==null?void 0:r.data)||{message:"Khng th ti s kin sp din ra"})}}),am=Kr("events/fetchAll",async(e,{rejectWithValue:t})=>{var r;try{const s=await wp.getAllEvents(e);if(console.log("Events API Response:",s),!s.data)throw new Error("No data received from API");return(Array.isArray(s.data)?s.data:[]).map(o=>({...o,EventDate:o.EventDate||new Date().toISOString().split("T")[0],EventTime:o.EventTime||"00:00:00",Price:parseFloat(o.Price)||0,MaxAttendees:parseInt(o.MaxAttendees)||0,CurrentAttendees:parseInt(o.CurrentAttendees)||0}))}catch(s){return console.error("Fetch events error:",s),t(((r=s.response)==null?void 0:r.data)||{message:"Khng th ti s kin",error:s.message})}}),f6=Kr("events/registerEvent",async({eventId:e,userData:t={}},{rejectWithValue:r})=>{var s,i;try{console.log("Attempting to register for event:",e);const o=await wp.registerForEvent(e,t);return console.log("Registration successful:",o),{success:!0,message:"ng k tham gia s kin thnh cng!",data:o.data}}catch(o){console.error("Registration failed:",o);const a=((i=(s=o.response)==null?void 0:s.data)==null?void 0:i.message)||o.message||"ng k tht bi. Vui lng th li sau.";return r({message:a,error:o.toString()})}}),Ch=Kr("events/fetchEventDetail",async(e,{rejectWithValue:t})=>{var r;try{const s=await s9(e);if(!s.data)throw new Error("Khng tm thy thng tin s kin");return{...s.data,EventDate:s.data.EventDate||new Date().toISOString().split("T")[0],EventTime:s.data.EventTime||"00:00:00",Price:parseFloat(s.data.Price)||0,MaxAttendees:parseInt(s.data.MaxAttendees)||0,CurrentAttendees:parseInt(s.data.CurrentAttendees)||0,schedule:Array.isArray(s.data.schedule)?s.data.schedule:[],prizes:Array.isArray(s.data.prizes)?s.data.prizes:[],languages:Array.isArray(s.data.languages)?s.data.languages:[],technologies:Array.isArray(s.data.technologies)?s.data.technologies:[]}}catch(s){return((r=s.response)==null?void 0:r.status)===401?t({message:"Vui lng ng nhp  xem chi tit",isAuthError:!0}):t({message:"Khng th ti thng tin s kin",error:s.message})}}),m6=Kr("events/cancelRegistration",async(e,{rejectWithValue:t})=>{var r,s;try{console.log("Attempting to cancel registration for event:",e);const i=await wp.cancelEventRegistration(e);return console.log("Cancel registration successful:",i),{success:!0,message:"Hy ng k s kin thnh cng!",data:i.data}}catch(i){console.error("Cancel registration failed:",i);const o=i.message||((s=(r=i.response)==null?void 0:r.data)==null?void 0:s.message)||"Hy ng k tht bi. Vui lng th li sau.";return t({message:o,error:i.toString()})}}),g0=Kr("events/checkRegistrationStatus",async(e,{rejectWithValue:t})=>{try{console.log("Checking registration status for event:",e);const r=await wp.checkEventRegistration(e);console.log("Check registration status successful:",r);const s=r.data||r;return{isRegistered:s.isRegistered||!1,registrationInfo:s.registrationInfo||null}}catch(r){return console.error("Check registration status failed:",r),{isRegistered:!1,registrationInfo:null}}}),i9={events:[],upcomingEvents:[],loading:!1,error:null,filters:{category:"all",difficulty:"all",status:"upcoming"},currentEvent:null,isRegistered:!1,registrationInfo:null,registrationLoading:!1},p6=Fa({name:"event",initialState:i9,reducers:{setFilters:(e,t)=>{e.filters={...e.filters,...t.payload}},clearCurrentEvent:e=>{e.currentEvent=null,e.isRegistered=!1,e.registrationInfo=null},setRegistrationStatus:(e,t)=>{e.isRegistered=t.payload.isRegistered,e.registrationInfo=t.payload.registrationInfo}},extraReducers:e=>{e.addCase(am.pending,t=>{t.loading=!0,t.error=null}).addCase(am.fulfilled,(t,r)=>{t.loading=!1,t.events=r.payload||[],t.error=null}).addCase(am.rejected,(t,r)=>{var s;t.loading=!1,t.events=[],t.error=((s=r.payload)==null?void 0:s.message)||"Li khi ti s kin"}).addCase(fb.pending,t=>{t.loading=!0,t.error=null}).addCase(fb.fulfilled,(t,r)=>{t.loading=!1,t.upcomingEvents=r.payload}).addCase(fb.rejected,(t,r)=>{var s;t.loading=!1,t.error=((s=r.payload)==null?void 0:s.message)||"Li khi ti s kin sp din ra"}).addCase(Ch.pending,t=>{t.loading=!0,t.error=null}).addCase(Ch.fulfilled,(t,r)=>{t.loading=!1,t.currentEvent=r.payload,t.error=null}).addCase(Ch.rejected,(t,r)=>{var s;t.loading=!1,t.currentEvent=null,t.error=((s=r.payload)==null?void 0:s.message)||"Li khi ti thng tin s kin"}).addCase(g0.pending,t=>{t.registrationLoading=!0}).addCase(g0.fulfilled,(t,r)=>{t.registrationLoading=!1,console.log("Registration status updated:",r.payload),t.isRegistered=r.payload.isRegistered,t.registrationInfo=r.payload.registrationInfo}).addCase(g0.rejected,t=>{t.registrationLoading=!1,t.isRegistered=!1,t.registrationInfo=null}).addCase(f6.fulfilled,t=>{t.isRegistered=!0}).addCase(m6.fulfilled,t=>{t.isRegistered=!1,t.registrationInfo=null})}}),{setFilters:RC,clearCurrentEvent:g6,setRegistrationStatus:mb}=p6.actions,o9=p6.reducer,lm=Kr("notifications/fetchNotifications",async(e,{rejectWithValue:t})=>{var r;try{return(await r6.getAllNotifications()).data.notifications||[]}catch(s){return t(((r=s.response)==null?void 0:r.data)||"Khng th ti thng bo")}}),a9=Kr("notifications/fetchUnreadCount",async(e,{rejectWithValue:t})=>{var r;try{return(await r6.getUnreadCount()).data.count}catch(s){return t(((r=s.response)==null?void 0:r.data)||"Khng th ti s thng bo cha c")}}),x6=Fa({name:"notifications",initialState:{notifications:[],unreadCount:0,loading:!1,error:null},reducers:{clearNotifications:e=>{e.notifications=[],e.unreadCount=0}},extraReducers:e=>{e.addCase(lm.pending,t=>{t.loading=!0,t.error=null}).addCase(lm.fulfilled,(t,r)=>{t.loading=!1,t.notifications=Array.isArray(r.payload)?r.payload:[],t.error=null}).addCase(lm.rejected,(t,r)=>{t.loading=!1,t.error=r.payload,t.notifications=[]}).addCase(a9.fulfilled,(t,r)=>{t.unreadCount=r.payload})}}),{clearNotifications:lpe}=x6.actions,l9=x6.reducer,pb=Kr("posts/fetchAll",async()=>(await t6.getAllPosts()).data),gb=Kr("posts/create",async e=>(await t6.createPost(e)).data),c9=Fa({name:"posts",initialState:{posts:[],loading:!1,error:null,totalItems:0,totalPages:0,currentPage:1},reducers:{},extraReducers:e=>{e.addCase(pb.pending,t=>{t.loading=!0}).addCase(pb.fulfilled,(t,r)=>{t.loading=!1,t.posts=r.payload.posts||[],t.totalItems=r.payload.totalItems||0,t.totalPages=r.payload.totalPages||0,t.currentPage=r.payload.currentPage||1}).addCase(pb.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message}).addCase(gb.pending,t=>{t.loading=!0}).addCase(gb.fulfilled,(t,r)=>{t.loading=!1,t.posts.unshift(r.payload)}).addCase(gb.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message})}}),u9=c9.reducer,Hh="http://localhost:5001".replace(/\/$/,""),x0=Kr("ranking/fetchRankings",async({timeRange:e="all",category:t="all"}={},{rejectWithValue:r})=>{var s;try{console.log(`Fetching rankings from: ${Hh}/api/rankings with filters:`,{timeRange:e,category:t});const i=await Ht.get(`${Hh}/api/rankings`,{params:{timeRange:e,category:t}});return console.log("Rankings response:",i.data),i.data}catch(i){return console.error("Failed to fetch rankings:",i),r(((s=i.response)==null?void 0:s.data)||i.message)}}),y0=Kr("ranking/fetchUserRanking",async(e,{rejectWithValue:t})=>{var r;try{console.log(`Fetching user ranking from: ${Hh}/api/rankings/user/${e}`);const s=await Ht.get(`${Hh}/api/rankings/user/${e}`);return console.log("User ranking response:",s.data),s.data}catch(s){return console.error("Failed to fetch user ranking:",s),t(((r=s.response)==null?void 0:r.data)||s.message)}}),d9=Kr("ranking/addPoints",async({userId:e,points:t,reason:r,type:s},{rejectWithValue:i})=>{var o;try{console.log(`Adding points to user ${e} at: ${Hh}/api/rankings/user/${e}/points`);const a=await Ht.post(`${Hh}/api/rankings/user/${e}/points`,{points:t,reason:r,type:s},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return console.log("Add points response:",a.data),a.data}catch(a){return console.error("Failed to add points:",a),i(((o=a.response)==null?void 0:o.data)||a.message)}}),y6=Fa({name:"ranking",initialState:{rankings:[],userRanking:null,loading:!1,error:null,timeRange:"all",category:"all"},reducers:{setTimeRange:(e,t)=>{e.timeRange=t.payload},setCategory:(e,t)=>{e.category=t.payload}},extraReducers:e=>{e.addCase(x0.pending,t=>{t.loading=!0,t.error=null}).addCase(x0.fulfilled,(t,r)=>{t.loading=!1,t.rankings=r.payload||[]}).addCase(x0.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||r.error.message}).addCase(y0.pending,t=>{t.loading=!0,t.error=null}).addCase(y0.fulfilled,(t,r)=>{t.loading=!1,t.userRanking=r.payload}).addCase(y0.rejected,(t,r)=>{t.loading=!1,t.error=r.payload||r.error.message}).addCase(d9.fulfilled,(t,r)=>{})}}),{setTimeRange:A9,setCategory:h9}=y6.actions,f9=y6.reducer,xb=Kr("aiChat/sendMessage",async e=>(await Ht.post("http://localhost:5001/api/ai/chat",{message:e})).data),m9=Kr("aiChat/fetchHistory",async()=>(await Ht.get("http://localhost:5001/api/ai/chat/history")).data),p9=Fa({name:"aiChat",initialState:{chatHistory:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(xb.pending,t=>{t.loading=!0}).addCase(xb.fulfilled,(t,r)=>{t.loading=!1,t.chatHistory.push(r.payload)}).addCase(xb.rejected,(t,r)=>{t.loading=!1,t.error=r.error.message}).addCase(m9.fulfilled,(t,r)=>{t.chatHistory=r.payload})}}),g9=p9.reducer,yb=Kr("chat/fetchConversations",async(e,{rejectWithValue:t})=>{try{return(await V2.getConversations()).data}catch(r){return t(r.response.data)}}),bb=Kr("chat/fetchMessages",async(e,{rejectWithValue:t})=>{try{return(await V2.getMessages(e)).data}catch(r){return t(r.response.data)}}),vb=Kr("chat/sendMessage",async({conversationId:e,content:t},{rejectWithValue:r})=>{try{return(await V2.postMessage(e,{content:t})).data}catch(s){return r(s.response.data)}}),b6=Fa({name:"chat",initialState:{conversations:[],currentConversation:null,messages:[],loading:!1,error:null},reducers:{setCurrentConversation:(e,t)=>{e.currentConversation=t.payload},addMessage:(e,t)=>{e.messages.push(t.payload)},clearMessages:e=>{e.messages=[]}},extraReducers:e=>{e.addCase(yb.pending,t=>{t.loading=!0,t.error=null}).addCase(yb.fulfilled,(t,r)=>{t.loading=!1,t.conversations=r.payload}).addCase(yb.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(bb.pending,t=>{t.loading=!0,t.error=null}).addCase(bb.fulfilled,(t,r)=>{t.loading=!1,t.messages=r.payload}).addCase(bb.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(vb.pending,t=>{t.error=null}).addCase(vb.fulfilled,(t,r)=>{t.messages.push(r.payload)}).addCase(vb.rejected,(t,r)=>{t.error=r.payload})}}),{setCurrentConversation:cpe,addMessage:upe,clearMessages:dpe}=b6.actions,x9=b6.reducer,wb=Kr("reports/createReport",async(e,{rejectWithValue:t})=>{try{return(await Jn.post("/reports",e)).data}catch(r){return t(r.response.data)}});Kr("reports/fetchUserReports",async()=>(await Jn.get("/reports/user")).data);const y9=Fa({name:"reports",initialState:{reports:[],loading:!1,error:null},reducers:{updateReportStatus:(e,t)=>{const{reportId:r,status:s}=t.payload,i=e.reports.find(o=>o.id===r);i&&(i.status=s)}},extraReducers:e=>{e.addCase(wb.pending,t=>{t.loading=!0}).addCase(wb.fulfilled,(t,r)=>{t.loading=!1,t.reports.push(r.payload),t.error=null}).addCase(wb.rejected,(t,r)=>{t.loading=!1,t.error=r.payload})}}),b9=y9.reducer,hd=Ht.create({baseURL:`${jo}/api/settings`,timeout:1e4,headers:{"Content-Type":"application/json"}});hd.interceptors.request.use(e=>{const t=localStorage.getItem("token")||localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error("Request error:",e),Promise.reject(e)));const Zh={getUserSettings:()=>hd.get("/"),updateSettings:e=>hd.put("/",{settings:e}),uploadProfilePicture:e=>hd.post("/profile-picture",e,{headers:{"Content-Type":"multipart/form-data"}}),changePassword:(e,t)=>hd.post("/change-password",{currentPassword:e,newPassword:t}),deleteAccount:(e,t)=>hd.post("/delete-account",{password:e,reason:t}),exportData:()=>hd.post("/export-data",{},{responseType:"arraybuffer",headers:{Accept:"application/json, application/octet-stream"}}).then(e=>{const t=e.headers["content-type"];return t&&t.includes("application/json")||(e.data=new Blob([e.data],{type:t||"application/json"})),e})},cm=Kr("user/getSettings",async(e,{rejectWithValue:t})=>{var r;try{return(await Zh.getUserSettings()).data}catch(s){return t(((r=s.response)==null?void 0:r.data)||{message:s.message})}}),b0=Kr("user/getProfile",async(e,{rejectWithValue:t})=>{var r;try{return(await us.getUserProfile()).data}catch(s){return t(((r=s.response)==null?void 0:r.data)||{message:s.message})}}),Rd=Kr("user/updateSettings",async(e,{rejectWithValue:t})=>{var r;try{return(await Zh.updateSettings(e)).data}catch(s){return t(((r=s.response)==null?void 0:r.data)||{message:s.message})}}),v0=Kr("user/updateProfile",async(e,{rejectWithValue:t})=>{var r;try{return(await us.updateProfile(e)).data}catch(s){return t(((r=s.response)==null?void 0:r.data)||{message:s.message})}}),w0=Kr("user/uploadProfilePicture",async(e,{rejectWithValue:t})=>{var r;try{return(await Zh.uploadProfilePicture(e)).data}catch(s){return t(((r=s.response)==null?void 0:r.data)||{message:s.message})}}),j0=Kr("user/changePassword",async({currentPassword:e,newPassword:t},{rejectWithValue:r})=>{var s;try{return(await Zh.changePassword(e,t)).data}catch(i){return r(((s=i.response)==null?void 0:s.data)||{message:i.message})}}),C0=Kr("user/deleteAccount",async({password:e,reason:t},{rejectWithValue:r})=>{var s;try{return(await Zh.deleteAccount(e,t)).data}catch(i){return r(((s=i.response)==null?void 0:s.data)||{message:i.message})}}),v6=Fa({name:"user",initialState:{settings:null,profileInfo:null,extendedProfile:null,loading:!1,error:null,success:!1,message:null},reducers:{clearUserState:e=>{e.error=null,e.success=!1,e.message=null}},extraReducers:e=>{e.addCase(cm.pending,t=>{t.loading=!0,t.error=null}).addCase(cm.fulfilled,(t,r)=>{t.loading=!1,t.settings=r.payload.settings,t.profileInfo=r.payload.profileInfo,t.success=!0}).addCase(cm.rejected,(t,r)=>{var s;t.loading=!1,t.error=((s=r.payload)==null?void 0:s.message)||"Khng th ly ci t ngi dng"}).addCase(b0.pending,t=>{t.loading=!0,t.error=null}).addCase(b0.fulfilled,(t,r)=>{t.loading=!1,t.extendedProfile=r.payload.profile,!t.profileInfo&&r.payload.profile&&(t.profileInfo={fullName:r.payload.profile.FullName,email:r.payload.profile.Email,username:r.payload.profile.Username,image:r.payload.profile.Image}),t.success=!0}).addCase(b0.rejected,(t,r)=>{var s;t.loading=!1,t.error=((s=r.payload)==null?void 0:s.message)||"Khng th ly thng tin h s ngi dng"}).addCase(Rd.pending,t=>{t.loading=!0,t.error=null,t.success=!1}).addCase(Rd.fulfilled,(t,r)=>{t.loading=!1,t.settings=r.payload.settings,t.success=!0,t.message=r.payload.message}).addCase(Rd.rejected,(t,r)=>{var s;t.loading=!1,t.error=((s=r.payload)==null?void 0:s.message)||"Khng th cp nht ci t",t.success=!1}).addCase(v0.pending,t=>{t.loading=!0,t.error=null}).addCase(v0.fulfilled,(t,r)=>{t.loading=!1,r.payload.profile&&(t.extendedProfile=r.payload.profile,t.profileInfo&&(t.profileInfo={...t.profileInfo,fullName:r.payload.profile.FullName,username:r.payload.profile.Username,image:r.payload.profile.Image})),t.success=!0,t.message=r.payload.message||"H s  c cp nht thnh cng"}).addCase(v0.rejected,(t,r)=>{var s;t.loading=!1,t.error=((s=r.payload)==null?void 0:s.message)||"Khng th cp nht h s",t.success=!1}).addCase(w0.pending,t=>{t.loading=!0,t.error=null}).addCase(w0.fulfilled,(t,r)=>{t.loading=!1,t.profileInfo&&(t.profileInfo.profileImage=r.payload.profileImage),t.success=!0,t.message=r.payload.message}).addCase(w0.rejected,(t,r)=>{var s;t.loading=!1,t.error=((s=r.payload)==null?void 0:s.message)||"Khng th ti ln nh i din",t.success=!1}).addCase(j0.pending,t=>{t.loading=!0,t.error=null}).addCase(j0.fulfilled,(t,r)=>{t.loading=!1,t.success=!0,t.message=r.payload.message}).addCase(j0.rejected,(t,r)=>{var s;t.loading=!1,t.error=((s=r.payload)==null?void 0:s.message)||"Khng th thay i mt khu",t.success=!1}).addCase(C0.pending,t=>{t.loading=!0,t.error=null}).addCase(C0.fulfilled,(t,r)=>{t.loading=!1,t.success=!0,t.message=r.payload.message}).addCase(C0.rejected,(t,r)=>{var s;t.loading=!1,t.error=((s=r.payload)==null?void 0:s.message)||"Khng th xa ti khon",t.success=!1})}}),{clearUserState:MC}=v6.actions,v9=v6.reducer,w9={exams:[],currentExam:null,questions:[],currentQuestion:null,answers:{},results:null,isLoading:!1,error:null,examInProgress:!1,examStartTime:null,examEndTime:null,timeRemaining:0,userExams:[],stateVersion:0},w6=Fa({name:"exam",initialState:w9,reducers:{setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload,e.isLoading=!1},setExams:(e,t)=>{e.exams=t.payload,e.isLoading=!1,e.stateVersion++},setCurrentExam:(e,t)=>{e.currentExam=t.payload,e.isLoading=!1,e.stateVersion++},setQuestions:(e,t)=>{e.questions=t.payload,e.isLoading=!1,e.stateVersion++},setCurrentQuestion:(e,t)=>{e.currentQuestion=t.payload,e.stateVersion++},saveAnswer:(e,t)=>{const{questionId:r,answer:s}=t.payload;e.answers={...e.answers,[r]:s},e.stateVersion++},startExam:(e,t)=>{const{exam:r,startTime:s,endTime:i,timeRemaining:o}=t.payload;e.currentExam=r,e.examInProgress=!0,e.examStartTime=s,e.examEndTime=i,o!==void 0?e.timeRemaining=o:i?e.timeRemaining=Math.floor((new Date(i)-new Date)/1e3):r.Duration&&(e.timeRemaining=r.Duration*60),e.isLoading=!1,e.stateVersion++},updateTimeRemaining:(e,t)=>{e.timeRemaining=t.payload},endExam:e=>{e.examInProgress=!1,e.examStartTime=null,e.examEndTime=null,e.timeRemaining=0,e.stateVersion++},setResults:(e,t)=>{e.results=t.payload,e.isLoading=!1,e.stateVersion++},setUserExams:(e,t)=>{console.log("setUserExams reducer called with payload:",t.payload);let r=null;Array.isArray(t.payload)?(r=t.payload,console.log("Received direct array of exams, length:",r.length)):t.payload&&t.payload.exams&&Array.isArray(t.payload.exams)?(r=t.payload.exams,console.log("Extracted exams from nested property, length:",r.length)):typeof t.payload=="object"&&t.payload!==null?(console.warn("Unexpected payload format. Converting to array:",t.payload),r=Object.values(t.payload)):(console.error("Invalid payload format for setUserExams:",t.payload),r=[]),e.userExams=[...r],e.userExams.length>0?(console.log("First exam in state:",e.userExams[0]),console.log("Total exams loaded:",e.userExams.length)):console.warn("No exams found in data"),e.isLoading=!1,e.stateVersion++},resetExamState:e=>{e.currentExam=null,e.questions=[],e.currentQuestion=null,e.answers={},e.results=null,e.examInProgress=!1,e.examStartTime=null,e.examEndTime=null,e.timeRemaining=0,e.stateVersion++}}}),{setLoading:Ape,setError:hpe,setExams:fpe,setCurrentExam:mpe,setQuestions:ppe,setCurrentQuestion:gpe,saveAnswer:xpe,startExam:ype,updateTimeRemaining:bpe,endExam:vpe,setResults:wpe,setUserExams:jpe,resetExamState:Cpe}=w6.actions,j9=w6.reducer,j6=qR({reducer:{auth:pM,course:r9,event:o9,notification:l9,post:u9,ranking:f9,aiChat:g9,chat:x9,report:b9,user:v9,exam:j9},middleware:e=>e({serializableCheck:!1}),devTools:!1});console.log("Initial Redux State:",j6.getState());let C9={data:""},N9=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||C9,B9=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,k9=/\/\*[^]*?\*\/|  +/g,DC=/\n+/g,ru=(e,t)=>{let r="",s="",i="";for(let o in e){let a=e[o];o[0]=="@"?o[1]=="i"?r=o+" "+a+";":s+=o[1]=="f"?ru(a,o):o+"{"+ru(a,o[1]=="k"?"":t)+"}":typeof a=="object"?s+=ru(a,t?t.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):o):a!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ru.p?ru.p(o,a):o+":"+a+";")}return r+(t&&i?t+"{"+i+"}":i)+s},Vl={},C6=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+C6(e[r]);return t}return e},S9=(e,t,r,s,i)=>{let o=C6(e),a=Vl[o]||(Vl[o]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(o));if(!Vl[a]){let c=o!==e?e:(d=>{let u,A,f=[{}];for(;u=B9.exec(d.replace(k9,""));)u[4]?f.shift():u[3]?(A=u[3].replace(DC," ").trim(),f.unshift(f[0][A]=f[0][A]||{})):f[0][u[1]]=u[2].replace(DC," ").trim();return f[0]})(e);Vl[a]=ru(i?{["@keyframes "+a]:c}:c,r?"":"."+a)}let l=r&&Vl.g?Vl.g:null;return r&&(Vl.g=Vl[a]),((c,d,u,A)=>{A?d.data=d.data.replace(A,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Vl[a],t,s,l),a},E9=(e,t,r)=>e.reduce((s,i,o)=>{let a=t[o];if(a&&a.call){let l=a(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":ru(l,""):l===!1?"":l}return s+i+(a??"")},"");function Gx(e){let t=this||{},r=e.call?e(t.p):e;return S9(r.unshift?r.raw?E9(r,[].slice.call(arguments,1),t.p):r.reduce((s,i)=>Object.assign(s,i&&i.call?i(t.p):i),{}):r,N9(t.target),t.g,t.o,t.k)}let N6,rw,nw;Gx.bind({g:1});let oc=Gx.bind({k:1});function I9(e,t,r,s){ru.p=t,N6=e,rw=r,nw=s}function Eu(e,t){let r=this||{};return function(){let s=arguments;function i(o,a){let l=Object.assign({},o),c=l.className||i.className;r.p=Object.assign({theme:rw&&rw()},l),r.o=/ *go\d+/.test(c),l.className=Gx.apply(r,s)+(c?" "+c:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),nw&&d[0]&&nw(l),N6(d,l)}return i}}var T9=e=>typeof e=="function",q0=(e,t)=>T9(e)?e(t):e,F9=(()=>{let e=0;return()=>(++e).toString()})(),B6=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),L9=20,k6=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,L9)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return k6(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},N0=[],Nd={toasts:[],pausedAt:void 0},nA=e=>{Nd=k6(Nd,e),N0.forEach(t=>{t(Nd)})},P9={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},U9=(e={})=>{let[t,r]=m.useState(Nd),s=m.useRef(Nd);m.useEffect(()=>(s.current!==Nd&&r(Nd),N0.push(r),()=>{let o=N0.indexOf(r);o>-1&&N0.splice(o,1)}),[]);let i=t.toasts.map(o=>{var a,l,c;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((a=e[o.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||P9[o.type],style:{...e.style,...(c=e[o.type])==null?void 0:c.style,...o.style}}});return{...t,toasts:i}},R9=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||F9()}),Np=e=>(t,r)=>{let s=R9(t,e,r);return nA({type:2,toast:s}),s.id},Fr=(e,t)=>Np("blank")(e,t);Fr.error=Np("error");Fr.success=Np("success");Fr.loading=Np("loading");Fr.custom=Np("custom");Fr.dismiss=e=>{nA({type:3,toastId:e})};Fr.remove=e=>nA({type:4,toastId:e});Fr.promise=(e,t,r)=>{let s=Fr.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let o=t.success?q0(t.success,i):void 0;return o?Fr.success(o,{id:s,...r,...r==null?void 0:r.success}):Fr.dismiss(s),i}).catch(i=>{let o=t.error?q0(t.error,i):void 0;o?Fr.error(o,{id:s,...r,...r==null?void 0:r.error}):Fr.dismiss(s)}),e};var M9=(e,t)=>{nA({type:1,toast:{id:e,height:t}})},D9=()=>{nA({type:5,time:Date.now()})},um=new Map,O9=1e3,Q9=(e,t=O9)=>{if(um.has(e))return;let r=setTimeout(()=>{um.delete(e),nA({type:4,toastId:e})},t);um.set(e,r)},_9=e=>{let{toasts:t,pausedAt:r}=U9(e);m.useEffect(()=>{if(r)return;let o=Date.now(),a=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(o-l.createdAt);if(c<0){l.visible&&Fr.dismiss(l.id);return}return setTimeout(()=>Fr.dismiss(l.id),c)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[t,r]);let s=m.useCallback(()=>{r&&nA({type:6,time:Date.now()})},[r]),i=m.useCallback((o,a)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:d}=a||{},u=t.filter(h=>(h.position||d)===(o.position||d)&&h.height),A=u.findIndex(h=>h.id===o.id),f=u.filter((h,g)=>g<A&&h.visible).length;return u.filter(h=>h.visible).slice(...l?[f+1]:[0,f]).reduce((h,g)=>h+(g.height||0)+c,0)},[t]);return m.useEffect(()=>{t.forEach(o=>{if(o.dismissed)Q9(o.id,o.removeDelay);else{let a=um.get(o.id);a&&(clearTimeout(a),um.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:M9,startPause:D9,endPause:s,calculateOffset:i}}},H9=oc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,$9=oc`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,V9=oc`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,K9=Eu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${H9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${$9} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${V9} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,z9=oc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,W9=Eu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${z9} 1s linear infinite;
`,G9=oc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,q9=oc`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,X9=Eu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${G9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${q9} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,J9=Eu("div")`
  position: absolute;
`,Y9=Eu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Z9=oc`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eD=Eu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Z9} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,tD=({toast:e})=>{let{icon:t,type:r,iconTheme:s}=e;return t!==void 0?typeof t=="string"?m.createElement(eD,null,t):t:r==="blank"?null:m.createElement(Y9,null,m.createElement(W9,{...s}),r!=="loading"&&m.createElement(J9,null,r==="error"?m.createElement(K9,{...s}):m.createElement(X9,{...s})))},rD=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,nD=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,sD="0%{opacity:0;} 100%{opacity:1;}",iD="0%{opacity:1;} 100%{opacity:0;}",oD=Eu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,aD=Eu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,lD=(e,t)=>{let r=e.includes("top")?1:-1,[s,i]=B6()?[sD,iD]:[rD(r),nD(r)];return{animation:t?`${oc(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${oc(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},cD=m.memo(({toast:e,position:t,style:r,children:s})=>{let i=e.height?lD(e.position||t||"top-center",e.visible):{opacity:0},o=m.createElement(tD,{toast:e}),a=m.createElement(aD,{...e.ariaProps},q0(e.message,e));return m.createElement(oD,{className:e.className,style:{...i,...r,...e.style}},typeof s=="function"?s({icon:o,message:a}):m.createElement(m.Fragment,null,o,a))});I9(m.createElement);var uD=({id:e,className:t,style:r,onHeightUpdate:s,children:i})=>{let o=m.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;s(e,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return m.createElement("div",{ref:o,className:t,style:r},i)},dD=(e,t)=>{let r=e.includes("top"),s=r?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:B6()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...s,...i}},AD=Gx`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Pg=16,hD=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:s,children:i,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:c}=_9(r);return m.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Pg,left:Pg,right:Pg,bottom:Pg,pointerEvents:"none",...o},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let u=d.position||t,A=c.calculateOffset(d,{reverseOrder:e,gutter:s,defaultPosition:t}),f=dD(u,A);return m.createElement(uD,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?AD:"",style:f},d.type==="custom"?q0(d.message,d):i?i(d):m.createElement(cD,{toast:d,position:u}))}))};function fD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const Au=m.forwardRef(fD);function mD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const pD=m.forwardRef(mD);function gD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const Zf=m.forwardRef(gD);function xD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const S6=m.forwardRef(xD);function yD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"}))}const bD=m.forwardRef(yD);function vD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const _m=m.forwardRef(vD);function wD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const _s=m.forwardRef(wD);function jD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const OC=m.forwardRef(jD);function CD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const E6=m.forwardRef(CD);function ND({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 19.5 15-15m0 0H8.25m11.25 0v11.25"}))}const BD=m.forwardRef(ND);function kD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const SD=m.forwardRef(kD);function ED({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"}))}const jb=m.forwardRef(ED);function ID({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"}))}const sw=m.forwardRef(ID);function TD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const I6=m.forwardRef(TD);function FD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const QC=m.forwardRef(FD);function LD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const dm=m.forwardRef(LD);function PD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const ef=m.forwardRef(PD);function UD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const Hm=m.forwardRef(UD);function RD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"}))}const MD=m.forwardRef(RD);function DD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const OD=m.forwardRef(DD);function QD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const _D=m.forwardRef(QD);function HD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const qd=m.forwardRef(HD);function $D({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const VD=m.forwardRef($D);function KD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const nu=m.forwardRef(KD);function zD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const $h=m.forwardRef(zD);function WD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const T6=m.forwardRef(WD);function GD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const No=m.forwardRef(GD);function qD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Am=m.forwardRef(qD);function XD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const hm=m.forwardRef(XD);function JD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const YD=m.forwardRef(JD);function ZD({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const B0=m.forwardRef(ZD);function eO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const _C=m.forwardRef(eO);function tO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"}))}const rO=m.forwardRef(tO);function nO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ki=m.forwardRef(nO);function sO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"}))}const Vh=m.forwardRef(sO);function iO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const iw=m.forwardRef(iO);function oO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0 0 21 18V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v12a2.25 2.25 0 0 0 2.25 2.25Z"}))}const F6=m.forwardRef(oO);function aO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const ow=m.forwardRef(aO);function lO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const HC=m.forwardRef(lO);function cO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const uO=m.forwardRef(cO);function dO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const AO=m.forwardRef(dO);function hO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const fO=m.forwardRef(hO);function mO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const W2=m.forwardRef(mO);function pO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5h3m-6.75 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-15a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 4.5v15a2.25 2.25 0 0 0 2.25 2.25Z"}))}const gO=m.forwardRef(pO);function xO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const L6=m.forwardRef(xO);function yO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const hu=m.forwardRef(yO);function bO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const $C=m.forwardRef(bO);function vO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const wO=m.forwardRef(vO);function jO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const tf=m.forwardRef(jO);function CO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const Xd=m.forwardRef(CO);function NO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const $m=m.forwardRef(NO);function BO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Vm=m.forwardRef(BO);function kO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const bu=m.forwardRef(kO);function SO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const P6=m.forwardRef(SO);function EO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const IO=m.forwardRef(EO);function TO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5"}))}const VC=m.forwardRef(TO);function FO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const LO=m.forwardRef(FO);function PO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const UO=m.forwardRef(PO);function RO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Nh=m.forwardRef(RO);function MO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const aw=m.forwardRef(MO);function DO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const OO=m.forwardRef(DO);function QO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const _O=m.forwardRef(QO);function HO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const U6=m.forwardRef(HO);function $O({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const lw=m.forwardRef($O);function VO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const G2=m.forwardRef(VO);function KO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const zO=m.forwardRef(KO);function WO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const pl=m.forwardRef(WO);function GO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const ph=m.forwardRef(GO);function qO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const Md=m.forwardRef(qO);function XO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"}))}const JO=m.forwardRef(XO);function YO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const X0=m.forwardRef(YO);function ZO({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"}))}const R6=m.forwardRef(ZO);function eQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const q2=m.forwardRef(eQ);function tQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const cw=m.forwardRef(tQ);function rQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const J0=m.forwardRef(rQ);function nQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const sQ=m.forwardRef(nQ);function iQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const oQ=m.forwardRef(iQ);function aQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Ba=m.forwardRef(aQ);function lQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const cQ=m.forwardRef(lQ);function uQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}))}const M6=m.forwardRef(uQ);function dQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const D6=m.forwardRef(dQ);function AQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const O6=m.forwardRef(AQ);function hQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const vu=m.forwardRef(hQ);function fQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const fu=m.forwardRef(fQ);function mQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const Q6=m.forwardRef(mQ);function pQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const gQ=m.forwardRef(pQ);function xQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const ac=m.forwardRef(xQ);function yQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const Y0=m.forwardRef(yQ);function bQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const uw=m.forwardRef(bQ);function vQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const lc=m.forwardRef(vQ);function wQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M22 10.5h-6m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM4 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 10.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const _6=m.forwardRef(wQ);function jQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const k0=m.forwardRef(jQ);function CQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Km=m.forwardRef(CQ);function NQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const KC=m.forwardRef(NQ);function BQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Bh=m.forwardRef(BQ);function kQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const fm=m.forwardRef(kQ);function SQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const pn=m.forwardRef(SQ);function EQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const IQ=m.forwardRef(EQ);function TQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M6.32 2.577a49.255 49.255 0 0 1 11.36 0c1.497.174 2.57 1.46 2.57 2.93V21a.75.75 0 0 1-1.085.67L12 18.089l-7.165 3.583A.75.75 0 0 1 3.75 21V5.507c0-1.47 1.073-2.756 2.57-2.93Z",clipRule:"evenodd"}))}const dw=m.forwardRef(TQ);function FQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M4.848 2.771A49.144 49.144 0 0 1 12 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97-1.94.284-3.916.455-5.922.505a.39.39 0 0 0-.266.112L8.78 21.53A.75.75 0 0 1 7.5 21v-3.955a48.842 48.842 0 0 1-2.652-.316c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97Z",clipRule:"evenodd"}))}const LQ=m.forwardRef(FQ);function PQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{d:"M7.493 18.5c-.425 0-.82-.236-.975-.632A7.48 7.48 0 0 1 6 15.125c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75A.75.75 0 0 1 15 2a2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23h-.777ZM2.331 10.727a11.969 11.969 0 0 0-.831 4.398 12 12 0 0 0 .52 3.507C2.28 19.482 3.105 20 3.994 20H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 0 1-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227Z"}))}const Z0=m.forwardRef(PQ);function UQ({title:e,titleId:t,...r},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?m.createElement("title",{id:t},e):null,m.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const H6=m.forwardRef(UQ),$6=({size:e="default",message:t="ang ti..."})=>{let r,s;switch(e){case"small":r="h-6 w-6",s="text-sm";break;case"large":r="h-12 w-12",s="text-xl";break;default:r="h-8 w-8",s="text-base"}return n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-gray-700",children:[n.jsx("div",{className:`animate-spin rounded-full ${r} border-t-2 border-b-2 border-blue-500`}),n.jsx("p",{className:`mt-4 ${s}`,children:t})]})},fn=({src:e,alt:t,name:r,className:s="",size:i="medium",onClick:o})=>{const a={tiny:"h-6 w-6",small:"h-8 w-8",medium:"h-12 w-12",large:"h-16 w-16",xl:"h-24 w-24",xxl:"h-32 w-32"},l={tiny:24,small:32,medium:48,large:64,xl:96,xxl:128},c=()=>`https://ui-avatars.com/api/?name=${encodeURIComponent(r||t||"User")}&background=random&color=fff&size=${l[i]}&rounded=true`,d=()=>e&&typeof e=="string"&&e.trim()!==""?e:c(),u=f=>{f.target.onerror=null,f.target.src=c()},A=d();return n.jsx("div",{className:`overflow-hidden rounded-full ${a[i]} bg-gray-100 dark:bg-gray-700 flex-shrink-0 ${o?"cursor-pointer hover:opacity-90 transition-opacity duration-200":""}`,onClick:o,children:n.jsx("img",{src:A,alt:t||r||"User avatar",className:"w-full h-full object-cover object-center",onError:u,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"}})})};var RQ={};const MQ=RQ.REACT_APP_API_URL||"http://localhost:5001/api",DQ=()=>localStorage.getItem("token"),OQ=async()=>{var e,t;try{return{success:!0,data:(await Ht.get(`${MQ}/users/me`,{headers:{Authorization:`Bearer ${DQ()}`}})).data}}catch(r){return console.error("Error fetching user info:",r),{success:!1,message:((t=(e=r.response)==null?void 0:e.data)==null?void 0:t.message)||"Khng th ly thng tin ngi dng",error:r}}},QQ="http://localhost:5001/api/chat",Cs=Ht.create({baseURL:QQ});Cs.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e.headers["cache-control"]&&delete e.headers["cache-control"],e},e=>Promise.reject(e));Cs.interceptors.response.use(e=>e,async e=>e.response&&e.response.status===401?(localStorage.removeItem("token"),window.location.href="/login",Promise.reject(e)):(e.message==="Network Error"&&console.error("Connection to server failed. Please check your internet connection."),Promise.reject(e)));Cs.defaults.timeout=1e4;const Di={getAllChatUsers:async(e=20)=>{var t,r;try{const s=await Ht.get("http://localhost:5001/api/chat/users",{params:{limit:e},headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});console.log("User API response:",s.data);const i=((t=s.data)==null?void 0:t.data)||s.data||[];return Array.isArray(i)?i:typeof i=="object"?[i]:(console.error("User data format is unexpected:",s.data),[])}catch(s){console.error("Failed to fetch users for chat:",s);try{const i=await Ht.get("http://localhost:5001/api/users",{params:{limit:e},headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}),o=((r=i.data)==null?void 0:r.data)||i.data||[];return console.log("Using fallback endpoint, got users:",o.length),Array.isArray(o)?o:[]}catch(i){return console.error("Fallback endpoint also failed:",i),[]}}},getSuggestedUsers:async(e=10,t=1)=>{try{const r=[`/api/chat/users/suggested?limit=${e}&page=${t}`,`/api/friendships/suggestions/random?limit=${e}&page=${t}`,`/api/chat/users?limit=${e}&page=${t}`,`/api/users?limit=${e}&page=${t}`];let s,i;for(const l of r)try{if(console.log(`Trying suggested users endpoint: ${l}`),s=await Ht.get(`http://localhost:5001${l}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}),s.status===200){i=l,console.log(`Successfully used endpoint for suggested users: ${l}`);break}}catch(c){console.log(`Endpoint ${l} failed:`,c.message)}if(!s)return console.log("All suggested users endpoints failed, using fallback"),[];const o=s.data;console.log(`Suggested users API response from ${i}:`,o);let a=[];if(Array.isArray(o))a=o;else if(o&&Array.isArray(o.users))a=o.users;else if(o&&o.data&&Array.isArray(o.data))a=o.data;else if(o&&o.suggestions&&Array.isArray(o.suggestions))a=o.suggestions;else if(o&&typeof o=="object"){const l=Object.values(o).filter(Array.isArray);l.length>0&&(a=l[0])}return a.length===0&&console.warn("No users found in suggested users API response"),a}catch(r){return console.error("Failed to get suggested users:",r),[]}},searchUsers:async(e,t=20,r=1)=>{try{if(!e||e.trim().length<2)return[];const s=[`/api/chat/users?search=${encodeURIComponent(e)}&limit=${t}&page=${r}`,`/api/users/search?q=${encodeURIComponent(e)}&limit=${t}&page=${r}`,`/api/search?q=${encodeURIComponent(e)}&limit=${t}&page=${r}`,`/api/users?q=${encodeURIComponent(e)}&limit=${t}&page=${r}`];let i,o;for(const c of s)try{if(console.log(`Trying search endpoint: ${c}`),i=await Ht.get(`http://localhost:5001${c}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}),i.status===200){o=c,console.log(`Successfully used endpoint: ${c}`);break}}catch(d){console.log(`Endpoint ${c} failed:`,d.message)}if(!i)throw new Error("All search endpoints failed");const a=i.data;console.log(`Search users API response from ${o}:`,a);let l=[];if(Array.isArray(a))l=a;else if(a&&Array.isArray(a.users))l=a.users;else if(a&&a.data&&Array.isArray(a.data))l=a.data;else if(a&&typeof a=="object"){const c=Object.values(a).filter(Array.isArray);c.length>0&&(l=c[0])}return l}catch(s){return console.error("Failed to search users:",s),e&&window.allUsers&&Array.isArray(window.allUsers)?(console.log("Falling back to local user search"),window.allUsers.filter(i=>{var o,a,l;return((o=i.FullName)==null?void 0:o.toLowerCase().includes(e.toLowerCase()))||((a=i.Username)==null?void 0:a.toLowerCase().includes(e.toLowerCase()))||((l=i.Email)==null?void 0:l.toLowerCase().includes(e.toLowerCase()))}).slice(0,t)):[]}},createConversation:async e=>{var t,r,s;try{const i={type:e.type,participants:e.participants.map(a=>parseInt(a,10)),...e.title&&{title:e.title},...e.createdBy!==void 0?{createdBy:parseInt(e.createdBy,10)}:{}};console.log("API createConversation - Sending data:",i);const o=await Cs.post("/conversations",i);return console.log("API createConversation - Success response:",o.data),o.data}catch(i){throw console.error("API createConversation - Error:",i),console.error("API createConversation - Error config:",i.config),console.error("API createConversation - Error response:",(t=i.response)==null?void 0:t.data),{message:i.message||"Failed to create conversation",status:(r=i.response)==null?void 0:r.status,data:(s=i.response)==null?void 0:s.data,originalError:i}}},getUserConversations:async()=>(await Cs.get("/conversations")).data,getConversationById:async e=>(await Cs.get(`/conversations/${e}`)).data,updateConversation:async(e,t)=>(await Cs.put(`/conversations/${e}`,t)).data,sendMessage:async(e,t)=>{try{let r;try{return r=await Cs.post(`/conversations/${e}/messages`,t),r.data}catch(s){if(s.response&&s.response.status===404)return console.log("Falling back to general messages endpoint"),r=await Cs.post("/messages",{conversationId:e,...t}),r.data;throw s}}catch(r){throw console.error("Failed to send message:",r),{error:!0,message:r.message||"Failed to send message",originalError:r}}},getMessages:async(e,t={})=>e?(await Cs.get(`/conversations/${e}/messages`,{params:t})).data:(console.warn("Invalid conversationId provided to getMessages"),[]),updateMessage:async(e,t)=>(await Cs.put(`/messages/${e}`,t)).data,deleteMessage:async e=>(await Cs.delete(`/messages/${e}`)).data,markMessageAsRead:async e=>(await Cs.put(`/messages/${e}/read`)).data,initiateCall:async e=>(await Cs.post("/calls",e)).data,updateCallStatus:async(e,t)=>(await Cs.put(`/calls/${e}`,t)).data,getCallHistory:async(e={})=>(await Cs.get("/calls/history",{params:e})).data,addCallParticipant:async(e,t)=>(await Cs.post(`/calls/${e}/participants`,t)).data,addGroupParticipants:async(e,t)=>{var r,s,i;try{const o=Array.isArray(t)?t.map(l=>Number(typeof l=="object"?l.UserID||l.id:l)):[];return(await Cs.post(`/conversations/${e}/participants`,{participants:o})).data}catch(o){throw console.error("Failed to add participants to group:",o),{message:((s=(r=o.response)==null?void 0:r.data)==null?void 0:s.message)||"Failed to add participants to group",status:(i=o.response)==null?void 0:i.status,originalError:o}}},removeGroupParticipant:async(e,t)=>{var r,s,i;try{return(await Cs.delete(`/conversations/${e}/participants/${t}`)).data}catch(o){throw console.error("Failed to remove participant from group:",o),{message:((s=(r=o.response)==null?void 0:r.data)==null?void 0:s.message)||"Failed to remove participant from group",status:(i=o.response)==null?void 0:i.status,originalError:o}}},leaveGroup:async e=>{var t,r,s;try{return(await Cs.delete(`/conversations/${e}/leave`)).data}catch(i){throw console.error("Failed to leave group:",i),{message:((r=(t=i.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to leave group",status:(s=i.response)==null?void 0:s.status,originalError:i}}}};var _Q={};const fs=Ht.create({baseURL:_Q.REACT_APP_API_URL||"http://localhost:5004",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!0});fs.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e.method==="get"&&e.url==="/api/reports"&&(console.log("Intercepting reports request, redirecting to /api/reports/me"),e.url="/api/reports/me"),e},e=>Promise.reject(e));fs.interceptors.response.use(e=>e,e=>{e.response&&e.response.status===401&&(localStorage.removeItem("token"),console.error("Phin lm vic  ht hn. Vui lng ng nhp li.")),e.response&&e.response.status===403&&console.error("Bn khng c quyn truy cp ti nguyn ny."),e.response&&e.response.status===404&&console.error("Khng tm thy ti nguyn yu cu."),e.message==="Network Error"&&console.error("Li kt ni mng. Vui lng kim tra kt ni internet hoc CORS.");const t=new Error(e.response&&e.response.data&&e.response.data.message||e.message||" xy ra li khi giao tip vi my ch.");return t.response=e.response,t.status=e.response?e.response.status:null,Promise.reject(t)});const HQ=async()=>{try{return(await fs.get("/api/exams")).data}catch(e){throw console.error("Error fetching exams:",e),e}},$Q=async()=>{try{return(await fs.get("/api/exams/upcoming")).data}catch(e){throw console.error("Error fetching upcoming exams:",e),e}},Aw=async e=>{try{return(await fs.get(`/api/exams/${e}`)).data}catch(t){throw console.error(`Error fetching exam ${e}:`,t),t}},V6=async e=>{try{return(await fs.post(`/api/exams/${e}/register`)).data}catch(t){if(console.error(`Error registering for exam ${e}:`,t),t.response&&t.response.data){const r=new Error(t.response.data.message||"Registration failed");throw r.response=t.response,r}throw t}},zC=async e=>{try{return(await fs.post(`/api/exams/${e}/start`)).data}catch(t){if(console.error(`Error starting exam ${e}:`,t),t.response&&t.response.data){const r=new Error(t.response.data.message||"Exam start failed");throw r.response=t.response,r}throw t}},WC=async(e,t,r)=>{try{const s=await fs.post(`/api/exams/${e}/answer/${t}`,{answer:r});return s.data.warning&&console.warn(`Answer saved with warning: ${s.data.warning}`),s.data}catch(s){if(console.error(`Error submitting answer for question ${t}:`,s),s.response&&s.response.data){const i=new Error(s.response.data.message||"Answer submission failed");throw i.response=s.response,i}throw s}},VQ=async e=>{try{return(await fs.post(`/api/exams/${e}/fullscreen-exit`)).data}catch(t){throw console.error("Error logging fullscreen exit:",t),t}},KQ=async e=>{try{return(await fs.post(`/api/exams/${e}/fullscreen-return`)).data}catch(t){throw console.error("Error logging fullscreen return:",t),t}},GC=async(e,t,r=null)=>{try{if(console.log(`Completing exam for participant ${e} (exam ${t})`),!e)throw new Error("ParticipantID is required");const s=r?{penalties:{tabSwitches:r.tabSwitches,fullscreenExits:r.fullscreenExits,penaltyPercentage:r.penaltyPercentage},score:r.finalScore!==void 0?r.finalScore:void 0,Score:r.finalScore!==void 0?r.finalScore:void 0,originalScore:r.originalScore!==void 0?r.originalScore:void 0,feedbacks:r.feedbacks}:{};if(t)try{const i=await fs.post(`/api/exams/${t}/participants/${e}/complete`,s);return console.log("Exam completion response:",i.data),i.data}catch(i){console.log(`Error with first endpoint format: ${i.message}`),error=i}try{const i=await fs.post(`/api/exams/participants/${e}/complete`,s);return console.log("Exam completion response (alt endpoint):",i.data),i.data}catch(i){console.log(`Error with second endpoint format: ${i.message}`);try{const o=await fs.post(`/api/exams/${e}/complete`,s);return console.log("Exam completion response (fallback endpoint):",o.data),o.data}catch(o){throw console.log("Error with all endpoint formats"),error||o}}}catch(s){if(console.error("Error completing exam:",s),s.response&&s.response.data){console.error("Server error details:",s.response.data);const i=new Error(s.response.data.message||"Exam completion failed");throw i.response=s.response,i}throw s}},zQ=async e=>{try{return(await fs.get(`/api/exams/${e}/results`)).data}catch(t){if(console.error("Error fetching exam results:",t),t.response&&t.response.data){const r=new Error(t.response.data.message||"Fetching results failed");throw r.response=t.response,r}throw t}},WQ=new Set(["v","l","ca","cc","mt","nhng","c","trong","","vi","khi","","c","cho","ra","nh","v","s","t","cng","ny","","y","th","li","m","n","nhng","trn","hay","hoc","v","nn","do","bi","ti","theo"]),Cb=e=>{if(!e)return[];let t=e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return t=t.replace(/[^a-z0-9\s]+/g," "),t.split(/\s+/).filter(r=>r&&!WQ.has(r))},qC=(e,t,r=[])=>{if(!e||!t)return{totalSimilarity:0,keywordsMatched:0,totalKeywords:r.length,contentSimilarity:0};const s=Cb(e),i=Cb(t),o=new Set(s),a=new Set(i),l=r.length;let c=0;if(l>0)for(const h of r){if(!h)continue;const g=Cb(h).join(" ");g&&s.join(" ").includes(g)&&c++}const d=l>0?c/l*100:0;let u=0;a.forEach(h=>{o.has(h)&&u++});const A=a.size>0?u/a.size*100:0;return{totalSimilarity:d*.6+A*.4,keywordsMatched:c,totalKeywords:l,contentSimilarity:A}},GQ=async(e,t,r,s)=>{try{if(!e)throw new Error("ExamID is required");if(!t)throw new Error("QuestionID is required");if(!s)throw new Error("ParticipantID is required");return(await fs.post(`/api/exams/${e}/participants/${s}/questions/${t}/grade`,{answer:r})).data}catch(i){if(console.error("Error comparing answer:",i),i.response&&i.response.data){console.error("Server error details:",i.response.data);try{return(await fs.post(`/api/exams/${e}/questions/${t}/grade`,{answer:r,participantId:s})).data}catch(o){return console.error("Alternative endpoint also failed:",o),{success:!0,data:{score:Math.round(Math.random()*5),maxPoints:10,similarity:{totalSimilarity:Math.round(Math.random()*50),keywordsMatched:0,totalKeywords:0,contentSimilarity:Math.round(Math.random()*40)},feedback:"Fallback grading due to server error"}}}}return{success:!0,data:{score:Math.round(Math.random()*5),maxPoints:10,similarity:{totalSimilarity:Math.round(Math.random()*50),keywordsMatched:0,totalKeywords:0,contentSimilarity:Math.round(Math.random()*40)},feedback:"Fallback grading due to server error"}}}};function gn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function wu(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const K6=6048e5,qQ=864e5,XQ=36e5,Ug=43200,XC=1440;let JQ={};function Bp(){return JQ}function zm(e,t){var l,c,d,u;const r=Bp(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=gn(e),o=i.getDay(),a=(o<s?7:0)+o-s;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function ex(e){return zm(e,{weekStartsOn:1})}function z6(e){const t=gn(e),r=t.getFullYear(),s=wu(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=ex(s),o=wu(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=ex(o);return t.getTime()>=i.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function JC(e){const t=gn(e);return t.setHours(0,0,0,0),t}function tx(e){const t=gn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function W6(e,t){const r=JC(e),s=JC(t),i=+r-tx(r),o=+s-tx(s);return Math.round((i-o)/qQ)}function YQ(e){const t=z6(e),r=wu(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ex(r)}function S0(e,t){const r=gn(e),s=gn(t),i=r.getTime()-s.getTime();return i<0?-1:i>0?1:i}function ZQ(e){return wu(e,Date.now())}function e_(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function t_(e){if(!e_(e)&&typeof e!="number")return!1;const t=gn(e);return!isNaN(Number(t))}function r_(e,t){const r=gn(e),s=gn(t),i=r.getFullYear()-s.getFullYear(),o=r.getMonth()-s.getMonth();return i*12+o}function n_(e,t){const r=gn(e),s=gn(t),i=YC(r,s),o=Math.abs(W6(r,s));r.setDate(r.getDate()-i*o);const a=+(YC(r,s)===-i),l=i*(o-a);return l===0?0:l}function YC(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function G6(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function q6(e,t){return+gn(e)-+gn(t)}function s_(e,t,r){const s=q6(e,t)/XQ;return G6(r==null?void 0:r.roundingMethod)(s)}function i_(e){const t=gn(e);return t.setHours(23,59,59,999),t}function o_(e){const t=gn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function a_(e){const t=gn(e);return+i_(t)==+o_(t)}function l_(e,t){const r=gn(e),s=gn(t),i=S0(r,s),o=Math.abs(r_(r,s));let a;if(o<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*o);let l=S0(r,s)===-i;a_(gn(e))&&o===1&&S0(e,s)===1&&(l=!1),a=i*(o-Number(l))}return a===0?0:a}function c_(e,t,r){const s=q6(e,t)/1e3;return G6(r==null?void 0:r.roundingMethod)(s)}function u_(e){const t=gn(e),r=wu(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const d_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},A_=(e,t,r)=>{let s;const i=d_[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function kh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const h_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},f_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},m_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},p_={date:kh({formats:h_,defaultWidth:"full"}),time:kh({formats:f_,defaultWidth:"full"}),dateTime:kh({formats:m_,defaultWidth:"full"})},g_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},x_=(e,t,r,s)=>g_[e];function Al(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;i=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const y_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},b_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},v_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},w_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},j_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},C_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},N_=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},B_={ordinalNumber:N_,era:Al({values:y_,defaultWidth:"wide"}),quarter:Al({values:b_,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Al({values:v_,defaultWidth:"wide"}),day:Al({values:w_,defaultWidth:"wide"}),dayPeriod:Al({values:j_,defaultWidth:"wide",formattingValues:C_,defaultFormattingWidth:"wide"})};function hl(e){return(t,r={})=>{const s=r.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?S_(l,A=>A.test(a)):k_(l,A=>A.test(a));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(a.length);return{value:d,rest:u}}}function k_(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function S_(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function X6(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const i=s[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=r.valueCallback?r.valueCallback(a):a;const l=t.slice(i.length);return{value:a,rest:l}}}const E_=/^(\d+)(th|st|nd|rd)?/i,I_=/\d+/i,T_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},F_={any:[/^b/i,/^(a|c)/i]},L_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},P_={any:[/1/i,/2/i,/3/i,/4/i]},U_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},R_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},M_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},D_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},O_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Q_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},__={ordinalNumber:X6({matchPattern:E_,parsePattern:I_,valueCallback:e=>parseInt(e,10)}),era:hl({matchPatterns:T_,defaultMatchWidth:"wide",parsePatterns:F_,defaultParseWidth:"any"}),quarter:hl({matchPatterns:L_,defaultMatchWidth:"wide",parsePatterns:P_,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hl({matchPatterns:U_,defaultMatchWidth:"wide",parsePatterns:R_,defaultParseWidth:"any"}),day:hl({matchPatterns:M_,defaultMatchWidth:"wide",parsePatterns:D_,defaultParseWidth:"any"}),dayPeriod:hl({matchPatterns:O_,defaultMatchWidth:"any",parsePatterns:Q_,defaultParseWidth:"any"})},J6={code:"en-US",formatDistance:A_,formatLong:p_,formatRelative:x_,localize:B_,match:__,options:{weekStartsOn:0,firstWeekContainsDate:1}};function H_(e){const t=gn(e);return W6(t,u_(t))+1}function $_(e){const t=gn(e),r=+ex(t)-+YQ(t);return Math.round(r/K6)+1}function Y6(e,t){var u,A,f,h;const r=gn(e),s=r.getFullYear(),i=Bp(),o=(t==null?void 0:t.firstWeekContainsDate)??((A=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:A.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(f=i.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,a=wu(e,0);a.setFullYear(s+1,0,o),a.setHours(0,0,0,0);const l=zm(a,t),c=wu(e,0);c.setFullYear(s,0,o),c.setHours(0,0,0,0);const d=zm(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function V_(e,t){var l,c,d,u;const r=Bp(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,i=Y6(e,t),o=wu(e,0);return o.setFullYear(i,0,s),o.setHours(0,0,0,0),zm(o,t)}function K_(e,t){const r=gn(e),s=+zm(r,t)-+V_(r,t);return Math.round(s/K6)+1}function hn(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const $c={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return hn(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):hn(r+1,2)},d(e,t){return hn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return hn(e.getHours()%12||12,t.length)},H(e,t){return hn(e.getHours(),t.length)},m(e,t){return hn(e.getMinutes(),t.length)},s(e,t){return hn(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,r-3));return hn(i,t.length)}},YA={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ZC={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return $c.y(e,t)},Y:function(e,t,r,s){const i=Y6(e,s),o=i>0?i:1-i;if(t==="YY"){const a=o%100;return hn(a,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):hn(o,t.length)},R:function(e,t){const r=z6(e);return hn(r,t.length)},u:function(e,t){const r=e.getFullYear();return hn(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return hn(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return hn(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return $c.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return hn(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const i=K_(e,s);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):hn(i,t.length)},I:function(e,t,r){const s=$_(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):hn(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):$c.d(e,t)},D:function(e,t,r){const s=H_(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):hn(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const i=e.getDay(),o=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return hn(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const i=e.getDay(),o=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return hn(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return hn(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let i;switch(s===12?i=YA.noon:s===0?i=YA.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let i;switch(s>=17?i=YA.evening:s>=12?i=YA.afternoon:s>=4?i=YA.morning:i=YA.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return $c.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):$c.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):hn(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):hn(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):$c.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):$c.s(e,t)},S:function(e,t){return $c.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return tN(s);case"XXXX":case"XX":return fd(s);case"XXXXX":case"XXX":default:return fd(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return tN(s);case"xxxx":case"xx":return fd(s);case"xxxxx":case"xxx":default:return fd(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+eN(s,":");case"OOOO":default:return"GMT"+fd(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+eN(s,":");case"zzzz":default:return"GMT"+fd(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return hn(s,t.length)},T:function(e,t,r){const s=e.getTime();return hn(s,t.length)}};function eN(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),o=s%60;return o===0?r+String(i):r+String(i)+t+hn(o,2)}function tN(e,t){return e%60===0?(e>0?"-":"+")+hn(Math.abs(e)/60,2):fd(e,t)}function fd(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),i=hn(Math.trunc(s/60),2),o=hn(s%60,2);return r+i+t+o}const rN=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Z6=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},z_=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return rN(e,t);let o;switch(s){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",rN(s,t)).replace("{{time}}",Z6(i,t))},W_={p:Z6,P:z_},G_=/^D+$/,q_=/^Y+$/,X_=["D","DD","YY","YYYY"];function J_(e){return G_.test(e)}function Y_(e){return q_.test(e)}function Z_(e,t,r){const s=eH(e,t,r);if(console.warn(s),X_.includes(e))throw new RangeError(s)}function eH(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nH=/^'([^]*?)'?$/,sH=/''/g,iH=/[a-zA-Z]/;function gl(e,t,r){var u,A,f,h,g,p,b,x;const s=Bp(),i=(r==null?void 0:r.locale)??s.locale??J6,o=(r==null?void 0:r.firstWeekContainsDate)??((A=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:A.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(f=s.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??s.weekStartsOn??((x=(b=s.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,l=gn(e);if(!t_(l))throw new RangeError("Invalid time value");let c=t.match(rH).map(j=>{const w=j[0];if(w==="p"||w==="P"){const S=W_[w];return S(j,i.formatLong)}return j}).join("").match(tH).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const w=j[0];if(w==="'")return{isToken:!1,value:oH(j)};if(ZC[w])return{isToken:!0,value:j};if(w.match(iH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:j}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return c.map(j=>{if(!j.isToken)return j.value;const w=j.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Y_(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&J_(w))&&Z_(w,t,String(e));const S=ZC[w[0]];return S(l,w,i.localize,d)}).join("")}function oH(e){const t=e.match(nH);return t?t[1].replace(sH,"'"):e}function aH(e,t,r){const s=Bp(),i=(r==null?void 0:r.locale)??s.locale??J6,o=2520,a=S0(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let c,d;a>0?(c=gn(t),d=gn(e)):(c=gn(e),d=gn(t));const u=c_(d,c),A=(tx(d)-tx(c))/1e3,f=Math.round((u-A)/60);let h;if(f<2)return r!=null&&r.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,l):u<10?i.formatDistance("lessThanXSeconds",10,l):u<20?i.formatDistance("lessThanXSeconds",20,l):u<40?i.formatDistance("halfAMinute",0,l):u<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):f===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",f,l);if(f<45)return i.formatDistance("xMinutes",f,l);if(f<90)return i.formatDistance("aboutXHours",1,l);if(f<XC){const g=Math.round(f/60);return i.formatDistance("aboutXHours",g,l)}else{if(f<o)return i.formatDistance("xDays",1,l);if(f<Ug){const g=Math.round(f/XC);return i.formatDistance("xDays",g,l)}else if(f<Ug*2)return h=Math.round(f/Ug),i.formatDistance("aboutXMonths",h,l)}if(h=l_(d,c),h<12){const g=Math.round(f/Ug);return i.formatDistance("xMonths",g,l)}else{const g=h%12,p=Math.trunc(h/12);return g<3?i.formatDistance("aboutXYears",p,l):g<9?i.formatDistance("overXYears",p,l):i.formatDistance("almostXYears",p+1,l)}}function eI(e,t){return aH(e,ZQ(e),t)}const lH={lessThanXSeconds:{one:"di 1 giy",other:"di {{count}} giy"},xSeconds:{one:"1 giy",other:"{{count}} giy"},halfAMinute:"na pht",lessThanXMinutes:{one:"di 1 pht",other:"di {{count}} pht"},xMinutes:{one:"1 pht",other:"{{count}} pht"},aboutXHours:{one:"khong 1 gi",other:"khong {{count}} gi"},xHours:{one:"1 gi",other:"{{count}} gi"},xDays:{one:"1 ngy",other:"{{count}} ngy"},aboutXWeeks:{one:"khong 1 tun",other:"khong {{count}} tun"},xWeeks:{one:"1 tun",other:"{{count}} tun"},aboutXMonths:{one:"khong 1 thng",other:"khong {{count}} thng"},xMonths:{one:"1 thng",other:"{{count}} thng"},aboutXYears:{one:"khong 1 nm",other:"khong {{count}} nm"},xYears:{one:"1 nm",other:"{{count}} nm"},overXYears:{one:"hn 1 nm",other:"hn {{count}} nm"},almostXYears:{one:"gn 1 nm",other:"gn {{count}} nm"}},cH=(e,t,r)=>{let s;const i=lH[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?s+" na":s+" trc":s},uH={full:"EEEE, 'ngy' d MMMM 'nm' y",long:"'ngy' d MMMM 'nm' y",medium:"d MMM 'nm' y",short:"dd/MM/y"},dH={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},AH={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},hH={date:kh({formats:uH,defaultWidth:"full"}),time:kh({formats:dH,defaultWidth:"full"}),dateTime:kh({formats:AH,defaultWidth:"full"})},fH={lastWeek:"eeee 'tun trc vo lc' p",yesterday:"'hm qua vo lc' p",today:"'hm nay vo lc' p",tomorrow:"'ngy mai vo lc' p",nextWeek:"eeee 'ti vo lc' p",other:"P"},mH=(e,t,r,s)=>fH[e],pH={narrow:["TCN","SCN"],abbreviated:["trc CN","sau CN"],wide:["trc Cng Nguyn","sau Cng Nguyn"]},gH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Qu 1","Qu 2","Qu 3","Qu 4"]},xH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["qu I","qu II","qu III","qu IV"]},yH={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Thng Mt","Thng Hai","Thng Ba","Thng T","Thng Nm","Thng Su","Thng By","Thng Tm","Thng Chn","Thng Mi","Thng Mi Mt","Thng Mi Hai"]},bH={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["thng 01","thng 02","thng 03","thng 04","thng 05","thng 06","thng 07","thng 08","thng 09","thng 10","thng 11","thng 12"]},vH={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],wide:["Ch Nht","Th Hai","Th Ba","Th T","Th Nm","Th Su","Th By"]},wH={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"}},jH={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"gia tra",morning:"vo bui sng",afternoon:"vo bui chiu",evening:"vo bui ti",night:"vo ban m"}},CH=(e,t)=>{const r=Number(e),s=t==null?void 0:t.unit;if(s==="quarter")switch(r){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(s==="day")switch(r){case 1:return"th 2";case 2:return"th 3";case 3:return"th 4";case 4:return"th 5";case 5:return"th 6";case 6:return"th 7";case 7:return"ch nht"}else{if(s==="week")return r===1?"th nht":"th "+r;if(s==="dayOfYear")return r===1?"u tin":"th "+r}return String(r)},NH={ordinalNumber:CH,era:Al({values:pH,defaultWidth:"wide"}),quarter:Al({values:gH,defaultWidth:"wide",formattingValues:xH,defaultFormattingWidth:"wide",argumentCallback:e=>e-1}),month:Al({values:yH,defaultWidth:"wide",formattingValues:bH,defaultFormattingWidth:"wide"}),day:Al({values:vH,defaultWidth:"wide"}),dayPeriod:Al({values:wH,defaultWidth:"wide",formattingValues:jH,defaultFormattingWidth:"wide"})},BH=/^(\d+)/i,kH=/\d+/i,SH={narrow:/^(tcn|scn)/i,abbreviated:/^(trc CN|sau CN)/i,wide:/^(trc Cng Nguyn|sau Cng Nguyn)/i},EH={any:[/^t/i,/^s/i]},IH={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^qu ([1234]|i{1,3}v?)/i},TH={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},FH={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^thng ?(Mt|Hai|Ba|T|Nm|Su|By|Tm|Chn|Mi|Mi ?Mt|Mi ?Hai|0?[1-9](?!\d)|10|11|12)/i},LH={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^thng ?(Mt|0?1(?!\d))/i,/^thng ?(Hai|0?2)/i,/^thng ?(Ba|0?3)/i,/^thng ?(T|0?4)/i,/^thng ?(Nm|0?5)/i,/^thng ?(Su|0?6)/i,/^thng ?(By|0?7)/i,/^thng ?(Tm|0?8)/i,/^thng ?(Chn|0?9)/i,/^thng ?(Mi|10)/i,/^thng ?(Mi ?Mt|11)/i,/^thng ?(Mi ?Hai|12)/i]},PH={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Ch ?Nht|Cha ?Nht|th ?Hai|th ?Ba|th ?T|th ?Nm|th ?Su|th ?By)/i},UH={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Ch|Cha) ?Nht/i,/Hai/i,/Ba/i,/T/i,/Nm/i,/Su/i,/By/i]},RH={narrow:/^(a|p|na m|tra|(gi) (sng|chiu|ti|m))/i,abbreviated:/^(am|pm|na m|tra|(gi) (sng|chiu|ti|m))/i,wide:/^(ch[^i]*|sa|na m|tra|(gi) (sng|chiu|ti|m))/i},MH={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/na m/i,noon:/tra/i,morning:/sng/i,afternoon:/chiu/i,evening:/ti/i,night:/^m/i}},DH={ordinalNumber:X6({matchPattern:BH,parsePattern:kH,valueCallback:e=>parseInt(e,10)}),era:hl({matchPatterns:SH,defaultMatchWidth:"wide",parsePatterns:EH,defaultParseWidth:"any"}),quarter:hl({matchPatterns:IH,defaultMatchWidth:"wide",parsePatterns:TH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hl({matchPatterns:FH,defaultMatchWidth:"wide",parsePatterns:LH,defaultParseWidth:"wide"}),day:hl({matchPatterns:PH,defaultMatchWidth:"wide",parsePatterns:UH,defaultParseWidth:"wide"}),dayPeriod:hl({matchPatterns:RH,defaultMatchWidth:"wide",parsePatterns:MH,defaultParseWidth:"any"})},xl={code:"vi",formatDistance:cH,formatLong:hH,formatRelative:mH,localize:NH,match:DH,options:{weekStartsOn:1,firstWeekContainsDate:1}},OH=()=>{const[e,t]=m.useState([]),[r,s]=m.useState([]),[i,o]=m.useState(!0),[a,l]=m.useState(null),[c,d]=m.useState({}),[u,A]=m.useState(""),[f,h]=m.useState("all"),g=rn();m.useEffect(()=>{p()},[]),m.useEffect(()=>{if(e.length>0){let T=[...e];if(u&&(T=T.filter(U=>U.Title.toLowerCase().includes(u.toLowerCase())||U.Description&&U.Description.toLowerCase().includes(u.toLowerCase())||U.CourseName&&U.CourseName.toLowerCase().includes(u.toLowerCase()))),f==="upcoming")T=T.filter(U=>new Date(U.StartTime)>new Date);else if(f==="ongoing"){const U=new Date;T=T.filter(K=>new Date(K.StartTime)<=U&&new Date(K.EndTime)>=U)}else f==="completed"?T=T.filter(U=>new Date(U.EndTime)<new Date):f==="registered"&&(T=T.filter(U=>U.IsRegistered));s(T)}else s([])},[e,u,f]);const p=async()=>{try{o(!0);const T=await HQ();t(T.data||[]),s(T.data||[]),l(null)}catch(T){l("Khng th ti danh sch k thi. Vui lng th li sau."),console.error("Error fetching exams:",T)}finally{o(!1)}},b=async T=>{var U,K;try{d(R=>({...R,[T]:!0}));const B=await V6(T);t(e.map(R=>R.ExamID===T?{...R,IsRegistered:!0,attemptsUsed:B.attemptsUsed||1,maxAttempts:B.maxAttempts||1}:R)),B.attemptsUsed>1&&alert(`ng k thnh cng! y l ln th th ${B.attemptsUsed}/${B.maxAttempts==="unlimited"?"":B.maxAttempts}.`)}catch(B){console.error("Error registering for exam:",B),B.response&&B.response.status===400?B.response.data.message==="Already registered for this exam and retakes are not allowed"?(t(e.map(R=>R.ExamID===T?{...R,IsRegistered:!0,allowRetakes:!1}:R)),alert("Bn  ng k k thi ny trc  v khng c php thi li.")):B.response.data.message.includes("Maximum number of attempts")?(t(e.map(R=>R.ExamID===T?{...R,IsRegistered:!0,attemptsMaxedOut:!0}:R)),alert(B.response.data.message)):B.response.data.message.includes("ongoing attempt")?(t(e.map(R=>R.ExamID===T?{...R,IsRegistered:!0,hasOngoingAttempt:!0}:R)),alert("Bn c mt lt thi ang din ra. Vui lng hon thnh trc khi ng k lt mi.")):alert("ng k khng thnh cng: "+B.response.data.message):alert("ng k khng thnh cng: "+(((K=(U=B.response)==null?void 0:U.data)==null?void 0:K.message)||"Vui lng th li sau."))}finally{d(B=>({...B,[T]:!1}))}},x=T=>{A(T.target.value)},j=(T,U)=>{const K=new Date,B=new Date(T),R=new Date(U);return K<B?"upcoming":K>=B&&K<=R?"ongoing":"completed"},w=T=>{switch(T){case"upcoming":return"Sp din ra";case"ongoing":return"ang din ra";case"completed":return" kt thc";default:return"Cha xc nh"}},S=T=>{switch(T){case"upcoming":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},I=T=>{try{return eI(new Date(T),{addSuffix:!0,locale:xl})}catch{return"Invalid date"}},F=(T,U)=>{const K=T/U;return K<.5?"D":K<.7?"Trung bnh":"Kh"};return n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Danh Sch K Thi"}),n.jsx("p",{className:"text-gray-600",children:"Tham gia cc k thi  nng cao k nng v kim tra kin thc ca bn"})]}),n.jsxs("div",{className:"flex justify-between items-center mb-6 border-b",children:[n.jsxs("div",{className:"flex",children:[n.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 font-medium ${f==="all"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Tt c"}),n.jsx("button",{onClick:()=>h("upcoming"),className:`px-4 py-2 font-medium ${f==="upcoming"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Sp din ra"}),n.jsx("button",{onClick:()=>h("ongoing"),className:`px-4 py-2 font-medium ${f==="ongoing"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"ang din ra"}),n.jsx("button",{onClick:()=>h("completed"),className:`px-4 py-2 font-medium ${f==="completed"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:" kt thc"}),n.jsx("button",{onClick:()=>h("registered"),className:`px-4 py-2 font-medium ${f==="registered"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:" ng k"})]}),n.jsxs("div",{className:"relative pb-2",children:[n.jsx("input",{type:"text",value:u,onChange:x,placeholder:"Tm kim k thi...",className:"w-64 px-4 py-2 rounded-md text-sm border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute right-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),i?n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a?n.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-md",children:a}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map(T=>{const U=j(T.StartTime,T.EndTime),K=F(T.PassingScore,T.TotalPoints);return n.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow flex flex-col h-full relative cursor-pointer hover:border hover:border-blue-400 group",onClick:B=>{!B.target.closest("button")&&!B.target.closest("a")&&g(`/exams/${T.ExamID}`)},children:[n.jsx("div",{className:"absolute top-2 right-2 text-blue-500 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),n.jsxs("div",{className:"p-4 flex-grow",children:[n.jsx("div",{className:`h-1 w-full -mt-4 mb-3 ${S(U)}`}),n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("h2",{className:"text-xl font-semibold mb-2 line-clamp-2",children:T.Title}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(U)}`,children:w(U)})]}),n.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:T.Description||"Khng c m t"}),n.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{children:[U==="upcoming"&&`Bt u ${I(T.StartTime)}`,U==="ongoing"&&`Kt thc ${I(T.EndTime)}`,U==="completed"&&`Kt thc ${I(T.EndTime)}`]})]}),n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{children:["Thi gian: ",T.Duration," pht"]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),n.jsx("span",{children:K})]})]})]}),n.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 h-16 flex items-center mt-auto",children:T.IsRegistered?n.jsxs("div",{className:"mt-2",children:[U==="completed"?n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsx(Zt,{to:`/exams/${T.ExamID}/history`,className:"inline-block bg-indigo-100 text-indigo-700 py-2 px-4 rounded-md text-center hover:bg-indigo-200 transition-colors",onClick:B=>B.stopPropagation(),children:"Xem lch s thi"}),T.allowRetakes!==!1&&!T.attemptsMaxedOut&&n.jsx("button",{onClick:B=>{B.stopPropagation(),b(T.ExamID)},disabled:c[T.ExamID],className:"bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 transition-colors disabled:bg-blue-300",children:c[T.ExamID]?"ang ng k...":"ng k thi li"})]}):n.jsx(Zt,{to:`/exams/${T.ExamID}/session`,className:"inline-block bg-green-500 text-white py-2 px-4 rounded-md w-full text-center hover:bg-green-600 transition-colors",onClick:B=>B.stopPropagation(),children:"Vo thi ngay"}),T.attemptsUsed&&T.maxAttempts&&n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Ln thi: ",T.attemptsUsed,"/",T.maxAttempts==="unlimited"?"":T.maxAttempts]})]}):n.jsx("button",{onClick:B=>{B.stopPropagation(),b(T.ExamID)},disabled:c[T.ExamID]||U==="completed",className:`mt-2 py-2 px-4 rounded-md w-full ${U==="completed"?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"} transition-colors disabled:opacity-70`,children:c[T.ExamID]?"ang ng k...":U==="completed"?" kt thc":"ng k tham gia"})})]},T.ExamID)}):n.jsxs("div",{className:"col-span-full py-16 text-center",children:[n.jsx("p",{className:"text-gray-500",children:"Khng tm thy k thi no ph hp vi b lc."}),u&&n.jsx("button",{onClick:()=>A(""),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Xa tm kim"})]})})]})},Wm={black:"#000",white:"#fff"},ZA={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},eh={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},th={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},rh={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},nh={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Mf={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},QH={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function cc(e,...t){const r=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(s=>r.searchParams.append("args[]",s)),`Minified MUI error #${e}; visit ${r} for the full message.`}const qx="$$material";function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},rx.apply(null,arguments)}function _H(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function HH(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var $H=function(){function e(r){var s=this;this._insertTag=function(i){var o;s.tags.length===0?s.insertionPoint?o=s.insertionPoint.nextSibling:s.prepend?o=s.container.firstChild:o=s.before:o=s.tags[s.tags.length-1].nextSibling,s.container.insertBefore(i,o),s.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(s){s.forEach(this._insertTag)},t.insert=function(s){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(HH(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=_H(i);try{o.insertRule(s,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(s));this.ctr++},t.flush=function(){this.tags.forEach(function(s){var i;return(i=s.parentNode)==null?void 0:i.removeChild(s)}),this.tags=[],this.ctr=0},e}(),pi="-ms-",nx="-moz-",Zr="-webkit-",tI="comm",X2="rule",J2="decl",VH="@import",rI="@keyframes",KH="@layer",zH=Math.abs,Xx=String.fromCharCode,WH=Object.assign;function GH(e,t){return Js(e,0)^45?(((t<<2^Js(e,0))<<2^Js(e,1))<<2^Js(e,2))<<2^Js(e,3):0}function nI(e){return e.trim()}function qH(e,t){return(e=t.exec(e))?e[0]:e}function en(e,t,r){return e.replace(t,r)}function hw(e,t){return e.indexOf(t)}function Js(e,t){return e.charCodeAt(t)|0}function Gm(e,t,r){return e.slice(t,r)}function cl(e){return e.length}function Y2(e){return e.length}function Rg(e,t){return t.push(e),e}function XH(e,t){return e.map(t).join("")}var Jx=1,Kh=1,sI=0,oo=0,ks=0,rf="";function Yx(e,t,r,s,i,o,a){return{value:e,root:t,parent:r,type:s,props:i,children:o,line:Jx,column:Kh,length:a,return:""}}function Df(e,t){return WH(Yx("",null,null,"",null,null,0),e,{length:-e.length},t)}function JH(){return ks}function YH(){return ks=oo>0?Js(rf,--oo):0,Kh--,ks===10&&(Kh=1,Jx--),ks}function So(){return ks=oo<sI?Js(rf,oo++):0,Kh++,ks===10&&(Kh=1,Jx++),ks}function yl(){return Js(rf,oo)}function E0(){return oo}function kp(e,t){return Gm(rf,e,t)}function qm(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function iI(e){return Jx=Kh=1,sI=cl(rf=e),oo=0,[]}function oI(e){return rf="",e}function I0(e){return nI(kp(oo-1,fw(e===91?e+2:e===40?e+1:e)))}function ZH(e){for(;(ks=yl())&&ks<33;)So();return qm(e)>2||qm(ks)>3?"":" "}function e$(e,t){for(;--t&&So()&&!(ks<48||ks>102||ks>57&&ks<65||ks>70&&ks<97););return kp(e,E0()+(t<6&&yl()==32&&So()==32))}function fw(e){for(;So();)switch(ks){case e:return oo;case 34:case 39:e!==34&&e!==39&&fw(ks);break;case 40:e===41&&fw(e);break;case 92:So();break}return oo}function t$(e,t){for(;So()&&e+ks!==57;)if(e+ks===84&&yl()===47)break;return"/*"+kp(t,oo-1)+"*"+Xx(e===47?e:So())}function r$(e){for(;!qm(yl());)So();return kp(e,oo)}function n$(e){return oI(T0("",null,null,null,[""],e=iI(e),0,[0],e))}function T0(e,t,r,s,i,o,a,l,c){for(var d=0,u=0,A=a,f=0,h=0,g=0,p=1,b=1,x=1,j=0,w="",S=i,I=o,F=s,T=w;b;)switch(g=j,j=So()){case 40:if(g!=108&&Js(T,A-1)==58){hw(T+=en(I0(j),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:T+=I0(j);break;case 9:case 10:case 13:case 32:T+=ZH(g);break;case 92:T+=e$(E0()-1,7);continue;case 47:switch(yl()){case 42:case 47:Rg(s$(t$(So(),E0()),t,r),c);break;default:T+="/"}break;case 123*p:l[d++]=cl(T)*x;case 125*p:case 59:case 0:switch(j){case 0:case 125:b=0;case 59+u:x==-1&&(T=en(T,/\f/g,"")),h>0&&cl(T)-A&&Rg(h>32?sN(T+";",s,r,A-1):sN(en(T," ","")+";",s,r,A-2),c);break;case 59:T+=";";default:if(Rg(F=nN(T,t,r,d,u,i,l,w,S=[],I=[],A),o),j===123)if(u===0)T0(T,t,F,F,S,o,A,l,I);else switch(f===99&&Js(T,3)===110?100:f){case 100:case 108:case 109:case 115:T0(e,F,F,s&&Rg(nN(e,F,F,0,0,i,l,w,i,S=[],A),I),i,I,A,l,s?S:I);break;default:T0(T,F,F,F,[""],I,0,l,I)}}d=u=h=0,p=x=1,w=T="",A=a;break;case 58:A=1+cl(T),h=g;default:if(p<1){if(j==123)--p;else if(j==125&&p++==0&&YH()==125)continue}switch(T+=Xx(j),j*p){case 38:x=u>0?1:(T+="\f",-1);break;case 44:l[d++]=(cl(T)-1)*x,x=1;break;case 64:yl()===45&&(T+=I0(So())),f=yl(),u=A=cl(w=T+=r$(E0())),j++;break;case 45:g===45&&cl(T)==2&&(p=0)}}return o}function nN(e,t,r,s,i,o,a,l,c,d,u){for(var A=i-1,f=i===0?o:[""],h=Y2(f),g=0,p=0,b=0;g<s;++g)for(var x=0,j=Gm(e,A+1,A=zH(p=a[g])),w=e;x<h;++x)(w=nI(p>0?f[x]+" "+j:en(j,/&\f/g,f[x])))&&(c[b++]=w);return Yx(e,t,r,i===0?X2:l,c,d,u)}function s$(e,t,r){return Yx(e,t,r,tI,Xx(JH()),Gm(e,2,-2),0)}function sN(e,t,r,s){return Yx(e,t,r,J2,Gm(e,0,s),Gm(e,s+1,-1),s)}function Sh(e,t){for(var r="",s=Y2(e),i=0;i<s;i++)r+=t(e[i],i,e,t)||"";return r}function i$(e,t,r,s){switch(e.type){case KH:if(e.children.length)break;case VH:case J2:return e.return=e.return||e.value;case tI:return"";case rI:return e.return=e.value+"{"+Sh(e.children,s)+"}";case X2:e.value=e.props.join(",")}return cl(r=Sh(e.children,s))?e.return=e.value+"{"+r+"}":""}function o$(e){var t=Y2(e);return function(r,s,i,o){for(var a="",l=0;l<t;l++)a+=e[l](r,s,i,o)||"";return a}}function a$(e){return function(t){t.root||(t=t.return)&&e(t)}}function aI(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var l$=function(t,r,s){for(var i=0,o=0;i=o,o=yl(),i===38&&o===12&&(r[s]=1),!qm(o);)So();return kp(t,oo)},c$=function(t,r){var s=-1,i=44;do switch(qm(i)){case 0:i===38&&yl()===12&&(r[s]=1),t[s]+=l$(oo-1,r,s);break;case 2:t[s]+=I0(i);break;case 4:if(i===44){t[++s]=yl()===58?"&\f":"",r[s]=t[s].length;break}default:t[s]+=Xx(i)}while(i=So());return t},u$=function(t,r){return oI(c$(iI(t),r))},iN=new WeakMap,d$=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,s=t.parent,i=t.column===s.column&&t.line===s.line;s.type!=="rule";)if(s=s.parent,!s)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!iN.get(s))&&!i){iN.set(t,!0);for(var o=[],a=u$(r,o),l=s.props,c=0,d=0;c<a.length;c++)for(var u=0;u<l.length;u++,d++)t.props[d]=o[c]?a[c].replace(/&\f/g,l[u]):l[u]+" "+a[c]}}},A$=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function lI(e,t){switch(GH(e,t)){case 5103:return Zr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Zr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Zr+e+nx+e+pi+e+e;case 6828:case 4268:return Zr+e+pi+e+e;case 6165:return Zr+e+pi+"flex-"+e+e;case 5187:return Zr+e+en(e,/(\w+).+(:[^]+)/,Zr+"box-$1$2"+pi+"flex-$1$2")+e;case 5443:return Zr+e+pi+"flex-item-"+en(e,/flex-|-self/,"")+e;case 4675:return Zr+e+pi+"flex-line-pack"+en(e,/align-content|flex-|-self/,"")+e;case 5548:return Zr+e+pi+en(e,"shrink","negative")+e;case 5292:return Zr+e+pi+en(e,"basis","preferred-size")+e;case 6060:return Zr+"box-"+en(e,"-grow","")+Zr+e+pi+en(e,"grow","positive")+e;case 4554:return Zr+en(e,/([^-])(transform)/g,"$1"+Zr+"$2")+e;case 6187:return en(en(en(e,/(zoom-|grab)/,Zr+"$1"),/(image-set)/,Zr+"$1"),e,"")+e;case 5495:case 3959:return en(e,/(image-set\([^]*)/,Zr+"$1$`$1");case 4968:return en(en(e,/(.+:)(flex-)?(.*)/,Zr+"box-pack:$3"+pi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Zr+e+e;case 4095:case 3583:case 4068:case 2532:return en(e,/(.+)-inline(.+)/,Zr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cl(e)-1-t>6)switch(Js(e,t+1)){case 109:if(Js(e,t+4)!==45)break;case 102:return en(e,/(.+:)(.+)-([^]+)/,"$1"+Zr+"$2-$3$1"+nx+(Js(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~hw(e,"stretch")?lI(en(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Js(e,t+1)!==115)break;case 6444:switch(Js(e,cl(e)-3-(~hw(e,"!important")&&10))){case 107:return en(e,":",":"+Zr)+e;case 101:return en(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Zr+(Js(e,14)===45?"inline-":"")+"box$3$1"+Zr+"$2$3$1"+pi+"$2box$3")+e}break;case 5936:switch(Js(e,t+11)){case 114:return Zr+e+pi+en(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Zr+e+pi+en(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Zr+e+pi+en(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Zr+e+pi+e+e}return e}var h$=function(t,r,s,i){if(t.length>-1&&!t.return)switch(t.type){case J2:t.return=lI(t.value,t.length);break;case rI:return Sh([Df(t,{value:en(t.value,"@","@"+Zr)})],i);case X2:if(t.length)return XH(t.props,function(o){switch(qH(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Sh([Df(t,{props:[en(o,/:(read-\w+)/,":"+nx+"$1")]})],i);case"::placeholder":return Sh([Df(t,{props:[en(o,/:(plac\w+)/,":"+Zr+"input-$1")]}),Df(t,{props:[en(o,/:(plac\w+)/,":"+nx+"$1")]}),Df(t,{props:[en(o,/:(plac\w+)/,pi+"input-$1")]})],i)}return""})}},f$=[h$],m$=function(t){var r=t.key;if(r==="css"){var s=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(s,function(p){var b=p.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var i=t.stylisPlugins||f$,o={},a,l=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(p){for(var b=p.getAttribute("data-emotion").split(" "),x=1;x<b.length;x++)o[b[x]]=!0;l.push(p)});var c,d=[d$,A$];{var u,A=[i$,a$(function(p){u.insert(p)})],f=o$(d.concat(i,A)),h=function(b){return Sh(n$(b),f)};c=function(b,x,j,w){u=j,h(b?b+"{"+x.styles+"}":x.styles),w&&(g.inserted[x.name]=!0)}}var g={key:r,sheet:new $H({key:r,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:c};return g.sheet.hydrate(l),g},cI={exports:{}},yn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $s=typeof Symbol=="function"&&Symbol.for,Z2=$s?Symbol.for("react.element"):60103,e5=$s?Symbol.for("react.portal"):60106,Zx=$s?Symbol.for("react.fragment"):60107,ey=$s?Symbol.for("react.strict_mode"):60108,ty=$s?Symbol.for("react.profiler"):60114,ry=$s?Symbol.for("react.provider"):60109,ny=$s?Symbol.for("react.context"):60110,t5=$s?Symbol.for("react.async_mode"):60111,sy=$s?Symbol.for("react.concurrent_mode"):60111,iy=$s?Symbol.for("react.forward_ref"):60112,oy=$s?Symbol.for("react.suspense"):60113,p$=$s?Symbol.for("react.suspense_list"):60120,ay=$s?Symbol.for("react.memo"):60115,ly=$s?Symbol.for("react.lazy"):60116,g$=$s?Symbol.for("react.block"):60121,x$=$s?Symbol.for("react.fundamental"):60117,y$=$s?Symbol.for("react.responder"):60118,b$=$s?Symbol.for("react.scope"):60119;function Po(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Z2:switch(e=e.type,e){case t5:case sy:case Zx:case ty:case ey:case oy:return e;default:switch(e=e&&e.$$typeof,e){case ny:case iy:case ly:case ay:case ry:return e;default:return t}}case e5:return t}}}function uI(e){return Po(e)===sy}yn.AsyncMode=t5;yn.ConcurrentMode=sy;yn.ContextConsumer=ny;yn.ContextProvider=ry;yn.Element=Z2;yn.ForwardRef=iy;yn.Fragment=Zx;yn.Lazy=ly;yn.Memo=ay;yn.Portal=e5;yn.Profiler=ty;yn.StrictMode=ey;yn.Suspense=oy;yn.isAsyncMode=function(e){return uI(e)||Po(e)===t5};yn.isConcurrentMode=uI;yn.isContextConsumer=function(e){return Po(e)===ny};yn.isContextProvider=function(e){return Po(e)===ry};yn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Z2};yn.isForwardRef=function(e){return Po(e)===iy};yn.isFragment=function(e){return Po(e)===Zx};yn.isLazy=function(e){return Po(e)===ly};yn.isMemo=function(e){return Po(e)===ay};yn.isPortal=function(e){return Po(e)===e5};yn.isProfiler=function(e){return Po(e)===ty};yn.isStrictMode=function(e){return Po(e)===ey};yn.isSuspense=function(e){return Po(e)===oy};yn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Zx||e===sy||e===ty||e===ey||e===oy||e===p$||typeof e=="object"&&e!==null&&(e.$$typeof===ly||e.$$typeof===ay||e.$$typeof===ry||e.$$typeof===ny||e.$$typeof===iy||e.$$typeof===x$||e.$$typeof===y$||e.$$typeof===b$||e.$$typeof===g$)};yn.typeOf=Po;cI.exports=yn;var v$=cI.exports,dI=v$,w$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},j$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},AI={};AI[dI.ForwardRef]=w$;AI[dI.Memo]=j$;var C$=!0;function hI(e,t,r){var s="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(s+=i+" ")}),s}var r5=function(t,r,s){var i=t.key+"-"+r.name;(s===!1||C$===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},n5=function(t,r,s){r5(t,r,s);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var o=r;do t.insert(r===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function N$(e){for(var t=0,r,s=0,i=e.length;i>=4;++s,i-=4)r=e.charCodeAt(s)&255|(e.charCodeAt(++s)&255)<<8|(e.charCodeAt(++s)&255)<<16|(e.charCodeAt(++s)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(s+2)&255)<<16;case 2:t^=(e.charCodeAt(s+1)&255)<<8;case 1:t^=e.charCodeAt(s)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var B$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},k$=/[A-Z]|^ms/g,S$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fI=function(t){return t.charCodeAt(1)===45},oN=function(t){return t!=null&&typeof t!="boolean"},Nb=aI(function(e){return fI(e)?e:e.replace(k$,"-$&").toLowerCase()}),aN=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(S$,function(s,i,o){return ul={name:i,styles:o,next:ul},i})}return B$[t]!==1&&!fI(t)&&typeof r=="number"&&r!==0?r+"px":r};function Xm(e,t,r){if(r==null)return"";var s=r;if(s.__emotion_styles!==void 0)return s;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return ul={name:i.name,styles:i.styles,next:ul},i.name;var o=r;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)ul={name:a.name,styles:a.styles,next:ul},a=a.next;var l=o.styles+";";return l}return E$(e,t,r)}case"function":{if(e!==void 0){var c=ul,d=r(e);return ul=c,Xm(e,t,d)}break}}var u=r;if(t==null)return u;var A=t[u];return A!==void 0?A:u}function E$(e,t,r){var s="";if(Array.isArray(r))for(var i=0;i<r.length;i++)s+=Xm(e,t,r[i])+";";else for(var o in r){var a=r[o];if(typeof a!="object"){var l=a;t!=null&&t[l]!==void 0?s+=o+"{"+t[l]+"}":oN(l)&&(s+=Nb(o)+":"+aN(o,l)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var c=0;c<a.length;c++)oN(a[c])&&(s+=Nb(o)+":"+aN(o,a[c])+";");else{var d=Xm(e,t,a);switch(o){case"animation":case"animationName":{s+=Nb(o)+":"+d+";";break}default:s+=o+"{"+d+"}"}}}return s}var lN=/label:\s*([^\s;{]+)\s*(;|$)/g,ul;function Sp(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var s=!0,i="";ul=void 0;var o=e[0];if(o==null||o.raw===void 0)s=!1,i+=Xm(r,t,o);else{var a=o;i+=a[0]}for(var l=1;l<e.length;l++)if(i+=Xm(r,t,e[l]),s){var c=o;i+=c[l]}lN.lastIndex=0;for(var d="",u;(u=lN.exec(i))!==null;)d+="-"+u[1];var A=N$(i)+d;return{name:A,styles:i,next:ul}}var I$=function(t){return t()},mI=Sv.useInsertionEffect?Sv.useInsertionEffect:!1,pI=mI||I$,cN=mI||m.useLayoutEffect,gI=m.createContext(typeof HTMLElement<"u"?m$({key:"css"}):null);gI.Provider;var s5=function(t){return m.forwardRef(function(r,s){var i=m.useContext(gI);return t(r,i,s)})},cy=m.createContext({}),i5={}.hasOwnProperty,mw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",T$=function(t,r){var s={};for(var i in r)i5.call(r,i)&&(s[i]=r[i]);return s[mw]=t,s},F$=function(t){var r=t.cache,s=t.serialized,i=t.isStringTag;return r5(r,s,i),pI(function(){return n5(r,s,i)}),null},L$=s5(function(e,t,r){var s=e.css;typeof s=="string"&&t.registered[s]!==void 0&&(s=t.registered[s]);var i=e[mw],o=[s],a="";typeof e.className=="string"?a=hI(t.registered,o,e.className):e.className!=null&&(a=e.className+" ");var l=Sp(o,void 0,m.useContext(cy));a+=t.key+"-"+l.name;var c={};for(var d in e)i5.call(e,d)&&d!=="css"&&d!==mw&&(c[d]=e[d]);return c.className=a,r&&(c.ref=r),m.createElement(m.Fragment,null,m.createElement(F$,{cache:t,serialized:l,isStringTag:typeof i=="string"}),m.createElement(i,c))}),P$=L$,uN=function(t,r){var s=arguments;if(r==null||!i5.call(r,"css"))return m.createElement.apply(void 0,s);var i=s.length,o=new Array(i);o[0]=P$,o[1]=T$(t,r);for(var a=2;a<i;a++)o[a]=s[a];return m.createElement.apply(null,o)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(uN||(uN={}));var U$=s5(function(e,t){var r=e.styles,s=Sp([r],void 0,m.useContext(cy)),i=m.useRef();return cN(function(){var o=t.key+"-global",a=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+o+" "+s.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",o),a.hydrate([c])),i.current=[a,l],function(){a.flush()}},[t]),cN(function(){var o=i.current,a=o[0],l=o[1];if(l){o[1]=!1;return}if(s.next!==void 0&&n5(t,s.next,!0),a.tags.length){var c=a.tags[a.tags.length-1].nextElementSibling;a.before=c,a.flush()}t.insert("",s,a,!1)},[t,s.name]),null});function nf(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Sp(t)}function Iu(){var e=nf.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var R$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,M$=aI(function(e){return R$.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),D$=M$,O$=function(t){return t!=="theme"},dN=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?D$:O$},AN=function(t,r,s){var i;if(r){var o=r.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(a){return t.__emotion_forwardProp(a)&&o(a)}:o}return typeof i!="function"&&s&&(i=t.__emotion_forwardProp),i},Q$=function(t){var r=t.cache,s=t.serialized,i=t.isStringTag;return r5(r,s,i),pI(function(){return n5(r,s,i)}),null},_$=function e(t,r){var s=t.__emotion_real===t,i=s&&t.__emotion_base||t,o,a;r!==void 0&&(o=r.label,a=r.target);var l=AN(t,r,s),c=l||dN(i),d=!c("as");return function(){var u=arguments,A=s&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&A.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)A.push.apply(A,u);else{var f=u[0];A.push(f[0]);for(var h=u.length,g=1;g<h;g++)A.push(u[g],f[g])}var p=s5(function(b,x,j){var w=d&&b.as||i,S="",I=[],F=b;if(b.theme==null){F={};for(var T in b)F[T]=b[T];F.theme=m.useContext(cy)}typeof b.className=="string"?S=hI(x.registered,I,b.className):b.className!=null&&(S=b.className+" ");var U=Sp(A.concat(I),x.registered,F);S+=x.key+"-"+U.name,a!==void 0&&(S+=" "+a);var K=d&&l===void 0?dN(w):c,B={};for(var R in b)d&&R==="as"||K(R)&&(B[R]=b[R]);return B.className=S,j&&(B.ref=j),m.createElement(m.Fragment,null,m.createElement(Q$,{cache:x,serialized:U,isStringTag:typeof w=="string"}),m.createElement(w,B))});return p.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=t.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=A,p.__emotion_forwardProp=l,Object.defineProperty(p,"toString",{value:function(){return"."+a}}),p.withComponent=function(b,x){var j=e(b,rx({},r,x,{shouldForwardProp:AN(p,x,!0)}));return j.apply(void 0,A)},p}},H$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],pw=_$.bind(null);H$.forEach(function(e){pw[e]=pw(e)});function $$(e){return e==null||Object.keys(e).length===0}function V$(e){const{styles:t,defaultTheme:r={}}=e,s=typeof t=="function"?i=>t($$(i)?r:i):t;return n.jsx(U$,{styles:s})}function xI(e,t){return pw(e,t)}function K$(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const hN=[];function fN(e){return hN[0]=e,Sp(hN)}var yI={exports:{}},Sn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o5=Symbol.for("react.transitional.element"),a5=Symbol.for("react.portal"),uy=Symbol.for("react.fragment"),dy=Symbol.for("react.strict_mode"),Ay=Symbol.for("react.profiler"),hy=Symbol.for("react.consumer"),fy=Symbol.for("react.context"),my=Symbol.for("react.forward_ref"),py=Symbol.for("react.suspense"),gy=Symbol.for("react.suspense_list"),xy=Symbol.for("react.memo"),yy=Symbol.for("react.lazy"),z$=Symbol.for("react.view_transition"),W$=Symbol.for("react.client.reference");function ra(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case o5:switch(e=e.type,e){case uy:case Ay:case dy:case py:case gy:case z$:return e;default:switch(e=e&&e.$$typeof,e){case fy:case my:case yy:case xy:return e;case hy:return e;default:return t}}case a5:return t}}}Sn.ContextConsumer=hy;Sn.ContextProvider=fy;Sn.Element=o5;Sn.ForwardRef=my;Sn.Fragment=uy;Sn.Lazy=yy;Sn.Memo=xy;Sn.Portal=a5;Sn.Profiler=Ay;Sn.StrictMode=dy;Sn.Suspense=py;Sn.SuspenseList=gy;Sn.isContextConsumer=function(e){return ra(e)===hy};Sn.isContextProvider=function(e){return ra(e)===fy};Sn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===o5};Sn.isForwardRef=function(e){return ra(e)===my};Sn.isFragment=function(e){return ra(e)===uy};Sn.isLazy=function(e){return ra(e)===yy};Sn.isMemo=function(e){return ra(e)===xy};Sn.isPortal=function(e){return ra(e)===a5};Sn.isProfiler=function(e){return ra(e)===Ay};Sn.isStrictMode=function(e){return ra(e)===dy};Sn.isSuspense=function(e){return ra(e)===py};Sn.isSuspenseList=function(e){return ra(e)===gy};Sn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===uy||e===Ay||e===dy||e===py||e===gy||typeof e=="object"&&e!==null&&(e.$$typeof===yy||e.$$typeof===xy||e.$$typeof===fy||e.$$typeof===hy||e.$$typeof===my||e.$$typeof===W$||e.getModuleId!==void 0)};Sn.typeOf=ra;yI.exports=Sn;var bI=yI.exports;function fl(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function vI(e){if(m.isValidElement(e)||bI.isValidElementType(e)||!fl(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=vI(e[r])}),t}function Hs(e,t,r={clone:!0}){const s=r.clone?{...e}:e;return fl(e)&&fl(t)&&Object.keys(t).forEach(i=>{m.isValidElement(t[i])||bI.isValidElementType(t[i])?s[i]=t[i]:fl(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&fl(e[i])?s[i]=Hs(e[i],t[i],r):r.clone?s[i]=fl(t[i])?vI(t[i]):t[i]:s[i]=t[i]}),s}const G$=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,s)=>r.val-s.val),t.reduce((r,s)=>({...r,[s.key]:s.val}),{})};function q$(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:s=5,...i}=e,o=G$(t),a=Object.keys(o);function l(f){return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${r})`}function c(f){return`@media (max-width:${(typeof t[f]=="number"?t[f]:f)-s/100}${r})`}function d(f,h){const g=a.indexOf(h);return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${r}) and (max-width:${(g!==-1&&typeof t[a[g]]=="number"?t[a[g]]:h)-s/100}${r})`}function u(f){return a.indexOf(f)+1<a.length?d(f,a[a.indexOf(f)+1]):l(f)}function A(f){const h=a.indexOf(f);return h===0?l(a[1]):h===a.length-1?c(a[h]):d(f,a[a.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:a,values:o,up:l,down:c,between:d,only:u,not:A,unit:r,...i}}function X$(e,t){if(!e.containerQueries)return t;const r=Object.keys(t).filter(s=>s.startsWith("@container")).sort((s,i)=>{var a,l;const o=/min-width:\s*([0-9.]+)/;return+(((a=s.match(o))==null?void 0:a[1])||0)-+(((l=i.match(o))==null?void 0:l[1])||0)});return r.length?r.reduce((s,i)=>{const o=t[i];return delete s[i],s[i]=o,s},{...t}):t}function J$(e,t){return t==="@"||t.startsWith("@")&&(e.some(r=>t.startsWith(`@${r}`))||!!t.match(/^@\d/))}function Y$(e,t){const r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,s,i]=r,o=Number.isNaN(+s)?s||0:+s;return e.containerQueries(i).up(o)}function Z$(e){const t=(o,a)=>o.replace("@media",a?`@container ${a}`:"@container");function r(o,a){o.up=(...l)=>t(e.breakpoints.up(...l),a),o.down=(...l)=>t(e.breakpoints.down(...l),a),o.between=(...l)=>t(e.breakpoints.between(...l),a),o.only=(...l)=>t(e.breakpoints.only(...l),a),o.not=(...l)=>{const c=t(e.breakpoints.not(...l),a);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const s={},i=o=>(r(s,o),s);return r(i),{...e,containerQueries:i}}const eV={borderRadius:4};function mm(e,t){return t?Hs(e,t,{clone:!1}):e}const by={xs:0,sm:600,md:900,lg:1200,xl:1536},mN={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${by[e]}px)`},tV={containerQueries:e=>({up:t=>{let r=typeof t=="number"?t:by[t]||t;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function Sa(e,t,r){const s=e.theme||{};if(Array.isArray(t)){const o=s.breakpoints||mN;return t.reduce((a,l,c)=>(a[o.up(o.keys[c])]=r(t[c]),a),{})}if(typeof t=="object"){const o=s.breakpoints||mN;return Object.keys(t).reduce((a,l)=>{if(J$(o.keys,l)){const c=Y$(s.containerQueries?s:tV,l);c&&(a[c]=r(t[l],l))}else if(Object.keys(o.values||by).includes(l)){const c=o.up(l);a[c]=r(t[l],l)}else{const c=l;a[c]=t[c]}return a},{})}return r(t)}function wI(e={}){var r;return((r=e.keys)==null?void 0:r.reduce((s,i)=>{const o=e.up(i);return s[o]={},s},{}))||{}}function jI(e,t){return e.reduce((r,s)=>{const i=r[s];return(!i||Object.keys(i).length===0)&&delete r[s],r},t)}function rV(e,...t){const r=wI(e),s=[r,...t].reduce((i,o)=>Hs(i,o),{});return jI(Object.keys(r),s)}function nV(e,t){if(typeof e!="object")return{};const r={},s=Object.keys(t);return Array.isArray(e)?s.forEach((i,o)=>{o<e.length&&(r[i]=!0)}):s.forEach(i=>{e[i]!=null&&(r[i]=!0)}),r}function Bb({values:e,breakpoints:t,base:r}){const s=r||nV(e,t),i=Object.keys(s);if(i.length===0)return e;let o;return i.reduce((a,l,c)=>(Array.isArray(e)?(a[l]=e[c]!=null?e[c]:e[o],o=c):typeof e=="object"?(a[l]=e[l]!=null?e[l]:e[o],o=l):a[l]=e,a),{})}function Pt(e){if(typeof e!="string")throw new Error(cc(7));return e.charAt(0).toUpperCase()+e.slice(1)}function vy(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const s=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(s!=null)return s}return t.split(".").reduce((s,i)=>s&&s[i]!=null?s[i]:null,e)}function sx(e,t,r,s=r){let i;return typeof e=="function"?i=e(r):Array.isArray(e)?i=e[r]||s:i=vy(e,r)||s,t&&(i=t(i,s,e)),i}function ps(e){const{prop:t,cssProperty:r=e.prop,themeKey:s,transform:i}=e,o=a=>{if(a[t]==null)return null;const l=a[t],c=a.theme,d=vy(c,s)||{};return Sa(a,l,A=>{let f=sx(d,i,A);return A===f&&typeof A=="string"&&(f=sx(d,i,`${t}${A==="default"?"":Pt(A)}`,A)),r===!1?f:{[r]:f}})};return o.propTypes={},o.filterProps=[t],o}function sV(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const iV={m:"margin",p:"padding"},oV={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},pN={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},aV=sV(e=>{if(e.length>2)if(pN[e])e=pN[e];else return[e];const[t,r]=e.split(""),s=iV[t],i=oV[r]||"";return Array.isArray(i)?i.map(o=>s+o):[s+i]}),l5=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],c5=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...l5,...c5];function Ep(e,t,r,s){const i=vy(e,t,!0)??r;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const a=Math.abs(o),l=i[a];return o>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof i=="function"?i:()=>{}}function wy(e){return Ep(e,"spacing",8)}function Jd(e,t){return typeof t=="string"||t==null?t:e(t)}function lV(e,t){return r=>e.reduce((s,i)=>(s[i]=Jd(t,r),s),{})}function cV(e,t,r,s){if(!t.includes(r))return null;const i=aV(r),o=lV(i,s),a=e[r];return Sa(e,a,o)}function CI(e,t){const r=wy(e.theme);return Object.keys(e).map(s=>cV(e,t,s,r)).reduce(mm,{})}function es(e){return CI(e,l5)}es.propTypes={};es.filterProps=l5;function ts(e){return CI(e,c5)}ts.propTypes={};ts.filterProps=c5;function NI(e=8,t=wy({spacing:e})){if(e.mui)return e;const r=(...s)=>(s.length===0?[1]:s).map(o=>{const a=t(o);return typeof a=="number"?`${a}px`:a}).join(" ");return r.mui=!0,r}function jy(...e){const t=e.reduce((s,i)=>(i.filterProps.forEach(o=>{s[o]=i}),s),{}),r=s=>Object.keys(s).reduce((i,o)=>t[o]?mm(i,t[o](s)):i,{});return r.propTypes={},r.filterProps=e.reduce((s,i)=>s.concat(i.filterProps),[]),r}function Zo(e){return typeof e!="number"?e:`${e}px solid`}function na(e,t){return ps({prop:e,themeKey:"borders",transform:t})}const uV=na("border",Zo),dV=na("borderTop",Zo),AV=na("borderRight",Zo),hV=na("borderBottom",Zo),fV=na("borderLeft",Zo),mV=na("borderColor"),pV=na("borderTopColor"),gV=na("borderRightColor"),xV=na("borderBottomColor"),yV=na("borderLeftColor"),bV=na("outline",Zo),vV=na("outlineColor"),Cy=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Ep(e.theme,"shape.borderRadius",4),r=s=>({borderRadius:Jd(t,s)});return Sa(e,e.borderRadius,r)}return null};Cy.propTypes={};Cy.filterProps=["borderRadius"];jy(uV,dV,AV,hV,fV,mV,pV,gV,xV,yV,Cy,bV,vV);const Ny=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Ep(e.theme,"spacing",8),r=s=>({gap:Jd(t,s)});return Sa(e,e.gap,r)}return null};Ny.propTypes={};Ny.filterProps=["gap"];const By=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Ep(e.theme,"spacing",8),r=s=>({columnGap:Jd(t,s)});return Sa(e,e.columnGap,r)}return null};By.propTypes={};By.filterProps=["columnGap"];const ky=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Ep(e.theme,"spacing",8),r=s=>({rowGap:Jd(t,s)});return Sa(e,e.rowGap,r)}return null};ky.propTypes={};ky.filterProps=["rowGap"];const wV=ps({prop:"gridColumn"}),jV=ps({prop:"gridRow"}),CV=ps({prop:"gridAutoFlow"}),NV=ps({prop:"gridAutoColumns"}),BV=ps({prop:"gridAutoRows"}),kV=ps({prop:"gridTemplateColumns"}),SV=ps({prop:"gridTemplateRows"}),EV=ps({prop:"gridTemplateAreas"}),IV=ps({prop:"gridArea"});jy(Ny,By,ky,wV,jV,CV,NV,BV,kV,SV,EV,IV);function Eh(e,t){return t==="grey"?t:e}const TV=ps({prop:"color",themeKey:"palette",transform:Eh}),FV=ps({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Eh}),LV=ps({prop:"backgroundColor",themeKey:"palette",transform:Eh});jy(TV,FV,LV);function Bo(e){return e<=1&&e!==0?`${e*100}%`:e}const PV=ps({prop:"width",transform:Bo}),u5=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var i,o,a,l,c;const s=((a=(o=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:a[r])||by[r];return s?((c=(l=e.theme)==null?void 0:l.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${s}${e.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Bo(r)}};return Sa(e,e.maxWidth,t)}return null};u5.filterProps=["maxWidth"];const UV=ps({prop:"minWidth",transform:Bo}),RV=ps({prop:"height",transform:Bo}),MV=ps({prop:"maxHeight",transform:Bo}),DV=ps({prop:"minHeight",transform:Bo});ps({prop:"size",cssProperty:"width",transform:Bo});ps({prop:"size",cssProperty:"height",transform:Bo});const OV=ps({prop:"boxSizing"});jy(PV,u5,UV,RV,MV,DV,OV);const Ip={border:{themeKey:"borders",transform:Zo},borderTop:{themeKey:"borders",transform:Zo},borderRight:{themeKey:"borders",transform:Zo},borderBottom:{themeKey:"borders",transform:Zo},borderLeft:{themeKey:"borders",transform:Zo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Zo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Cy},color:{themeKey:"palette",transform:Eh},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Eh},backgroundColor:{themeKey:"palette",transform:Eh},p:{style:ts},pt:{style:ts},pr:{style:ts},pb:{style:ts},pl:{style:ts},px:{style:ts},py:{style:ts},padding:{style:ts},paddingTop:{style:ts},paddingRight:{style:ts},paddingBottom:{style:ts},paddingLeft:{style:ts},paddingX:{style:ts},paddingY:{style:ts},paddingInline:{style:ts},paddingInlineStart:{style:ts},paddingInlineEnd:{style:ts},paddingBlock:{style:ts},paddingBlockStart:{style:ts},paddingBlockEnd:{style:ts},m:{style:es},mt:{style:es},mr:{style:es},mb:{style:es},ml:{style:es},mx:{style:es},my:{style:es},margin:{style:es},marginTop:{style:es},marginRight:{style:es},marginBottom:{style:es},marginLeft:{style:es},marginX:{style:es},marginY:{style:es},marginInline:{style:es},marginInlineStart:{style:es},marginInlineEnd:{style:es},marginBlock:{style:es},marginBlockStart:{style:es},marginBlockEnd:{style:es},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ny},rowGap:{style:ky},columnGap:{style:By},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Bo},maxWidth:{style:u5},minWidth:{transform:Bo},height:{transform:Bo},maxHeight:{transform:Bo},minHeight:{transform:Bo},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function QV(...e){const t=e.reduce((s,i)=>s.concat(Object.keys(i)),[]),r=new Set(t);return e.every(s=>r.size===Object.keys(s).length)}function _V(e,t){return typeof e=="function"?e(t):e}function HV(){function e(r,s,i,o){const a={[r]:s,theme:i},l=o[r];if(!l)return{[r]:s};const{cssProperty:c=r,themeKey:d,transform:u,style:A}=l;if(s==null)return null;if(d==="typography"&&s==="inherit")return{[r]:s};const f=vy(i,d)||{};return A?A(a):Sa(a,s,g=>{let p=sx(f,u,g);return g===p&&typeof g=="string"&&(p=sx(f,u,`${r}${g==="default"?"":Pt(g)}`,g)),c===!1?p:{[c]:p}})}function t(r){const{sx:s,theme:i={}}=r||{};if(!s)return null;const o=i.unstable_sxConfig??Ip;function a(l){let c=l;if(typeof l=="function")c=l(i);else if(typeof l!="object")return l;if(!c)return null;const d=wI(i.breakpoints),u=Object.keys(d);let A=d;return Object.keys(c).forEach(f=>{const h=_V(c[f],i);if(h!=null)if(typeof h=="object")if(o[f])A=mm(A,e(f,h,i,o));else{const g=Sa({theme:i},h,p=>({[f]:p}));QV(g,h)?A[f]=t({sx:h,theme:i}):A=mm(A,g)}else A=mm(A,e(f,h,i,o))}),X$(i,jI(u,A))}return Array.isArray(s)?s.map(a):a(s)}return t}const Yd=HV();Yd.filterProps=["sx"];function $V(e,t){var s;const r=this;if(r.vars){if(!((s=r.colorSchemes)!=null&&s[e])||typeof r.getColorSchemeSelector!="function")return{};let i=r.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return r.palette.mode===e?t:{}}function Tp(e={},...t){const{breakpoints:r={},palette:s={},spacing:i,shape:o={},...a}=e,l=q$(r),c=NI(i);let d=Hs({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...s},spacing:c,shape:{...eV,...o}},a);return d=Z$(d),d.applyStyles=$V,d=t.reduce((u,A)=>Hs(u,A),d),d.unstable_sxConfig={...Ip,...a==null?void 0:a.unstable_sxConfig},d.unstable_sx=function(A){return Yd({sx:A,theme:this})},d}function VV(e){return Object.keys(e).length===0}function KV(e=null){const t=m.useContext(cy);return!t||VV(t)?e:t}const zV=Tp();function Fp(e=zV){return KV(e)}function WV({styles:e,themeId:t,defaultTheme:r={}}){const s=Fp(r),i=typeof e=="function"?e(t&&s[t]||s):e;return n.jsx(V$,{styles:i})}const GV=e=>{var s;const t={systemProps:{},otherProps:{}},r=((s=e==null?void 0:e.theme)==null?void 0:s.unstable_sxConfig)??Ip;return Object.keys(e).forEach(i=>{r[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function Sy(e){const{sx:t,...r}=e,{systemProps:s,otherProps:i}=GV(r);let o;return Array.isArray(t)?o=[s,...t]:typeof t=="function"?o=(...a)=>{const l=t(...a);return fl(l)?{...s,...l}:s}:o={...s,...t},{...i,sx:o}}const gN=e=>e,qV=()=>{let e=gN;return{configure(t){e=t},generate(t){return e(t)},reset(){e=gN}}},BI=qV();function XV(e={}){const{themeId:t,defaultTheme:r,defaultClassName:s="MuiBox-root",generateClassName:i}=e,o=xI("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(Yd);return m.forwardRef(function(c,d){const u=Fp(r),{className:A,component:f="div",...h}=Sy(c);return n.jsx(o,{as:f,ref:d,className:qt(A,i?i(s):s),theme:t&&u[t]||u,...h})})}const JV={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function yr(e,t,r="Mui"){const s=JV[t];return s?`${r}-${s}`:`${BI.generate(e)}-${t}`}function jr(e,t,r="Mui"){const s={};return t.forEach(i=>{s[i]=yr(e,i,r)}),s}function kI(e){const{variants:t,...r}=e,s={variants:t,style:fN(r),isProcessed:!0};return s.style===r||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=fN(i.style))}),s}const YV=Tp();function kb(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function ZV(e){return e?(t,r)=>r[e]:null}function eK(e,t,r){e.theme=rK(e.theme)?r:e.theme[t]||e.theme}function F0(e,t){const r=typeof t=="function"?t(e):t;if(Array.isArray(r))return r.flatMap(s=>F0(e,s));if(Array.isArray(r==null?void 0:r.variants)){let s;if(r.isProcessed)s=r.style;else{const{variants:i,...o}=r;s=o}return SI(e,r.variants,[s])}return r!=null&&r.isProcessed?r.style:r}function SI(e,t,r=[]){var i;let s;e:for(let o=0;o<t.length;o+=1){const a=t[o];if(typeof a.props=="function"){if(s??(s={...e,...e.ownerState,ownerState:e.ownerState}),!a.props(s))continue}else for(const l in a.props)if(e[l]!==a.props[l]&&((i=e.ownerState)==null?void 0:i[l])!==a.props[l])continue e;typeof a.style=="function"?(s??(s={...e,...e.ownerState,ownerState:e.ownerState}),r.push(a.style(s))):r.push(a.style)}return r}function EI(e={}){const{themeId:t,defaultTheme:r=YV,rootShouldForwardProp:s=kb,slotShouldForwardProp:i=kb}=e;function o(l){eK(l,t,r)}return(l,c={})=>{K$(l,I=>I.filter(F=>F!==Yd));const{name:d,slot:u,skipVariantsResolver:A,skipSx:f,overridesResolver:h=ZV(sK(u)),...g}=c,p=A!==void 0?A:u&&u!=="Root"&&u!=="root"||!1,b=f||!1;let x=kb;u==="Root"||u==="root"?x=s:u?x=i:nK(l)&&(x=void 0);const j=xI(l,{shouldForwardProp:x,label:tK(),...g}),w=I=>{if(I.__emotion_real===I)return I;if(typeof I=="function")return function(T){return F0(T,I)};if(fl(I)){const F=kI(I);return F.variants?function(U){return F0(U,F)}:F.style}return I},S=(...I)=>{const F=[],T=I.map(w),U=[];if(F.push(o),d&&h&&U.push(function(D){var G,he;const P=(he=(G=D.theme.components)==null?void 0:G[d])==null?void 0:he.styleOverrides;if(!P)return null;const z={};for(const ce in P)z[ce]=F0(D,P[ce]);return h(D,z)}),d&&!p&&U.push(function(D){var z,G;const H=D.theme,P=(G=(z=H==null?void 0:H.components)==null?void 0:z[d])==null?void 0:G.variants;return P?SI(D,P):null}),b||U.push(Yd),Array.isArray(T[0])){const R=T.shift(),D=new Array(F.length).fill(""),H=new Array(U.length).fill("");let P;P=[...D,...R,...H],P.raw=[...D,...R.raw,...H],F.unshift(P)}const K=[...F,...T,...U],B=j(...K);return l.muiName&&(B.muiName=l.muiName),B};return j.withConfig&&(S.withConfig=j.withConfig),S}}function tK(e,t){return void 0}function rK(e){for(const t in e)return!1;return!0}function nK(e){return typeof e=="string"&&e.charCodeAt(0)>96}function sK(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const II=EI();function Jm(e,t){const r={...t};for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)){const i=s;if(i==="components"||i==="slots")r[i]={...e[i],...r[i]};else if(i==="componentsProps"||i==="slotProps"){const o=e[i],a=t[i];if(!a)r[i]=o||{};else if(!o)r[i]=a;else{r[i]={...a};for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const c=l;r[i][c]=Jm(o[c],a[c])}}}else r[i]===void 0&&(r[i]=e[i])}return r}function iK(e){const{theme:t,name:r,props:s}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?s:Jm(t.components[r].defaultProps,s)}function TI({props:e,name:t,defaultTheme:r,themeId:s}){let i=Fp(r);return s&&(i=i[s]||i),iK({theme:i,name:t,props:e})}const ju=typeof window<"u"?m.useLayoutEffect:m.useEffect;function oK(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}function d5(e,t=0,r=1){return oK(e,t,r)}function aK(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(s=>s+s)),r?`rgb${r.length===4?"a":""}(${r.map((s,i)=>i<3?parseInt(s,16):Math.round(parseInt(s,16)/255*1e3)/1e3).join(", ")})`:""}function Cu(e){if(e.type)return e;if(e.charAt(0)==="#")return Cu(aK(e));const t=e.indexOf("("),r=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(cc(9,e));let s=e.substring(t+1,e.length-1),i;if(r==="color"){if(s=s.split(" "),i=s.shift(),s.length===4&&s[3].charAt(0)==="/"&&(s[3]=s[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(cc(10,i))}else s=s.split(",");return s=s.map(o=>parseFloat(o)),{type:r,values:s,colorSpace:i}}const lK=e=>{const t=Cu(e);return t.values.slice(0,3).map((r,s)=>t.type.includes("hsl")&&s!==0?`${r}%`:r).join(" ")},em=(e,t)=>{try{return lK(e)}catch{return e}};function Ey(e){const{type:t,colorSpace:r}=e;let{values:s}=e;return t.includes("rgb")?s=s.map((i,o)=>o<3?parseInt(i,10):i):t.includes("hsl")&&(s[1]=`${s[1]}%`,s[2]=`${s[2]}%`),t.includes("color")?s=`${r} ${s.join(" ")}`:s=`${s.join(", ")}`,`${t}(${s})`}function FI(e){e=Cu(e);const{values:t}=e,r=t[0],s=t[1]/100,i=t[2]/100,o=s*Math.min(i,1-i),a=(d,u=(d+r/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let l="rgb";const c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(l+="a",c.push(t[3])),Ey({type:l,values:c})}function gw(e){e=Cu(e);let t=e.type==="hsl"||e.type==="hsla"?Cu(FI(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function cK(e,t){const r=gw(e),s=gw(t);return(Math.max(r,s)+.05)/(Math.min(r,s)+.05)}function mn(e,t){return e=Cu(e),t=d5(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Ey(e)}function Mg(e,t,r){try{return mn(e,t)}catch{return e}}function Zd(e,t){if(e=Cu(e),t=d5(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return Ey(e)}function jn(e,t,r){try{return Zd(e,t)}catch{return e}}function eA(e,t){if(e=Cu(e),t=d5(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Ey(e)}function Cn(e,t,r){try{return eA(e,t)}catch{return e}}function uK(e,t=.15){return gw(e)>.5?Zd(e,t):eA(e,t)}function Dg(e,t,r){try{return uK(e,t)}catch{return e}}const dK=m.createContext(),LI=()=>m.useContext(dK)??!1,AK=m.createContext(void 0);function hK(e){const{theme:t,name:r,props:s}=e;if(!t||!t.components||!t.components[r])return s;const i=t.components[r];return i.defaultProps?Jm(i.defaultProps,s):!i.styleOverrides&&!i.variants?Jm(i,s):s}function fK({props:e,name:t}){const r=m.useContext(AK);return hK({props:e,name:t,theme:{components:r}})}const xN={theme:void 0};function mK(e){let t,r;return function(i){let o=t;return(o===void 0||i.theme!==r)&&(xN.theme=i.theme,o=kI(e(xN)),t=o,r=i.theme),o}}function pK(e=""){function t(...s){if(!s.length)return"";const i=s[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...s.slice(1))})`:`, ${i}`}return(s,...i)=>`var(--${e?`${e}-`:""}${s}${t(...i)})`}const yN=(e,t,r,s=[])=>{let i=e;t.forEach((o,a)=>{a===t.length-1?Array.isArray(i)?i[Number(o)]=r:i&&typeof i=="object"&&(i[o]=r):i&&typeof i=="object"&&(i[o]||(i[o]=s.includes(o)?[]:{}),i=i[o])})},gK=(e,t,r)=>{function s(i,o=[],a=[]){Object.entries(i).forEach(([l,c])=>{(!r||r&&!r([...o,l]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?s(c,[...o,l],Array.isArray(c)?[...a,l]:a):t([...o,l],c,a))})}s(e)},xK=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(s=>e.includes(s))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function Sb(e,t){const{prefix:r,shouldSkipGeneratingVar:s}=t||{},i={},o={},a={};return gK(e,(l,c,d)=>{if((typeof c=="string"||typeof c=="number")&&(!s||!s(l,c))){const u=`--${r?`${r}-`:""}${l.join("-")}`,A=xK(l,c);Object.assign(i,{[u]:A}),yN(o,l,`var(${u})`,d),yN(a,l,`var(${u}, ${A})`,d)}},l=>l[0]==="vars"),{css:i,vars:o,varsWithDefaults:a}}function yK(e,t={}){const{getSelector:r=b,disableCssColorScheme:s,colorSchemeSelector:i}=t,{colorSchemes:o={},components:a,defaultColorScheme:l="light",...c}=e,{vars:d,css:u,varsWithDefaults:A}=Sb(c,t);let f=A;const h={},{[l]:g,...p}=o;if(Object.entries(p||{}).forEach(([w,S])=>{const{vars:I,css:F,varsWithDefaults:T}=Sb(S,t);f=Hs(f,T),h[w]={css:F,vars:I}}),g){const{css:w,vars:S,varsWithDefaults:I}=Sb(g,t);f=Hs(f,I),h[l]={css:w,vars:S}}function b(w,S){var F,T;let I=i;if(i==="class"&&(I=".%s"),i==="data"&&(I="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(I=`[${i}="%s"]`),w){if(I==="media")return e.defaultColorScheme===w?":root":{[`@media (prefers-color-scheme: ${((T=(F=o[w])==null?void 0:F.palette)==null?void 0:T.mode)||w})`]:{":root":S}};if(I)return e.defaultColorScheme===w?`:root, ${I.replace("%s",String(w))}`:I.replace("%s",String(w))}return":root"}return{vars:f,generateThemeVars:()=>{let w={...d};return Object.entries(h).forEach(([,{vars:S}])=>{w=Hs(w,S)}),w},generateStyleSheets:()=>{var U,K;const w=[],S=e.defaultColorScheme||"light";function I(B,R){Object.keys(R).length&&w.push(typeof B=="string"?{[B]:{...R}}:B)}I(r(void 0,{...u}),u);const{[S]:F,...T}=h;if(F){const{css:B}=F,R=(K=(U=o[S])==null?void 0:U.palette)==null?void 0:K.mode,D=!s&&R?{colorScheme:R,...B}:{...B};I(r(S,{...D}),D)}return Object.entries(T).forEach(([B,{css:R}])=>{var P,z;const D=(z=(P=o[B])==null?void 0:P.palette)==null?void 0:z.mode,H=!s&&D?{colorScheme:D,...R}:{...R};I(r(B,{...H}),H)}),w}}}function bK(e){return function(r){return e==="media"?`@media (prefers-color-scheme: ${r})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${r}"] &`:e==="class"?`.${r} &`:e==="data"?`[data-${r}] &`:`${e.replace("%s",r)} &`:"&"}}function br(e,t,r=void 0){const s={};for(const i in e){const o=e[i];let a="",l=!0;for(let c=0;c<o.length;c+=1){const d=o[c];d&&(a+=(l===!0?"":" ")+t(d),l=!1,r&&r[d]&&(a+=" "+r[d]))}s[i]=a}return s}function pm(e,t){var r,s,i;return m.isValidElement(e)&&t.indexOf(e.type.muiName??((i=(s=(r=e.type)==null?void 0:r._payload)==null?void 0:s.value)==null?void 0:i.muiName))!==-1}const vK=(e,t)=>e.filter(r=>t.includes(r)),sf=(e,t,r)=>{const s=e.keys[0];Array.isArray(t)?t.forEach((i,o)=>{r((a,l)=>{o<=e.keys.length-1&&(o===0?Object.assign(a,l):a[e.up(e.keys[o])]=l)},i)}):t&&typeof t=="object"?(Object.keys(t).length>e.keys.length?e.keys:vK(e.keys,Object.keys(t))).forEach(o=>{if(e.keys.includes(o)){const a=t[o];a!==void 0&&r((l,c)=>{s===o?Object.assign(l,c):l[e.up(o)]=c},a)}}):(typeof t=="number"||typeof t=="string")&&r((i,o)=>{Object.assign(i,o)},t)};function ix(e){return`--Grid-${e}Spacing`}function Iy(e){return`--Grid-parent-${e}Spacing`}const bN="--Grid-columns",Ih="--Grid-parent-columns",wK=({theme:e,ownerState:t})=>{const r={};return sf(e.breakpoints,t.size,(s,i)=>{let o={};i==="grow"&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${Ih}) - (var(${Ih}) - ${i}) * (var(${Iy("column")}) / var(${Ih})))`}),s(r,o)}),r},jK=({theme:e,ownerState:t})=>{const r={};return sf(e.breakpoints,t.offset,(s,i)=>{let o={};i==="auto"&&(o={marginLeft:"auto"}),typeof i=="number"&&(o={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${Ih}) + var(${Iy("column")}) * ${i} / var(${Ih}))`}),s(r,o)}),r},CK=({theme:e,ownerState:t})=>{if(!t.container)return{};const r={[bN]:12};return sf(e.breakpoints,t.columns,(s,i)=>{const o=i??12;s(r,{[bN]:o,"> *":{[Ih]:o}})}),r},NK=({theme:e,ownerState:t})=>{if(!t.container)return{};const r={};return sf(e.breakpoints,t.rowSpacing,(s,i)=>{var a;const o=typeof i=="string"?i:(a=e.spacing)==null?void 0:a.call(e,i);s(r,{[ix("row")]:o,"> *":{[Iy("row")]:o}})}),r},BK=({theme:e,ownerState:t})=>{if(!t.container)return{};const r={};return sf(e.breakpoints,t.columnSpacing,(s,i)=>{var a;const o=typeof i=="string"?i:(a=e.spacing)==null?void 0:a.call(e,i);s(r,{[ix("column")]:o,"> *":{[Iy("column")]:o}})}),r},kK=({theme:e,ownerState:t})=>{if(!t.container)return{};const r={};return sf(e.breakpoints,t.direction,(s,i)=>{s(r,{flexDirection:i})}),r},SK=({ownerState:e})=>({minWidth:0,boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",...e.wrap&&e.wrap!=="wrap"&&{flexWrap:e.wrap},gap:`var(${ix("row")}) var(${ix("column")})`}}),EK=e=>{const t=[];return Object.entries(e).forEach(([r,s])=>{s!==!1&&s!==void 0&&t.push(`grid-${r}-${String(s)}`)}),t},IK=(e,t="xs")=>{function r(s){return s===void 0?!1:typeof s=="string"&&!Number.isNaN(Number(s))||typeof s=="number"&&s>0}if(r(e))return[`spacing-${t}-${String(e)}`];if(typeof e=="object"&&!Array.isArray(e)){const s=[];return Object.entries(e).forEach(([i,o])=>{r(o)&&s.push(`spacing-${i}-${String(o)}`)}),s}return[]},TK=e=>e===void 0?[]:typeof e=="object"?Object.entries(e).map(([t,r])=>`direction-${t}-${r}`):[`direction-xs-${String(e)}`];function FK(e,t){e.item!==void 0&&delete e.item,e.zeroMinWidth!==void 0&&delete e.zeroMinWidth,t.keys.forEach(r=>{e[r]!==void 0&&delete e[r]})}const LK=Tp(),PK=II("div",{name:"MuiGrid",slot:"Root"});function UK(e){return TI({props:e,name:"MuiGrid",defaultTheme:LK})}function RK(e={}){const{createStyledComponent:t=PK,useThemeProps:r=UK,useTheme:s=Fp,componentName:i="MuiGrid"}=e,o=(d,u)=>{const{container:A,direction:f,spacing:h,wrap:g,size:p}=d,b={root:["root",A&&"container",g!=="wrap"&&`wrap-xs-${String(g)}`,...TK(f),...EK(p),...A?IK(h,u.breakpoints.keys[0]):[]]};return br(b,x=>yr(i,x),{})};function a(d,u,A=()=>!0){const f={};return d===null||(Array.isArray(d)?d.forEach((h,g)=>{h!==null&&A(h)&&u.keys[g]&&(f[u.keys[g]]=h)}):typeof d=="object"?Object.keys(d).forEach(h=>{const g=d[h];g!=null&&A(g)&&(f[h]=g)}):f[u.keys[0]]=d),f}const l=t(CK,BK,NK,wK,kK,SK,jK),c=m.forwardRef(function(u,A){const f=s(),h=r(u),g=Sy(h);FK(g,f.breakpoints);const{className:p,children:b,columns:x=12,container:j=!1,component:w="div",direction:S="row",wrap:I="wrap",size:F={},offset:T={},spacing:U=0,rowSpacing:K=U,columnSpacing:B=U,unstable_level:R=0,...D}=g,H=a(F,f.breakpoints,re=>re!==!1),P=a(T,f.breakpoints),z=u.columns??(R?void 0:x),G=u.spacing??(R?void 0:U),he=u.rowSpacing??u.spacing??(R?void 0:K),ce=u.columnSpacing??u.spacing??(R?void 0:B),ye={...g,level:R,columns:z,container:j,direction:S,wrap:I,spacing:G,rowSpacing:he,columnSpacing:ce,size:H,offset:P},X=o(ye,f);return n.jsx(l,{ref:A,as:w,ownerState:ye,className:qt(X.root,p),...D,children:m.Children.map(b,re=>{var _;return m.isValidElement(re)&&pm(re,["Grid"])&&j&&re.props.container?m.cloneElement(re,{unstable_level:((_=re.props)==null?void 0:_.unstable_level)??R+1}):re})})});return c.muiName="Grid",c}const MK=Tp(),DK=II("div",{name:"MuiStack",slot:"Root"});function OK(e){return TI({props:e,name:"MuiStack",defaultTheme:MK})}function QK(e,t){const r=m.Children.toArray(e).filter(Boolean);return r.reduce((s,i,o)=>(s.push(i),o<r.length-1&&s.push(m.cloneElement(t,{key:`separator-${o}`})),s),[])}const _K=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],HK=({ownerState:e,theme:t})=>{let r={display:"flex",flexDirection:"column",...Sa({theme:t},Bb({values:e.direction,breakpoints:t.breakpoints.values}),s=>({flexDirection:s}))};if(e.spacing){const s=wy(t),i=Object.keys(t.breakpoints.values).reduce((c,d)=>((typeof e.spacing=="object"&&e.spacing[d]!=null||typeof e.direction=="object"&&e.direction[d]!=null)&&(c[d]=!0),c),{}),o=Bb({values:e.direction,base:i}),a=Bb({values:e.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((c,d,u)=>{if(!o[c]){const f=d>0?o[u[d-1]]:"column";o[c]=f}}),r=Hs(r,Sa({theme:t},a,(c,d)=>e.useFlexGap?{gap:Jd(s,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${_K(d?o[d]:e.direction)}`]:Jd(s,c)}}))}return r=rV(t.breakpoints,r),r};function $K(e={}){const{createStyledComponent:t=DK,useThemeProps:r=OK,componentName:s="MuiStack"}=e,i=()=>br({root:["root"]},c=>yr(s,c),{}),o=t(HK);return m.forwardRef(function(c,d){const u=r(c),A=Sy(u),{component:f="div",direction:h="column",spacing:g=0,divider:p,children:b,className:x,useFlexGap:j=!1,...w}=A,S={direction:h,spacing:g,useFlexGap:j},I=i();return n.jsx(o,{as:f,ownerState:S,ref:d,className:qt(I.root,x),...w,children:p?QK(b,p):b})})}function PI(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Wm.white,default:Wm.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const VK=PI();function UI(){return{text:{primary:Wm.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Wm.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const vN=UI();function wN(e,t,r,s){const i=s.light||s,o=s.dark||s*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=eA(e.main,i):t==="dark"&&(e.dark=Zd(e.main,o)))}function KK(e="light"){return e==="dark"?{main:th[200],light:th[50],dark:th[400]}:{main:th[700],light:th[400],dark:th[800]}}function zK(e="light"){return e==="dark"?{main:eh[200],light:eh[50],dark:eh[400]}:{main:eh[500],light:eh[300],dark:eh[700]}}function WK(e="light"){return e==="dark"?{main:ZA[500],light:ZA[300],dark:ZA[700]}:{main:ZA[700],light:ZA[400],dark:ZA[800]}}function GK(e="light"){return e==="dark"?{main:rh[400],light:rh[300],dark:rh[700]}:{main:rh[700],light:rh[500],dark:rh[900]}}function qK(e="light"){return e==="dark"?{main:nh[400],light:nh[300],dark:nh[700]}:{main:nh[800],light:nh[500],dark:nh[900]}}function XK(e="light"){return e==="dark"?{main:Mf[400],light:Mf[300],dark:Mf[700]}:{main:"#ed6c02",light:Mf[500],dark:Mf[900]}}function A5(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:s=.2,...i}=e,o=e.primary||KK(t),a=e.secondary||zK(t),l=e.error||WK(t),c=e.info||GK(t),d=e.success||qK(t),u=e.warning||XK(t);function A(p){return cK(p,vN.text.primary)>=r?vN.text.primary:VK.text.primary}const f=({color:p,name:b,mainShade:x=500,lightShade:j=300,darkShade:w=700})=>{if(p={...p},!p.main&&p[x]&&(p.main=p[x]),!p.hasOwnProperty("main"))throw new Error(cc(11,b?` (${b})`:"",x));if(typeof p.main!="string")throw new Error(cc(12,b?` (${b})`:"",JSON.stringify(p.main)));return wN(p,"light",j,s),wN(p,"dark",w,s),p.contrastText||(p.contrastText=A(p.main)),p};let h;return t==="light"?h=PI():t==="dark"&&(h=UI()),Hs({common:{...Wm},mode:t,primary:f({color:o,name:"primary"}),secondary:f({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:l,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:c,name:"info"}),success:f({color:d,name:"success"}),grey:QH,contrastThreshold:r,getContrastText:A,augmentColor:f,tonalOffset:s,...h},i)}function JK(e){const t={};return Object.entries(e).forEach(s=>{const[i,o]=s;typeof o=="object"&&(t[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),t}function YK(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function ZK(e){return Math.round(e*1e5)/1e5}const jN={textTransform:"uppercase"},CN='"Roboto", "Helvetica", "Arial", sans-serif';function ez(e,t){const{fontFamily:r=CN,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:d,pxToRem:u,...A}=typeof t=="function"?t(e):t,f=s/14,h=u||(b=>`${b/c*f}rem`),g=(b,x,j,w,S)=>({fontFamily:r,fontWeight:b,fontSize:h(x),lineHeight:j,...r===CN?{letterSpacing:`${ZK(w/x)}em`}:{},...S,...d}),p={h1:g(i,96,1.167,-1.5),h2:g(i,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(a,14,1.75,.4,jN),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,jN),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Hs({htmlFontSize:c,pxToRem:h,fontFamily:r,fontSize:s,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l,...p},A,{clone:!1})}const tz=.2,rz=.14,nz=.12;function $n(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${tz})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${rz})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${nz})`].join(",")}const sz=["none",$n(0,2,1,-1,0,1,1,0,0,1,3,0),$n(0,3,1,-2,0,2,2,0,0,1,5,0),$n(0,3,3,-2,0,3,4,0,0,1,8,0),$n(0,2,4,-1,0,4,5,0,0,1,10,0),$n(0,3,5,-1,0,5,8,0,0,1,14,0),$n(0,3,5,-1,0,6,10,0,0,1,18,0),$n(0,4,5,-2,0,7,10,1,0,2,16,1),$n(0,5,5,-3,0,8,10,1,0,3,14,2),$n(0,5,6,-3,0,9,12,1,0,3,16,2),$n(0,6,6,-3,0,10,14,1,0,4,18,3),$n(0,6,7,-4,0,11,15,1,0,4,20,3),$n(0,7,8,-4,0,12,17,2,0,5,22,4),$n(0,7,8,-4,0,13,19,2,0,5,24,4),$n(0,7,9,-4,0,14,21,2,0,5,26,4),$n(0,8,9,-5,0,15,22,2,0,6,28,5),$n(0,8,10,-5,0,16,24,2,0,6,30,5),$n(0,8,11,-5,0,17,26,2,0,6,32,5),$n(0,9,11,-5,0,18,28,2,0,7,34,6),$n(0,9,12,-6,0,19,29,2,0,7,36,6),$n(0,10,13,-6,0,20,31,3,0,8,38,7),$n(0,10,13,-6,0,21,33,3,0,8,40,7),$n(0,10,14,-6,0,22,35,3,0,8,42,7),$n(0,11,14,-7,0,23,36,3,0,9,44,8),$n(0,11,15,-7,0,24,38,3,0,9,46,8)],iz={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},oz={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function NN(e){return`${Math.round(e)}ms`}function az(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function lz(e){const t={...iz,...e.easing},r={...oz,...e.duration};return{getAutoHeightDuration:az,create:(i=["all"],o={})=>{const{duration:a=r.standard,easing:l=t.easeInOut,delay:c=0,...d}=o;return(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof a=="string"?a:NN(a)} ${l} ${typeof c=="string"?c:NN(c)}`).join(",")},...e,easing:t,duration:r}}const cz={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function uz(e){return fl(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function RI(e={}){const t={...e};function r(s){const i=Object.entries(s);for(let o=0;o<i.length;o++){const[a,l]=i[o];!uz(l)||a.startsWith("unstable_")?delete s[a]:fl(l)&&(s[a]={...l},r(s[a]))}}return r(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function xw(e={},...t){const{breakpoints:r,mixins:s={},spacing:i,palette:o={},transitions:a={},typography:l={},shape:c,...d}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(cc(20));const u=A5(o),A=Tp(e);let f=Hs(A,{mixins:YK(A.breakpoints,s),palette:u,shadows:sz.slice(),typography:ez(u,l),transitions:lz(a),zIndex:{...cz}});return f=Hs(f,d),f=t.reduce((h,g)=>Hs(h,g),f),f.unstable_sxConfig={...Ip,...d==null?void 0:d.unstable_sxConfig},f.unstable_sx=function(g){return Yd({sx:g,theme:this})},f.toRuntimeSource=RI,f}function yw(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const dz=[...Array(25)].map((e,t)=>{if(t===0)return"none";const r=yw(t);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function MI(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function DI(e){return e==="dark"?dz:[]}function Az(e){const{palette:t={mode:"light"},opacity:r,overlays:s,...i}=e,o=A5(t);return{palette:o,opacity:{...MI(o.mode),...r},overlays:s||DI(o.mode),...i}}function hz(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const fz=e=>[...[...Array(25)].map((t,r)=>`--${e?`${e}-`:""}overlays-${r}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],mz=e=>(t,r)=>{const s=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const a={};return fz(e.cssVarPrefix).forEach(l=>{a[l]=r[l],delete r[l]}),o==="media"?{[s]:r,"@media (prefers-color-scheme: dark)":{[s]:a}}:o?{[o.replace("%s",t)]:a,[`${s}, ${o.replace("%s",t)}`]:r}:{[s]:{...r,...a}}}if(o&&o!=="media")return`${s}, ${o.replace("%s",String(t))}`}else if(t){if(o==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[s]:r}};if(o)return o.replace("%s",String(t))}return s};function pz(e,t){t.forEach(r=>{e[r]||(e[r]={})})}function At(e,t,r){!e[t]&&r&&(e[t]=r)}function tm(e){return typeof e!="string"||!e.startsWith("hsl")?e:FI(e)}function Kl(e,t){`${t}Channel`in e||(e[`${t}Channel`]=em(tm(e[t])))}function gz(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const rl=e=>{try{return e()}catch{}},xz=(e="mui")=>pK(e);function Eb(e,t,r,s){if(!t)return;t=t===!0?{}:t;const i=s==="dark"?"dark":"light";if(!r){e[s]=Az({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:o,...a}=xw({...r,palette:{mode:i,...t==null?void 0:t.palette}});return e[s]={...t,palette:o,opacity:{...MI(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||DI(i)},a}function yz(e={},...t){const{colorSchemes:r={light:!0},defaultColorScheme:s,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:a=hz,colorSchemeSelector:l=r.light&&r.dark?"media":void 0,rootSelector:c=":root",...d}=e,u=Object.keys(r)[0],A=s||(r.light&&u!=="light"?"light":u),f=xz(o),{[A]:h,light:g,dark:p,...b}=r,x={...b};let j=h;if((A==="dark"&&!("dark"in r)||A==="light"&&!("light"in r))&&(j=!0),!j)throw new Error(cc(21,A));const w=Eb(x,j,d,A);g&&!x.light&&Eb(x,g,void 0,"light"),p&&!x.dark&&Eb(x,p,void 0,"dark");let S={defaultColorScheme:A,...w,cssVarPrefix:o,colorSchemeSelector:l,rootSelector:c,getCssVar:f,colorSchemes:x,font:{...JK(w.typography),...w.font},spacing:gz(d.spacing)};Object.keys(S.colorSchemes).forEach(K=>{const B=S.colorSchemes[K].palette,R=D=>{const H=D.split("-"),P=H[1],z=H[2];return f(D,B[P][z])};if(B.mode==="light"&&(At(B.common,"background","#fff"),At(B.common,"onBackground","#000")),B.mode==="dark"&&(At(B.common,"background","#000"),At(B.common,"onBackground","#fff")),pz(B,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),B.mode==="light"){At(B.Alert,"errorColor",jn(B.error.light,.6)),At(B.Alert,"infoColor",jn(B.info.light,.6)),At(B.Alert,"successColor",jn(B.success.light,.6)),At(B.Alert,"warningColor",jn(B.warning.light,.6)),At(B.Alert,"errorFilledBg",R("palette-error-main")),At(B.Alert,"infoFilledBg",R("palette-info-main")),At(B.Alert,"successFilledBg",R("palette-success-main")),At(B.Alert,"warningFilledBg",R("palette-warning-main")),At(B.Alert,"errorFilledColor",rl(()=>B.getContrastText(B.error.main))),At(B.Alert,"infoFilledColor",rl(()=>B.getContrastText(B.info.main))),At(B.Alert,"successFilledColor",rl(()=>B.getContrastText(B.success.main))),At(B.Alert,"warningFilledColor",rl(()=>B.getContrastText(B.warning.main))),At(B.Alert,"errorStandardBg",Cn(B.error.light,.9)),At(B.Alert,"infoStandardBg",Cn(B.info.light,.9)),At(B.Alert,"successStandardBg",Cn(B.success.light,.9)),At(B.Alert,"warningStandardBg",Cn(B.warning.light,.9)),At(B.Alert,"errorIconColor",R("palette-error-main")),At(B.Alert,"infoIconColor",R("palette-info-main")),At(B.Alert,"successIconColor",R("palette-success-main")),At(B.Alert,"warningIconColor",R("palette-warning-main")),At(B.AppBar,"defaultBg",R("palette-grey-100")),At(B.Avatar,"defaultBg",R("palette-grey-400")),At(B.Button,"inheritContainedBg",R("palette-grey-300")),At(B.Button,"inheritContainedHoverBg",R("palette-grey-A100")),At(B.Chip,"defaultBorder",R("palette-grey-400")),At(B.Chip,"defaultAvatarColor",R("palette-grey-700")),At(B.Chip,"defaultIconColor",R("palette-grey-700")),At(B.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),At(B.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),At(B.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),At(B.LinearProgress,"primaryBg",Cn(B.primary.main,.62)),At(B.LinearProgress,"secondaryBg",Cn(B.secondary.main,.62)),At(B.LinearProgress,"errorBg",Cn(B.error.main,.62)),At(B.LinearProgress,"infoBg",Cn(B.info.main,.62)),At(B.LinearProgress,"successBg",Cn(B.success.main,.62)),At(B.LinearProgress,"warningBg",Cn(B.warning.main,.62)),At(B.Skeleton,"bg",`rgba(${R("palette-text-primaryChannel")} / 0.11)`),At(B.Slider,"primaryTrack",Cn(B.primary.main,.62)),At(B.Slider,"secondaryTrack",Cn(B.secondary.main,.62)),At(B.Slider,"errorTrack",Cn(B.error.main,.62)),At(B.Slider,"infoTrack",Cn(B.info.main,.62)),At(B.Slider,"successTrack",Cn(B.success.main,.62)),At(B.Slider,"warningTrack",Cn(B.warning.main,.62));const D=Dg(B.background.default,.8);At(B.SnackbarContent,"bg",D),At(B.SnackbarContent,"color",rl(()=>B.getContrastText(D))),At(B.SpeedDialAction,"fabHoverBg",Dg(B.background.paper,.15)),At(B.StepConnector,"border",R("palette-grey-400")),At(B.StepContent,"border",R("palette-grey-400")),At(B.Switch,"defaultColor",R("palette-common-white")),At(B.Switch,"defaultDisabledColor",R("palette-grey-100")),At(B.Switch,"primaryDisabledColor",Cn(B.primary.main,.62)),At(B.Switch,"secondaryDisabledColor",Cn(B.secondary.main,.62)),At(B.Switch,"errorDisabledColor",Cn(B.error.main,.62)),At(B.Switch,"infoDisabledColor",Cn(B.info.main,.62)),At(B.Switch,"successDisabledColor",Cn(B.success.main,.62)),At(B.Switch,"warningDisabledColor",Cn(B.warning.main,.62)),At(B.TableCell,"border",Cn(Mg(B.divider,1),.88)),At(B.Tooltip,"bg",Mg(B.grey[700],.92))}if(B.mode==="dark"){At(B.Alert,"errorColor",Cn(B.error.light,.6)),At(B.Alert,"infoColor",Cn(B.info.light,.6)),At(B.Alert,"successColor",Cn(B.success.light,.6)),At(B.Alert,"warningColor",Cn(B.warning.light,.6)),At(B.Alert,"errorFilledBg",R("palette-error-dark")),At(B.Alert,"infoFilledBg",R("palette-info-dark")),At(B.Alert,"successFilledBg",R("palette-success-dark")),At(B.Alert,"warningFilledBg",R("palette-warning-dark")),At(B.Alert,"errorFilledColor",rl(()=>B.getContrastText(B.error.dark))),At(B.Alert,"infoFilledColor",rl(()=>B.getContrastText(B.info.dark))),At(B.Alert,"successFilledColor",rl(()=>B.getContrastText(B.success.dark))),At(B.Alert,"warningFilledColor",rl(()=>B.getContrastText(B.warning.dark))),At(B.Alert,"errorStandardBg",jn(B.error.light,.9)),At(B.Alert,"infoStandardBg",jn(B.info.light,.9)),At(B.Alert,"successStandardBg",jn(B.success.light,.9)),At(B.Alert,"warningStandardBg",jn(B.warning.light,.9)),At(B.Alert,"errorIconColor",R("palette-error-main")),At(B.Alert,"infoIconColor",R("palette-info-main")),At(B.Alert,"successIconColor",R("palette-success-main")),At(B.Alert,"warningIconColor",R("palette-warning-main")),At(B.AppBar,"defaultBg",R("palette-grey-900")),At(B.AppBar,"darkBg",R("palette-background-paper")),At(B.AppBar,"darkColor",R("palette-text-primary")),At(B.Avatar,"defaultBg",R("palette-grey-600")),At(B.Button,"inheritContainedBg",R("palette-grey-800")),At(B.Button,"inheritContainedHoverBg",R("palette-grey-700")),At(B.Chip,"defaultBorder",R("palette-grey-700")),At(B.Chip,"defaultAvatarColor",R("palette-grey-300")),At(B.Chip,"defaultIconColor",R("palette-grey-300")),At(B.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),At(B.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),At(B.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),At(B.LinearProgress,"primaryBg",jn(B.primary.main,.5)),At(B.LinearProgress,"secondaryBg",jn(B.secondary.main,.5)),At(B.LinearProgress,"errorBg",jn(B.error.main,.5)),At(B.LinearProgress,"infoBg",jn(B.info.main,.5)),At(B.LinearProgress,"successBg",jn(B.success.main,.5)),At(B.LinearProgress,"warningBg",jn(B.warning.main,.5)),At(B.Skeleton,"bg",`rgba(${R("palette-text-primaryChannel")} / 0.13)`),At(B.Slider,"primaryTrack",jn(B.primary.main,.5)),At(B.Slider,"secondaryTrack",jn(B.secondary.main,.5)),At(B.Slider,"errorTrack",jn(B.error.main,.5)),At(B.Slider,"infoTrack",jn(B.info.main,.5)),At(B.Slider,"successTrack",jn(B.success.main,.5)),At(B.Slider,"warningTrack",jn(B.warning.main,.5));const D=Dg(B.background.default,.98);At(B.SnackbarContent,"bg",D),At(B.SnackbarContent,"color",rl(()=>B.getContrastText(D))),At(B.SpeedDialAction,"fabHoverBg",Dg(B.background.paper,.15)),At(B.StepConnector,"border",R("palette-grey-600")),At(B.StepContent,"border",R("palette-grey-600")),At(B.Switch,"defaultColor",R("palette-grey-300")),At(B.Switch,"defaultDisabledColor",R("palette-grey-600")),At(B.Switch,"primaryDisabledColor",jn(B.primary.main,.55)),At(B.Switch,"secondaryDisabledColor",jn(B.secondary.main,.55)),At(B.Switch,"errorDisabledColor",jn(B.error.main,.55)),At(B.Switch,"infoDisabledColor",jn(B.info.main,.55)),At(B.Switch,"successDisabledColor",jn(B.success.main,.55)),At(B.Switch,"warningDisabledColor",jn(B.warning.main,.55)),At(B.TableCell,"border",jn(Mg(B.divider,1),.68)),At(B.Tooltip,"bg",Mg(B.grey[700],.92))}Kl(B.background,"default"),Kl(B.background,"paper"),Kl(B.common,"background"),Kl(B.common,"onBackground"),Kl(B,"divider"),Object.keys(B).forEach(D=>{const H=B[D];D!=="tonalOffset"&&H&&typeof H=="object"&&(H.main&&At(B[D],"mainChannel",em(tm(H.main))),H.light&&At(B[D],"lightChannel",em(tm(H.light))),H.dark&&At(B[D],"darkChannel",em(tm(H.dark))),H.contrastText&&At(B[D],"contrastTextChannel",em(tm(H.contrastText))),D==="text"&&(Kl(B[D],"primary"),Kl(B[D],"secondary")),D==="action"&&(H.active&&Kl(B[D],"active"),H.selected&&Kl(B[D],"selected")))})}),S=t.reduce((K,B)=>Hs(K,B),S);const I={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:mz(S)},{vars:F,generateThemeVars:T,generateStyleSheets:U}=yK(S,I);return S.vars=F,Object.entries(S.colorSchemes[S.defaultColorScheme]).forEach(([K,B])=>{S[K]=B}),S.generateThemeVars=T,S.generateStyleSheets=U,S.generateSpacing=function(){return NI(d.spacing,wy(this))},S.getColorSchemeSelector=bK(l),S.spacing=S.generateSpacing(),S.shouldSkipGeneratingVar=a,S.unstable_sxConfig={...Ip,...d==null?void 0:d.unstable_sxConfig},S.unstable_sx=function(B){return Yd({sx:B,theme:this})},S.toRuntimeSource=RI,S}function BN(e,t,r){e.colorSchemes&&r&&(e.colorSchemes[t]={...r!==!0&&r,palette:A5({...r===!0?{}:r.palette,mode:t})})}function OI(e={},...t){const{palette:r,cssVariables:s=!1,colorSchemes:i=r?void 0:{light:!0},defaultColorScheme:o=r==null?void 0:r.mode,...a}=e,l=o||"light",c=i==null?void 0:i[l],d={...i,...r?{[l]:{...typeof c!="boolean"&&c,palette:r}}:void 0};if(s===!1){if(!("colorSchemes"in e))return xw(e,...t);let u=r;"palette"in e||d[l]&&(d[l]!==!0?u=d[l].palette:l==="dark"&&(u={mode:"dark"}));const A=xw({...e,palette:u},...t);return A.defaultColorScheme=l,A.colorSchemes=d,A.palette.mode==="light"&&(A.colorSchemes.light={...d.light!==!0&&d.light,palette:A.palette},BN(A,"dark",d.dark)),A.palette.mode==="dark"&&(A.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:A.palette},BN(A,"light",d.light)),A}return!r&&!("light"in d)&&l==="light"&&(d.light=!0),yz({...a,colorSchemes:d,defaultColorScheme:l,...typeof s!="boolean"&&s},...t)}const h5=OI();function Ty(){const e=Fp(h5);return e[qx]||e}function QI(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const sa=e=>QI(e)&&e!=="classes",Ot=EI({themeId:qx,defaultTheme:h5,rootShouldForwardProp:sa});function kN(...e){return e.reduce((t,r)=>r==null?t:function(...i){t.apply(this,i),r.apply(this,i)},()=>{})}function bz(e){return n.jsx(WV,{...e,defaultTheme:h5,themeId:qx})}function vz(e){return function(r){return n.jsx(bz,{styles:typeof e=="function"?s=>e({theme:s,...r}):e})}}function wz(){return Sy}const Pr=mK;function Cr(e){return fK(e)}function jz(e){return yr("MuiSvgIcon",e)}jr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Cz=e=>{const{color:t,fontSize:r,classes:s}=e,i={root:["root",t!=="inherit"&&`color${Pt(t)}`,`fontSize${Pt(r)}`]};return br(i,jz,s)},Nz=Ot("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${Pt(r.color)}`],t[`fontSize${Pt(r.fontSize)}`]]}})(Pr(({theme:e})=>{var t,r,s,i,o,a,l,c,d,u,A,f,h,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(t=e.transitions)==null?void 0:t.create)==null?void 0:i.call(t,"fill",{duration:(s=(r=(e.vars??e).transitions)==null?void 0:r.duration)==null?void 0:s.shorter}),variants:[{props:p=>!p.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(o=e.typography)==null?void 0:o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((c=(l=e.typography)==null?void 0:l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(d=e.typography)==null?void 0:d.pxToRem)==null?void 0:u.call(d,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,p])=>p&&p.main).map(([p])=>{var b,x;return{props:{color:p},style:{color:(x=(b=(e.vars??e).palette)==null?void 0:b[p])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(f=(A=(e.vars??e).palette)==null?void 0:A.action)==null?void 0:f.active}},{props:{color:"disabled"},style:{color:(g=(h=(e.vars??e).palette)==null?void 0:h.action)==null?void 0:g.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),bw=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:a="inherit",component:l="svg",fontSize:c="medium",htmlColor:d,inheritViewBox:u=!1,titleAccess:A,viewBox:f="0 0 24 24",...h}=s,g=m.isValidElement(i)&&i.type==="svg",p={...s,color:a,component:l,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:g},b={};u||(b.viewBox=f);const x=Cz(p);return n.jsxs(Nz,{as:l,className:qt(x.root,o),focusable:"false",color:d,"aria-hidden":A?void 0:!0,role:A?"img":void 0,ref:r,...b,...h,...g&&i.props,ownerState:p,children:[g?i.props.children:i,A?n.jsx("title",{children:A}):null]})});bw.muiName="SvgIcon";function vn(e,t){function r(s,i){return n.jsx(bw,{"data-testid":void 0,ref:i,...s,children:e})}return r.muiName=bw.muiName,m.memo(m.forwardRef(r))}function _I(e,t=166){let r;function s(...i){const o=()=>{e.apply(this,i)};clearTimeout(r),r=setTimeout(o,t)}return s.clear=()=>{clearTimeout(r)},s}function Ea(e){return e&&e.ownerDocument||document}function uc(e){return Ea(e).defaultView||window}function SN(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let EN=0;function Bz(e){const[t,r]=m.useState(e),s=e||t;return m.useEffect(()=>{t==null&&(EN+=1,r(`mui-${EN}`))},[t]),s}const kz={...Sv},IN=kz.useId;function Fy(e){if(IN!==void 0){const t=IN();return e??t}return Bz(e)}function TN(e){const{controlled:t,default:r,name:s,state:i="value"}=e,{current:o}=m.useRef(t!==void 0),[a,l]=m.useState(r),c=o?t:a,d=m.useCallback(u=>{o||l(u)},[]);return[c,d]}function Dd(e){const t=m.useRef(e);return ju(()=>{t.current=e}),m.useRef((...r)=>(0,t.current)(...r)).current}function ei(...e){const t=m.useRef(void 0),r=m.useCallback(s=>{const i=e.map(o=>{if(o==null)return null;if(typeof o=="function"){const a=o,l=a(s);return typeof l=="function"?l:()=>{a(null)}}return o.current=s,()=>{o.current=null}});return()=>{i.forEach(o=>o==null?void 0:o())}},e);return m.useMemo(()=>e.every(s=>s==null)?null:s=>{t.current&&(t.current(),t.current=void 0),s!=null&&(t.current=r(s))},e)}function Sz(e,t){const r=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&r>=65&&r<=90&&typeof t=="function"}function Ez(e,t){if(!e)return t;function r(a,l){const c={};return Object.keys(l).forEach(d=>{Sz(d,l[d])&&typeof a[d]=="function"&&(c[d]=(...u)=>{a[d](...u),l[d](...u)})}),c}if(typeof e=="function"||typeof t=="function")return a=>{const l=typeof t=="function"?t(a):t,c=typeof e=="function"?e({...a,...l}):e,d=qt(a==null?void 0:a.className,l==null?void 0:l.className,c==null?void 0:c.className),u=r(c,l);return{...l,...c,...u,...!!d&&{className:d},...(l==null?void 0:l.style)&&(c==null?void 0:c.style)&&{style:{...l.style,...c.style}},...(l==null?void 0:l.sx)&&(c==null?void 0:c.sx)&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const s=t,i=r(e,s),o=qt(s==null?void 0:s.className,e==null?void 0:e.className);return{...t,...e,...i,...!!o&&{className:o},...(s==null?void 0:s.style)&&(e==null?void 0:e.style)&&{style:{...s.style,...e.style}},...(s==null?void 0:s.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(s.sx)?s.sx:[s.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function HI(e,t){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function vw(e,t){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},vw(e,t)}function $I(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,vw(e,t)}const FN={disabled:!1},ox=Xt.createContext(null);var Iz=function(t){return t.scrollTop},rm="unmounted",md="exited",pd="entering",dh="entered",ww="exiting",jl=function(e){$I(t,e);function t(s,i){var o;o=e.call(this,s,i)||this;var a=i,l=a&&!a.isMounting?s.enter:s.appear,c;return o.appearStatus=null,s.in?l?(c=md,o.appearStatus=pd):c=dh:s.unmountOnExit||s.mountOnEnter?c=rm:c=md,o.state={status:c},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===rm?{status:md}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==pd&&a!==dh&&(o=pd):(a===pd||a===dh)&&(o=ww)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,a,l;return o=a=l=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,l=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:l}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===pd){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Sg.findDOMNode(this);a&&Iz(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===md&&this.setState({status:rm})},r.performEnter=function(i){var o=this,a=this.props.enter,l=this.context?this.context.isMounting:i,c=this.props.nodeRef?[l]:[Sg.findDOMNode(this),l],d=c[0],u=c[1],A=this.getTimeouts(),f=l?A.appear:A.enter;if(!i&&!a||FN.disabled){this.safeSetState({status:dh},function(){o.props.onEntered(d)});return}this.props.onEnter(d,u),this.safeSetState({status:pd},function(){o.props.onEntering(d,u),o.onTransitionEnd(f,function(){o.safeSetState({status:dh},function(){o.props.onEntered(d,u)})})})},r.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),l=this.props.nodeRef?void 0:Sg.findDOMNode(this);if(!o||FN.disabled){this.safeSetState({status:md},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:ww},function(){i.props.onExiting(l),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:md},function(){i.props.onExited(l)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(l){a&&(a=!1,o.nextCallback=null,i(l))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},r.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:Sg.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!a||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],d=c[0],u=c[1];this.props.addEndListener(d,u)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===rm)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var l=HI(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Xt.createElement(ox.Provider,{value:null},typeof a=="function"?a(i,l):Xt.cloneElement(Xt.Children.only(a),l))},t}(Xt.Component);jl.contextType=ox;jl.propTypes={};function sh(){}jl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:sh,onEntering:sh,onEntered:sh,onExit:sh,onExiting:sh,onExited:sh};jl.UNMOUNTED=rm;jl.EXITED=md;jl.ENTERING=pd;jl.ENTERED=dh;jl.EXITING=ww;function Tz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f5(e,t){var r=function(o){return t&&m.isValidElement(o)?t(o):o},s=Object.create(null);return e&&m.Children.map(e,function(i){return i}).forEach(function(i){s[i.key]=r(i)}),s}function Fz(e,t){e=e||{},t=t||{};function r(u){return u in t?t[u]:e[u]}var s=Object.create(null),i=[];for(var o in e)o in t?i.length&&(s[o]=i,i=[]):i.push(o);var a,l={};for(var c in t){if(s[c])for(a=0;a<s[c].length;a++){var d=s[c][a];l[s[c][a]]=r(d)}l[c]=r(c)}for(a=0;a<i.length;a++)l[i[a]]=r(i[a]);return l}function Bd(e,t,r){return r[t]!=null?r[t]:e.props[t]}function Lz(e,t){return f5(e.children,function(r){return m.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Bd(r,"appear",e),enter:Bd(r,"enter",e),exit:Bd(r,"exit",e)})})}function Pz(e,t,r){var s=f5(e.children),i=Fz(t,s);return Object.keys(i).forEach(function(o){var a=i[o];if(m.isValidElement(a)){var l=o in t,c=o in s,d=t[o],u=m.isValidElement(d)&&!d.props.in;c&&(!l||u)?i[o]=m.cloneElement(a,{onExited:r.bind(null,a),in:!0,exit:Bd(a,"exit",e),enter:Bd(a,"enter",e)}):!c&&l&&!u?i[o]=m.cloneElement(a,{in:!1}):c&&l&&m.isValidElement(d)&&(i[o]=m.cloneElement(a,{onExited:r.bind(null,a),in:d.props.in,exit:Bd(a,"exit",e),enter:Bd(a,"enter",e)}))}}),i}var Uz=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Rz={component:"div",childFactory:function(t){return t}},m5=function(e){$I(t,e);function t(s,i){var o;o=e.call(this,s,i)||this;var a=o.handleExited.bind(Tz(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var a=o.children,l=o.handleExited,c=o.firstRender;return{children:c?Lz(i,l):Pz(i,a,l),firstRender:!1}},r.handleExited=function(i,o){var a=f5(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(l){var c=rx({},l.children);return delete c[i.key],{children:c}}))},r.render=function(){var i=this.props,o=i.component,a=i.childFactory,l=HI(i,["component","childFactory"]),c=this.state.contextValue,d=Uz(this.state.children).map(a);return delete l.appear,delete l.enter,delete l.exit,o===null?Xt.createElement(ox.Provider,{value:c},d):Xt.createElement(ox.Provider,{value:c},Xt.createElement(o,l,d))},t}(Xt.Component);m5.propTypes={};m5.defaultProps=Rz;const LN={};function VI(e,t){const r=m.useRef(LN);return r.current===LN&&(r.current=e(t)),r}const Mz=[];function Dz(e){m.useEffect(e,Mz)}class p5{constructor(){sd(this,"currentId",null);sd(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});sd(this,"disposeEffect",()=>this.clear)}static create(){return new p5}start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}}function KI(){const e=VI(p5.create).current;return Dz(e.disposeEffect),e}const zI=e=>e.scrollTop;function ax(e,t){const{timeout:r,easing:s,style:i={}}=e;return{duration:i.transitionDuration??(typeof r=="number"?r:r[t.mode]||0),easing:i.transitionTimingFunction??(typeof s=="object"?s[t.mode]:s),delay:i.transitionDelay}}function Oz(e){return yr("MuiPaper",e)}jr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Qz=e=>{const{square:t,elevation:r,variant:s,classes:i}=e,o={root:["root",s,!t&&"rounded",s==="elevation"&&`elevation${r}`]};return br(o,Oz,i)},_z=Ot("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(Pr(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Ys=m.forwardRef(function(t,r){var h;const s=Cr({props:t,name:"MuiPaper"}),i=Ty(),{className:o,component:a="div",elevation:l=1,square:c=!1,variant:d="elevation",...u}=s,A={...s,component:a,elevation:l,square:c,variant:d},f=Qz(A);return n.jsx(_z,{as:a,ownerState:A,className:qt(f.root,o),ref:r,...u,style:{...d==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[l],...i.vars&&{"--Paper-overlay":(h=i.vars.overlays)==null?void 0:h[l]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${mn("#fff",yw(l))}, ${mn("#fff",yw(l))})`}},...u.style}})});function Hz(e){return typeof e=="string"}function WI(e,t,r){return e===void 0||Hz(e)?t:{...t,ownerState:{...t.ownerState,...r}}}function GI(e,t,r){return typeof e=="function"?e(t,r):e}function qI(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(s=>s.match(/^on[A-Z]/)&&typeof e[s]=="function"&&!t.includes(s)).forEach(s=>{r[s]=e[s]}),r}function PN(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function XI(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:s,externalForwardedProps:i,className:o}=e;if(!t){const h=qt(r==null?void 0:r.className,o,i==null?void 0:i.className,s==null?void 0:s.className),g={...r==null?void 0:r.style,...i==null?void 0:i.style,...s==null?void 0:s.style},p={...r,...i,...s};return h.length>0&&(p.className=h),Object.keys(g).length>0&&(p.style=g),{props:p,internalRef:void 0}}const a=qI({...i,...s}),l=PN(s),c=PN(i),d=t(a),u=qt(d==null?void 0:d.className,r==null?void 0:r.className,o,i==null?void 0:i.className,s==null?void 0:s.className),A={...d==null?void 0:d.style,...r==null?void 0:r.style,...i==null?void 0:i.style,...s==null?void 0:s.style},f={...d,...r,...c,...l};return u.length>0&&(f.className=u),Object.keys(A).length>0&&(f.style=A),{props:f,internalRef:d.ref}}function Bn(e,t){const{className:r,elementType:s,ownerState:i,externalForwardedProps:o,internalForwardedProps:a,shouldForwardComponentProp:l=!1,...c}=t,{component:d,slots:u={[e]:void 0},slotProps:A={[e]:void 0},...f}=o,h=u[e]||s,g=GI(A[e],i),{props:{component:p,...b},internalRef:x}=XI({className:r,...c,externalForwardedProps:e==="root"?f:void 0,externalSlotProps:g}),j=ei(x,g==null?void 0:g.ref,t.ref),w=e==="root"?p||d:p,S=WI(h,{...e==="root"&&!d&&!u[e]&&a,...e!=="root"&&!u[e]&&a,...b,...w&&!l&&{as:w},...w&&l&&{component:w},ref:j},i);return[h,S]}function UN(e){try{return e.matches(":focus-visible")}catch{}return!1}class lx{constructor(){sd(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new lx}static use(){const t=VI(lx.create).current,[r,s]=m.useState(!1);return t.shouldMount=r,t.setShouldMount=s,m.useEffect(t.mountEffect,[r]),t}mount(){return this.mounted||(this.mounted=Vz(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.start(...t)})}stop(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.stop(...t)})}pulsate(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.pulsate(...t)})}}function $z(){return lx.use()}function Vz(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});return r.resolve=e,r.reject=t,r}function Kz(e){const{className:t,classes:r,pulsate:s=!1,rippleX:i,rippleY:o,rippleSize:a,in:l,onExited:c,timeout:d}=e,[u,A]=m.useState(!1),f=qt(t,r.ripple,r.rippleVisible,s&&r.ripplePulsate),h={width:a,height:a,top:-(a/2)+o,left:-(a/2)+i},g=qt(r.child,u&&r.childLeaving,s&&r.childPulsate);return!l&&!u&&A(!0),m.useEffect(()=>{if(!l&&c!=null){const p=setTimeout(c,d);return()=>{clearTimeout(p)}}},[c,l,d]),n.jsx("span",{className:f,style:h,children:n.jsx("span",{className:g})})}const Jo=jr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),jw=550,zz=80,Wz=Iu`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Gz=Iu`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,qz=Iu`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Xz=Ot("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Jz=Ot(Kz,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Jo.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Wz};
    animation-duration: ${jw}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Jo.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Jo.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Jo.childLeaving} {
    opacity: 0;
    animation-name: ${Gz};
    animation-duration: ${jw}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Jo.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${qz};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Yz=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:a,...l}=s,[c,d]=m.useState([]),u=m.useRef(0),A=m.useRef(null);m.useEffect(()=>{A.current&&(A.current(),A.current=null)},[c]);const f=m.useRef(!1),h=KI(),g=m.useRef(null),p=m.useRef(null),b=m.useCallback(S=>{const{pulsate:I,rippleX:F,rippleY:T,rippleSize:U,cb:K}=S;d(B=>[...B,n.jsx(Jz,{classes:{ripple:qt(o.ripple,Jo.ripple),rippleVisible:qt(o.rippleVisible,Jo.rippleVisible),ripplePulsate:qt(o.ripplePulsate,Jo.ripplePulsate),child:qt(o.child,Jo.child),childLeaving:qt(o.childLeaving,Jo.childLeaving),childPulsate:qt(o.childPulsate,Jo.childPulsate)},timeout:jw,pulsate:I,rippleX:F,rippleY:T,rippleSize:U},u.current)]),u.current+=1,A.current=K},[o]),x=m.useCallback((S={},I={},F=()=>{})=>{const{pulsate:T=!1,center:U=i||I.pulsate,fakeElement:K=!1}=I;if((S==null?void 0:S.type)==="mousedown"&&f.current){f.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(f.current=!0);const B=K?null:p.current,R=B?B.getBoundingClientRect():{width:0,height:0,left:0,top:0};let D,H,P;if(U||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)D=Math.round(R.width/2),H=Math.round(R.height/2);else{const{clientX:z,clientY:G}=S.touches&&S.touches.length>0?S.touches[0]:S;D=Math.round(z-R.left),H=Math.round(G-R.top)}if(U)P=Math.sqrt((2*R.width**2+R.height**2)/3),P%2===0&&(P+=1);else{const z=Math.max(Math.abs((B?B.clientWidth:0)-D),D)*2+2,G=Math.max(Math.abs((B?B.clientHeight:0)-H),H)*2+2;P=Math.sqrt(z**2+G**2)}S!=null&&S.touches?g.current===null&&(g.current=()=>{b({pulsate:T,rippleX:D,rippleY:H,rippleSize:P,cb:F})},h.start(zz,()=>{g.current&&(g.current(),g.current=null)})):b({pulsate:T,rippleX:D,rippleY:H,rippleSize:P,cb:F})},[i,b,h]),j=m.useCallback(()=>{x({},{pulsate:!0})},[x]),w=m.useCallback((S,I)=>{if(h.clear(),(S==null?void 0:S.type)==="touchend"&&g.current){g.current(),g.current=null,h.start(0,()=>{w(S,I)});return}g.current=null,d(F=>F.length>0?F.slice(1):F),A.current=I},[h]);return m.useImperativeHandle(r,()=>({pulsate:j,start:x,stop:w}),[j,x,w]),n.jsx(Xz,{className:qt(Jo.root,o.root,a),ref:p,...l,children:n.jsx(m5,{component:null,exit:!0,children:c})})});function Zz(e){return yr("MuiButtonBase",e)}const eW=jr("MuiButtonBase",["root","disabled","focusVisible"]),tW=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:s,classes:i}=e,a=br({root:["root",t&&"disabled",r&&"focusVisible"]},Zz,i);return r&&s&&(a.root+=` ${s}`),a},rW=Ot("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${eW.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ym=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:a,className:l,component:c="button",disabled:d=!1,disableRipple:u=!1,disableTouchRipple:A=!1,focusRipple:f=!1,focusVisibleClassName:h,LinkComponent:g="a",onBlur:p,onClick:b,onContextMenu:x,onDragLeave:j,onFocus:w,onFocusVisible:S,onKeyDown:I,onKeyUp:F,onMouseDown:T,onMouseLeave:U,onMouseUp:K,onTouchEnd:B,onTouchMove:R,onTouchStart:D,tabIndex:H=0,TouchRippleProps:P,touchRippleRef:z,type:G,...he}=s,ce=m.useRef(null),ye=$z(),X=ei(ye.ref,z),[re,_]=m.useState(!1);d&&re&&_(!1),m.useImperativeHandle(i,()=>({focusVisible:()=>{_(!0),ce.current.focus()}}),[]);const Q=ye.shouldMount&&!u&&!d;m.useEffect(()=>{re&&f&&!u&&ye.pulsate()},[u,f,re,ye]);const Z=zl(ye,"start",T,A),Ae=zl(ye,"stop",x,A),me=zl(ye,"stop",j,A),ae=zl(ye,"stop",K,A),ie=zl(ye,"stop",qe=>{re&&qe.preventDefault(),U&&U(qe)},A),te=zl(ye,"start",D,A),fe=zl(ye,"stop",B,A),pe=zl(ye,"stop",R,A),we=zl(ye,"stop",qe=>{UN(qe.target)||_(!1),p&&p(qe)},!1),je=Dd(qe=>{ce.current||(ce.current=qe.currentTarget),UN(qe.target)&&(_(!0),S&&S(qe)),w&&w(qe)}),De=()=>{const qe=ce.current;return c&&c!=="button"&&!(qe.tagName==="A"&&qe.href)},Ue=Dd(qe=>{f&&!qe.repeat&&re&&qe.key===" "&&ye.stop(qe,()=>{ye.start(qe)}),qe.target===qe.currentTarget&&De()&&qe.key===" "&&qe.preventDefault(),I&&I(qe),qe.target===qe.currentTarget&&De()&&qe.key==="Enter"&&!d&&(qe.preventDefault(),b&&b(qe))}),Ce=Dd(qe=>{f&&qe.key===" "&&re&&!qe.defaultPrevented&&ye.stop(qe,()=>{ye.pulsate(qe)}),F&&F(qe),b&&qe.target===qe.currentTarget&&De()&&qe.key===" "&&!qe.defaultPrevented&&b(qe)});let Ct=c;Ct==="button"&&(he.href||he.to)&&(Ct=g);const ct={};Ct==="button"?(ct.type=G===void 0?"button":G,ct.disabled=d):(!he.href&&!he.to&&(ct.role="button"),d&&(ct["aria-disabled"]=d));const rt=ei(r,ce),st={...s,centerRipple:o,component:c,disabled:d,disableRipple:u,disableTouchRipple:A,focusRipple:f,tabIndex:H,focusVisible:re},at=tW(st);return n.jsxs(rW,{as:Ct,className:qt(at.root,l),ownerState:st,onBlur:we,onClick:b,onContextMenu:Ae,onFocus:je,onKeyDown:Ue,onKeyUp:Ce,onMouseDown:Z,onMouseLeave:ie,onMouseUp:ae,onDragLeave:me,onTouchEnd:fe,onTouchMove:pe,onTouchStart:te,ref:rt,tabIndex:d?-1:H,type:G,...ct,...he,children:[a,Q?n.jsx(Yz,{ref:X,center:o,...P}):null]})});function zl(e,t,r,s=!1){return Dd(i=>(r&&r(i),s||e[t](i),!0))}function nW(e){return typeof e.main=="string"}function sW(e,t=[]){if(!nW(e))return!1;for(const r of t)if(!e.hasOwnProperty(r)||typeof e[r]!="string")return!1;return!0}function ms(e=[]){return([,t])=>t&&sW(t,e)}function iW(e){return yr("MuiAlert",e)}const RN=jr("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function oW(e){return yr("MuiCircularProgress",e)}jr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Vc=44,Cw=Iu`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Nw=Iu`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,aW=typeof Cw!="string"?nf`
        animation: ${Cw} 1.4s linear infinite;
      `:null,lW=typeof Nw!="string"?nf`
        animation: ${Nw} 1.4s ease-in-out infinite;
      `:null,cW=e=>{const{classes:t,variant:r,color:s,disableShrink:i}=e,o={root:["root",r,`color${Pt(s)}`],svg:["svg"],circle:["circle",`circle${Pt(r)}`,i&&"circleDisableShrink"]};return br(o,oW,t)},uW=Ot("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${Pt(r.color)}`]]}})(Pr(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:aW||{animation:`${Cw} 1.4s linear infinite`}},...Object.entries(e.palette).filter(ms()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),dW=Ot("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),AW=Ot("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${Pt(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(Pr(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:lW||{animation:`${Nw} 1.4s ease-in-out infinite`}}]}))),wi=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:a=!1,size:l=40,style:c,thickness:d=3.6,value:u=0,variant:A="indeterminate",...f}=s,h={...s,color:o,disableShrink:a,size:l,thickness:d,value:u,variant:A},g=cW(h),p={},b={},x={};if(A==="determinate"){const j=2*Math.PI*((Vc-d)/2);p.strokeDasharray=j.toFixed(3),x["aria-valuenow"]=Math.round(u),p.strokeDashoffset=`${((100-u)/100*j).toFixed(3)}px`,b.transform="rotate(-90deg)"}return n.jsx(uW,{className:qt(g.root,i),style:{width:l,height:l,...b,...c},ownerState:h,ref:r,role:"progressbar",...x,...f,children:n.jsx(dW,{className:g.svg,ownerState:h,viewBox:`${Vc/2} ${Vc/2} ${Vc} ${Vc}`,children:n.jsx(AW,{className:g.circle,style:p,ownerState:h,cx:Vc,cy:Vc,r:(Vc-d)/2,fill:"none",strokeWidth:d})})})});function hW(e){return yr("MuiIconButton",e)}const MN=jr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),fW=e=>{const{classes:t,disabled:r,color:s,edge:i,size:o,loading:a}=e,l={root:["root",a&&"loading",r&&"disabled",s!=="default"&&`color${Pt(s)}`,i&&`edge${Pt(i)}`,`size${Pt(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return br(l,hW,t)},mW=Ot(Ym,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.loading&&t.loading,r.color!=="default"&&t[`color${Pt(r.color)}`],r.edge&&t[`edge${Pt(r.edge)}`],t[`size${Pt(r.size)}`]]}})(Pr(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:mn(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Pr(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(ms()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(ms()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:mn((e.vars||e).palette[t].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${MN.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${MN.loading}`]:{color:"transparent"}}))),pW=Ot("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),JI=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:a,color:l="default",disabled:c=!1,disableFocusRipple:d=!1,size:u="medium",id:A,loading:f=null,loadingIndicator:h,...g}=s,p=Fy(A),b=h??n.jsx(wi,{"aria-labelledby":p,color:"inherit",size:16}),x={...s,edge:i,color:l,disabled:c,disableFocusRipple:d,loading:f,loadingIndicator:b,size:u},j=fW(x);return n.jsxs(mW,{id:f?p:A,className:qt(j.root,a),centerRipple:!0,focusRipple:!d,disabled:c||f,ref:r,...g,ownerState:x,children:[typeof f=="boolean"&&n.jsx("span",{className:j.loadingWrapper,style:{display:"contents"},children:n.jsx(pW,{className:j.loadingIndicator,ownerState:x,children:f&&b})}),o]})}),gW=vn(n.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),xW=vn(n.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),yW=vn(n.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),bW=vn(n.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),vW=vn(n.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),wW=e=>{const{variant:t,color:r,severity:s,classes:i}=e,o={root:["root",`color${Pt(r||s)}`,`${t}${Pt(r||s)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return br(o,iW,i)},jW=Ot(Ys,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${Pt(r.color||r.severity)}`]]}})(Pr(({theme:e})=>{const t=e.palette.mode==="light"?Zd:eA,r=e.palette.mode==="light"?eA:Zd;return{...e.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(ms(["light"])).map(([s])=>({props:{colorSeverity:s,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${s}Color`]:t(e.palette[s].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${s}StandardBg`]:r(e.palette[s].light,.9),[`& .${RN.icon}`]:e.vars?{color:e.vars.palette.Alert[`${s}IconColor`]}:{color:e.palette[s].main}}})),...Object.entries(e.palette).filter(ms(["light"])).map(([s])=>({props:{colorSeverity:s,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${s}Color`]:t(e.palette[s].light,.6),border:`1px solid ${(e.vars||e).palette[s].light}`,[`& .${RN.icon}`]:e.vars?{color:e.vars.palette.Alert[`${s}IconColor`]}:{color:e.palette[s].main}}})),...Object.entries(e.palette).filter(ms(["dark"])).map(([s])=>({props:{colorSeverity:s,variant:"filled"},style:{fontWeight:e.typography.fontWeightMedium,...e.vars?{color:e.vars.palette.Alert[`${s}FilledColor`],backgroundColor:e.vars.palette.Alert[`${s}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[s].dark:e.palette[s].main,color:e.palette.getContrastText(e.palette[s].main)}}}))]}})),CW=Ot("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),NW=Ot("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),BW=Ot("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),DN={success:n.jsx(gW,{fontSize:"inherit"}),warning:n.jsx(xW,{fontSize:"inherit"}),error:n.jsx(yW,{fontSize:"inherit"}),info:n.jsx(bW,{fontSize:"inherit"})},yi=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiAlert"}),{action:i,children:o,className:a,closeText:l="Close",color:c,components:d={},componentsProps:u={},icon:A,iconMapping:f=DN,onClose:h,role:g="alert",severity:p="success",slotProps:b={},slots:x={},variant:j="standard",...w}=s,S={...s,color:c,severity:p,variant:j,colorSeverity:c||p},I=wW(S),F={slots:{closeButton:d.CloseButton,closeIcon:d.CloseIcon,...x},slotProps:{...u,...b}},[T,U]=Bn("root",{ref:r,shouldForwardComponentProp:!0,className:qt(I.root,a),elementType:jW,externalForwardedProps:{...F,...w},ownerState:S,additionalProps:{role:g,elevation:0}}),[K,B]=Bn("icon",{className:I.icon,elementType:CW,externalForwardedProps:F,ownerState:S}),[R,D]=Bn("message",{className:I.message,elementType:NW,externalForwardedProps:F,ownerState:S}),[H,P]=Bn("action",{className:I.action,elementType:BW,externalForwardedProps:F,ownerState:S}),[z,G]=Bn("closeButton",{elementType:JI,externalForwardedProps:F,ownerState:S}),[he,ce]=Bn("closeIcon",{elementType:vW,externalForwardedProps:F,ownerState:S});return n.jsxs(T,{...U,children:[A!==!1?n.jsx(K,{...B,children:A||f[p]||DN[p]}):null,n.jsx(R,{...D,children:o}),i!=null?n.jsx(H,{...P,children:i}):null,i==null&&h?n.jsx(H,{...P,children:n.jsx(z,{size:"small","aria-label":l,title:l,color:"inherit",onClick:h,...G,children:n.jsx(he,{fontSize:"small",...ce})})}):null]})});function kW(e){return yr("MuiTypography",e)}const ON=jr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),SW={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},EW=wz(),IW=e=>{const{align:t,gutterBottom:r,noWrap:s,paragraph:i,variant:o,classes:a}=e,l={root:["root",o,e.align!=="inherit"&&`align${Pt(t)}`,r&&"gutterBottom",s&&"noWrap",i&&"paragraph"]};return br(l,kW,a)},TW=Ot("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${Pt(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(Pr(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([r,s])=>r!=="inherit"&&s&&typeof s=="object").map(([r,s])=>({props:{variant:r},style:s})),...Object.entries(e.palette).filter(ms()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,r])=>typeof r=="string").map(([r])=>({props:{color:`text${Pt(r)}`},style:{color:(e.vars||e).palette.text[r]}})),{props:({ownerState:r})=>r.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:r})=>r.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:r})=>r.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:r})=>r.paragraph,style:{marginBottom:16}}]}})),QN={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},jt=m.forwardRef(function(t,r){const{color:s,...i}=Cr({props:t,name:"MuiTypography"}),o=!SW[s],a=EW({...i,...o&&{color:s}}),{align:l="inherit",className:c,component:d,gutterBottom:u=!1,noWrap:A=!1,paragraph:f=!1,variant:h="body1",variantMapping:g=QN,...p}=a,b={...a,align:l,color:s,className:c,component:d,gutterBottom:u,noWrap:A,paragraph:f,variant:h,variantMapping:g},x=d||(f?"p":g[h]||QN[h])||"span",j=IW(b);return n.jsx(TW,{as:x,ref:r,className:qt(j.root,c),...p,ownerState:b,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...p.style}})});function FW(e){return yr("MuiAlertTitle",e)}jr("MuiAlertTitle",["root"]);const LW=e=>{const{classes:t}=e;return br({root:["root"]},FW,t)},PW=Ot(jt,{name:"MuiAlertTitle",slot:"Root"})(Pr(({theme:e})=>({fontWeight:e.typography.fontWeightMedium,marginTop:-2}))),Xl=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiAlertTitle"}),{className:i,...o}=s,a=s,l=LW(a);return n.jsx(PW,{gutterBottom:!0,component:"div",ownerState:a,ref:r,className:qt(l.root,i),...o})});function UW(e){var A;const{elementType:t,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:i=!1,...o}=e,a=i?{}:GI(r,s),{props:l,internalRef:c}=XI({...o,externalSlotProps:a}),d=ei(c,a==null?void 0:a.ref,(A=e.additionalProps)==null?void 0:A.ref);return WI(t,{...l,ref:d},s)}function Lp(e){var t;return parseInt(m.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}function RW(e){return typeof e=="function"?e():e}const MW=m.forwardRef(function(t,r){const{children:s,container:i,disablePortal:o=!1}=t,[a,l]=m.useState(null),c=ei(m.isValidElement(s)?Lp(s):null,r);if(ju(()=>{o||l(RW(i)||document.body)},[i,o]),ju(()=>{if(a&&!o)return SN(r,a),()=>{SN(r,null)}},[r,a,o]),o){if(m.isValidElement(s)){const d={ref:c};return m.cloneElement(s,d)}return s}return a&&KS.createPortal(s,a)}),DW=vn(n.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function OW(e){return yr("MuiChip",e)}const Tr=jr("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),QW=e=>{const{classes:t,disabled:r,size:s,color:i,iconColor:o,onDelete:a,clickable:l,variant:c}=e,d={root:["root",c,r&&"disabled",`size${Pt(s)}`,`color${Pt(i)}`,l&&"clickable",l&&`clickableColor${Pt(i)}`,a&&"deletable",a&&`deletableColor${Pt(i)}`,`${c}${Pt(i)}`],label:["label",`label${Pt(s)}`],avatar:["avatar",`avatar${Pt(s)}`,`avatarColor${Pt(i)}`],icon:["icon",`icon${Pt(s)}`,`iconColor${Pt(o)}`],deleteIcon:["deleteIcon",`deleteIcon${Pt(s)}`,`deleteIconColor${Pt(i)}`,`deleteIcon${Pt(c)}Color${Pt(i)}`]};return br(d,OW,t)},_W=Ot("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:s,iconColor:i,clickable:o,onDelete:a,size:l,variant:c}=r;return[{[`& .${Tr.avatar}`]:t.avatar},{[`& .${Tr.avatar}`]:t[`avatar${Pt(l)}`]},{[`& .${Tr.avatar}`]:t[`avatarColor${Pt(s)}`]},{[`& .${Tr.icon}`]:t.icon},{[`& .${Tr.icon}`]:t[`icon${Pt(l)}`]},{[`& .${Tr.icon}`]:t[`iconColor${Pt(i)}`]},{[`& .${Tr.deleteIcon}`]:t.deleteIcon},{[`& .${Tr.deleteIcon}`]:t[`deleteIcon${Pt(l)}`]},{[`& .${Tr.deleteIcon}`]:t[`deleteIconColor${Pt(s)}`]},{[`& .${Tr.deleteIcon}`]:t[`deleteIcon${Pt(c)}Color${Pt(s)}`]},t.root,t[`size${Pt(l)}`],t[`color${Pt(s)}`],o&&t.clickable,o&&s!=="default"&&t[`clickableColor${Pt(s)})`],a&&t.deletable,a&&s!=="default"&&t[`deletableColor${Pt(s)}`],t[c],t[`${c}${Pt(s)}`]]}})(Pr(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Tr.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Tr.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${Tr.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Tr.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Tr.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Tr.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Tr.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:mn(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:mn(e.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Tr.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Tr.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(ms(["contrastText"])).map(([r])=>({props:{color:r},style:{backgroundColor:(e.vars||e).palette[r].main,color:(e.vars||e).palette[r].contrastText,[`& .${Tr.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[r].contrastTextChannel} / 0.7)`:mn(e.palette[r].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[r].contrastText}}}})),{props:r=>r.iconColor===r.color,style:{[`& .${Tr.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:r=>r.iconColor===r.color&&r.color!=="default",style:{[`& .${Tr.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Tr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:mn(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}},...Object.entries(e.palette).filter(ms(["dark"])).map(([r])=>({props:{color:r,onDelete:!0},style:{[`&.${Tr.focusVisible}`]:{background:(e.vars||e).palette[r].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:mn(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${Tr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:mn(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(ms(["dark"])).map(([r])=>({props:{color:r,clickable:!0},style:{[`&:hover, &.${Tr.focusVisible}`]:{backgroundColor:(e.vars||e).palette[r].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Tr.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Tr.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Tr.avatar}`]:{marginLeft:4},[`& .${Tr.avatarSmall}`]:{marginLeft:2},[`& .${Tr.icon}`]:{marginLeft:4},[`& .${Tr.iconSmall}`]:{marginLeft:2},[`& .${Tr.deleteIcon}`]:{marginRight:5},[`& .${Tr.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(ms()).map(([r])=>({props:{variant:"outlined",color:r},style:{color:(e.vars||e).palette[r].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.7)`:mn(e.palette[r].main,.7)}`,[`&.${Tr.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:mn(e.palette[r].main,e.palette.action.hoverOpacity)},[`&.${Tr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.focusOpacity})`:mn(e.palette[r].main,e.palette.action.focusOpacity)},[`& .${Tr.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.7)`:mn(e.palette[r].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[r].main}}}}))]}})),HW=Ot("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:s}=r;return[t.label,t[`label${Pt(s)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function _N(e){return e.key==="Backspace"||e.key==="Delete"}const L0=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiChip"}),{avatar:i,className:o,clickable:a,color:l="default",component:c,deleteIcon:d,disabled:u=!1,icon:A,label:f,onClick:h,onDelete:g,onKeyDown:p,onKeyUp:b,size:x="medium",variant:j="filled",tabIndex:w,skipFocusWhenDisabled:S=!1,slots:I={},slotProps:F={},...T}=s,U=m.useRef(null),K=ei(U,r),B=me=>{me.stopPropagation(),g&&g(me)},R=me=>{me.currentTarget===me.target&&_N(me)&&me.preventDefault(),p&&p(me)},D=me=>{me.currentTarget===me.target&&g&&_N(me)&&g(me),b&&b(me)},H=a!==!1&&h?!0:a,P=H||g?Ym:c||"div",z={...s,component:P,disabled:u,size:x,color:l,iconColor:m.isValidElement(A)&&A.props.color||l,onDelete:!!g,clickable:H,variant:j},G=QW(z),he=P===Ym?{component:c||"div",focusVisibleClassName:G.focusVisible,...g&&{disableRipple:!0}}:{};let ce=null;g&&(ce=d&&m.isValidElement(d)?m.cloneElement(d,{className:qt(d.props.className,G.deleteIcon),onClick:B}):n.jsx(DW,{className:G.deleteIcon,onClick:B}));let ye=null;i&&m.isValidElement(i)&&(ye=m.cloneElement(i,{className:qt(G.avatar,i.props.className)}));let X=null;A&&m.isValidElement(A)&&(X=m.cloneElement(A,{className:qt(G.icon,A.props.className)}));const re={slots:I,slotProps:F},[_,Q]=Bn("root",{elementType:_W,externalForwardedProps:{...re,...T},ownerState:z,shouldForwardComponentProp:!0,ref:K,className:qt(G.root,o),additionalProps:{disabled:H&&u?!0:void 0,tabIndex:S&&u?-1:w,...he},getSlotProps:me=>({...me,onClick:ae=>{var ie;(ie=me.onClick)==null||ie.call(me,ae),h==null||h(ae)},onKeyDown:ae=>{var ie;(ie=me.onKeyDown)==null||ie.call(me,ae),R==null||R(ae)},onKeyUp:ae=>{var ie;(ie=me.onKeyUp)==null||ie.call(me,ae),D==null||D(ae)}})}),[Z,Ae]=Bn("label",{elementType:HW,externalForwardedProps:re,ownerState:z,className:G.label});return n.jsxs(_,{as:P,...Q,children:[ye||X,n.jsx(Z,{...Ae,children:f}),ce]})});function Og(e){return parseInt(e,10)||0}const $W={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function VW(e){for(const t in e)return!1;return!0}function HN(e){return VW(e)||e.outerHeightStyle===0&&!e.overflowing}const KW=m.forwardRef(function(t,r){const{onChange:s,maxRows:i,minRows:o=1,style:a,value:l,...c}=t,{current:d}=m.useRef(l!=null),u=m.useRef(null),A=ei(r,u),f=m.useRef(null),h=m.useRef(null),g=m.useCallback(()=>{const w=u.current,S=h.current;if(!w||!S)return;const F=uc(w).getComputedStyle(w);if(F.width==="0px")return{outerHeightStyle:0,overflowing:!1};S.style.width=F.width,S.value=w.value||t.placeholder||"x",S.value.slice(-1)===`
`&&(S.value+=" ");const T=F.boxSizing,U=Og(F.paddingBottom)+Og(F.paddingTop),K=Og(F.borderBottomWidth)+Og(F.borderTopWidth),B=S.scrollHeight;S.value="x";const R=S.scrollHeight;let D=B;o&&(D=Math.max(Number(o)*R,D)),i&&(D=Math.min(Number(i)*R,D)),D=Math.max(D,R);const H=D+(T==="border-box"?U+K:0),P=Math.abs(D-B)<=1;return{outerHeightStyle:H,overflowing:P}},[i,o,t.placeholder]),p=Dd(()=>{const w=u.current,S=g();if(!w||!S||HN(S))return!1;const I=S.outerHeightStyle;return f.current!=null&&f.current!==I}),b=m.useCallback(()=>{const w=u.current,S=g();if(!w||!S||HN(S))return;const I=S.outerHeightStyle;f.current!==I&&(f.current=I,w.style.height=`${I}px`),w.style.overflow=S.overflowing?"hidden":""},[g]),x=m.useRef(-1);ju(()=>{const w=_I(b),S=u==null?void 0:u.current;if(!S)return;const I=uc(S);I.addEventListener("resize",w);let F;return typeof ResizeObserver<"u"&&(F=new ResizeObserver(()=>{p()&&(F.unobserve(S),cancelAnimationFrame(x.current),b(),x.current=requestAnimationFrame(()=>{F.observe(S)}))}),F.observe(S)),()=>{w.clear(),cancelAnimationFrame(x.current),I.removeEventListener("resize",w),F&&F.disconnect()}},[g,b,p]),ju(()=>{b()});const j=w=>{d||b();const S=w.target,I=S.value.length,F=S.value.endsWith(`
`),T=S.selectionStart===I;F&&T&&S.setSelectionRange(I,I),s&&s(w)};return n.jsxs(m.Fragment,{children:[n.jsx("textarea",{value:l,onChange:j,ref:A,rows:o,style:a,...c}),n.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:h,tabIndex:-1,style:{...$W.shadow,...a,paddingTop:0,paddingBottom:0}})]})});function Zm(e){return typeof e=="string"}function of({props:e,states:t,muiFormControl:r}){return t.reduce((s,i)=>(s[i]=e[i],r&&typeof e[i]>"u"&&(s[i]=r[i]),s),{})}const g5=m.createContext(void 0);function af(){return m.useContext(g5)}function $N(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function cx(e,t=!1){return e&&($N(e.value)&&e.value!==""||t&&$N(e.defaultValue)&&e.defaultValue!=="")}function zW(e){return e.startAdornment}function WW(e){return yr("MuiInputBase",e)}const zh=jr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var VN;const Ly=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${Pt(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},Py=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},GW=e=>{const{classes:t,color:r,disabled:s,error:i,endAdornment:o,focused:a,formControl:l,fullWidth:c,hiddenLabel:d,multiline:u,readOnly:A,size:f,startAdornment:h,type:g}=e,p={root:["root",`color${Pt(r)}`,s&&"disabled",i&&"error",c&&"fullWidth",a&&"focused",l&&"formControl",f&&f!=="medium"&&`size${Pt(f)}`,u&&"multiline",h&&"adornedStart",o&&"adornedEnd",d&&"hiddenLabel",A&&"readOnly"],input:["input",s&&"disabled",g==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",h&&"inputAdornedStart",o&&"inputAdornedEnd",A&&"readOnly"]};return br(p,WW,t)},Uy=Ot("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Ly})(Pr(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${zh.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:r})=>t.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),Ry=Ot("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Py})(Pr(({theme:e})=>{const t=e.palette.mode==="light",r={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},s={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${zh.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${zh.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),KN=vz({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),x5=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:a,className:l,color:c,components:d={},componentsProps:u={},defaultValue:A,disabled:f,disableInjectingGlobalStyles:h,endAdornment:g,error:p,fullWidth:b=!1,id:x,inputComponent:j="input",inputProps:w={},inputRef:S,margin:I,maxRows:F,minRows:T,multiline:U=!1,name:K,onBlur:B,onChange:R,onClick:D,onFocus:H,onKeyDown:P,onKeyUp:z,placeholder:G,readOnly:he,renderSuffix:ce,rows:ye,size:X,slotProps:re={},slots:_={},startAdornment:Q,type:Z="text",value:Ae,...me}=s,ae=w.value!=null?w.value:Ae,{current:ie}=m.useRef(ae!=null),te=m.useRef(),fe=m.useCallback(ee=>{},[]),pe=ei(te,S,w.ref,fe),[we,je]=m.useState(!1),De=af(),Ue=of({props:s,muiFormControl:De,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ue.focused=De?De.focused:we,m.useEffect(()=>{!De&&f&&we&&(je(!1),B&&B())},[De,f,we,B]);const Ce=De&&De.onFilled,Ct=De&&De.onEmpty,ct=m.useCallback(ee=>{cx(ee)?Ce&&Ce():Ct&&Ct()},[Ce,Ct]);ju(()=>{ie&&ct({value:ae})},[ae,ct,ie]);const rt=ee=>{H&&H(ee),w.onFocus&&w.onFocus(ee),De&&De.onFocus?De.onFocus(ee):je(!0)},st=ee=>{B&&B(ee),w.onBlur&&w.onBlur(ee),De&&De.onBlur?De.onBlur(ee):je(!1)},at=(ee,...ve)=>{if(!ie){const Se=ee.target||te.current;if(Se==null)throw new Error(cc(1));ct({value:Se.value})}w.onChange&&w.onChange(ee,...ve),R&&R(ee,...ve)};m.useEffect(()=>{ct(te.current)},[]);const qe=ee=>{te.current&&ee.currentTarget===ee.target&&te.current.focus(),D&&D(ee)};let St=j,kt=w;U&&St==="input"&&(ye?kt={type:void 0,minRows:ye,maxRows:ye,...kt}:kt={type:void 0,maxRows:F,minRows:T,...kt},St=KW);const He=ee=>{ct(ee.animationName==="mui-auto-fill-cancel"?te.current:{value:"x"})};m.useEffect(()=>{De&&De.setAdornedStart(!!Q)},[De,Q]);const Le={...s,color:Ue.color||"primary",disabled:Ue.disabled,endAdornment:g,error:Ue.error,focused:Ue.focused,formControl:De,fullWidth:b,hiddenLabel:Ue.hiddenLabel,multiline:U,size:Ue.size,startAdornment:Q,type:Z},q=GW(Le),M=_.root||d.Root||Uy,$=re.root||u.root||{},J=_.input||d.Input||Ry;return kt={...kt,...re.input??u.input},n.jsxs(m.Fragment,{children:[!h&&typeof KN=="function"&&(VN||(VN=n.jsx(KN,{}))),n.jsxs(M,{...$,ref:r,onClick:qe,...me,...!Zm(M)&&{ownerState:{...Le,...$.ownerState}},className:qt(q.root,$.className,l,he&&"MuiInputBase-readOnly"),children:[Q,n.jsx(g5.Provider,{value:null,children:n.jsx(J,{"aria-invalid":Ue.error,"aria-describedby":i,autoComplete:o,autoFocus:a,defaultValue:A,disabled:Ue.disabled,id:x,onAnimationStart:He,name:K,placeholder:G,readOnly:he,required:Ue.required,rows:ye,value:ae,onKeyDown:P,onKeyUp:z,type:Z,...kt,...!Zm(J)&&{as:St,ownerState:{...Le,...kt.ownerState}},ref:pe,className:qt(q.input,kt.className,he&&"MuiInputBase-readOnly"),onBlur:st,onChange:at,onFocus:rt})}),g,ce?ce({...Ue,startAdornment:Q}):null]})]})});function qW(e){return yr("MuiInput",e)}const Of={...zh,...jr("MuiInput",["root","underline","input"])};function XW(e){return yr("MuiOutlinedInput",e)}const nl={...zh,...jr("MuiOutlinedInput",["root","notchedOutline","input"])};function JW(e){return yr("MuiFilledInput",e)}const id={...zh,...jr("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},YW=vn(n.jsx("path",{d:"M7 10l5 5 5-5z"})),ZW={entering:{opacity:1},entered:{opacity:1}},eG=m.forwardRef(function(t,r){const s=Ty(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,easing:c,in:d,onEnter:u,onEntered:A,onEntering:f,onExit:h,onExited:g,onExiting:p,style:b,timeout:x=i,TransitionComponent:j=jl,...w}=t,S=m.useRef(null),I=ei(S,Lp(l),r),F=P=>z=>{if(P){const G=S.current;z===void 0?P(G):P(G,z)}},T=F(f),U=F((P,z)=>{zI(P);const G=ax({style:b,timeout:x,easing:c},{mode:"enter"});P.style.webkitTransition=s.transitions.create("opacity",G),P.style.transition=s.transitions.create("opacity",G),u&&u(P,z)}),K=F(A),B=F(p),R=F(P=>{const z=ax({style:b,timeout:x,easing:c},{mode:"exit"});P.style.webkitTransition=s.transitions.create("opacity",z),P.style.transition=s.transitions.create("opacity",z),h&&h(P)}),D=F(g),H=P=>{o&&o(S.current,P)};return n.jsx(j,{appear:a,in:d,nodeRef:S,onEnter:U,onEntered:K,onEntering:T,onExit:R,onExited:D,onExiting:B,addEndListener:H,timeout:x,...w,children:(P,{ownerState:z,...G})=>m.cloneElement(l,{style:{opacity:0,visibility:P==="exited"&&!d?"hidden":void 0,...ZW[P],...b,...l.props.style},ref:I,...G})})});function tG(e){return yr("MuiBackdrop",e)}jr("MuiBackdrop",["root","invisible"]);const rG=e=>{const{classes:t,invisible:r}=e;return br({root:["root",r&&"invisible"]},tG,t)},nG=Ot("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),sG=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiBackdrop"}),{children:i,className:o,component:a="div",invisible:l=!1,open:c,components:d={},componentsProps:u={},slotProps:A={},slots:f={},TransitionComponent:h,transitionDuration:g,...p}=s,b={...s,component:a,invisible:l},x=rG(b),j={transition:h,root:d.Root,...f},w={...u,...A},S={slots:j,slotProps:w},[I,F]=Bn("root",{elementType:nG,externalForwardedProps:S,className:qt(x.root,o),ownerState:b}),[T,U]=Bn("transition",{elementType:eG,externalForwardedProps:S,ownerState:b});return n.jsx(T,{in:c,timeout:g,...p,...U,children:n.jsx(I,{"aria-hidden":!0,...F,classes:x,ref:r,children:i})})}),iG=jr("MuiBox",["root"]),oG=OI(),Bt=XV({themeId:qx,defaultTheme:oG,defaultClassName:iG.root,generateClassName:BI.generate});function aG(e){return yr("MuiButton",e)}const od=jr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),lG=m.createContext({}),cG=m.createContext(void 0),uG=e=>{const{color:t,disableElevation:r,fullWidth:s,size:i,variant:o,loading:a,loadingPosition:l,classes:c}=e,d={root:["root",a&&"loading",o,`${o}${Pt(t)}`,`size${Pt(i)}`,`${o}Size${Pt(i)}`,`color${Pt(t)}`,r&&"disableElevation",s&&"fullWidth",a&&`loadingPosition${Pt(l)}`],startIcon:["icon","startIcon",`iconSize${Pt(i)}`],endIcon:["icon","endIcon",`iconSize${Pt(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},u=br(d,aG,c);return{...c,...u}},YI=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],dG=Ot(Ym,{shouldForwardProp:e=>sa(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${Pt(r.color)}`],t[`size${Pt(r.size)}`],t[`${r.variant}Size${Pt(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,r.loading&&t.loading]}})(Pr(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${od.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${od.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${od.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${od.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(ms()).map(([s])=>({props:{color:s},style:{"--variant-textColor":(e.vars||e).palette[s].main,"--variant-outlinedColor":(e.vars||e).palette[s].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[s].mainChannel} / 0.5)`:mn(e.palette[s].main,.5),"--variant-containedColor":(e.vars||e).palette[s].contrastText,"--variant-containedBg":(e.vars||e).palette[s].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[s].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[s].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:mn(e.palette[s].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[s].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[s].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:mn(e.palette[s].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:mn(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:mn(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${od.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${od.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${od.loading}`]:{color:"transparent"}}}]}})),AG=Ot("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,r.loading&&t.startIconLoadingStart,t[`iconSize${Pt(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...YI]})),hG=Ot("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,r.loading&&t.endIconLoadingEnd,t[`iconSize${Pt(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...YI]})),fG=Ot("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),zN=Ot("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Vr=m.forwardRef(function(t,r){const s=m.useContext(lG),i=m.useContext(cG),o=Jm(s,t),a=Cr({props:o,name:"MuiButton"}),{children:l,color:c="primary",component:d="button",className:u,disabled:A=!1,disableElevation:f=!1,disableFocusRipple:h=!1,endIcon:g,focusVisibleClassName:p,fullWidth:b=!1,id:x,loading:j=null,loadingIndicator:w,loadingPosition:S="center",size:I="medium",startIcon:F,type:T,variant:U="text",...K}=a,B=Fy(x),R=w??n.jsx(wi,{"aria-labelledby":B,color:"inherit",size:16}),D={...a,color:c,component:d,disabled:A,disableElevation:f,disableFocusRipple:h,fullWidth:b,loading:j,loadingIndicator:R,loadingPosition:S,size:I,type:T,variant:U},H=uG(D),P=(F||j&&S==="start")&&n.jsx(AG,{className:H.startIcon,ownerState:D,children:F||n.jsx(zN,{className:H.loadingIconPlaceholder,ownerState:D})}),z=(g||j&&S==="end")&&n.jsx(hG,{className:H.endIcon,ownerState:D,children:g||n.jsx(zN,{className:H.loadingIconPlaceholder,ownerState:D})}),G=i||"",he=typeof j=="boolean"?n.jsx("span",{className:H.loadingWrapper,style:{display:"contents"},children:j&&n.jsx(fG,{className:H.loadingIndicator,ownerState:D,children:R})}):null;return n.jsxs(dG,{ownerState:D,className:qt(s.className,H.root,u,G),component:d,disabled:A||j,focusRipple:!h,focusVisibleClassName:qt(H.focusVisible,p),ref:r,type:T,id:j?B:x,...K,classes:H,children:[P,S!=="end"&&he,l,S==="end"&&he,z]})});function mG(e){return yr("MuiCard",e)}jr("MuiCard",["root"]);const pG=e=>{const{classes:t}=e;return br({root:["root"]},mG,t)},gG=Ot(Ys,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),Bw=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiCard"}),{className:i,raised:o=!1,...a}=s,l={...s,raised:o},c=pG(l);return n.jsx(gG,{className:qt(c.root,i),elevation:o?8:void 0,ref:r,ownerState:l,...a})});function xG(e){return yr("MuiCardContent",e)}jr("MuiCardContent",["root"]);const yG=e=>{const{classes:t}=e;return br({root:["root"]},xG,t)},bG=Ot("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),kw=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiCardContent"}),{className:i,component:o="div",...a}=s,l={...s,component:o},c=yG(l);return n.jsx(bG,{as:o,className:qt(c.root,i),ownerState:l,ref:r,...a})});function ZI(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function vG(e){const t=Ea(e);return t.body===e?uc(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function gm(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function WN(e){return parseInt(uc(e).getComputedStyle(e).paddingRight,10)||0}function wG(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),s=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||s}function GN(e,t,r,s,i){const o=[t,r,...s];[].forEach.call(e.children,a=>{const l=!o.includes(a),c=!wG(a);l&&c&&gm(a,i)})}function Ib(e,t){let r=-1;return e.some((s,i)=>t(s)?(r=i,!0):!1),r}function jG(e,t){const r=[],s=e.container;if(!t.disableScrollLock){if(vG(s)){const a=ZI(uc(s));r.push({value:s.style.paddingRight,property:"padding-right",el:s}),s.style.paddingRight=`${WN(s)+a}px`;const l=Ea(s).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{r.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${WN(c)+a}px`})}let o;if(s.parentNode instanceof DocumentFragment)o=Ea(s).body;else{const a=s.parentElement,l=uc(s);o=(a==null?void 0:a.nodeName)==="HTML"&&l.getComputedStyle(a).overflowY==="scroll"?a:s}r.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{r.forEach(({value:o,el:a,property:l})=>{o?a.style.setProperty(l,o):a.style.removeProperty(l)})}}function CG(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class NG{constructor(){this.modals=[],this.containers=[]}add(t,r){let s=this.modals.indexOf(t);if(s!==-1)return s;s=this.modals.length,this.modals.push(t),t.modalRef&&gm(t.modalRef,!1);const i=CG(r);GN(r,t.mount,t.modalRef,i,!0);const o=Ib(this.containers,a=>a.container===r);return o!==-1?(this.containers[o].modals.push(t),s):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:i}),s)}mount(t,r){const s=Ib(this.containers,o=>o.modals.includes(t)),i=this.containers[s];i.restore||(i.restore=jG(i,r))}remove(t,r=!0){const s=this.modals.indexOf(t);if(s===-1)return s;const i=Ib(this.containers,a=>a.modals.includes(t)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(s,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&gm(t.modalRef,r),GN(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=o.modals[o.modals.length-1];a.modalRef&&gm(a.modalRef,!1)}return s}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const BG=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function kG(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function SG(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=s=>e.ownerDocument.querySelector(`input[type="radio"]${s}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function EG(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||SG(e))}function IG(e){const t=[],r=[];return Array.from(e.querySelectorAll(BG)).forEach((s,i)=>{const o=kG(s);o===-1||!EG(s)||(o===0?t.push(s):r.push({documentOrder:i,tabIndex:o,node:s}))}),r.sort((s,i)=>s.tabIndex===i.tabIndex?s.documentOrder-i.documentOrder:s.tabIndex-i.tabIndex).map(s=>s.node).concat(t)}function TG(){return!0}function FG(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:s=!1,disableRestoreFocus:i=!1,getTabbable:o=IG,isEnabled:a=TG,open:l}=e,c=m.useRef(!1),d=m.useRef(null),u=m.useRef(null),A=m.useRef(null),f=m.useRef(null),h=m.useRef(!1),g=m.useRef(null),p=ei(Lp(t),g),b=m.useRef(null);m.useEffect(()=>{!l||!g.current||(h.current=!r)},[r,l]),m.useEffect(()=>{if(!l||!g.current)return;const w=Ea(g.current);return g.current.contains(w.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),h.current&&g.current.focus()),()=>{i||(A.current&&A.current.focus&&(c.current=!0,A.current.focus()),A.current=null)}},[l]),m.useEffect(()=>{if(!l||!g.current)return;const w=Ea(g.current),S=T=>{b.current=T,!(s||!a()||T.key!=="Tab")&&w.activeElement===g.current&&T.shiftKey&&(c.current=!0,u.current&&u.current.focus())},I=()=>{var K,B;const T=g.current;if(T===null)return;if(!w.hasFocus()||!a()||c.current){c.current=!1;return}if(T.contains(w.activeElement)||s&&w.activeElement!==d.current&&w.activeElement!==u.current)return;if(w.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!h.current)return;let U=[];if((w.activeElement===d.current||w.activeElement===u.current)&&(U=o(g.current)),U.length>0){const R=!!((K=b.current)!=null&&K.shiftKey&&((B=b.current)==null?void 0:B.key)==="Tab"),D=U[0],H=U[U.length-1];typeof D!="string"&&typeof H!="string"&&(R?H.focus():D.focus())}else T.focus()};w.addEventListener("focusin",I),w.addEventListener("keydown",S,!0);const F=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&I()},50);return()=>{clearInterval(F),w.removeEventListener("focusin",I),w.removeEventListener("keydown",S,!0)}},[r,s,i,a,l,o]);const x=w=>{A.current===null&&(A.current=w.relatedTarget),h.current=!0,f.current=w.target;const S=t.props.onFocus;S&&S(w)},j=w=>{A.current===null&&(A.current=w.relatedTarget),h.current=!0};return n.jsxs(m.Fragment,{children:[n.jsx("div",{tabIndex:l?0:-1,onFocus:j,ref:d,"data-testid":"sentinelStart"}),m.cloneElement(t,{ref:p,onFocus:x}),n.jsx("div",{tabIndex:l?0:-1,onFocus:j,ref:u,"data-testid":"sentinelEnd"})]})}function LG(e){return typeof e=="function"?e():e}function PG(e){return e?e.props.hasOwnProperty("in"):!1}const qN=()=>{},Qg=new NG;function UG(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:s=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:c,open:d,rootRef:u}=e,A=m.useRef({}),f=m.useRef(null),h=m.useRef(null),g=ei(h,u),[p,b]=m.useState(!d),x=PG(l);let j=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(j=!1);const w=()=>Ea(f.current),S=()=>(A.current.modalRef=h.current,A.current.mount=f.current,A.current),I=()=>{Qg.mount(S(),{disableScrollLock:s}),h.current&&(h.current.scrollTop=0)},F=Dd(()=>{const z=LG(t)||w().body;Qg.add(S(),z),h.current&&I()}),T=()=>Qg.isTopModal(S()),U=Dd(z=>{f.current=z,z&&(d&&T()?I():h.current&&gm(h.current,j))}),K=m.useCallback(()=>{Qg.remove(S(),j)},[j]);m.useEffect(()=>()=>{K()},[K]),m.useEffect(()=>{d?F():(!x||!i)&&K()},[d,K,x,i,F]);const B=z=>G=>{var he;(he=z.onKeyDown)==null||he.call(z,G),!(G.key!=="Escape"||G.which===229||!T())&&(r||(G.stopPropagation(),c&&c(G,"escapeKeyDown")))},R=z=>G=>{var he;(he=z.onClick)==null||he.call(z,G),G.target===G.currentTarget&&c&&c(G,"backdropClick")};return{getRootProps:(z={})=>{const G=qI(e);delete G.onTransitionEnter,delete G.onTransitionExited;const he={...G,...z};return{role:"presentation",...he,onKeyDown:B(he),ref:g}},getBackdropProps:(z={})=>{const G=z;return{"aria-hidden":!0,...G,onClick:R(G),open:d}},getTransitionProps:()=>{const z=()=>{b(!1),o&&o()},G=()=>{b(!0),a&&a(),i&&K()};return{onEnter:kN(z,(l==null?void 0:l.props.onEnter)??qN),onExited:kN(G,(l==null?void 0:l.props.onExited)??qN)}},rootRef:g,portalRef:U,isTopModal:T,exited:p,hasTransition:x}}function RG(e){return yr("MuiModal",e)}jr("MuiModal",["root","hidden","backdrop"]);const MG=e=>{const{open:t,exited:r,classes:s}=e;return br({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},RG,s)},DG=Ot("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(Pr(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),OG=Ot(sG,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),QG=m.forwardRef(function(t,r){const s=Cr({name:"MuiModal",props:t}),{BackdropComponent:i=OG,BackdropProps:o,classes:a,className:l,closeAfterTransition:c=!1,children:d,container:u,component:A,components:f={},componentsProps:h={},disableAutoFocus:g=!1,disableEnforceFocus:p=!1,disableEscapeKeyDown:b=!1,disablePortal:x=!1,disableRestoreFocus:j=!1,disableScrollLock:w=!1,hideBackdrop:S=!1,keepMounted:I=!1,onClose:F,onTransitionEnter:T,onTransitionExited:U,open:K,slotProps:B={},slots:R={},theme:D,...H}=s,P={...s,closeAfterTransition:c,disableAutoFocus:g,disableEnforceFocus:p,disableEscapeKeyDown:b,disablePortal:x,disableRestoreFocus:j,disableScrollLock:w,hideBackdrop:S,keepMounted:I},{getRootProps:z,getBackdropProps:G,getTransitionProps:he,portalRef:ce,isTopModal:ye,exited:X,hasTransition:re}=UG({...P,rootRef:r}),_={...P,exited:X},Q=MG(_),Z={};if(d.props.tabIndex===void 0&&(Z.tabIndex="-1"),re){const{onEnter:fe,onExited:pe}=he();Z.onEnter=fe,Z.onExited=pe}const Ae={slots:{root:f.Root,backdrop:f.Backdrop,...R},slotProps:{...h,...B}},[me,ae]=Bn("root",{ref:r,elementType:DG,externalForwardedProps:{...Ae,...H,component:A},getSlotProps:z,ownerState:_,className:qt(l,Q==null?void 0:Q.root,!_.open&&_.exited&&(Q==null?void 0:Q.hidden))}),[ie,te]=Bn("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:Ae,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:fe=>G({...fe,onClick:pe=>{fe!=null&&fe.onClick&&fe.onClick(pe)}}),className:qt(o==null?void 0:o.className,Q==null?void 0:Q.backdrop),ownerState:_});return!I&&!K&&(!re||X)?null:n.jsx(MW,{ref:ce,container:u,disablePortal:x,children:n.jsxs(me,{...ae,children:[!S&&i?n.jsx(ie,{...te}):null,n.jsx(FG,{disableEnforceFocus:p,disableAutoFocus:g,disableRestoreFocus:j,isEnabled:ye,open:K,children:m.cloneElement(d,Z)})]})})});function _G(e){return yr("MuiDivider",e)}jr("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const HG=e=>{const{absolute:t,children:r,classes:s,flexItem:i,light:o,orientation:a,textAlign:l,variant:c}=e;return br({root:["root",t&&"absolute",c,o&&"light",a==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&a==="vertical"&&"withChildrenVertical",l==="right"&&a!=="vertical"&&"textAlignRight",l==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},_G,s)},$G=Ot("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,r.orientation==="vertical"&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&r.orientation==="vertical"&&t.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&t.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&t.textAlignLeft]}})(Pr(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:mn(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),VG=Ot("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,r.orientation==="vertical"&&t.wrapperVertical]}})(Pr(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),Zl=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiDivider"}),{absolute:i=!1,children:o,className:a,orientation:l="horizontal",component:c=o||l==="vertical"?"div":"hr",flexItem:d=!1,light:u=!1,role:A=c!=="hr"?"separator":void 0,textAlign:f="center",variant:h="fullWidth",...g}=s,p={...s,absolute:i,component:c,flexItem:d,light:u,orientation:l,role:A,textAlign:f,variant:h},b=HG(p);return n.jsx($G,{as:c,className:qt(b.root,a),role:A,ref:r,ownerState:p,"aria-orientation":A==="separator"&&(c!=="hr"||l==="vertical")?l:void 0,...g,children:o?n.jsx(VG,{className:b.wrapper,ownerState:p,children:o}):null})});Zl&&(Zl.muiSkipListHighlight=!0);const KG=e=>{const{classes:t,disableUnderline:r,startAdornment:s,endAdornment:i,size:o,hiddenLabel:a,multiline:l}=e,c={root:["root",!r&&"underline",s&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${Pt(o)}`,a&&"hiddenLabel",l&&"multiline"],input:["input"]},d=br(c,JW,t);return{...t,...d}},zG=Ot(Uy,{shouldForwardProp:e=>sa(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...Ly(e,t),!r.disableUnderline&&t.underline]}})(Pr(({theme:e})=>{const t=e.palette.mode==="light",r=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s}},[`&.${id.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s},[`&.${id.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${id.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${id.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${id.disabled}, .${id.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${id.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(ms()).map(([a])=>{var l;return{props:{disableUnderline:!1,color:a},style:{"&::after":{borderBottom:`2px solid ${(l=(e.vars||e).palette[a])==null?void 0:l.main}`}}}}),{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:12}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:12}},{props:({ownerState:a})=>a.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:a,size:l})=>a.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel&&a.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),WG=Ot(Ry,{name:"MuiFilledInput",slot:"Input",overridesResolver:Py})(Pr(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),y5=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:a,fullWidth:l=!1,hiddenLabel:c,inputComponent:d="input",multiline:u=!1,slotProps:A,slots:f={},type:h="text",...g}=s,p={...s,disableUnderline:i,fullWidth:l,inputComponent:d,multiline:u,type:h},b=KG(s),x={root:{ownerState:p},input:{ownerState:p}},j=A??a?Hs(x,A??a):x,w=f.root??o.Root??zG,S=f.input??o.Input??WG;return n.jsx(x5,{slots:{root:w,input:S},slotProps:j,fullWidth:l,inputComponent:d,multiline:u,ref:r,type:h,...g,classes:b})});y5.muiName="Input";function GG(e){return yr("MuiFormControl",e)}jr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const qG=e=>{const{classes:t,margin:r,fullWidth:s}=e,i={root:["root",r!=="none"&&`margin${Pt(r)}`,s&&"fullWidth"]};return br(i,GG,t)},XG=Ot("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`margin${Pt(r.margin)}`],r.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),JG=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiFormControl"}),{children:i,className:o,color:a="primary",component:l="div",disabled:c=!1,error:d=!1,focused:u,fullWidth:A=!1,hiddenLabel:f=!1,margin:h="none",required:g=!1,size:p="medium",variant:b="outlined",...x}=s,j={...s,color:a,component:l,disabled:c,error:d,fullWidth:A,hiddenLabel:f,margin:h,required:g,size:p,variant:b},w=qG(j),[S,I]=m.useState(()=>{let z=!1;return i&&m.Children.forEach(i,G=>{if(!pm(G,["Input","Select"]))return;const he=pm(G,["Select"])?G.props.input:G;he&&zW(he.props)&&(z=!0)}),z}),[F,T]=m.useState(()=>{let z=!1;return i&&m.Children.forEach(i,G=>{pm(G,["Input","Select"])&&(cx(G.props,!0)||cx(G.props.inputProps,!0))&&(z=!0)}),z}),[U,K]=m.useState(!1);c&&U&&K(!1);const B=u!==void 0&&!c?u:U;let R;m.useRef(!1);const D=m.useCallback(()=>{T(!0)},[]),H=m.useCallback(()=>{T(!1)},[]),P=m.useMemo(()=>({adornedStart:S,setAdornedStart:I,color:a,disabled:c,error:d,filled:F,focused:B,fullWidth:A,hiddenLabel:f,size:p,onBlur:()=>{K(!1)},onFocus:()=>{K(!0)},onEmpty:H,onFilled:D,registerEffect:R,required:g,variant:b}),[S,a,c,d,F,B,A,f,R,H,D,g,p,b]);return n.jsx(g5.Provider,{value:P,children:n.jsx(XG,{as:l,ownerState:j,className:qt(w.root,o),ref:r,...x,children:i})})});function YG(e){return yr("MuiFormHelperText",e)}const XN=jr("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var JN;const ZG=e=>{const{classes:t,contained:r,size:s,disabled:i,error:o,filled:a,focused:l,required:c}=e,d={root:["root",i&&"disabled",o&&"error",s&&`size${Pt(s)}`,r&&"contained",l&&"focused",a&&"filled",c&&"required"]};return br(d,YG,t)},eq=Ot("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${Pt(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(Pr(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${XN.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${XN.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),tq=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:a="p",disabled:l,error:c,filled:d,focused:u,margin:A,required:f,variant:h,...g}=s,p=af(),b=of({props:s,muiFormControl:p,states:["variant","size","disabled","error","filled","focused","required"]}),x={...s,component:a,contained:b.variant==="filled"||b.variant==="outlined",variant:b.variant,size:b.size,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required};delete x.ownerState;const j=ZG(x);return n.jsx(eq,{as:a,className:qt(j.root,o),ref:r,...g,ownerState:x,children:i===" "?JN||(JN=n.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function rq(e){return yr("MuiFormLabel",e)}const xm=jr("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),nq=e=>{const{classes:t,color:r,focused:s,disabled:i,error:o,filled:a,required:l}=e,c={root:["root",`color${Pt(r)}`,i&&"disabled",o&&"error",a&&"filled",s&&"focused",l&&"required"],asterisk:["asterisk",o&&"error"]};return br(c,rq,t)},sq=Ot("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color==="secondary"&&t.colorSecondary,r.filled&&t.filled]}})(Pr(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(ms()).map(([t])=>({props:{color:t},style:{[`&.${xm.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${xm.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${xm.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),iq=Ot("span",{name:"MuiFormLabel",slot:"Asterisk"})(Pr(({theme:e})=>({[`&.${xm.error}`]:{color:(e.vars||e).palette.error.main}}))),oq=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiFormLabel"}),{children:i,className:o,color:a,component:l="label",disabled:c,error:d,filled:u,focused:A,required:f,...h}=s,g=af(),p=of({props:s,muiFormControl:g,states:["color","required","focused","disabled","error","filled"]}),b={...s,color:p.color||"primary",component:l,disabled:p.disabled,error:p.error,filled:p.filled,focused:p.focused,required:p.required},x=nq(b);return n.jsxs(sq,{as:l,ownerState:b,className:qt(x.root,o),ref:r,...h,children:[i,p.required&&n.jsxs(iq,{ownerState:b,"aria-hidden":!0,className:x.asterisk,children:["","*"]})]})}),Ss=RK({createStyledComponent:Ot("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.container&&t.container]}}),componentName:"MuiGrid",useThemeProps:e=>Cr({props:e,name:"MuiGrid"}),useTheme:Ty});function Sw(e){return`scale(${e}, ${e**2})`}const aq={entering:{opacity:1,transform:Sw(1)},entered:{opacity:1,transform:"none"}},Tb=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Ew=m.forwardRef(function(t,r){const{addEndListener:s,appear:i=!0,children:o,easing:a,in:l,onEnter:c,onEntered:d,onEntering:u,onExit:A,onExited:f,onExiting:h,style:g,timeout:p="auto",TransitionComponent:b=jl,...x}=t,j=KI(),w=m.useRef(),S=Ty(),I=m.useRef(null),F=ei(I,Lp(o),r),T=z=>G=>{if(z){const he=I.current;G===void 0?z(he):z(he,G)}},U=T(u),K=T((z,G)=>{zI(z);const{duration:he,delay:ce,easing:ye}=ax({style:g,timeout:p,easing:a},{mode:"enter"});let X;p==="auto"?(X=S.transitions.getAutoHeightDuration(z.clientHeight),w.current=X):X=he,z.style.transition=[S.transitions.create("opacity",{duration:X,delay:ce}),S.transitions.create("transform",{duration:Tb?X:X*.666,delay:ce,easing:ye})].join(","),c&&c(z,G)}),B=T(d),R=T(h),D=T(z=>{const{duration:G,delay:he,easing:ce}=ax({style:g,timeout:p,easing:a},{mode:"exit"});let ye;p==="auto"?(ye=S.transitions.getAutoHeightDuration(z.clientHeight),w.current=ye):ye=G,z.style.transition=[S.transitions.create("opacity",{duration:ye,delay:he}),S.transitions.create("transform",{duration:Tb?ye:ye*.666,delay:Tb?he:he||ye*.333,easing:ce})].join(","),z.style.opacity=0,z.style.transform=Sw(.75),A&&A(z)}),H=T(f),P=z=>{p==="auto"&&j.start(w.current||0,z),s&&s(I.current,z)};return n.jsx(b,{appear:i,in:l,nodeRef:I,onEnter:K,onEntered:B,onEntering:U,onExit:D,onExited:H,onExiting:R,addEndListener:P,timeout:p==="auto"?null:p,...x,children:(z,{ownerState:G,...he})=>m.cloneElement(o,{style:{opacity:0,transform:Sw(.75),visibility:z==="exited"&&!l?"hidden":void 0,...aq[z],...g,...o.props.style},ref:F,...he})})});Ew&&(Ew.muiSupportAuto=!0);const lq=e=>{const{classes:t,disableUnderline:r}=e,i=br({root:["root",!r&&"underline"],input:["input"]},qW,t);return{...t,...i}},cq=Ot(Uy,{shouldForwardProp:e=>sa(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...Ly(e,t),!r.disableUnderline&&t.underline]}})(Pr(({theme:e})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:s})=>s.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Of.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Of.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Of.disabled}, .${Of.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Of.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(ms()).map(([s])=>({props:{color:s,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[s].main}`}}}))]}})),uq=Ot(Ry,{name:"MuiInput",slot:"Input",overridesResolver:Py})({}),b5=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:a,fullWidth:l=!1,inputComponent:c="input",multiline:d=!1,slotProps:u,slots:A={},type:f="text",...h}=s,g=lq(s),b={root:{ownerState:{disableUnderline:i}}},x=u??a?Hs(u??a,b):b,j=A.root??o.Root??cq,w=A.input??o.Input??uq;return n.jsx(x5,{slots:{root:j,input:w},slotProps:x,fullWidth:l,inputComponent:c,multiline:d,ref:r,type:f,...h,classes:g})});b5.muiName="Input";function dq(e){return yr("MuiInputLabel",e)}jr("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Aq=e=>{const{classes:t,formControl:r,size:s,shrink:i,disableAnimation:o,variant:a,required:l}=e,c={root:["root",r&&"formControl",!o&&"animated",i&&"shrink",s&&s!=="medium"&&`size${Pt(s)}`,a],asterisk:[l&&"asterisk"]},d=br(c,dq,t);return{...t,...d}},hq=Ot(oq,{shouldForwardProp:e=>sa(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${xm.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,r.size==="small"&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})(Pr(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:r})=>t==="filled"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:r,size:s})=>t==="filled"&&r.shrink&&s==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:r})=>t==="outlined"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),fq=m.forwardRef(function(t,r){const s=Cr({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,margin:o,shrink:a,variant:l,className:c,...d}=s,u=af();let A=a;typeof A>"u"&&u&&(A=u.filled||u.focused||u.adornedStart);const f=of({props:s,muiFormControl:u,states:["size","variant","required","focused"]}),h={...s,disableAnimation:i,formControl:u,shrink:A,size:f.size,variant:f.variant,required:f.required,focused:f.focused},g=Aq(h);return n.jsx(hq,{"data-shrink":A,ref:r,className:qt(g.root,c),...d,ownerState:h,classes:g})});function mq(e){return yr("MuiLinearProgress",e)}jr("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Iw=4,Tw=Iu`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,pq=typeof Tw!="string"?nf`
        animation: ${Tw} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,Fw=Iu`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,gq=typeof Fw!="string"?nf`
        animation: ${Fw} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,Lw=Iu`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,xq=typeof Lw!="string"?nf`
        animation: ${Lw} 3s infinite linear;
      `:null,yq=e=>{const{classes:t,variant:r,color:s}=e,i={root:["root",`color${Pt(s)}`,r],dashed:["dashed",`dashedColor${Pt(s)}`],bar1:["bar","bar1",`barColor${Pt(s)}`,(r==="indeterminate"||r==="query")&&"bar1Indeterminate",r==="determinate"&&"bar1Determinate",r==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",r!=="buffer"&&`barColor${Pt(s)}`,r==="buffer"&&`color${Pt(s)}`,(r==="indeterminate"||r==="query")&&"bar2Indeterminate",r==="buffer"&&"bar2Buffer"]};return br(i,mq,t)},v5=(e,t)=>e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?eA(e.palette[t].main,.62):Zd(e.palette[t].main,.5),bq=Ot("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${Pt(r.color)}`],t[r.variant]]}})(Pr(({theme:e})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(e.palette).filter(ms()).map(([t])=>({props:{color:t},style:{backgroundColor:v5(e,t)}})),{props:({ownerState:t})=>t.color==="inherit"&&t.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),vq=Ot("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.dashed,t[`dashedColor${Pt(r.color)}`]]}})(Pr(({theme:e})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(e.palette).filter(ms()).map(([t])=>{const r=v5(e,t);return{props:{color:t},style:{backgroundImage:`radial-gradient(${r} 0%, ${r} 16%, transparent 42%)`}}})]})),xq||{animation:`${Lw} 3s infinite linear`}),wq=Ot("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t.bar1,t[`barColor${Pt(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&t.bar1Indeterminate,r.variant==="determinate"&&t.bar1Determinate,r.variant==="buffer"&&t.bar1Buffer]}})(Pr(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(e.palette).filter(ms()).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main}})),{props:{variant:"determinate"},style:{transition:`transform .${Iw}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${Iw}s linear`}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:pq||{animation:`${Tw} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),jq=Ot("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t.bar2,t[`barColor${Pt(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&t.bar2Indeterminate,r.variant==="buffer"&&t.bar2Buffer]}})(Pr(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(e.palette).filter(ms()).map(([t])=>({props:{color:t},style:{"--LinearProgressBar2-barColor":(e.vars||e).palette[t].main}})),{props:({ownerState:t})=>t.variant!=="buffer"&&t.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:t})=>t.variant!=="buffer"&&t.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(e.palette).filter(ms()).map(([t])=>({props:{color:t,variant:"buffer"},style:{backgroundColor:v5(e,t),transition:`transform .${Iw}s linear`}})),{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:gq||{animation:`${Fw} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),Cq=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiLinearProgress"}),{className:i,color:o="primary",value:a,valueBuffer:l,variant:c="indeterminate",...d}=s,u={...s,color:o,variant:c},A=yq(u),f=LI(),h={},g={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&a!==void 0){h["aria-valuenow"]=Math.round(a),h["aria-valuemin"]=0,h["aria-valuemax"]=100;let p=a-100;f&&(p=-p),g.bar1.transform=`translateX(${p}%)`}if(c==="buffer"&&l!==void 0){let p=(l||0)-100;f&&(p=-p),g.bar2.transform=`translateX(${p}%)`}return n.jsxs(bq,{className:qt(A.root,i),ownerState:u,role:"progressbar",...h,ref:r,...d,children:[c==="buffer"?n.jsx(vq,{className:A.dashed,ownerState:u}):null,n.jsx(wq,{className:A.bar1,ownerState:u,style:g.bar1}),c==="determinate"?null:n.jsx(jq,{className:A.bar2,ownerState:u,style:g.bar2})]})}),ec=m.createContext({});function Nq(e){return yr("MuiList",e)}jr("MuiList",["root","padding","dense","subheader"]);const Bq=e=>{const{classes:t,disablePadding:r,dense:s,subheader:i}=e;return br({root:["root",!r&&"padding",s&&"dense",i&&"subheader"]},Nq,t)},kq=Ot("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),ux=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiList"}),{children:i,className:o,component:a="ul",dense:l=!1,disablePadding:c=!1,subheader:d,...u}=s,A=m.useMemo(()=>({dense:l}),[l]),f={...s,component:a,dense:l,disablePadding:c},h=Bq(f);return n.jsx(ec.Provider,{value:A,children:n.jsxs(kq,{as:a,className:qt(h.root,o),ref:r,ownerState:f,...u,children:[d,i]})})});function Sq(e){return yr("MuiListItem",e)}jr("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function Eq(e){return yr("MuiListItemButton",e)}const Ah=jr("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Iq=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters]},Tq=e=>{const{alignItems:t,classes:r,dense:s,disabled:i,disableGutters:o,divider:a,selected:l}=e,d=br({root:["root",s&&"dense",!o&&"gutters",a&&"divider",i&&"disabled",t==="flex-start"&&"alignItemsFlexStart",l&&"selected"]},Eq,r);return{...r,...d}},Fq=Ot(Ym,{shouldForwardProp:e=>sa(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Iq})(Pr(({theme:e})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ah.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:mn(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Ah.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:mn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Ah.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:mn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:mn(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Ah.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Ah.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.dense,style:{paddingTop:4,paddingBottom:4}}]}))),Lq=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:a="div",children:l,dense:c=!1,disableGutters:d=!1,divider:u=!1,focusVisibleClassName:A,selected:f=!1,className:h,...g}=s,p=m.useContext(ec),b=m.useMemo(()=>({dense:c||p.dense||!1,alignItems:i,disableGutters:d}),[i,p.dense,c,d]),x=m.useRef(null);ju(()=>{o&&x.current&&x.current.focus()},[o]);const j={...s,alignItems:i,dense:b.dense,disableGutters:d,divider:u,selected:f},w=Tq(j),S=ei(x,r);return n.jsx(ec.Provider,{value:b,children:n.jsx(Fq,{ref:S,href:g.href||g.to,component:(g.href||g.to)&&a==="div"?"button":a,focusVisibleClassName:qt(w.focusVisible,A),ownerState:j,className:qt(w.root,h),...g,classes:w,children:l})})});function Pq(e){return yr("MuiListItemSecondaryAction",e)}jr("MuiListItemSecondaryAction",["root","disableGutters"]);const Uq=e=>{const{disableGutters:t,classes:r}=e;return br({root:["root",t&&"disableGutters"]},Pq,r)},Rq=Ot("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),eT=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiListItemSecondaryAction"}),{className:i,...o}=s,a=m.useContext(ec),l={...s,disableGutters:a.disableGutters},c=Uq(l);return n.jsx(Rq,{className:qt(c.root,i),ownerState:l,ref:r,...o})});eT.muiName="ListItemSecondaryAction";const Mq=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters,!r.disablePadding&&t.padding,r.hasSecondaryAction&&t.secondaryAction]},Dq=e=>{const{alignItems:t,classes:r,dense:s,disableGutters:i,disablePadding:o,divider:a,hasSecondaryAction:l}=e;return br({root:["root",s&&"dense",!i&&"gutters",!o&&"padding",a&&"divider",t==="flex-start"&&"alignItemsFlexStart",l&&"secondaryAction"],container:["container"]},Sq,r)},Oq=Ot("div",{name:"MuiListItem",slot:"Root",overridesResolver:Mq})(Pr(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${Ah.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),Qq=Ot("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),qc=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiListItem"}),{alignItems:i="center",children:o,className:a,component:l,components:c={},componentsProps:d={},ContainerComponent:u="li",ContainerProps:{className:A,...f}={},dense:h=!1,disableGutters:g=!1,disablePadding:p=!1,divider:b=!1,secondaryAction:x,slotProps:j={},slots:w={},...S}=s,I=m.useContext(ec),F=m.useMemo(()=>({dense:h||I.dense||!1,alignItems:i,disableGutters:g}),[i,I.dense,h,g]),T=m.useRef(null),U=m.Children.toArray(o),K=U.length&&pm(U[U.length-1],["ListItemSecondaryAction"]),B={...s,alignItems:i,dense:F.dense,disableGutters:g,disablePadding:p,divider:b,hasSecondaryAction:K},R=Dq(B),D=ei(T,r),H=w.root||c.Root||Oq,P=j.root||d.root||{},z={className:qt(R.root,P.className,a),...S};let G=l||"li";return K?(G=!z.component&&!l?"div":G,u==="li"&&(G==="li"?G="div":z.component==="li"&&(z.component="div")),n.jsx(ec.Provider,{value:F,children:n.jsxs(Qq,{as:u,className:qt(R.container,A),ref:D,ownerState:B,...f,children:[n.jsx(H,{...P,...!Zm(H)&&{as:G,ownerState:{...B,...P.ownerState}},...z,children:U}),U.pop()]})})):n.jsx(ec.Provider,{value:F,children:n.jsxs(H,{...P,as:G,ref:D,...!Zm(H)&&{ownerState:{...B,...P.ownerState}},...z,children:[U,x&&n.jsx(eT,{children:x})]})})});function _q(e){return yr("MuiListItemIcon",e)}jr("MuiListItemIcon",["root","alignItemsFlexStart"]);const Hq=e=>{const{alignItems:t,classes:r}=e;return br({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},_q,r)},$q=Ot("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(Pr(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),ad=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiListItemIcon"}),{className:i,...o}=s,a=m.useContext(ec),l={...s,alignItems:a.alignItems},c=Hq(l);return n.jsx($q,{className:qt(c.root,i),ownerState:l,ref:r,...o})});function Vq(e){return yr("MuiListItemText",e)}const _g=jr("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Kq=e=>{const{classes:t,inset:r,primary:s,secondary:i,dense:o}=e;return br({root:["root",r&&"inset",o&&"dense",s&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},Vq,t)},zq=Ot("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${_g.primary}`]:t.primary},{[`& .${_g.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${ON.root}:where(& .${_g.primary})`]:{display:"block"},[`.${ON.root}:where(& .${_g.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),Xc=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiListItemText"}),{children:i,className:o,disableTypography:a=!1,inset:l=!1,primary:c,primaryTypographyProps:d,secondary:u,secondaryTypographyProps:A,slots:f={},slotProps:h={},...g}=s,{dense:p}=m.useContext(ec);let b=c??i,x=u;const j={...s,disableTypography:a,inset:l,primary:!!b,secondary:!!x,dense:p},w=Kq(j),S={slots:f,slotProps:{primary:d,secondary:A,...h}},[I,F]=Bn("root",{className:qt(w.root,o),elementType:zq,externalForwardedProps:{...S,...g},ownerState:j,ref:r}),[T,U]=Bn("primary",{className:w.primary,elementType:jt,externalForwardedProps:S,ownerState:j}),[K,B]=Bn("secondary",{className:w.secondary,elementType:jt,externalForwardedProps:S,ownerState:j});return b!=null&&b.type!==jt&&!a&&(b=n.jsx(T,{variant:p?"body2":"body1",component:U!=null&&U.variant?void 0:"span",...U,children:b})),x!=null&&x.type!==jt&&!a&&(x=n.jsx(K,{variant:"body2",color:"textSecondary",...B,children:x})),n.jsxs(I,{...F,children:[b,x]})});function Fb(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function YN(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function tT(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.startsWith(t.keys.join(""))}function Qf(e,t,r,s,i,o){let a=!1,l=i(e,t,t?r:!1);for(;l;){if(l===e.firstChild){if(a)return!1;a=!0}const c=s?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!tT(l,o)||c)l=i(e,l,r);else return l.focus(),!0}return!1}const Wq=m.forwardRef(function(t,r){const{actions:s,autoFocus:i=!1,autoFocusItem:o=!1,children:a,className:l,disabledItemsFocusable:c=!1,disableListWrap:d=!1,onKeyDown:u,variant:A="selectedMenu",...f}=t,h=m.useRef(null),g=m.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ju(()=>{i&&h.current.focus()},[i]),m.useImperativeHandle(s,()=>({adjustStyleForScrollbar:(w,{direction:S})=>{const I=!h.current.style.width;if(w.clientHeight<h.current.clientHeight&&I){const F=`${ZI(uc(w))}px`;h.current.style[S==="rtl"?"paddingLeft":"paddingRight"]=F,h.current.style.width=`calc(100% + ${F})`}return h.current}}),[]);const p=w=>{const S=h.current,I=w.key;if(w.ctrlKey||w.metaKey||w.altKey){u&&u(w);return}const T=Ea(S).activeElement;if(I==="ArrowDown")w.preventDefault(),Qf(S,T,d,c,Fb);else if(I==="ArrowUp")w.preventDefault(),Qf(S,T,d,c,YN);else if(I==="Home")w.preventDefault(),Qf(S,null,d,c,Fb);else if(I==="End")w.preventDefault(),Qf(S,null,d,c,YN);else if(I.length===1){const U=g.current,K=I.toLowerCase(),B=performance.now();U.keys.length>0&&(B-U.lastTime>500?(U.keys=[],U.repeating=!0,U.previousKeyMatched=!0):U.repeating&&K!==U.keys[0]&&(U.repeating=!1)),U.lastTime=B,U.keys.push(K);const R=T&&!U.repeating&&tT(T,U);U.previousKeyMatched&&(R||Qf(S,T,!1,c,Fb,U))?w.preventDefault():U.previousKeyMatched=!1}u&&u(w)},b=ei(h,r);let x=-1;m.Children.forEach(a,(w,S)=>{if(!m.isValidElement(w)){x===S&&(x+=1,x>=a.length&&(x=-1));return}w.props.disabled||(A==="selectedMenu"&&w.props.selected||x===-1)&&(x=S),x===S&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(x+=1,x>=a.length&&(x=-1))});const j=m.Children.map(a,(w,S)=>{if(S===x){const I={};return o&&(I.autoFocus=!0),w.props.tabIndex===void 0&&A==="selectedMenu"&&(I.tabIndex=0),m.cloneElement(w,I)}return w});return n.jsx(ux,{role:"menu",ref:b,className:l,onKeyDown:p,tabIndex:i?0:-1,...f,children:j})});function Gq(e){return yr("MuiPopover",e)}jr("MuiPopover",["root","paper"]);function ZN(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function eB(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function tB(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Hg(e){return typeof e=="function"?e():e}const qq=e=>{const{classes:t}=e;return br({root:["root"],paper:["paper"]},Gq,t)},Xq=Ot(QG,{name:"MuiPopover",slot:"Root"})({}),rT=Ot(Ys,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Jq=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:c="anchorEl",children:d,className:u,container:A,elevation:f=8,marginThreshold:h=16,open:g,PaperProps:p={},slots:b={},slotProps:x={},transformOrigin:j={vertical:"top",horizontal:"left"},TransitionComponent:w,transitionDuration:S="auto",TransitionProps:I={},disableScrollLock:F=!1,...T}=s,U=m.useRef(),K={...s,anchorOrigin:a,anchorReference:c,elevation:f,marginThreshold:h,transformOrigin:j,TransitionComponent:w,transitionDuration:S,TransitionProps:I},B=qq(K),R=m.useCallback(()=>{if(c==="anchorPosition")return l;const fe=Hg(o),we=(fe&&fe.nodeType===1?fe:Ea(U.current).body).getBoundingClientRect();return{top:we.top+ZN(we,a.vertical),left:we.left+eB(we,a.horizontal)}},[o,a.horizontal,a.vertical,l,c]),D=m.useCallback(fe=>({vertical:ZN(fe,j.vertical),horizontal:eB(fe,j.horizontal)}),[j.horizontal,j.vertical]),H=m.useCallback(fe=>{const pe={width:fe.offsetWidth,height:fe.offsetHeight},we=D(pe);if(c==="none")return{top:null,left:null,transformOrigin:tB(we)};const je=R();let De=je.top-we.vertical,Ue=je.left-we.horizontal;const Ce=De+pe.height,Ct=Ue+pe.width,ct=uc(Hg(o)),rt=ct.innerHeight-h,st=ct.innerWidth-h;if(h!==null&&De<h){const at=De-h;De-=at,we.vertical+=at}else if(h!==null&&Ce>rt){const at=Ce-rt;De-=at,we.vertical+=at}if(h!==null&&Ue<h){const at=Ue-h;Ue-=at,we.horizontal+=at}else if(Ct>st){const at=Ct-st;Ue-=at,we.horizontal+=at}return{top:`${Math.round(De)}px`,left:`${Math.round(Ue)}px`,transformOrigin:tB(we)}},[o,c,R,D,h]),[P,z]=m.useState(g),G=m.useCallback(()=>{const fe=U.current;if(!fe)return;const pe=H(fe);pe.top!==null&&fe.style.setProperty("top",pe.top),pe.left!==null&&(fe.style.left=pe.left),fe.style.transformOrigin=pe.transformOrigin,z(!0)},[H]);m.useEffect(()=>(F&&window.addEventListener("scroll",G),()=>window.removeEventListener("scroll",G)),[o,F,G]);const he=()=>{G()},ce=()=>{z(!1)};m.useEffect(()=>{g&&G()}),m.useImperativeHandle(i,()=>g?{updatePosition:()=>{G()}}:null,[g,G]),m.useEffect(()=>{if(!g)return;const fe=_I(()=>{G()}),pe=uc(Hg(o));return pe.addEventListener("resize",fe),()=>{fe.clear(),pe.removeEventListener("resize",fe)}},[o,g,G]);let ye=S;const X={slots:{transition:w,...b},slotProps:{transition:I,paper:p,...x}},[re,_]=Bn("transition",{elementType:Ew,externalForwardedProps:X,ownerState:K,getSlotProps:fe=>({...fe,onEntering:(pe,we)=>{var je;(je=fe.onEntering)==null||je.call(fe,pe,we),he()},onExited:pe=>{var we;(we=fe.onExited)==null||we.call(fe,pe),ce()}}),additionalProps:{appear:!0,in:g}});S==="auto"&&!re.muiSupportAuto&&(ye=void 0);const Q=A||(o?Ea(Hg(o)).body:void 0),[Z,{slots:Ae,slotProps:me,...ae}]=Bn("root",{ref:r,elementType:Xq,externalForwardedProps:{...X,...T},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:b.backdrop},slotProps:{backdrop:Ez(typeof x.backdrop=="function"?x.backdrop(K):x.backdrop,{invisible:!0})},container:Q,open:g},ownerState:K,className:qt(B.root,u)}),[ie,te]=Bn("paper",{ref:U,className:B.paper,elementType:rT,externalForwardedProps:X,shouldForwardComponentProp:!0,additionalProps:{elevation:f,style:P?void 0:{opacity:0}},ownerState:K});return n.jsx(Z,{...ae,...!Zm(Z)&&{slots:Ae,slotProps:me,disableScrollLock:F},children:n.jsx(re,{..._,timeout:ye,children:n.jsx(ie,{...te,children:d})})})});function Yq(e){return yr("MuiMenu",e)}jr("MuiMenu",["root","paper","list"]);const Zq={vertical:"top",horizontal:"right"},eX={vertical:"top",horizontal:"left"},tX=e=>{const{classes:t}=e;return br({root:["root"],paper:["paper"],list:["list"]},Yq,t)},rX=Ot(Jq,{shouldForwardProp:e=>sa(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),nX=Ot(rT,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),sX=Ot(Wq,{name:"MuiMenu",slot:"List"})({outline:0}),iX=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:a,disableAutoFocusItem:l=!1,MenuListProps:c={},onClose:d,open:u,PaperProps:A={},PopoverClasses:f,transitionDuration:h="auto",TransitionProps:{onEntering:g,...p}={},variant:b="selectedMenu",slots:x={},slotProps:j={},...w}=s,S=LI(),I={...s,autoFocus:i,disableAutoFocusItem:l,MenuListProps:c,onEntering:g,PaperProps:A,transitionDuration:h,TransitionProps:p,variant:b},F=tX(I),T=i&&!l&&u,U=m.useRef(null),K=(ye,X)=>{U.current&&U.current.adjustStyleForScrollbar(ye,{direction:S?"rtl":"ltr"}),g&&g(ye,X)},B=ye=>{ye.key==="Tab"&&(ye.preventDefault(),d&&d(ye,"tabKeyDown"))};let R=-1;m.Children.map(o,(ye,X)=>{m.isValidElement(ye)&&(ye.props.disabled||(b==="selectedMenu"&&ye.props.selected||R===-1)&&(R=X))});const D={slots:x,slotProps:{list:c,transition:p,paper:A,...j}},H=UW({elementType:x.root,externalSlotProps:j.root,ownerState:I,className:[F.root,a]}),[P,z]=Bn("paper",{className:F.paper,elementType:nX,externalForwardedProps:D,shouldForwardComponentProp:!0,ownerState:I}),[G,he]=Bn("list",{className:qt(F.list,c.className),elementType:sX,shouldForwardComponentProp:!0,externalForwardedProps:D,getSlotProps:ye=>({...ye,onKeyDown:X=>{var re;B(X),(re=ye.onKeyDown)==null||re.call(ye,X)}}),ownerState:I}),ce=typeof D.slotProps.transition=="function"?D.slotProps.transition(I):D.slotProps.transition;return n.jsx(rX,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?Zq:eX,slots:{root:x.root,paper:P,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:H,paper:z,backdrop:typeof j.backdrop=="function"?j.backdrop(I):j.backdrop,transition:{...ce,onEntering:(...ye)=>{var X;K(...ye),(X=ce==null?void 0:ce.onEntering)==null||X.call(ce,...ye)}}},open:u,ref:r,transitionDuration:h,ownerState:I,...w,classes:f,children:n.jsx(G,{actions:U,autoFocus:i&&(R===-1||l),autoFocusItem:T,variant:b,...he,children:o})})});function oX(e){return yr("MuiNativeSelect",e)}const w5=jr("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),aX=e=>{const{classes:t,variant:r,disabled:s,multiple:i,open:o,error:a}=e,l={select:["select",r,s&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Pt(r)}`,o&&"iconOpen",s&&"disabled"]};return br(l,oX,t)},nT=Ot("select")(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${w5.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),lX=Ot(nT,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:sa,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${w5.multiple}`]:t.multiple}]}})({}),sT=Ot("svg")(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${w5.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),cX=Ot(sT,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${Pt(r.variant)}`],r.open&&t.iconOpen]}})({}),uX=m.forwardRef(function(t,r){const{className:s,disabled:i,error:o,IconComponent:a,inputRef:l,variant:c="standard",...d}=t,u={...t,disabled:i,variant:c,error:o},A=aX(u);return n.jsxs(m.Fragment,{children:[n.jsx(lX,{ownerState:u,className:qt(A.select,s),disabled:i,ref:l||r,...d}),t.multiple?null:n.jsx(cX,{as:a,ownerState:u,className:A.icon})]})});var rB;const dX=Ot("fieldset",{shouldForwardProp:sa})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),AX=Ot("legend",{shouldForwardProp:sa})(Pr(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function hX(e){const{children:t,classes:r,className:s,label:i,notched:o,...a}=e,l=i!=null&&i!=="",c={...e,notched:o,withLabel:l};return n.jsx(dX,{"aria-hidden":!0,className:s,ownerState:c,...a,children:n.jsx(AX,{ownerState:c,children:l?n.jsx("span",{children:i}):rB||(rB=n.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const fX=e=>{const{classes:t}=e,s=br({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},XW,t);return{...t,...s}},mX=Ot(Uy,{shouldForwardProp:e=>sa(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Ly})(Pr(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${nl.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${nl.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${nl.focused} .${nl.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(ms()).map(([r])=>({props:{color:r},style:{[`&.${nl.focused} .${nl.notchedOutline}`]:{borderColor:(e.vars||e).palette[r].main}}})),{props:{},style:{[`&.${nl.error} .${nl.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${nl.disabled} .${nl.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:s})=>r.multiline&&s==="small",style:{padding:"8.5px 14px"}}]}})),pX=Ot(hX,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Pr(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),gX=Ot(Ry,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Py})(Pr(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),j5=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiOutlinedInput"}),{components:i={},fullWidth:o=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:d,slots:u={},slotProps:A={},type:f="text",...h}=s,g=fX(s),p=af(),b=of({props:s,muiFormControl:p,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...s,color:b.color||"primary",disabled:b.disabled,error:b.error,focused:b.focused,formControl:p,fullWidth:o,hiddenLabel:b.hiddenLabel,multiline:c,size:b.size,type:f},j=u.root??i.Root??mX,w=u.input??i.Input??gX,[S,I]=Bn("notchedOutline",{elementType:pX,className:g.notchedOutline,shouldForwardComponentProp:!0,ownerState:x,externalForwardedProps:{slots:u,slotProps:A},additionalProps:{label:l!=null&&l!==""&&b.required?n.jsxs(m.Fragment,{children:[l,"","*"]}):l}});return n.jsx(x5,{slots:{root:j,input:w},slotProps:A,renderSuffix:F=>n.jsx(S,{...I,notched:typeof d<"u"?d:!!(F.startAdornment||F.filled||F.focused)}),fullWidth:o,inputComponent:a,multiline:c,ref:r,type:f,...h,classes:{...g,notchedOutline:null}})});j5.muiName="Input";function iT(e){return yr("MuiSelect",e)}const _f=jr("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var nB;const xX=Ot(nT,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${_f.select}`]:t.select},{[`&.${_f.select}`]:t[r.variant]},{[`&.${_f.error}`]:t.error},{[`&.${_f.multiple}`]:t.multiple}]}})({[`&.${_f.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),yX=Ot(sT,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${Pt(r.variant)}`],r.open&&t.iconOpen]}})({}),bX=Ot("input",{shouldForwardProp:e=>QI(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function sB(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function vX(e){return e==null||typeof e=="string"&&!e.trim()}const wX=e=>{const{classes:t,variant:r,disabled:s,multiple:i,open:o,error:a}=e,l={select:["select",r,s&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Pt(r)}`,o&&"iconOpen",s&&"disabled"],nativeInput:["nativeInput"]};return br(l,iT,t)},jX=m.forwardRef(function(t,r){var We;const{"aria-describedby":s,"aria-label":i,autoFocus:o,autoWidth:a,children:l,className:c,defaultOpen:d,defaultValue:u,disabled:A,displayEmpty:f,error:h=!1,IconComponent:g,inputRef:p,labelId:b,MenuProps:x={},multiple:j,name:w,onBlur:S,onChange:I,onClose:F,onFocus:T,onOpen:U,open:K,readOnly:B,renderValue:R,required:D,SelectDisplayProps:H={},tabIndex:P,type:z,value:G,variant:he="standard",...ce}=t,[ye,X]=TN({controlled:G,default:u,name:"Select"}),[re,_]=TN({controlled:K,default:d,name:"Select"}),Q=m.useRef(null),Z=m.useRef(null),[Ae,me]=m.useState(null),{current:ae}=m.useRef(K!=null),[ie,te]=m.useState(),fe=ei(r,p),pe=m.useCallback($e=>{Z.current=$e,$e&&me($e)},[]),we=Ae==null?void 0:Ae.parentNode;m.useImperativeHandle(fe,()=>({focus:()=>{Z.current.focus()},node:Q.current,value:ye}),[ye]),m.useEffect(()=>{d&&re&&Ae&&!ae&&(te(a?null:we.clientWidth),Z.current.focus())},[Ae,a]),m.useEffect(()=>{o&&Z.current.focus()},[o]),m.useEffect(()=>{if(!b)return;const $e=Ea(Z.current).getElementById(b);if($e){const Pe=()=>{getSelection().isCollapsed&&Z.current.focus()};return $e.addEventListener("click",Pe),()=>{$e.removeEventListener("click",Pe)}}},[b]);const je=($e,Pe)=>{$e?U&&U(Pe):F&&F(Pe),ae||(te(a?null:we.clientWidth),_($e))},De=$e=>{$e.button===0&&($e.preventDefault(),Z.current.focus(),je(!0,$e))},Ue=$e=>{je(!1,$e)},Ce=m.Children.toArray(l),Ct=$e=>{const Pe=Ce.find(Be=>Be.props.value===$e.target.value);Pe!==void 0&&(X(Pe.props.value),I&&I($e,Pe))},ct=$e=>Pe=>{let Be;if(Pe.currentTarget.hasAttribute("tabindex")){if(j){Be=Array.isArray(ye)?ye.slice():[];const Te=ye.indexOf($e.props.value);Te===-1?Be.push($e.props.value):Be.splice(Te,1)}else Be=$e.props.value;if($e.props.onClick&&$e.props.onClick(Pe),ye!==Be&&(X(Be),I)){const Te=Pe.nativeEvent||Pe,pt=new Te.constructor(Te.type,Te);Object.defineProperty(pt,"target",{writable:!0,value:{value:Be,name:w}}),I(pt,$e)}j||je(!1,Pe)}},rt=$e=>{B||[" ","ArrowUp","ArrowDown","Enter"].includes($e.key)&&($e.preventDefault(),je(!0,$e))},st=Ae!==null&&re,at=$e=>{!st&&S&&(Object.defineProperty($e,"target",{writable:!0,value:{value:ye,name:w}}),S($e))};delete ce["aria-invalid"];let qe,St;const kt=[];let He=!1;(cx({value:ye})||f)&&(R?qe=R(ye):He=!0);const Le=Ce.map($e=>{if(!m.isValidElement($e))return null;let Pe;if(j){if(!Array.isArray(ye))throw new Error(cc(2));Pe=ye.some(Be=>sB(Be,$e.props.value)),Pe&&He&&kt.push($e.props.children)}else Pe=sB(ye,$e.props.value),Pe&&He&&(St=$e.props.children);return m.cloneElement($e,{"aria-selected":Pe?"true":"false",onClick:ct($e),onKeyUp:Be=>{Be.key===" "&&Be.preventDefault(),$e.props.onKeyUp&&$e.props.onKeyUp(Be)},role:"option",selected:Pe,value:void 0,"data-value":$e.props.value})});He&&(j?kt.length===0?qe=null:qe=kt.reduce(($e,Pe,Be)=>($e.push(Pe),Be<kt.length-1&&$e.push(", "),$e),[]):qe=St);let q=ie;!a&&ae&&Ae&&(q=we.clientWidth);let M;typeof P<"u"?M=P:M=A?null:0;const $=H.id||(w?`mui-component-select-${w}`:void 0),J={...t,variant:he,value:ye,open:st,error:h},ee=wX(J),ve={...x.PaperProps,...(We=x.slotProps)==null?void 0:We.paper},Se=Fy();return n.jsxs(m.Fragment,{children:[n.jsx(xX,{as:"div",ref:pe,tabIndex:M,role:"combobox","aria-controls":st?Se:void 0,"aria-disabled":A?"true":void 0,"aria-expanded":st?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[b,$].filter(Boolean).join(" ")||void 0,"aria-describedby":s,"aria-required":D?"true":void 0,"aria-invalid":h?"true":void 0,onKeyDown:rt,onMouseDown:A||B?null:De,onBlur:at,onFocus:T,...H,ownerState:J,className:qt(H.className,ee.select,c),id:$,children:vX(qe)?nB||(nB=n.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):qe}),n.jsx(bX,{"aria-invalid":h,value:Array.isArray(ye)?ye.join(","):ye,name:w,ref:Q,"aria-hidden":!0,onChange:Ct,tabIndex:-1,disabled:A,className:ee.nativeInput,autoFocus:o,required:D,...ce,ownerState:J}),n.jsx(yX,{as:g,className:ee.icon,ownerState:J}),n.jsx(iX,{id:`menu-${w||""}`,anchorEl:we,open:st,onClose:Ue,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":b,role:"listbox","aria-multiselectable":j?"true":void 0,disableListWrap:!0,id:Se,...x.MenuListProps},paper:{...ve,style:{minWidth:q,...ve!=null?ve.style:null}}},children:Le})]})}),CX=e=>{const{classes:t}=e,s=br({root:["root"]},iT,t);return{...t,...s}},C5={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>sa(e)&&e!=="variant"},NX=Ot(b5,C5)(""),BX=Ot(j5,C5)(""),kX=Ot(y5,C5)(""),oT=m.forwardRef(function(t,r){const s=Cr({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:a={},className:l,defaultOpen:c=!1,displayEmpty:d=!1,IconComponent:u=YW,id:A,input:f,inputProps:h,label:g,labelId:p,MenuProps:b,multiple:x=!1,native:j=!1,onClose:w,onOpen:S,open:I,renderValue:F,SelectDisplayProps:T,variant:U="outlined",...K}=s,B=j?uX:jX,R=af(),D=of({props:s,muiFormControl:R,states:["variant","error"]}),H=D.variant||U,P={...s,variant:H,classes:a},z=CX(P),{root:G,...he}=z,ce=f||{standard:n.jsx(NX,{ownerState:P}),outlined:n.jsx(BX,{label:g,ownerState:P}),filled:n.jsx(kX,{ownerState:P})}[H],ye=ei(r,Lp(ce));return n.jsx(m.Fragment,{children:m.cloneElement(ce,{inputComponent:B,inputProps:{children:o,error:D.error,IconComponent:u,variant:H,type:void 0,multiple:x,...j?{id:A}:{autoWidth:i,defaultOpen:c,displayEmpty:d,labelId:p,MenuProps:b,onClose:w,onOpen:S,open:I,renderValue:F,SelectDisplayProps:{id:A,...T}},...h,classes:h?Hs(he,h.classes):he,...f?f.props.inputProps:{}},...(x&&j||d)&&H==="outlined"?{notched:!0}:{},ref:ye,className:qt(ce.props.className,l,z.root),...!f&&{variant:H},...K})})});oT.muiName="Select";const Hf=$K({createStyledComponent:Ot("div",{name:"MuiStack",slot:"Root"}),useThemeProps:e=>Cr({props:e,name:"MuiStack"})}),aT=m.createContext();function SX(e){return yr("MuiTable",e)}jr("MuiTable",["root","stickyHeader"]);const EX=e=>{const{classes:t,stickyHeader:r}=e;return br({root:["root",r&&"stickyHeader"]},SX,t)},IX=Ot("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(Pr(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:t})=>t.stickyHeader,style:{borderCollapse:"separate"}}]}))),iB="table",lT=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiTable"}),{className:i,component:o=iB,padding:a="normal",size:l="medium",stickyHeader:c=!1,...d}=s,u={...s,component:o,padding:a,size:l,stickyHeader:c},A=EX(u),f=m.useMemo(()=>({padding:a,size:l,stickyHeader:c}),[a,l,c]);return n.jsx(aT.Provider,{value:f,children:n.jsx(IX,{as:o,role:o===iB?null:"table",ref:r,className:qt(A.root,i),ownerState:u,...d})})}),My=m.createContext();function TX(e){return yr("MuiTableBody",e)}jr("MuiTableBody",["root"]);const FX=e=>{const{classes:t}=e;return br({root:["root"]},TX,t)},LX=Ot("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),PX={variant:"body"},oB="tbody",cT=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiTableBody"}),{className:i,component:o=oB,...a}=s,l={...s,component:o},c=FX(l);return n.jsx(My.Provider,{value:PX,children:n.jsx(LX,{className:qt(c.root,i),as:o,ref:r,role:o===oB?null:"rowgroup",ownerState:l,...a})})});function UX(e){return yr("MuiTableCell",e)}const RX=jr("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),MX=e=>{const{classes:t,variant:r,align:s,padding:i,size:o,stickyHeader:a}=e,l={root:["root",r,a&&"stickyHeader",s!=="inherit"&&`align${Pt(s)}`,i!=="normal"&&`padding${Pt(i)}`,`size${Pt(o)}`]};return br(l,UX,t)},DX=Ot("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${Pt(r.size)}`],r.padding!=="normal"&&t[`padding${Pt(r.padding)}`],r.align!=="inherit"&&t[`align${Pt(r.align)}`],r.stickyHeader&&t.stickyHeader]}})(Pr(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?eA(mn(e.palette.divider,1),.88):Zd(mn(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${RX.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:t})=>t.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),ns=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiTableCell"}),{align:i="inherit",className:o,component:a,padding:l,scope:c,size:d,sortDirection:u,variant:A,...f}=s,h=m.useContext(aT),g=m.useContext(My),p=g&&g.variant==="head";let b;a?b=a:b=p?"th":"td";let x=c;b==="td"?x=void 0:!x&&p&&(x="col");const j=A||g&&g.variant,w={...s,align:i,component:b,padding:l||(h&&h.padding?h.padding:"normal"),size:d||(h&&h.size?h.size:"medium"),sortDirection:u,stickyHeader:j==="head"&&h&&h.stickyHeader,variant:j},S=MX(w);let I=null;return u&&(I=u==="asc"?"ascending":"descending"),n.jsx(DX,{as:b,ref:r,className:qt(S.root,o),"aria-sort":I,scope:x,ownerState:w,...f})});function OX(e){return yr("MuiTableContainer",e)}jr("MuiTableContainer",["root"]);const QX=e=>{const{classes:t}=e;return br({root:["root"]},OX,t)},_X=Ot("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),HX=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiTableContainer"}),{className:i,component:o="div",...a}=s,l={...s,component:o},c=QX(l);return n.jsx(_X,{ref:r,as:o,className:qt(c.root,i),ownerState:l,...a})});function $X(e){return yr("MuiTableHead",e)}jr("MuiTableHead",["root"]);const VX=e=>{const{classes:t}=e;return br({root:["root"]},$X,t)},KX=Ot("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),zX={variant:"head"},aB="thead",uT=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiTableHead"}),{className:i,component:o=aB,...a}=s,l={...s,component:o},c=VX(l);return n.jsx(My.Provider,{value:zX,children:n.jsx(KX,{as:o,className:qt(c.root,i),ref:r,role:o===aB?null:"rowgroup",ownerState:l,...a})})});function WX(e){return yr("MuiTableRow",e)}const lB=jr("MuiTableRow",["root","selected","hover","head","footer"]),GX=e=>{const{classes:t,selected:r,hover:s,head:i,footer:o}=e;return br({root:["root",r&&"selected",s&&"hover",i&&"head",o&&"footer"]},WX,t)},qX=Ot("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})(Pr(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${lB.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${lB.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:mn(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:mn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),cB="tr",dx=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiTableRow"}),{className:i,component:o=cB,hover:a=!1,selected:l=!1,...c}=s,d=m.useContext(My),u={...s,component:o,hover:a,selected:l,head:d&&d.variant==="head",footer:d&&d.variant==="footer"},A=GX(u);return n.jsx(qX,{as:o,ref:r,className:qt(A.root,i),role:o===cB?null:"row",ownerState:u,...c})});function XX(e){return yr("MuiTextField",e)}jr("MuiTextField",["root"]);const JX={standard:b5,filled:y5,outlined:j5},YX=e=>{const{classes:t}=e;return br({root:["root"]},XX,t)},ZX=Ot(JG,{name:"MuiTextField",slot:"Root"})({}),eJ=m.forwardRef(function(t,r){const s=Cr({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:a,className:l,color:c="primary",defaultValue:d,disabled:u=!1,error:A=!1,FormHelperTextProps:f,fullWidth:h=!1,helperText:g,id:p,InputLabelProps:b,inputProps:x,InputProps:j,inputRef:w,label:S,maxRows:I,minRows:F,multiline:T=!1,name:U,onBlur:K,onChange:B,onFocus:R,placeholder:D,required:H=!1,rows:P,select:z=!1,SelectProps:G,slots:he={},slotProps:ce={},type:ye,value:X,variant:re="outlined",..._}=s,Q={...s,autoFocus:o,color:c,disabled:u,error:A,fullWidth:h,multiline:T,required:H,select:z,variant:re},Z=YX(Q),Ae=Fy(p),me=g&&Ae?`${Ae}-helper-text`:void 0,ae=S&&Ae?`${Ae}-label`:void 0,ie=JX[re],te={slots:he,slotProps:{input:j,inputLabel:b,htmlInput:x,formHelperText:f,select:G,...ce}},fe={},pe=te.slotProps.inputLabel;re==="outlined"&&(pe&&typeof pe.shrink<"u"&&(fe.notched=pe.shrink),fe.label=S),z&&((!G||!G.native)&&(fe.id=void 0),fe["aria-describedby"]=void 0);const[we,je]=Bn("root",{elementType:ZX,shouldForwardComponentProp:!0,externalForwardedProps:{...te,..._},ownerState:Q,className:qt(Z.root,l),ref:r,additionalProps:{disabled:u,error:A,fullWidth:h,required:H,color:c,variant:re}}),[De,Ue]=Bn("input",{elementType:ie,externalForwardedProps:te,additionalProps:fe,ownerState:Q}),[Ce,Ct]=Bn("inputLabel",{elementType:fq,externalForwardedProps:te,ownerState:Q}),[ct,rt]=Bn("htmlInput",{elementType:"input",externalForwardedProps:te,ownerState:Q}),[st,at]=Bn("formHelperText",{elementType:tq,externalForwardedProps:te,ownerState:Q}),[qe,St]=Bn("select",{elementType:oT,externalForwardedProps:te,ownerState:Q}),kt=n.jsx(De,{"aria-describedby":me,autoComplete:i,autoFocus:o,defaultValue:d,fullWidth:h,multiline:T,name:U,rows:P,maxRows:I,minRows:F,type:ye,value:X,id:Ae,inputRef:w,onBlur:K,onChange:B,onFocus:R,placeholder:D,inputProps:rt,slots:{input:he.htmlInput?ct:void 0},...Ue});return n.jsxs(we,{...je,children:[S!=null&&S!==""&&n.jsx(Ce,{htmlFor:Ae,id:ae,...Ct,children:S}),z?n.jsx(qe,{"aria-describedby":me,id:Ae,labelId:ae,value:X,input:kt,...St,children:a}):kt,g&&n.jsx(st,{id:me,...at,children:g})]})}),dT=vn([n.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),n.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),tJ=vn(n.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),AT=vn(n.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})),rJ=vn(n.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"})),Pw=vn(n.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"})),nJ=vn(n.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),gh=vn(n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),sJ=vn(n.jsx("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"})),iJ=vn(n.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"})),Lb=vn(n.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"})),uB=vn(n.jsx("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"})),oJ=vn(n.jsx("path",{d:"M12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5zm-1.06 13.54L7.4 12l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41z"})),aJ=vn(n.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"})),lJ=vn(n.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),cJ=vn(n.jsx("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"})),uJ=vn(n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16"})),dJ=vn(n.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"})),hT=vn(n.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"})),AJ=vn(n.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),fT=vn(n.jsx("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"})),hJ=vn(n.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),Th=Ht.create({baseURL:"/api".replace(/\/$/,""),timeout:3e4,headers:{"Content-Type":"application/json"}});Th.interceptors.request.use(e=>{var r;const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),console.debug(`[API] ${((r=e.method)==null?void 0:r.toUpperCase())||"GET"} ${e.baseURL}${e.url}`),e},e=>Promise.reject(e));Th.interceptors.response.use(e=>e,e=>{const t=e.config;return e.response&&e.response.status===401&&!t._retry&&(t._retry=!0,window.location.pathname.includes("/login")||window.location.pathname.includes("/register")||(console.log("Authentication expired. Redirecting to login..."),localStorage.removeItem("token"),window.location.href="/login")),Promise.reject(e)});const fJ={colors:{primary:"#2563eb",primaryLight:"#3b82f6",primaryDark:"#1d4ed8",secondary:"#8b5cf6",success:"#10b981",danger:"#ef4444",warning:"#f59e0b",info:"#3b82f6",neutral:"#64748b",background:"#f1f5f9",backgroundSecondary:"#f8fafc",border:"#e2e8f0",text:{primary:"#1e293b",secondary:"#64748b",light:"#94a3b8"}},shadows:{card:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",button:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",hover:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},borderRadius:{small:"0.375rem",medium:"0.75rem",large:"1rem",xl:"1.5rem"},transitions:{fast:"all 0.2s ease",default:"all 0.3s ease",slow:"all 0.5s ease"}};let Ar;try{Ar=require("./index").examTheme}catch{console.warn("Failed to import examTheme from index.js, using local fallback"),Ar=fJ}const mJ=()=>{const{examId:e}=Lo(),t=rn(),[r,s]=m.useState(null),[i,o]=m.useState(!0),[a,l]=m.useState(null),[c,d]=m.useState(!1),[u,A]=m.useState("overview");m.useEffect(()=>{f()},[e]);const f=async()=>{try{o(!0);const j=await Aw(e),w={...j.data,AllowRetakes:j.data.AllowRetakes??!1,MaxRetakes:j.data.MaxRetakes??0};if(s(w),l(null),w.IsRegistered)try{const S=await Th.get(`/exams/${e}/attempts`);S.data.success&&s(I=>({...I,attempts:S.data.data.attempts,attemptsUsed:S.data.data.attemptsUsed,attemptsRemaining:S.data.data.attemptsRemaining}))}catch(S){console.warn("Could not fetch attempt history",S)}}catch(j){console.error("Error fetching exam details:",j),l("Khng th ti thng tin k thi. Vui lng th li sau.")}finally{o(!1)}},h=async()=>{var j,w,S,I,F;try{d(!0),await V6(e),s({...r,IsRegistered:!0})}catch(T){console.error("Error registering for exam:",T),((j=T.response)==null?void 0:j.status)===400&&((S=(w=T.response)==null?void 0:w.data)==null?void 0:S.message)==="Already registered for this exam"?s({...r,IsRegistered:!0}):alert("ng k khng thnh cng: "+(((F=(I=T.response)==null?void 0:I.data)==null?void 0:F.message)||"Vui lng th li sau."))}finally{d(!1)}},g=(j,w)=>{const S=j/w;return S<.5?{text:"D",color:Ar.colors.success}:S<.7?{text:"Trung bnh",color:Ar.colors.warning}:{text:"Kh",color:Ar.colors.danger}},p=(j,w)=>{if(!j||!w)return{text:"Cha xc nh",color:Ar.colors.neutral};const S=new Date,I=new Date(j),F=new Date(w);return S<I?{text:"Sp din ra",color:Ar.colors.info}:S>=I&&S<=F?{text:"ang din ra",color:Ar.colors.success}:{text:" kt thc",color:Ar.colors.neutral}};if(i)return n.jsx(Bt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:Ar.colors.background},children:n.jsxs(Ys,{elevation:0,sx:{p:5,borderRadius:4,display:"flex",flexDirection:"column",alignItems:"center",boxShadow:Ar.shadows.card,backgroundColor:"#fff",width:{xs:"90%",sm:"400px"}},children:[n.jsxs(Bt,{sx:{position:"relative",width:100,height:100,mb:3},children:[n.jsx(wi,{variant:"determinate",value:100,size:100,thickness:5,sx:{color:"rgba(22, 78, 99, 0.1)"}}),n.jsx(wi,{size:100,thickness:5,sx:{position:"absolute",left:0,top:0,color:Ar.colors.primary,animation:"rotate 1.5s linear infinite","@keyframes rotate":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}})]}),n.jsx(jt,{variant:"h5",sx:{fontWeight:700,color:Ar.colors.primary,mb:1},children:"ang ti thng tin k thi"}),n.jsx(jt,{variant:"body1",color:"text.secondary",textAlign:"center",children:"Vui lng i trong giy lt"})]})});if(a||!r)return n.jsx(Bt,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:Ar.colors.background},children:n.jsxs(Ys,{elevation:0,sx:{maxWidth:500,width:"90%",textAlign:"center",p:5,borderRadius:4,boxShadow:Ar.shadows.card,backgroundColor:"#fff",position:"relative",overflow:"hidden"},children:[n.jsx(Bt,{sx:{position:"absolute",top:0,left:0,right:0,height:8,backgroundColor:Ar.colors.danger}}),n.jsx(iJ,{sx:{fontSize:70,color:Ar.colors.danger,mb:2}}),n.jsx(jt,{variant:"h5",sx:{fontWeight:700,color:Ar.colors.text.primary,mb:1},children:a||"Khng tm thy thng tin k thi"}),n.jsx(jt,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Khng th ti thng tin chi tit. Vui lng th li sau hoc quay li danh sch k thi."}),n.jsxs(Hf,{direction:"row",spacing:2,justifyContent:"center",children:[n.jsx(Vr,{variant:"outlined",startIcon:n.jsx(tJ,{}),onClick:()=>t("/exams"),sx:{px:3,py:1.2,borderRadius:3,textTransform:"none",fontWeight:600,color:Ar.colors.primary,borderColor:Ar.colors.primary,"&:hover":{borderColor:Ar.colors.primaryLight}},children:"Quay li danh sch"}),n.jsx(Vr,{variant:"contained",onClick:f,sx:{px:3,py:1.2,borderRadius:3,textTransform:"none",fontWeight:600,backgroundColor:Ar.colors.primary,"&:hover":{backgroundColor:Ar.colors.primaryLight}},children:"Th li"})]})]})});const b=g(r.PassingScore,r.TotalPoints),x=p(r.StartTime,r.EndTime);return n.jsx(Bt,{sx:{minHeight:"100vh",background:Ar.colors.background},children:n.jsxs(Bt,{sx:{px:{xs:2,md:4,lg:6},py:{xs:3,md:5}},children:[n.jsxs(Bt,{sx:{mb:4,display:"flex",alignItems:"center",color:"text.secondary",typography:"body2"},children:[n.jsx(Zt,{to:"/",style:{color:"inherit",textDecoration:"none","&:hover":{color:Ar.colors.primary}},children:"Trang ch"}),n.jsx(Bt,{component:"span",sx:{mx:1},children:"/"}),n.jsx(Zt,{to:"/exams",style:{color:"inherit",textDecoration:"none","&:hover":{color:Ar.colors.primary}},children:"K thi"}),n.jsx(Bt,{component:"span",sx:{mx:1},children:"/"}),n.jsx(jt,{color:"text.primary",children:r.Title})]}),n.jsx(Ys,{elevation:0,sx:{background:`linear-gradient(to right, ${Ar.colors.primaryDark}, ${Ar.colors.primary})`,color:"white",borderRadius:4,overflow:"hidden",mb:4,boxShadow:Ar.shadows.card,position:"relative"},children:n.jsx(Bt,{sx:{p:{xs:3,md:4,lg:6}},children:n.jsxs(Ss,{container:!0,spacing:4,children:[n.jsx(Ss,{item:!0,xs:12,md:8,children:n.jsxs(Hf,{spacing:3,children:[n.jsxs(Bt,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[n.jsx(L0,{label:r.CourseName||"Kha hc",icon:n.jsx(hT,{}),sx:{backgroundColor:"rgba(255,255,255,0.2)",color:"white","& .MuiChip-icon":{color:"white"}}}),n.jsx(L0,{label:x.text,sx:{backgroundColor:`${x.color}40`,color:"white"}}),n.jsx(L0,{label:b.text,sx:{backgroundColor:`${b.color}40`,color:"white"}})]}),n.jsx(jt,{variant:"h3",sx:{fontWeight:800,fontSize:{xs:"2rem",md:"2.5rem",lg:"3rem"}},children:r.Title}),n.jsx(jt,{variant:"body1",sx:{color:"rgba(255,255,255,0.9)",fontSize:{xs:"1rem",md:"1.1rem"},lineHeight:1.7},children:r.Description||"Khng c m t cho k thi ny."}),n.jsxs(Bt,{sx:{display:"flex",alignItems:"center",gap:4,flexWrap:"wrap"},children:[n.jsxs(Bt,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(AJ,{sx:{mr:1,color:"#FFD700"}}),n.jsxs(jt,{children:["im t: ",r.PassingScore,"/",r.TotalPoints]})]}),n.jsxs(Bt,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(dJ,{sx:{mr:1}}),n.jsxs(jt,{children:[r.RegisteredCount||0," th sinh"]})]}),n.jsxs(Bt,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(dT,{sx:{mr:1}}),n.jsxs(jt,{children:[r.Duration," pht"]})]})]}),r.IsRegistered?n.jsx(Vr,{component:Zt,to:`/exams/${e}/session`,variant:"contained",disabled:new Date(r.StartTime)>new Date||new Date(r.EndTime)<new Date,endIcon:n.jsx(cJ,{}),sx:{alignSelf:"flex-start",px:4,py:1.5,borderRadius:3,textTransform:"none",fontWeight:600,backgroundColor:"#10B981","&:hover":{backgroundColor:"#059669",transform:"translateY(-2px)",boxShadow:Ar.shadows.button},"&.Mui-disabled":{backgroundColor:"rgba(16, 185, 129, 0.4)",color:"white"}},children:new Date(r.StartTime)>new Date?"Cha n thi gian thi":new Date(r.EndTime)<new Date?"K thi  kt thc":"Vo thi ngay"}):n.jsx(Vr,{variant:"contained",onClick:h,disabled:c||new Date(r.EndTime)<new Date,endIcon:c?null:n.jsx(AT,{}),sx:{alignSelf:"flex-start",px:4,py:1.5,borderRadius:3,textTransform:"none",fontWeight:600,backgroundColor:"#F59E0B","&:hover":{backgroundColor:"#D97706",transform:"translateY(-2px)",boxShadow:Ar.shadows.button},"&.Mui-disabled":{backgroundColor:"rgba(245, 158, 11, 0.4)",color:"white"}},children:c?n.jsxs(n.Fragment,{children:[n.jsx(wi,{size:20,thickness:4,sx:{color:"white",mr:1}}),"ang ng k..."]}):new Date(r.EndTime)<new Date?"K thi  kt thc":"ng k tham gia"})]})}),n.jsx(Ss,{item:!0,xs:12,md:4,children:n.jsx(Ys,{elevation:0,sx:{backgroundColor:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",borderRadius:3,p:3,height:"100%",border:"1px solid rgba(255,255,255,0.2)",position:"absolute",right:{md:24,lg:48},top:{md:24,lg:48},width:{md:"300px",lg:"350px"}},children:n.jsxs(Hf,{spacing:3,children:[n.jsxs(Bt,{children:[n.jsx(jt,{variant:"subtitle2",sx:{color:"rgba(255,255,255,0.7)"},children:"Thi gian lm bi"}),n.jsxs(jt,{variant:"h6",sx:{color:"white",fontWeight:600},children:[r.Duration," pht"]})]}),n.jsxs(Bt,{children:[n.jsx(jt,{variant:"subtitle2",sx:{color:"rgba(255,255,255,0.7)"},children:"Thi gian bt u"}),n.jsx(jt,{variant:"h6",sx:{color:"white",fontWeight:600},children:gl(new Date(r.StartTime),"HH:mm - dd/MM/yyyy",{locale:xl})})]}),n.jsxs(Bt,{children:[n.jsx(jt,{variant:"subtitle2",sx:{color:"rgba(255,255,255,0.7)"},children:"Thi gian kt thc"}),n.jsx(jt,{variant:"h6",sx:{color:"white",fontWeight:600},children:gl(new Date(r.EndTime),"HH:mm - dd/MM/yyyy",{locale:xl})})]}),n.jsxs(Bt,{children:[n.jsx(jt,{variant:"subtitle2",sx:{color:"rgba(255,255,255,0.7)"},children:"im t"}),n.jsxs(jt,{variant:"h6",sx:{color:"white",fontWeight:600},children:[n.jsx(Bt,{component:"span",sx:{color:b.color},children:r.PassingScore}),"/",r.TotalPoints," (",Math.round(r.PassingScore/r.TotalPoints*100),"%)"]})]})]})})})]})})}),n.jsxs(Ys,{elevation:0,sx:{borderRadius:4,overflow:"hidden",mb:4,boxShadow:Ar.shadows.card},children:[n.jsx(Bt,{sx:{borderBottom:1,borderColor:"divider"},children:n.jsxs(Hf,{direction:"row",children:[n.jsx(Vr,{onClick:()=>A("overview"),sx:{px:4,py:2,color:u==="overview"?Ar.colors.primary:"text.secondary",borderBottom:u==="overview"?2:0,borderColor:Ar.colors.primary,borderRadius:0,"&:hover":{backgroundColor:"transparent"}},children:"Tng quan"}),n.jsx(Vr,{onClick:()=>A("rules"),sx:{px:4,py:2,color:u==="rules"?Ar.colors.primary:"text.secondary",borderBottom:u==="rules"?2:0,borderColor:Ar.colors.primary,borderRadius:0,"&:hover":{backgroundColor:"transparent"}},children:"Quy nh"}),n.jsx(Vr,{onClick:()=>A("info"),sx:{px:4,py:2,color:u==="info"?Ar.colors.primary:"text.secondary",borderBottom:u==="info"?2:0,borderColor:Ar.colors.primary,borderRadius:0,"&:hover":{backgroundColor:"transparent"}},children:"Thng tin khc"}),n.jsx(Vr,{onClick:()=>A("history"),sx:{px:4,py:2,color:u==="history"?Ar.colors.primary:"text.secondary",borderBottom:u==="history"?2:0,borderColor:Ar.colors.primary,borderRadius:0,"&:hover":{backgroundColor:"transparent"}},children:"Lch s thi"})]})}),n.jsxs(Bt,{sx:{p:{xs:3,md:4,lg:6}},children:[u==="overview"&&n.jsxs(Bt,{children:[n.jsx(jt,{variant:"h5",sx:{fontWeight:700,mb:4},children:"M t k thi"}),n.jsx(jt,{variant:"body1",color:"text.secondary",sx:{mb:4,lineHeight:1.7},children:r.Description||"Khng c m t chi tit cho k thi ny."}),n.jsx(yi,{severity:"info",sx:{mb:4,borderRadius:2,".MuiAlert-icon":{color:Ar.colors.info}},children:n.jsxs(jt,{variant:"body2",color:"text.primary",sx:{fontWeight:500},children:["Bn cn t ti thiu ",r.PassingScore," im  hon thnh k thi ny."]})})]}),u==="rules"&&n.jsxs(Bt,{children:[n.jsx(jt,{variant:"h5",sx:{fontWeight:700,mb:4},children:"Quy nh k thi"}),n.jsxs(ux,{children:[n.jsxs(qc,{sx:{py:2},children:[n.jsx(ad,{children:n.jsx(gh,{sx:{color:Ar.colors.success}})}),n.jsx(Xc,{primary:"Lm bi trong thi gian quy nh",secondary:"Bi thi s t ng np khi ht thi gian",primaryTypographyProps:{fontWeight:600},secondaryTypographyProps:{color:"text.secondary"}})]}),n.jsxs(qc,{sx:{py:2},children:[n.jsx(ad,{children:n.jsx(gh,{sx:{color:Ar.colors.success}})}),n.jsx(Xc,{primary:"Khng tham kho ti liu tri php",secondary:"Tr khi  bi cho php s dng ti liu",primaryTypographyProps:{fontWeight:600},secondaryTypographyProps:{color:"text.secondary"}})]}),n.jsxs(qc,{sx:{py:2},children:[n.jsx(ad,{children:n.jsx(gh,{sx:{color:Ar.colors.success}})}),n.jsx(Xc,{primary:"Khng thot khi ch  ton mn hnh",secondary:"H thng c th ghi nhn cc hnh vi vi phm",primaryTypographyProps:{fontWeight:600},secondaryTypographyProps:{color:"text.secondary"}})]}),n.jsxs(qc,{sx:{py:2},children:[n.jsx(ad,{children:n.jsx(gh,{sx:{color:Ar.colors.success}})}),n.jsx(Xc,{primary:"Lu bi thng xuyn",secondary:"Nhn nt lu bi nh k  trnh mt d liu",primaryTypographyProps:{fontWeight:600},secondaryTypographyProps:{color:"text.secondary"}})]})]})]}),u==="info"&&n.jsxs(Bt,{children:[n.jsx(jt,{variant:"h5",sx:{fontWeight:700,mb:4},children:"Thng tin khc"}),n.jsxs(ux,{children:[n.jsxs(qc,{sx:{py:2},children:[n.jsx(ad,{children:n.jsx(aJ,{sx:{color:Ar.colors.info}})}),n.jsx(Xc,{primary:"S lng cu hi",secondary:`${r.QuestionCount||"Cha xc nh"} cu hi`,primaryTypographyProps:{fontWeight:600},secondaryTypographyProps:{color:"text.secondary"}})]}),n.jsxs(qc,{sx:{py:2},children:[n.jsx(ad,{children:n.jsx(oJ,{sx:{color:Ar.colors.info}})}),n.jsx(Xc,{primary:"Loi hnh thi",secondary:"Trc nghim trc tuyn",primaryTypographyProps:{fontWeight:600},secondaryTypographyProps:{color:"text.secondary"}})]}),r.Price&&n.jsxs(qc,{sx:{py:2},children:[n.jsx(ad,{children:n.jsx(uJ,{sx:{color:Ar.colors.info}})}),n.jsx(Xc,{primary:"Ph tham gia",secondary:`${r.Price} ng`,primaryTypographyProps:{fontWeight:600},secondaryTypographyProps:{color:"text.secondary"}})]})]})]}),u==="history"&&n.jsxs(Bt,{children:[n.jsx(jt,{variant:"h5",sx:{fontWeight:700,mb:4},children:"Lch s thi v s ln th"}),n.jsxs(Bt,{mb:4,children:[n.jsxs(jt,{variant:"body1",sx:{mb:2},children:[n.jsx("strong",{children:"Chnh sch thi li:"})," ",r.AllowRetakes?r.MaxRetakes>0?`c php thi li ti a ${r.MaxRetakes+1} ln`:"c php thi li khng gii hn s ln":"Khng c php thi li"]}),r.attemptsUsed&&n.jsxs(jt,{variant:"body1",sx:{mb:2},children:[n.jsx("strong",{children:"S ln  thi:"})," ",r.attemptsUsed," ",r.attemptsRemaining&&`(cn ${r.attemptsRemaining==="unlimited"?"khng gii hn":r.attemptsRemaining} lt)`]}),r.attempts&&r.attempts.length>0?n.jsx(Ys,{elevation:0,sx:{borderRadius:2,overflow:"hidden",border:"1px solid",borderColor:"divider"},children:n.jsxs(lT,{children:[n.jsx(uT,{children:n.jsxs(dx,{children:[n.jsx(ns,{children:"Ln thi"}),n.jsx(ns,{children:"Thi gian"}),n.jsx(ns,{children:"im s"}),n.jsx(ns,{children:"Trng thi"})]})}),n.jsx(cT,{children:r.attempts.map((j,w)=>n.jsxs(dx,{children:[n.jsx(ns,{children:j.AttemptNumber||r.attempts.length-w}),n.jsx(ns,{children:gl(new Date(j.StartedAt||j.CreatedAt),"dd/MM/yyyy HH:mm",{locale:xl})}),n.jsx(ns,{children:j.Score!==null&&j.Score!==void 0?`${j.Score}/${r.TotalPoints} (${Math.round(j.Score/r.TotalPoints*100)}%)`:j.score!==void 0&&j.score!==null?`${j.score}/${r.TotalPoints} (${Math.round(j.score/r.TotalPoints*100)}%)`:j.Score===void 0&&j.score===void 0&&j.score!==void 0?`${j.score}/${r.TotalPoints}`:"Cha c im"}),n.jsxs(ns,{children:[j.Status==="completed"&&" hon thnh",j.Status==="in_progress"&&"ang lm bi",j.Status==="registered"&&" ng k",j.Status==="reviewed"&&" chm im"]})]},j.ParticipantID))})]})}):n.jsx(yi,{severity:"info",children:"Bn cha tham gia k thi ny"})]}),n.jsxs(Hf,{direction:"row",spacing:2,children:[n.jsx(Vr,{component:Zt,to:`/exams/${e}/history`,variant:"outlined",color:"primary",startIcon:n.jsx(lJ,{}),children:"Xem chi tit lch s thi"}),r.IsRegistered&&r.AllowRetakes&&x.text!==" kt thc"&&(r.attemptsRemaining==="unlimited"||r.attemptsRemaining>0)&&n.jsx(Vr,{onClick:h,variant:"contained",color:"primary",disabled:c,startIcon:c?n.jsx(wi,{size:20}):null,children:c?"ang ng k...":"ng k thi li"})]})]})]})]})]})})},pJ=e=>{const[t,r]=m.useState(!1);m.useEffect(()=>{const a=()=>{r(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)};return document.addEventListener("fullscreenchange",a),document.addEventListener("webkitfullscreenchange",a),document.addEventListener("mozfullscreenchange",a),document.addEventListener("MSFullscreenChange",a),()=>{document.removeEventListener("fullscreenchange",a),document.removeEventListener("webkitfullscreenchange",a),document.removeEventListener("mozfullscreenchange",a),document.removeEventListener("MSFullscreenChange",a)}},[]);const s=async()=>{if(e.current)try{e.current.requestFullscreen?await e.current.requestFullscreen():e.current.webkitRequestFullscreen?await e.current.webkitRequestFullscreen():e.current.mozRequestFullScreen?await e.current.mozRequestFullScreen():e.current.msRequestFullscreen&&await e.current.msRequestFullscreen()}catch(a){console.error("Error entering fullscreen:",a)}},i=async()=>{try{document.exitFullscreen?await document.exitFullscreen():document.webkitExitFullscreen?await document.webkitExitFullscreen():document.mozCancelFullScreen?await document.mozCancelFullScreen():document.msExitFullscreen&&await document.msExitFullscreen()}catch(a){console.error("Error exiting fullscreen:",a)}};return{isFullscreen:t,enterFullscreen:s,exitFullscreen:i,toggleFullscreen:async()=>{t?await i():await s()}}},gJ=()=>{const{examId:e}=Lo(),t=rn(),[r,s]=m.useState(!0),[i,o]=m.useState(!1),[a,l]=m.useState(!1),[c,d]=m.useState(null),[u,A]=m.useState(null),[f,h]=m.useState(null),[g,p]=m.useState(0),[b,x]=m.useState({}),[j,w]=m.useState(null),[S,I]=m.useState(!1),[F,T]=m.useState(0),[U,K]=m.useState(!1),[B,R]=m.useState(!1),[D,H]=m.useState(null),P=m.useRef(null),z=m.useRef(null),[G,he]=m.useState({}),ce=2,ye=2e3,[X,re]=m.useState(null),[_,Q]=m.useState(!1),[Z,Ae]=m.useState(!1),[me,ae]=m.useState(!1),[ie,te]=m.useState({current:0,total:0,message:"Chun b chm im..."}),[fe,pe]=m.useState(0),[we,je]=m.useState(!1),[De,Ue]=m.useState({tabSwitch:0,fullscreenExit:0}),Ce=3,{isFullscreen:Ct,enterFullscreen:ct,toggleFullscreen:rt}=pJ(P);m.useEffect(()=>{I(Ct)},[Ct]),m.useEffect(()=>((async()=>{try{s(!0);const ve=async(pt=3)=>{try{const nt=await OQ();return nt.success?(H(nt.data),!0):!1}catch(nt){return pt>0?(await new Promise(Nt=>setTimeout(Nt,1e3)),ve(pt-1)):(console.error("Error fetching user info:",nt),!1)}};if(!await ve()){const pt=localStorage.getItem("user");if(pt)try{const nt=JSON.parse(pt);H(nt)}catch(nt){console.error("Error parsing stored user:",nt)}}const We=await Aw(e);if(!We.success)throw new Error(We.message||"Failed to load exam");const $e=new Map;We.data.questions.forEach(pt=>{$e.has(pt.QuestionID)||$e.set(pt.QuestionID,pt)});const Pe={...We.data,questions:Array.from($e.values())};A(Pe),o(!0);const Be=await zC(e);if(!Be.success)throw new Error(Be.message||"Failed to start exam");h(Be.participantId);const Te={};We.data.questions.forEach(pt=>{Te[pt.QuestionID]=""});try{console.log("Attempting to load existing answers for participant:",Be.participantId);const pt=await fetch(`/api/exams/participants/${Be.participantId}/answers`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(pt.ok){const nt=await pt.json();nt&&nt.answers&&nt.answers.length>0?(console.log("Found existing answers:",nt.answers.length),nt.answers.forEach(Nt=>{Nt.QuestionID&&Nt.Answer&&(Te[Nt.QuestionID]=Nt.Answer,console.log(`Loaded answer for question ${Nt.QuestionID}`))})):console.log("No existing answers found for this participant")}else{console.warn("Could not retrieve existing answers:",pt.status);try{const nt=await fetch(`/api/participants/${Be.participantId}/answers`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(nt.ok){const Nt=await nt.json();Nt&&Nt.answers&&Nt.answers.length>0&&Nt.answers.forEach(ht=>{ht.QuestionID&&ht.Answer&&(Te[ht.QuestionID]=ht.Answer)})}}catch(nt){console.error("Alternative approach to get answers also failed:",nt)}}}catch(pt){console.error("Error loading existing answers:",pt)}x(Te),w(We.data.Duration*60)}catch(ve){console.error("Error initializing exam:",ve);let Se="Khng th khi to k thi";ve.response?ve.response.status===401?(Se="Vui lng ng nhp li  tip tc",t("/login")):ve.response.status===403?Se="Bn khng c quyn tham gia k thi ny":ve.response.status===404?Se="Khng tm thy k thi hoc bn cha ng k":ve.response.data&&ve.response.data.message&&(Se=ve.response.data.message):ve.message&&(Se=ve.message),d(`${Se}. Vui lng th li sau hoc lin h h tr.`)}finally{s(!1),o(!1)}})(),()=>{z.current&&clearInterval(z.current)}),[e,t]),m.useEffect(()=>(j!==null&&!r&&f&&(z.current=setInterval(()=>{w(ee=>ee<=1?(clearInterval(z.current),Le(),0):ee-1)},1e3)),()=>{z.current&&clearInterval(z.current)}),[j,r,f]),m.useEffect(()=>{const ee=()=>{f&&(Ct?KQ(f).catch(ve=>{console.error("Error logging fullscreen return:",ve)}):(T(ve=>ve+1),VQ(f).catch(ve=>{console.error("Error logging fullscreen exit:",ve)})))};return document.addEventListener("fullscreenchange",ee),document.addEventListener("webkitfullscreenchange",ee),document.addEventListener("mozfullscreenchange",ee),document.addEventListener("MSFullscreenChange",ee),()=>{document.removeEventListener("fullscreenchange",ee),document.removeEventListener("webkitfullscreenchange",ee),document.removeEventListener("mozfullscreenchange",ee),document.removeEventListener("MSFullscreenChange",ee)}},[f,Ct]),m.useEffect(()=>{if(u&&f&&!S&&P.current&&!r){const ee=setTimeout(()=>{try{ct().catch(ve=>{console.error("Auto fullscreen failed:",ve)})}catch(ve){console.error("Auto fullscreen error:",ve)}},500);return()=>clearTimeout(ee)}},[u,f,S,r]),m.useEffect(()=>{const ee=()=>{document.visibilityState==="visible"&&!document.fullscreenElement&&st()};return document.addEventListener("visibilitychange",ee),()=>{document.removeEventListener("visibilitychange",ee)}},[u,f]);const st=()=>{if(P.current)try{ct()}catch(ee){console.error("Error attempting fullscreen:",ee)}},at=ee=>{const ve=Math.floor(ee/3600),Se=Math.floor(ee%3600/60),We=ee%60;return`${ve.toString().padStart(2,"0")}:${Se.toString().padStart(2,"0")}:${We.toString().padStart(2,"0")}`},qe=async()=>{try{await rt()}catch(ee){console.error("Fullscreen error:",ee)}},St=(ee,ve)=>{x(Se=>({...Se,[ee]:ve}))},kt=async()=>{const ee=u.questions[g];if(!ee)return;const ve=ee.QuestionID,Se=`${f}_${ve}`;if(G[Se]>=ce){console.log(`Max retries reached for question ${ve}, skipping save`);return}try{l(!0),await WC(f,ve,b[ve]),he(We=>({...We,[Se]:0})),R(!0),setTimeout(()=>{R(!1)},2e3)}catch(We){console.error("Error saving answer:",We);const $e=We.message||"";!($e.includes("CHECK constraint")||$e.includes("conflicted with the"))&&!We._isRetry?(he(Be=>({...Be,[Se]:(Be[Se]||0)+1})),setTimeout(()=>{We._isRetry=!0,kt()},ye)):console.error("Failed to save answer, not retrying:",We)}finally{l(!1)}},He=ee=>{kt().then(()=>{p(ee)}).catch(ve=>{console.error("Error saving answer before navigation:",ve),p(ee)})},Le=async()=>{var ee,ve;try{Q(!0),K(!1),console.log("Starting exam submission process");const Se={tabSwitches:fe,fullscreenExits:F,totalPenaltyPercentage:De.tabSwitch*5+De.fullscreenExit*3};if(console.log("Applying penalties:",Se),te({current:0,total:(((ee=u==null?void 0:u.questions)==null?void 0:ee.length)||1)+1,message:"ang chun b np bi thi..."}),ae(!0),!u||!u.questions){console.warn("Exam data missing or incomplete, attempting to retrieve it");try{const xe=await Aw(e);xe.success&&(A(xe.data),console.log("Successfully retrieved exam data"))}catch(xe){console.error("Failed to retrieve exam data:",xe)}}if(!f){console.warn("ParticipantID missing, attempting to retrieve it");try{const xe=await zC(e);xe.success&&(h(xe.participantId),console.log("Successfully retrieved participantId:",xe.participantId))}catch(xe){console.error("Failed to retrieve participantId:",xe)}}const We=f||sessionStorage.getItem("examParticipantId");try{te(Xe=>({...Xe,message:"ang lu tt c cc cu tr li..."}));const xe=(u==null?void 0:u.questions)||[];for(let Xe=0;Xe<xe.length;Xe++){const et=xe[Xe].QuestionID,Et=b[et];if(!Et||Et.trim()===""){console.log(`No answer to save for question ${et}`);continue}try{await WC(We,et,Et),console.log(`Successfully saved answer for question ${et}`)}catch(Qt){console.warn(`Could not save answer for question ${et}:`,Qt)}}console.log("Saved all available answers")}catch(xe){console.warn("Error when saving answers before submission:",xe)}te({current:0,total:(((ve=u==null?void 0:u.questions)==null?void 0:ve.length)||1)+1,message:"ang np bi thi..."});let $e=null;try{if(await new Promise(xe=>setTimeout(xe,500)),te(xe=>({...xe,message:"ang gi bi thi ln h thng..."})),We){if($e=await GC(We,e,{tabSwitches:fe,fullscreenExits:F,penaltyPercentage:De.tabSwitch*5+De.fullscreenExit*3}),console.log("Exam completed successfully:",$e),$e&&$e.evaluationDetails){const xe=u.questions.map((Ft,Rr)=>{const vr=$e.evaluationDetails.find(Dn=>Dn.questionId.toString()===Ft.QuestionID.toString());return{question:Ft.Content,answer:b[Ft.QuestionID]||"",score:vr?vr.score:0,feedback:(vr==null?void 0:vr.status)==="success"?"Cu tr li c chm bi AI.":(vr==null?void 0:vr.status)==="fallback_used"?"Cu tr li c chm bng phng php thay th.":(vr==null?void 0:vr.status)==="no_answer"?"Khng c cu tr li.":"Khng th chm im cu ny.",similarity:Math.round((vr==null?void 0:vr.score)/(vr==null?void 0:vr.maxPoints)*100)||0}}),Xe=xe.reduce((Ft,Rr)=>Ft+Rr.score,0),Fe=De.tabSwitch*5+De.fullscreenExit*3,et=Math.max(0,(100-Fe)/100),Et=Xe*et;console.log(`Original score: ${Xe}, Penalty: ${Fe}%, Final score: ${Et}`),te(Ft=>({...Ft,current:Ft.total,message:" hon thnh chm im."})),await new Promise(Ft=>setTimeout(Ft,1e3)),re({total:Et,originalScore:Xe,penaltyApplied:Fe>0,penaltyPercentage:Fe,feedbacks:xe}),ae(!1),Ae(!0);let Qt=null;$e&&$e.redirectTo?Qt=$e.redirectTo:We&&(Qt=`/exams/results/${We}`),q(We,Qt),console.log("Skipping manual grading since server already provided scores");return}}else throw console.error("No participantId available for exam completion"),new Error("Thiu ID ngi tham gia");te(xe=>({...xe,current:1,message:" np bi thi thnh cng. Bt u chm im..."})),await new Promise(xe=>setTimeout(xe,1e3))}catch(xe){console.error("Error completing exam:",xe),te(Xe=>({...Xe,message:"Lu : C li khi np bi thi, nhng vn tip tc chm im..."})),await new Promise(Xe=>setTimeout(Xe,1e3))}let Pe=0,Be=[];const Te=(u==null?void 0:u.questions)||[];te(xe=>({...xe,message:"H thng ang so snh bi lm vi p n mu. Vui lng ch..."})),await new Promise(xe=>setTimeout(xe,1e3));const pt=Te.map(async(xe,Xe)=>{try{const Fe=b[xe.QuestionID]||"";te(et=>({...et,current:Xe+1,message:`ang chm im cu ${Xe+1}/${Te.length}...`})),console.log(`Grading question ${xe.QuestionID} with answer length: ${Fe.length}`);try{const et=await GQ(e,xe.QuestionID,Fe,We);if(!et.success)throw console.error(`Error grading question ${xe.QuestionID}:`,et.message),new Error(et.message||"Li khi chm im cu hi");return console.log(`Question ${xe.QuestionID} graded with score: ${et.data.score}`),{question:xe.Content,answer:Fe,score:et.data.score,feedback:et.data.feedback||"H thng  phn tch ni dung da trn phng php so snh vi p n mu.",similarity:et.data.similarity}}catch(et){console.error("Error grading via API, using fallback method:",et);const Et=qC(Fe,xe.CorrectAnswer||"",(()=>{try{return Array.isArray(xe.Keywords)?xe.Keywords:typeof xe.Keywords=="string"?JSON.parse(xe.Keywords):[]}catch{return[]}})()),Qt=Number(xe.Points||10),Ft=Number((Et.totalSimilarity/100*Qt).toFixed(2));return{question:xe.Content,answer:Fe,score:Ft,feedback:"im tm tnh da trn so snh ni dung khi h thng gp s c.",similarity:Et.totalSimilarity}}}catch(Fe){return console.error(`Error processing question ${xe==null?void 0:xe.QuestionID}:`,Fe),{question:(xe==null?void 0:xe.Content)||`Cu hi ${Xe+1}`,answer:b[xe==null?void 0:xe.QuestionID]||"",score:0,feedback:"Li khi chm im cu hi ny",similarity:0}}});try{Be=await Promise.all(pt),Pe=Be.reduce((xe,Xe)=>xe+Xe.score,0)}catch(xe){console.error("Error during parallel grading:",xe)}te(xe=>({...xe,current:xe.total,message:" hon thnh chm im."})),await new Promise(xe=>setTimeout(xe,1e3));const nt=De.tabSwitch*5+De.fullscreenExit*3,Nt=Math.max(0,(100-nt)/100),ht=Pe*Nt;console.log(`Original score: ${Pe}, Penalty: ${nt}%, Final score: ${ht}`),re({total:ht,originalScore:Pe,penaltyApplied:nt>0,penaltyPercentage:nt,feedbacks:Be});try{await GC(We,e,{tabSwitches:fe,fullscreenExits:F,penaltyPercentage:nt,finalScore:ht,originalScore:Pe,feedbacks:Be.map(xe=>{var Xe;return{questionId:(Xe=u.questions[Be.indexOf(xe)])==null?void 0:Xe.QuestionID,score:xe.score,similarity:xe.similarity}})}),console.log(`Final score ${ht} successfully submitted to server`)}catch(xe){console.error("Error submitting final score to server:",xe)}ae(!1),Ae(!0);let ft=null;$e&&$e.redirectTo?ft=$e.redirectTo:We&&(ft=`/exams/results/${We}`),q(We,ft)}catch(Se){console.error("Error submitting exam:",Se);let We="Li khi np bi thi. H thng vn s c gng hon thnh qu trnh.";if(Se.response&&Se.response.data&&Se.response.data.message?We=Se.response.data.message:Se.message&&(We=Se.message),Re.error(We,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),!Z){const $e=(u==null?void 0:u.questions)||[];if($e.length>0){const Pe=$e.map((Te,pt)=>{const nt=qC(b[Te.QuestionID]||"",Te.CorrectAnswer||"",(()=>{try{return Array.isArray(Te.Keywords)?Te.Keywords:typeof Te.Keywords=="string"?JSON.parse(Te.Keywords):[]}catch{return[]}})()),Nt=Number(Te.Points||10),ht=Number((nt.totalSimilarity/100*Nt).toFixed(2));return{question:Te.Content||`Cu hi ${pt+1}`,answer:b[Te.QuestionID]||"",score:ht,feedback:"im tm tnh da trn so snh ni dung khi h thng gp s c.",similarity:nt.totalSimilarity}}),Be=Pe.reduce((Te,pt)=>Te+pt.score,0)/Pe.length;re({total:Be,originalScore:Be,penaltyApplied:!1,penaltyPercentage:0,feedbacks:Pe}),ae(!1),Ae(!0)}}}finally{setTimeout(()=>{Q(!1),me&&ae(!1)},3e3)}},q=(ee,ve)=>{console.log("Setting up 30-second timer to exit fullscreen mode");const Se=setTimeout(()=>{if(console.log("30 seconds elapsed after grading, exiting fullscreen mode"),S&&document.exitFullscreen)try{document.exitFullscreen().then(()=>{console.log("Successfully exited fullscreen mode after grading"),I(!1)}).catch(We=>{console.error("Error exiting fullscreen mode after grading:",We)})}catch(We){console.error("Error with fullscreen exit after grading:",We)}},3e4);z.current=Se};m.useEffect(()=>{if(!f)return;const ee=async()=>{if(document.visibilityState==="hidden"){pe(Se=>Se+1),Ue(Se=>({...Se,tabSwitch:Se.tabSwitch+1}));try{await fetch("/api/exams/monitoring-logs",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({participantId:f,eventType:"tab_switch",eventData:JSON.stringify({count:fe+1,timestamp:new Date().toISOString()})})})}catch(Se){console.error("Failed to log tab switch:",Se)}je(!0),fe+1>=Ce&&!_&&(Re.error("Qu nhiu ln chuyn tab/ca s. Bi thi s t ng np sau 30 giy!",{position:"top-center",autoClose:!1,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1,draggable:!1}),setTimeout(()=>{_||Le()},3e4))}else document.visibilityState==="visible"&&!document.fullscreenElement&&st()},ve=async()=>{pe(Se=>Se+1),Ue(Se=>({...Se,tabSwitch:Se.tabSwitch+1}));try{await fetch("/api/exams/monitoring-logs",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({participantId:f,eventType:"window_blur",eventData:JSON.stringify({count:fe+1,timestamp:new Date().toISOString()})})})}catch(Se){console.error("Failed to log window blur:",Se)}je(!0),fe+1>=Ce&&!_&&(Re.error("Qu nhiu ln chuyn ng dng. Bi thi s t ng np sau 30 giy!",{position:"top-center",autoClose:!1,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1,draggable:!1}),setTimeout(()=>{_||Le()},3e4))};return document.addEventListener("visibilitychange",ee),window.addEventListener("blur",ve),()=>{document.removeEventListener("visibilitychange",ee),window.removeEventListener("blur",ve)}},[f,fe,_]);const M=()=>{var ee,ve,Se;return n.jsxs(Bt,{sx:{display:Z?"flex":"none",position:"fixed",top:0,left:0,width:"100%",height:"100vh",zIndex:9999,flexDirection:"column",backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(8px)",overflow:"auto"},children:[n.jsxs(Bt,{sx:{bgcolor:"primary.main",color:"white",p:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx(jt,{variant:"h5",children:"Kt qu bi thi"}),n.jsx(JI,{onClick:()=>{if(S&&document.exitFullscreen)try{document.exitFullscreen()}catch{}f?t(`/exams/results/${f}`):Ae(!1)},sx:{color:"white"},children:n.jsx(Pw,{})})]}),n.jsx(Bt,{sx:{p:4,flexGrow:1,overflow:"auto"},children:n.jsxs(Bt,{sx:{mt:2},children:[n.jsxs(jt,{variant:"h6",gutterBottom:!0,children:["Tng im: ",X!=null&&X.total?X.total.toFixed(1):"0","/10"]}),(X==null?void 0:X.penaltyApplied)&&n.jsxs(Bt,{sx:{mt:1,mb:3,p:2,bgcolor:"error.light",borderRadius:1,color:"error.contrastText"},children:[n.jsx(jt,{variant:"subtitle2",gutterBottom:!0,children:n.jsx("strong",{children:"im b tr do vi phm quy nh lm bi:"})}),n.jsxs(Bt,{component:"ul",sx:{ml:2,mt:1},children:[(De==null?void 0:De.tabSwitch)>0&&n.jsxs(jt,{component:"li",variant:"body2",children:["Chuyn tab/ng dng: ",De.tabSwitch," ln (-",De.tabSwitch*5,"%)"]}),(De==null?void 0:De.fullscreenExit)>0&&n.jsxs(jt,{component:"li",variant:"body2",children:["Thot ton mn hnh: ",De.fullscreenExit," ln (-",De.fullscreenExit*3,"%)"]}),n.jsxs(jt,{component:"li",variant:"body2",sx:{fontWeight:"bold",mt:1},children:["Tng im b tr: ",X.penaltyPercentage,"%"]}),n.jsxs(jt,{component:"li",variant:"body2",sx:{mt:1},children:["im gc: ",((ee=X.originalScore)==null?void 0:ee.toFixed(1))||"0","/10"]}),n.jsxs(jt,{component:"li",variant:"body2",children:["im sau khi tr: ",((ve=X.total)==null?void 0:ve.toFixed(1))||"0","/10"]})]})]}),n.jsxs(Bt,{sx:{mt:3},children:[n.jsxs(jt,{variant:"subtitle1",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:["Chi tit tng cu:",n.jsx(Bt,{sx:{ml:1,px:1.5,py:.5,bgcolor:"#e3f2fd",borderRadius:1,fontSize:"0.875rem",color:"#1976d2"},children:" tng ng vi p n mu c tnh bng so snh ni dung v t kha"})]}),(Se=X==null?void 0:X.feedbacks)==null?void 0:Se.map((We,$e)=>{var Pe;return n.jsxs(Ys,{sx:{p:2,mb:2},children:[n.jsxs(jt,{variant:"subtitle2",gutterBottom:!0,children:["Cu ",$e+1,": ",((Pe=We==null?void 0:We.score)==null?void 0:Pe.toFixed(1))||"0"," im"]}),n.jsxs(Bt,{sx:{display:"flex",alignItems:"center",mt:1,mb:1,bgcolor:"#f5f5f5",p:1.5,borderRadius:1,border:"1px solid",borderColor:"divider"},children:[n.jsx(jt,{variant:"body2",color:"text.secondary",sx:{mr:1,minWidth:"180px"},children:n.jsx("strong",{children:" tng ng vi p n:"})}),n.jsxs(Bt,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:[n.jsx(Bt,{sx:{width:"100%",bgcolor:"#e0e0e0",height:12,borderRadius:5,overflow:"hidden",mr:1},children:n.jsx(Bt,{sx:{width:`${Number(We.similarity||0).toFixed(1)}%`,bgcolor:Number(We.similarity||0)>70?"success.main":Number(We.similarity||0)>40?"warning.main":"error.main",height:"100%",borderRadius:5}})}),n.jsxs(jt,{variant:"body2",sx:{fontSize:"1.1rem",color:Number(We.similarity||0)>70?"success.main":Number(We.similarity||0)>40?"warning.main":"error.main",fontWeight:"bold",minWidth:"60px",textAlign:"right"},children:[Number(We.similarity||0).toFixed(1),"%"]})]})]}),n.jsxs(jt,{variant:"body2",sx:{mt:1},children:[n.jsx("strong",{children:"Nhn xt:"})," ",We.feedback||"Khng c nhn xt"]})]},$e)})]})]})}),n.jsx(Bt,{sx:{p:2,display:"flex",justifyContent:"center",borderTop:"1px solid",borderColor:"divider"},children:n.jsx(Vr,{onClick:()=>{if(S&&document.exitFullscreen)try{document.exitFullscreen()}catch{}f?t(`/exams/results/${f}`):Ae(!1)},variant:"contained",color:"primary",size:"large",sx:{minWidth:"200px"},children:"ng"})})]})},$=()=>n.jsx(Bt,{sx:{display:me?"flex":"none",position:"fixed",top:0,left:0,width:"100%",height:"100vh",zIndex:9999,flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)"},children:n.jsxs(Ys,{elevation:4,sx:{width:"90%",maxWidth:"600px",overflow:"hidden",borderRadius:2},children:[n.jsx(Bt,{sx:{bgcolor:"primary.main",color:"white",p:2},children:n.jsx(jt,{variant:"h5",children:"ang chm im bi thi"})}),n.jsxs(Bt,{sx:{p:4,minHeight:"350px"},children:[n.jsx(Bt,{sx:{textAlign:"center",mb:3},children:n.jsx(wi,{size:80,thickness:5})}),n.jsx(jt,{variant:"h5",gutterBottom:!0,align:"center",sx:{fontWeight:"bold",mb:2},children:"Vui lng ch trong t pht"}),n.jsx(jt,{variant:"body1",align:"center",sx:{mb:3},children:"H thng ang chm im bi thi ca bn bng cch so snh vi p n mu. Qu trnh ny c th mt vi pht."}),n.jsxs(Bt,{sx:{width:"100%",bgcolor:"background.paper",borderRadius:1,p:2,border:"1px solid",borderColor:"divider"},children:[n.jsxs(Bt,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Bt,{sx:{width:6,height:6,borderRadius:"50%",bgcolor:"success.main",mr:1,animation:"pulse 1.5s infinite","@keyframes pulse":{"0%":{opacity:.5,transform:"scale(0.8)"},"50%":{opacity:1,transform:"scale(1.2)"},"100%":{opacity:.5,transform:"scale(0.8)"}}}}),n.jsx(jt,{variant:"body2",sx:{mb:1,fontWeight:"medium"},children:ie.message})]}),ie.total>0&&n.jsxs(n.Fragment,{children:[n.jsx(Bt,{sx:{width:"100%",bgcolor:"#e0e0e0",height:10,borderRadius:5,mt:2,overflow:"hidden"},children:n.jsx(Bt,{sx:{width:`${ie.current/ie.total*100}%`,bgcolor:"primary.main",height:"100%",borderRadius:5,transition:"width 0.5s ease-in-out"}})}),n.jsxs(Bt,{sx:{display:"flex",justifyContent:"space-between",mt:.5},children:[n.jsx(jt,{variant:"body2",color:"text.secondary",children:`Cu ${ie.current}/${ie.total-1}`}),n.jsxs(jt,{variant:"body2",color:"text.secondary",children:[Math.round(ie.current/ie.total*100),"%"]})]})]})]}),n.jsx(Bt,{sx:{mt:3,p:2,bgcolor:"#f5f5f5",borderRadius:1},children:n.jsx(jt,{variant:"body2",align:"center",sx:{fontStyle:"italic",color:"text.secondary"},children:"H thng ang so snh cu tr li ca bn vi cc p n trong c s d liu, kim tra t kha quan trng v tnh ton  tng ng  a ra im s chnh xc."})}),n.jsxs(Bt,{sx:{mt:3,p:2,bgcolor:"#e3f2fd",borderRadius:1,display:"flex",alignItems:"center",justifyContent:"center"},children:[n.jsx(uB,{sx:{color:"#2196f3",mr:1}}),n.jsx(jt,{variant:"body2",sx:{color:"#2196f3",fontWeight:"medium"},children:"H thng s t ng chuyn sang trang kt qu khi chm im xong"})]})]})]})});if(r)return n.jsxs(Bt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:[n.jsx(wi,{}),n.jsx(jt,{sx:{ml:2},children:i?"ang bt u k thi...":"ang ti..."})]});if(c)return n.jsxs(Bt,{sx:{mt:4,maxWidth:600,mx:"auto"},children:[n.jsxs(yi,{severity:"error",children:[n.jsx(Xl,{children:"Li"}),c]}),n.jsx(Vr,{variant:"outlined",color:"primary",onClick:()=>t("/exams"),sx:{mt:2},children:"Quay li danh sch k thi"})]});if(!u||!f)return n.jsxs(Bt,{sx:{mt:4,maxWidth:600,mx:"auto"},children:[n.jsxs(yi,{severity:"warning",children:[n.jsx(Xl,{children:"Khng tm thy"}),"Khng tm thy thng tin k thi hoc bn cha ng k."]}),n.jsx(Vr,{variant:"outlined",color:"primary",onClick:()=>t("/exams"),sx:{mt:2},children:"Quay li danh sch k thi"})]});const J=u.questions[g];return n.jsxs(Bt,{ref:P,sx:{minHeight:"100vh",bgcolor:S?"#f5f5f5":"inherit",p:S?1.5:2,display:"flex",flexDirection:"column",maxHeight:S?"100vh":"inherit",overflow:S?"hidden":"visible"},children:[!S&&!_&&n.jsxs(yi,{severity:"warning",sx:{mb:3},children:[n.jsx(Xl,{children:"Vui lng vo ch  ton mn hnh"}),"H thng  c gng chuyn sang ch  ton mn hnh nhng c th  b trnh duyt chn.  tip tc lm bi thi, vui lng nhn nt bn di  vo ch  ton mn hnh.",n.jsx(Vr,{variant:"contained",startIcon:n.jsx(Lb,{}),onClick:st,sx:{mt:1},children:"Vo ch  ton mn hnh"})]}),we&&fe>0&&!_&&n.jsxs(yi,{severity:"error",sx:{mb:3},children:[n.jsx(Xl,{children:"Cnh bo nghim trng!"}),"Bn  chuyn tab/ng dng ",fe," ln. Mi ln chuyn tab s b tr 5% tng im.",fe>=Ce-1&&n.jsx(jt,{variant:"body2",sx:{mt:1,fontWeight:"bold"},children:"Nu bn chuyn tab thm ln na, bi thi s t ng np vi im s thp!"})]}),F>0&&!_&&n.jsxs(yi,{severity:"error",sx:{mb:3},children:[n.jsx(Xl,{children:"Cnh bo!"}),"Bn  thot ch  ton mn hnh ",F," ln. Mi ln thot ch  ton mn hnh s b tr 3% tng im."]}),n.jsx(Ys,{elevation:3,sx:{p:2,mb:2,borderRadius:S?1:2},children:n.jsxs(Ss,{container:!0,spacing:2,alignItems:"center",children:[n.jsxs(Ss,{item:!0,xs:12,md:8,children:[n.jsx(jt,{variant:"h5",sx:{fontWeight:"medium"},children:u.Title}),n.jsx(jt,{variant:"body2",color:"text.secondary",children:u.Description})]}),n.jsxs(Ss,{item:!0,xs:12,md:4,sx:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[n.jsxs(Bt,{sx:{display:"flex",alignItems:"center",p:1,bgcolor:j<300?"error.light":j<600?"warning.light":"primary.light",color:"white",borderRadius:1,mb:1,position:"fixed",top:16,right:16,zIndex:1e3},children:[n.jsx(fT,{sx:{mr:1}}),n.jsx(jt,{variant:"h6",children:at(j)})]}),n.jsx(Bt,{sx:{display:"flex",alignItems:"center"},children:n.jsx(Vr,{variant:"outlined",size:"small",startIcon:S?n.jsx(uB,{}):n.jsx(Lb,{}),onClick:qe,children:S?"Thot":"Ton mn hnh"})})]})]})}),n.jsxs(Bt,{sx:{display:"flex",flexGrow:1,flexDirection:{xs:"column",md:"row"},height:S?"calc(100vh - 130px)":"inherit",overflow:"hidden"},children:[n.jsxs(Bt,{sx:{width:{xs:"100%",md:"25%"},pr:{xs:0,md:2},mb:{xs:2,md:0},display:"flex",flexDirection:"column",height:S?"100%":"inherit",overflow:"hidden"},children:[n.jsxs(Ys,{elevation:3,sx:{p:2,mb:2,flexGrow:0,display:"flex",flexDirection:"column",overflow:"hidden",maxHeight:S?"240px":"260px",minHeight:"220px",borderRadius:S?1:2},children:[n.jsx(jt,{variant:"subtitle1",sx:{mb:1,fontWeight:"medium"},children:"Danh sch cu hi"}),n.jsx(Zl,{sx:{mb:1}}),n.jsx(Bt,{sx:{overflow:"auto",flexGrow:1},children:n.jsx(ux,{dense:!0,children:u.questions.map((ee,ve)=>n.jsx(qc,{disablePadding:!0,children:n.jsx(Lq,{selected:g===ve,onClick:()=>He(ve),sx:{borderRadius:1,mb:.5,py:.5,bgcolor:b[ee.QuestionID]?"rgba(76, 175, 80, 0.1)":"inherit",border:b[ee.QuestionID]?"1px solid #4caf50":"none","&.Mui-selected":{bgcolor:"primary.light",color:"white","&:hover":{bgcolor:"primary.main"}}},children:n.jsx(Xc,{primary:`Cu ${ve+1}`,secondary:`${b[ee.QuestionID]?" tr li":"Cha tr li"}`,primaryTypographyProps:{fontWeight:g===ve?"bold":"normal",fontSize:"0.9rem"},secondaryTypographyProps:{color:g===ve?"inherit":b[ee.QuestionID]?"success.main":"error.main",fontSize:"0.75rem"}})})},ee.QuestionID))})})]}),n.jsxs(Ys,{elevation:3,sx:{p:2,mb:2,flexGrow:1,display:"flex",flexDirection:"column",maxHeight:S?"calc(100% - 250px)":"300px",overflow:"auto",borderRadius:S?1:2},children:[n.jsx(jt,{variant:"subtitle1",sx:{mb:1,fontWeight:"medium"},children:"Thng tin k thi"}),n.jsx(Zl,{sx:{mb:1}}),D&&n.jsxs(Bt,{sx:{mb:1.5,p:1.5,bgcolor:"background.paper",borderRadius:1,border:"1px solid",borderColor:"primary.light",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[n.jsx(jt,{variant:"subtitle2",sx:{mb:1,fontWeight:"medium",color:"primary.main"},children:"Thng tin th sinh"}),n.jsxs(Ss,{container:!0,spacing:2,children:[n.jsx(Ss,{item:!0,xs:12,sm:6,children:n.jsxs(Bt,{sx:{display:"flex",flexDirection:"column",p:1,bgcolor:"background.default",borderRadius:1},children:[n.jsx(jt,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"H v tn"}),n.jsx(jt,{variant:"body1",sx:{fontWeight:"medium"},children:D.fullName||D.FullName||D.username||D.Username||D.name||"Khng c thng tin"})]})}),n.jsx(Ss,{item:!0,xs:12,sm:6,children:n.jsxs(Bt,{sx:{display:"flex",flexDirection:"column",p:1,bgcolor:"background.default",borderRadius:1},children:[n.jsx(jt,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:"M s"}),n.jsx(jt,{variant:"body1",sx:{fontWeight:"medium"},children:D.id||D.UserID||D.userId||D.studentId||f||"Khng c thng tin"})]})})]})]}),n.jsxs(jt,{variant:"body2",sx:{mb:1},children:[n.jsx("strong",{children:"Thi gian:"})," ",u.Duration," pht"]}),n.jsxs(jt,{variant:"body2",sx:{mb:1},children:[n.jsx("strong",{children:"Tng s cu hi:"})," ",u.questions.length]}),n.jsxs(jt,{variant:"body2",sx:{mb:1},children:[n.jsx("strong",{children:"im t:"})," ",u.PassingScore,"/",u.TotalPoints]}),n.jsxs(jt,{variant:"body2",sx:{mb:1},children:[n.jsx("strong",{children:"Loi k thi:"})," ",u.Type==="essay"?"T lun":u.Type==="multiple_choice"?"Trc nghim":u.Type]}),u.Instructions&&n.jsxs(n.Fragment,{children:[n.jsx(jt,{variant:"subtitle2",sx:{mt:2,mb:1},children:"Hng dn lm bi:"}),n.jsx(jt,{variant:"body2",sx:{whiteSpace:"pre-line"},children:u.Instructions})]})]}),S&&n.jsx(Vr,{variant:"contained",color:"error",startIcon:n.jsx(hJ,{}),onClick:async()=>{l(!0);try{await kt()}catch(ee){console.warn("Error saving current answer before submission:",ee)}await Le()},size:"large",fullWidth:!0,disabled:a||_,sx:{py:1.5,borderRadius:1,backgroundColor:"error.main","&:hover":{backgroundColor:"error.dark"},"&:active":{transform:"scale(0.98)",boxShadow:1},fontWeight:"bold",boxShadow:3,transition:"all 0.2s ease",position:"relative",overflow:"hidden","&::after":a?{content:'""',position:"absolute",left:0,top:0,width:"100%",height:"100%",backgroundImage:"linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent)",animation:"ripple 1.5s infinite"}:{},"@keyframes ripple":{"0%":{transform:"translateX(-100%)"},"100%":{transform:"translateX(100%)"}}},children:a?n.jsxs(n.Fragment,{children:[n.jsx(wi,{size:16,color:"inherit",sx:{mr:1}}),"ang x l..."]}):"Np bi"})]}),n.jsx(Bt,{sx:{width:{xs:"100%",md:"75%"},height:S?"100%":"inherit",display:"flex"},children:n.jsx(Ys,{elevation:3,sx:{p:3,width:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:S?1:2},children:S?n.jsxs(n.Fragment,{children:[n.jsxs(jt,{variant:"subtitle1",sx:{mb:1,fontWeight:"bold"},children:["Cu hi ",g+1,"/",u.questions.length]}),n.jsx(Zl,{sx:{mb:2}}),n.jsx(Bt,{sx:{mb:3,overflow:"auto",maxHeight:S?"20vh":"180px"},children:n.jsx(jt,{variant:"body1",sx:{whiteSpace:"pre-line"},children:(J==null?void 0:J.Content)||"Khng c ni dung cu hi"})}),n.jsx(jt,{variant:"subtitle2",sx:{mb:1},children:"Cu tr li ca bn:"}),n.jsx(Bt,{sx:{flexGrow:1,display:"flex",flexDirection:"column",minHeight:S?"calc(65vh - 100px)":"400px",mb:2},children:n.jsx(eJ,{fullWidth:!0,multiline:!0,rows:S?16:12,variant:"outlined",placeholder:"Nhp cu tr li ca bn ti y...",value:b[J==null?void 0:J.QuestionID]||"",onChange:ee=>St(J==null?void 0:J.QuestionID,ee.target.value),disabled:a,sx:{flexGrow:1,height:"100%","& .MuiOutlinedInput-root":{height:"100%","& textarea":{height:"100% !important"},"& fieldset":{borderColor:g===0?"primary.light":"inherit"},"&:hover fieldset":{borderColor:"primary.main"}}}})}),n.jsxs(Bt,{sx:{display:"flex",justifyContent:"space-between",mt:"auto"},children:[n.jsx(Vr,{variant:"outlined",onClick:()=>He(Math.max(0,g-1)),disabled:g===0||a,sx:{borderRadius:1},children:"Cu trc"}),n.jsxs(Bt,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Vr,{variant:"contained",color:B?"success":"primary",onClick:kt,disabled:a,startIcon:a?n.jsx(wi,{size:20}):B?n.jsx(nJ,{}):null,sx:{borderRadius:1},children:a?"ang lu...":B?" lu":"Lu cu tr li"}),B&&n.jsx(jt,{variant:"caption",sx:{ml:1,color:"success.main",animation:"fadeIn 0.3s ease-in","@keyframes fadeIn":{"0%":{opacity:0},"100%":{opacity:1}}},children:" lu"})]}),n.jsx(Vr,{variant:"outlined",onClick:()=>He(Math.min(u.questions.length-1,g+1)),disabled:g===u.questions.length-1||a,sx:{borderRadius:1},children:"Cu tip theo"})]})]}):n.jsxs(Bt,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",p:4},children:[n.jsx(jt,{variant:"h6",sx:{mb:3,textAlign:"center"},children:"Ni dung cu hi v  nhp cu tr li ch hin th trong ch  ton mn hnh"}),n.jsx(Vr,{variant:"contained",startIcon:n.jsx(Lb,{}),onClick:st,size:"large",children:"Vo ch  ton mn hnh  lm bi"})]})})})]}),n.jsx(M,{}),n.jsx($,{})]})},xJ=()=>{const{participantId:e}=Lo(),t=rn(),[r,s]=m.useState(!0),[i,o]=m.useState(null),[a,l]=m.useState(null);if(m.useEffect(()=>{(async()=>{try{s(!0);const x=await zQ(e);if(!x.success)throw new Error(x.message||"Failed to load results");l(x.data),o(null)}catch(x){console.error("Error fetching exam results:",x),o("Khng th ti kt qu k thi. Vui lng th li sau.")}finally{s(!1)}})()},[e]),r)return n.jsxs(Bt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:[n.jsx(wi,{}),n.jsx(jt,{sx:{ml:2},children:"ang ti kt qu..."})]});if(i)return n.jsxs(Bt,{sx:{mt:4,maxWidth:600,mx:"auto"},children:[n.jsxs(yi,{severity:"error",children:[n.jsx(Xl,{children:"Li"}),i]}),n.jsx(Vr,{variant:"outlined",color:"primary",onClick:()=>t("/exams"),sx:{mt:2},children:"Quay li danh sch k thi"})]});if(!a)return n.jsxs(Bt,{sx:{mt:4,maxWidth:600,mx:"auto"},children:[n.jsxs(yi,{severity:"warning",children:[n.jsx(Xl,{children:"Khng tm thy"}),"Khng tm thy kt qu bi thi."]}),n.jsx(Vr,{variant:"outlined",color:"primary",onClick:()=>t("/exams"),sx:{mt:2},children:"Quay li danh sch k thi"})]});const{participant:c,answers:d=[]}=a,u=new Map;d.forEach(b=>{b&&b.QuestionID&&(u.has(b.QuestionID)||u.set(b.QuestionID,b))});const A=Array.from(u.values()),f=10,h=c.PassingScore/100*f,g=c.Score>=h,p=b=>{if(!b)return"N/A";const x=Math.floor(b/60),j=b%60;return x===0?`${j} pht`:`${x} gi ${j} pht`};return n.jsxs(Bt,{sx:{mt:4,mb:8,px:{xs:2,md:5},width:"100%",maxWidth:{lg:"1400px",xl:"1800px"},mx:"auto"},children:[n.jsxs(Ys,{elevation:3,sx:{p:3,mb:4,position:"relative",overflow:"hidden"},children:[n.jsx(Bt,{sx:{position:"absolute",top:0,right:0,width:"30%",height:"100%",background:g?"linear-gradient(135deg, transparent, rgba(76, 175, 80, 0.1))":"linear-gradient(135deg, transparent, rgba(244, 67, 54, 0.1))",zIndex:0}}),n.jsxs(Ss,{container:!0,spacing:3,sx:{position:"relative",zIndex:1},children:[n.jsxs(Ss,{item:!0,xs:12,md:8,children:[n.jsx(jt,{variant:"h4",gutterBottom:!0,children:"Kt qu bi thi"}),n.jsx(jt,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:c.ExamTitle}),n.jsxs(Bt,{sx:{display:"flex",alignItems:"center",mt:2},children:[n.jsx(L0,{icon:g?n.jsx(gh,{}):n.jsx(Pw,{}),label:g?"t":"Cha t",color:g?"success":"error",sx:{mr:2}}),n.jsxs(jt,{variant:"body2",color:"text.secondary",children:["Hon thnh vo: ",c.CompletedAt?gl(new Date(c.CompletedAt),"HH:mm - dd/MM/yyyy",{locale:xl}):"N/A"]})]})]}),n.jsx(Ss,{item:!0,xs:12,md:4,children:n.jsxs(Bt,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:[n.jsxs(Bt,{sx:{position:"relative",display:"inline-flex"},children:[n.jsx(wi,{variant:"determinate",value:c.Score/f*100,size:120,thickness:5,sx:{color:c.Score/f*100>=80?"success.main":c.Score/f*100>=60?"primary.main":"error.main"}}),n.jsx(Bt,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsxs(jt,{variant:"h4",component:"div",color:"text.secondary",children:[c.Score,"/",f]})})]}),n.jsxs(jt,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["im t: ",h.toFixed(1),"/",f]})]})})]})]}),n.jsxs(Ss,{container:!0,spacing:{xs:2,md:4},children:[n.jsxs(Ss,{item:!0,xs:12,md:5,lg:4,children:[n.jsx(Bw,{sx:{mb:3},children:n.jsxs(kw,{children:[n.jsx(jt,{variant:"h6",gutterBottom:!0,children:"Thng tin bi thi"}),n.jsx(Zl,{sx:{mb:2}}),n.jsxs(Bt,{sx:{"& > div":{mb:1.5}},children:[n.jsxs(Bt,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(fT,{sx:{mr:1,color:"primary.main"}}),n.jsxs(jt,{variant:"body2",children:[n.jsx("strong",{children:"Thi gian lm bi:"})," ",p(c.TimeSpent)]})]}),n.jsxs(Bt,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(hT,{sx:{mr:1,color:"primary.main"}}),n.jsxs(jt,{variant:"body2",children:[n.jsx("strong",{children:"S cu:"})," ",A.length]})]}),n.jsxs(Bt,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(gh,{sx:{mr:1,color:"success.main"}}),n.jsxs(jt,{variant:"body2",children:[n.jsx("strong",{children:"Cu tr li ng:"})," ",A.filter(b=>b.IsCorrect===1).length]})]}),n.jsxs(Bt,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Pw,{sx:{mr:1,color:"error.main"}}),n.jsxs(jt,{variant:"body2",children:[n.jsx("strong",{children:"Cu tr li sai:"})," ",A.filter(b=>b.IsCorrect===0).length]})]}),n.jsxs(Bt,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(sJ,{sx:{mr:1,color:"warning.main"}}),n.jsxs(jt,{variant:"body2",children:[n.jsx("strong",{children:"Kt qu:"})," ",g?"t":"Cha t"]})]})]})]})}),n.jsx(Bw,{children:n.jsxs(kw,{children:[n.jsx(jt,{variant:"h6",gutterBottom:!0,children:"So snh p n"}),n.jsx(Zl,{sx:{mb:2}}),n.jsx(jt,{variant:"body2",paragraph:!0,children:"im ca bn c tnh da trn mc  tng ng gia p n ca bn vi p n mu."}),n.jsx(jt,{variant:"body2",children:"H thng so snh:"}),n.jsxs("ul",{style:{paddingLeft:"1.5rem",margin:"0.5rem 0"},children:[n.jsx("li",{children:"Cc t kha quan trng (70%)"}),n.jsx("li",{children:" tng ng ni dung (30%)"})]})]})})]}),n.jsxs(Ss,{item:!0,xs:12,md:7,lg:8,sx:{display:"flex",flexDirection:"column",alignItems:"stretch"},children:[n.jsx(yi,{severity:"warning",sx:{mb:3},children:"Chi tit bi lm  c n theo yu cu."}),n.jsx(Bt,{sx:{mt:"auto",display:"flex",justifyContent:"center"},children:n.jsx(Vr,{variant:"contained",color:"primary",component:Zt,to:"/exams",children:"Quay li danh sch k thi"})})]})]})]})},yJ=()=>{const[e,t]=m.useState([]),[r,s]=m.useState(!0),[i,o]=m.useState(null);m.useEffect(()=>{a()},[]);const a=async()=>{try{s(!0);const c=await $Q();t(c.data||[]),o(null)}catch(c){console.error("Error fetching upcoming exams:",c),o("Khng th ti danh sch k thi sp ti. Vui lng th li sau.")}finally{s(!1)}},l=c=>{const d=new Date,u=new Date(c),A=n_(u,d);if(A>0)return`${A} ngy na`;const f=s_(u,d);return f>0?`${f} gi na`:"Sp bt u"};return r?n.jsx(Bt,{sx:{display:"flex",justifyContent:"center",mt:4},children:n.jsx(wi,{})}):i?n.jsxs(Bt,{sx:{mt:4,textAlign:"center"},children:[n.jsxs(yi,{severity:"error",children:[n.jsx(Xl,{children:"Li"}),i]}),n.jsx(Vr,{variant:"outlined",onClick:a,sx:{mt:2},children:"Ti li"})]}):n.jsxs(Bt,{sx:{mt:4},children:[n.jsx(jt,{variant:"h4",gutterBottom:!0,children:"K thi sp din ra"}),e.length===0?n.jsxs(yi,{severity:"info",sx:{mt:2},children:[n.jsx(Xl,{children:"Khng c k thi no sp din ra"}),"Hin ti cha c k thi no c ln lch trong thi gian ti."]}):n.jsx(Ss,{container:!0,spacing:3,sx:{mt:1},children:e.map(c=>n.jsx(Ss,{item:!0,xs:12,children:n.jsxs(Bw,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-5px)",boxShadow:6}},children:[n.jsxs(Bt,{sx:{width:{xs:"100%",sm:"200px"},display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",p:2,bgcolor:"primary.light",color:"white"},children:[n.jsx(rJ,{fontSize:"large"}),n.jsx(jt,{variant:"h6",sx:{mt:1},children:gl(new Date(c.StartTime),"dd/MM/yyyy",{locale:xl})}),n.jsx(jt,{variant:"body2",children:gl(new Date(c.StartTime),"HH:mm",{locale:xl})}),n.jsx(jt,{variant:"caption",sx:{mt:1,fontWeight:"bold"},children:l(c.StartTime)})]}),n.jsx(Zl,{orientation:"vertical",flexItem:!0,sx:{display:{xs:"none",sm:"block"}}}),n.jsx(Zl,{sx:{display:{xs:"block",sm:"none"}}}),n.jsxs(kw,{sx:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[n.jsxs(Bt,{children:[n.jsx(jt,{variant:"h6",component:"div",children:c.Title}),n.jsx(jt,{variant:"body2",color:"text.secondary",sx:{mt:1,mb:2},children:c.Description?c.Description.length>150?`${c.Description.substring(0,150)}...`:c.Description:"Khng c m t"}),n.jsxs(Ss,{container:!0,spacing:2,children:[n.jsx(Ss,{item:!0,xs:12,sm:6,children:n.jsxs(jt,{variant:"body2",sx:{display:"flex",alignItems:"center"},children:[n.jsx(dT,{fontSize:"small",sx:{mr:.5,color:"primary.main"}}),"Thi gian: ",c.Duration," pht"]})}),n.jsx(Ss,{item:!0,xs:12,sm:6,children:n.jsxs(jt,{variant:"body2",children:["Loi: ",c.Type==="essay"?"T lun":c.Type==="multiple_choice"?"Trc nghim":c.Type==="coding"?"Lp trnh":"Hn hp"]})})]})]}),n.jsx(Bt,{sx:{mt:2,display:"flex",justifyContent:"flex-end"},children:n.jsx(Vr,{component:Zt,to:`/exams/${c.ExamID}`,variant:"contained",color:"primary",endIcon:n.jsx(AT,{}),size:"small",children:c.IsRegistered?"Xem chi tit":"ng k"})})]})]})},c.ExamID))}),n.jsx(Bt,{sx:{display:"flex",justifyContent:"center",mt:4},children:n.jsx(Vr,{component:Zt,to:"/exams",variant:"outlined",children:"Xem tt c k thi"})})]})},dB=e=>{if(!e)return"N/A";try{const t=new Date(e);return gl(t,"HH:mm - dd/MM/yyyy",{locale:xl})}catch(t){return console.error("Error formatting date:",t),"Ngy khng hp l"}},bJ=()=>{const{examId:e}=Lo();lo();const[t,r]=m.useState(!0),[s,i]=m.useState(null),[o,a]=m.useState(null),[l,c]=m.useState([]),[d,u]=m.useState(Date.now()),A=async()=>{var p,b;try{r(!0);const x=await Th.get(`/exams/${e}/attempts`);a(x.data.data.examDetails),c(x.data.data.attempts),i(null),u(Date.now())}catch(x){i(((b=(p=x.response)==null?void 0:p.data)==null?void 0:b.message)||"Khng th ti lch s thi"),console.error("Error loading exam history:",x)}finally{r(!1)}};m.useEffect(()=>{A()},[e]),m.useEffect(()=>{const p=()=>{document.visibilityState==="visible"&&(console.log("Page became visible, refreshing exam history"),A())};return document.addEventListener("visibilitychange",p),()=>{document.removeEventListener("visibilitychange",p)}},[e]),m.useEffect(()=>{if(!l.some(x=>x.Status==="in_progress"||x.Status==="registered"))return;console.log("Setting up polling for in-progress attempts");const b=setInterval(()=>{A()},3e4);return()=>{clearInterval(b)}},[l,e]);const f=p=>{switch(p){case"completed":return n.jsx("span",{className:"badge bg-success",children:" hon thnh"});case"in_progress":return n.jsx("span",{className:"badge bg-warning",children:"ang lm bi"});case"registered":return n.jsx("span",{className:"badge bg-info",children:" ng k"});case"reviewed":return n.jsx("span",{className:"badge bg-primary",children:" chm im"});default:return n.jsx("span",{className:"badge bg-secondary",children:p})}},h=async()=>{var p,b;try{r(!0),await Th.post(`/exams/${e}/register`);const x=await Th.get(`/exams/${e}/attempts`);a(x.data.data.examDetails),c(x.data.data.attempts),i(null)}catch(x){i(((b=(p=x.response)==null?void 0:p.data)==null?void 0:b.message)||"ng k thi li khng thnh cng"),console.error("Error registering for exam:",x)}finally{r(!1)}},g=()=>{A()};return t&&!l.length?n.jsx(Bt,{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",children:n.jsx(wi,{})}):s?n.jsxs(Bt,{p:3,children:[n.jsx(yi,{severity:"error",children:s}),n.jsx(Vr,{variant:"outlined",color:"primary",onClick:g,sx:{mt:2},children:"Th li"})]}):o?n.jsxs(Bt,{p:3,children:[n.jsxs(Bt,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[n.jsxs(jt,{variant:"h4",children:[o.Title," - Lch s thi"]}),n.jsx(Vr,{variant:"outlined",onClick:g,disabled:t,children:t?n.jsx(wi,{size:24}):"Cp nht"})]}),n.jsxs(Bt,{mb:3,children:[n.jsxs(jt,{variant:"body1",children:[n.jsx("strong",{children:"Tng im:"})," ",o.TotalPoints]}),n.jsxs(jt,{variant:"body1",children:[n.jsx("strong",{children:"im t:"})," ",o.PassingScore]}),n.jsxs(jt,{variant:"body1",children:[n.jsx("strong",{children:"Cho php thi li:"})," ",o.AllowRetakes?"C":"Khng",o.AllowRetakes&&o.MaxRetakes>0?` (Ti a ${o.MaxRetakes+1} ln)`:""]})]}),t&&n.jsx(Cq,{sx:{mb:2}}),l.length===0?n.jsx(yi,{severity:"info",children:"Bn cha tham gia k thi ny"}):n.jsx(HX,{component:Ys,sx:{mb:4},children:n.jsxs(lT,{children:[n.jsx(uT,{children:n.jsxs(dx,{children:[n.jsx(ns,{children:"Ln thi"}),n.jsx(ns,{children:"Trng thi"}),n.jsx(ns,{children:"Bt u"}),n.jsx(ns,{children:"Hon thnh"}),n.jsx(ns,{children:"Thi gian lm"}),n.jsx(ns,{children:"im s"}),n.jsx(ns,{children:"Thao tc"})]})}),n.jsx(cT,{children:l.map(p=>n.jsxs(dx,{children:[n.jsx(ns,{children:p.AttemptNumber}),n.jsx(ns,{children:f(p.Status)}),n.jsx(ns,{children:p.StartedAt?dB(p.StartedAt):"Cha bt u"}),n.jsx(ns,{children:p.CompletedAt?dB(p.CompletedAt):"Cha hon thnh"}),n.jsx(ns,{children:p.TimeSpent?`${p.TimeSpent} pht`:"N/A"}),n.jsx(ns,{children:p.Score!==null?n.jsxs("span",{className:p.Score>=o.PassingScore?"text-success":"text-danger",children:[p.Score,"/",o.TotalPoints]}):"Cha c im"}),n.jsxs(ns,{children:[p.Status==="registered"&&n.jsx(Vr,{variant:"contained",color:"primary",size:"small",component:Zt,to:`/exams/${e}/session?participantId=${p.ParticipantID}`,children:"Bt u"}),p.Status==="in_progress"&&n.jsx(Vr,{variant:"contained",color:"warning",size:"small",component:Zt,to:`/exams/${e}/session?participantId=${p.ParticipantID}`,children:"Tip tc"})]})]},p.ParticipantID))})]})}),o.AllowRetakes&&(o.MaxRetakes===0||l.length<o.MaxRetakes+1?n.jsx(Vr,{variant:"contained",color:"primary",onClick:h,disabled:t,children:t?n.jsx(wi,{size:24}):"ng k thi li"}):n.jsx(yi,{severity:"warning",children:"Bn  t n s ln thi ti a cho php."})),n.jsx(Bt,{mt:3,children:n.jsx(Vr,{variant:"outlined",component:Zt,to:`/exams/${e}`,children:"Quay li chi tit k thi"})})]}):n.jsxs(Bt,{p:3,children:[n.jsx(yi,{severity:"warning",children:"Khng tm thy thng tin k thi"}),n.jsx(Vr,{variant:"outlined",color:"primary",onClick:g,sx:{mt:2},children:"Th li"})]})},vJ=({children:e})=>{const t=lo(),r=rn(),s=Mn(),i=Is(He=>He.auth.user),o=localStorage.getItem("token"),[a,l]=m.useState(null),[c,d]=m.useState(""),[u,A]=m.useState([]),[f,h]=m.useState(!1),[g,p]=m.useState(!1),[b,x]=m.useState(!1),[j,w]=m.useState(!0),[S,I]=m.useState(!1),F=m.useRef(null),[T,U]=m.useState(new Date),{logout:K}=co(),{theme:B,themeColor:R,colors:D}=HE(),[H,P]=m.useState(!1),z=m.useRef(null);m.useEffect(()=>{const He=setInterval(()=>{U(new Date)},6e4);return()=>clearInterval(He)},[]);const[G,he]=m.useState([]),[ce,ye]=m.useState(0),[X,re]=m.useState(!1),[_,Q]=m.useState(!1),[Z,Ae]=m.useState(!1),me=m.useRef(null),[ae,ie]=m.useState(!1),[te,fe]=m.useState(!1);m.useEffect(()=>{const He=()=>{window.innerWidth<640?w(!1):w(!0)};return He(),window.addEventListener("resize",He),()=>window.removeEventListener("resize",He)},[]),m.useEffect(()=>{const He=()=>{if(i&&Object.keys(i).length>0)console.log("Setting current user from Redux state:",i),l(i);else{const q=localStorage.getItem("user");if(q)try{const M=JSON.parse(q);console.log("Setting current user from localStorage:",M),l(M),(!i||Object.keys(i).length===0)&&s(Gv(M.profileImage||M.avatar))}catch(M){console.error("Error parsing user data from localStorage:",M)}}};He();const Le=q=>{q.detail&&q.detail.profileImage&&s(Gv(q.detail.profileImage)),He()};return window.addEventListener("profileUpdated",Le),()=>{window.removeEventListener("profileUpdated",Le)}},[i,s]);const pe=[{name:"Trang Ch",icon:OO,href:"/home"},{name:"Kha Hc",icon:ef,href:"/courses"},{name:"S Kin",icon:qd,href:"/events"},{name:"Bi Vit",icon:$h,href:"/posts"},{name:"AI Chat",icon:fu,href:"/ai-chat"},{name:"AI TestCase",icon:QC,href:"/ai-test-local"},{name:"Bi Thi",icon:Au,href:"/exams"},{name:"Thi Lp Trnh",icon:Y0,href:"/competitions"},{name:"Chat",icon:nu,href:"/chat",onClick:()=>r("/chat")},{name:"Bo Co",icon:$m,href:"/reports"},{name:"Bn B",icon:lc,href:"/friends"},{name:"H S",icon:uw,href:"/profile"},{name:"Ci t",icon:iw,href:"/settings"}],je=!["/login","/register","/forgot-password","/reset-password"].includes(t.pathname)&&o,De=()=>{window.innerWidth<640?I(!S):w(!j)};m.useEffect(()=>{if(!je)return;const He=async()=>{if(c.trim().length<2){A([]),h(!1);return}p(!0);try{const M=await fetch(`http://localhost:5001/api/users/search?q=${encodeURIComponent(c)}`,{headers:{Authorization:`Bearer ${o}`}});if(!M.ok)throw new Error("Khng th tm kim ngi dng");const $=await M.json();console.log("Kt qu tm kim ngi dng:",$),A($.users||[]),h(!0)}catch(q){console.error("Li tm kim:",q),A([])}finally{p(!1)}},Le=setTimeout(()=>{c.trim().length>=2&&He()},300);return()=>clearTimeout(Le)},[c,o,je]),m.useEffect(()=>{if(!je)return;(()=>{try{const Le=localStorage.getItem("user");if(Le){const q=JSON.parse(Le),M=(q.role||q.Role||"").toUpperCase(),$=M==="ADMIN";console.log(`[Role Check] User role: ${M}, IsAdmin: ${$}`),fe($)}}catch(Le){console.error("Error parsing user data for role check:",Le)}})()},[je]);const Ue=async()=>{if(te&&ae){console.log("[Notifications] Skipping fetch for admin user after initial load");return}G.length===0&&Ae(!0);try{const He="http://localhost:5001";console.log(`[Notifications] Fetching notifications, isAdmin: ${te}`);const Le=await fetch(`${He}/api/notifications`,{headers:{Authorization:`Bearer ${o}`}});if(!Le.ok)throw new Error("Khng th ly thng bo");const q=await Le.json();he(q.notifications||[]);const M=(q.notifications||[]).filter($=>!$.IsRead).length;ye(M),ae||(console.log("[Notifications] Setting hasInitialFetch to true"),ie(!0))}catch(He){console.error("Li khi ly thng bo:",He),he([])}finally{Ae(!1)}};m.useEffect(()=>{if(!je)return;Ue();let He=null;return te?console.log("[Notifications] Admin user detected, NO polling interval set"):(console.log("[Notifications] Setting up polling interval for non-admin user"),He=setInterval(Ue,9e4)),()=>{He&&(console.log("[Notifications] Clearing polling interval"),clearInterval(He))}},[je,te]),m.useEffect(()=>{if(!je)return;const He=Le=>{F.current&&!F.current.contains(Le.target)&&(h(!1),x(!1)),me.current&&!me.current.contains(Le.target)&&re(!1),z.current&&!z.current.contains(Le.target)&&P(!1)};return document.addEventListener("mousedown",He),()=>{document.removeEventListener("mousedown",He)}},[je]);const Ce=He=>{He.preventDefault(),c.trim()&&(r(`/search?q=${encodeURIComponent(c)}`),h(!1))},Ct=He=>{r(`/profile/${He}`),h(!1),d("")},ct=async()=>{await K(),s(K2()),r("/login",{replace:!0})},rt=async He=>{try{await fetch(`http://localhost:5001/api/notifications/${He}/read`,{method:"PUT",headers:{Authorization:`Bearer ${o}`}}),he(G.map(q=>q.NotificationID===He?{...q,IsRead:!0}:q)),ye(q=>Math.max(0,q-1))}catch(Le){console.error("Li khi nh du  c:",Le)}},st=async()=>{try{await fetch("http://localhost:5001/api/notifications/read-all",{method:"PUT",headers:{Authorization:`Bearer ${o}`}}),he(G.map(Le=>({...Le,IsRead:!0}))),ye(0)}catch(He){console.error("Li khi nh du  c tt c:",He)}},at=()=>{Q(!0),setTimeout(()=>{re(!1),Q(!1)},300)},qe=He=>{if(He.IsRead||rt(He.NotificationID),He.RelatedType==="Posts"){const Le=He.RelatedID;r(`/posts?postId=${Le}`)}else if(He.RelatedType==="Comments"){const Le=He.PostID||He.RelatedID,q=He.RelatedID;r(`/posts?postId=${Le}&commentId=${q}`)}else He.Type==="message"?r("/chat"):r("/notifications");at()},St=He=>{switch(He){case"comment":return $h;case"reply":return nu;case"reaction":return H6;case"message":return nu;default:return dm}},kt=He=>{const Le=new Date(He),M=Math.floor((new Date-Le)/1e3);return M<60?"Va xong":M<3600?`${Math.floor(M/60)} pht trc`:M<86400?`${Math.floor(M/3600)} gi trc`:`${Math.floor(M/86400)} ngy trc`};return je?n.jsxs("div",{className:"flex flex-col h-screen w-screen overflow-hidden text-gray-900 dark:text-gray-100",children:[n.jsx("div",{className:"h-full w-full flex flex-col",children:n.jsxs("div",{className:"flex flex-col w-full h-full bg-white dark:bg-gray-800 overflow-hidden",children:[n.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 z-10 bg-white dark:bg-gray-800 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between h-16 px-4 md:px-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 flex-1 min-w-0",children:[n.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[n.jsx(Vh,{className:"h-8 w-8 text-theme-primary"}),n.jsx(Zt,{to:"/home",className:"hover:opacity-95 transition-all",children:n.jsx("span",{className:"font-extrabold text-2xl bg-clip-text text-transparent bg-gradient-to-r from-theme-primary via-theme-secondary to-theme-hover"})})]}),n.jsxs("nav",{className:"hidden sm:flex items-center flex-nowrap space-x-3 md:space-x-4 lg:space-x-6 ml-2 md:ml-4 max-w-full",children:[pe.filter(He=>!["/profile","/settings","/exams","/competitions","/chat","/friends","/reports","/ai-chat","/ai-test-local"].includes(He.href)).map(He=>{const Le=t.pathname===He.href||He.href!=="/home"&&t.pathname.startsWith(He.href),q=He.icon;return n.jsxs(Zt,{to:He.href,onClick:He.onClick,className:`flex items-center space-x-1 whitespace-nowrap text-sm font-medium hover:text-theme-primary transition-colors ${Le?"text-theme-primary":"text-gray-600 dark:text-gray-300"}`,children:[n.jsx(q,{className:"h-5 w-5 flex-shrink-0"}),n.jsx("span",{className:"hidden lg:inline",children:He.name})]},He.name)}),n.jsxs("div",{className:"relative group",children:[n.jsxs("button",{className:`flex items-center space-x-1 whitespace-nowrap text-sm font-medium transition-colors hover:text-theme-primary ${["/exams","/competitions"].some(He=>t.pathname.startsWith(He))?"text-theme-primary":"text-gray-600 dark:text-gray-300"}`,children:[n.jsx(Au,{className:"h-5 w-5 flex-shrink-0"}),n.jsx("span",{className:"hidden lg:inline",children:"Thi"}),n.jsx(hm,{className:"h-4 w-4 hidden lg:inline"})]}),n.jsx("div",{className:"absolute left-0 mt-1 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg z-20 max-h-96 border border-gray-100 dark:border-gray-700 hidden group-hover:block",children:n.jsxs("div",{className:"py-1",children:[n.jsx("h3",{className:"px-4 py-2 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider border-b border-gray-100 dark:border-gray-700",children:"Thi & Kim tra"}),n.jsxs(Zt,{to:"/exams",className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 whitespace-nowrap",children:[n.jsx(Au,{className:"h-5 w-5 mr-3 text-gray-500 dark:text-gray-400"}),"Bi Thi"]}),n.jsxs(Zt,{to:"/competitions",className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 whitespace-nowrap",children:[n.jsx(Y0,{className:"h-5 w-5 mr-3 text-gray-500 dark:text-gray-400"}),"Thi Lp Trnh"]})]})})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("button",{className:`flex items-center space-x-1 whitespace-nowrap text-sm font-medium transition-colors hover:text-theme-primary ${["/chat","/friends"].some(He=>t.pathname.startsWith(He))?"text-theme-primary":"text-gray-600 dark:text-gray-300"}`,onClick:He=>He.preventDefault(),children:[n.jsx(nu,{className:"h-5 w-5 flex-shrink-0"}),n.jsx("span",{className:"hidden lg:inline",children:"Cng ng"}),n.jsx(hm,{className:"h-4 w-4 hidden lg:inline"})]}),n.jsx("div",{className:"absolute left-0 mt-1 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg z-20 max-h-96 border border-gray-100 dark:border-gray-700 hidden group-hover:block",children:n.jsxs("div",{className:"py-1",children:[n.jsx("h3",{className:"px-4 py-2 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider border-b border-gray-100 dark:border-gray-700",children:"Cng ng"}),n.jsxs(Zt,{to:"/chat",className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 whitespace-nowrap",children:[n.jsx(nu,{className:"h-5 w-5 mr-3 text-gray-500 dark:text-gray-400"}),"Chat"]}),n.jsxs(Zt,{to:"/friends",className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 whitespace-nowrap",children:[n.jsx(lc,{className:"h-5 w-5 mr-3 text-gray-500 dark:text-gray-400"}),"Bn B"]})]})})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("button",{className:`flex items-center space-x-1 whitespace-nowrap text-sm font-medium transition-colors hover:text-theme-primary ${["/ai-chat","/ai-test-local"].some(He=>t.pathname.startsWith(He))?"text-theme-primary":"text-gray-600 dark:text-gray-300"}`,children:[n.jsx(fu,{className:"h-5 w-5 flex-shrink-0"}),n.jsx("span",{className:"hidden lg:inline",children:"AI"}),n.jsx(hm,{className:"h-4 w-4 hidden lg:inline"})]}),n.jsx("div",{className:"absolute left-0 mt-1 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg z-20 max-h-96 border border-gray-100 dark:border-gray-700 hidden group-hover:block",children:n.jsxs("div",{className:"py-1",children:[n.jsx("h3",{className:"px-4 py-2 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider border-b border-gray-100 dark:border-gray-700",children:"Cng c AI"}),n.jsxs(Zt,{to:"/ai-chat",className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 whitespace-nowrap",children:[n.jsx(fu,{className:"h-5 w-5 mr-3 text-gray-500 dark:text-gray-400"}),"AI Chat"]}),n.jsxs(Zt,{to:"/ai-test-local",className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 whitespace-nowrap",children:[n.jsx(QC,{className:"h-5 w-5 mr-3 text-gray-500 dark:text-gray-400"}),"AI TestCase"]})]})})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 sm:space-x-4",children:[n.jsx("button",{onClick:De,className:"sm:hidden p-2 rounded-md text-gray-500 dark:text-gray-400 hover:bg-theme-accent hover:text-theme-primary dark:hover:bg-gray-700 focus:outline-none transition-all duration-200",children:n.jsx(I6,{className:"h-6 w-6"})}),n.jsx("div",{ref:F,className:"hidden md:block relative",children:n.jsxs("form",{onSubmit:Ce,className:"relative group",children:[n.jsxs("div",{className:`flex items-center transition-all duration-300 ${b?"w-56 lg:w-64 xl:w-72":"w-10"}`,children:[n.jsx("button",{type:"button",className:`absolute left-0 p-2.5 text-theme-secondary hover:text-theme-primary z-10 ${b?"bg-transparent":"bg-white dark:bg-gray-700 rounded-full shadow-md"}`,onClick:()=>x(!0),children:n.jsx(ph,{className:"h-5 w-5"})}),b&&n.jsx("input",{type:"text",className:"w-full pl-10 pr-3 py-2.5 border border-gray-200 dark:border-gray-600 rounded-full leading-5 bg-white dark:bg-gray-700 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-theme-primary focus:border-theme-primary sm:text-sm shadow-md text-gray-900 dark:text-gray-100 transition-all",placeholder:"Tm kim ngi dng...",value:c,onChange:He=>d(He.target.value),autoFocus:!0})]}),f&&u.length>0&&n.jsx("div",{className:"absolute mt-1 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg z-20 max-h-96 overflow-y-auto border border-gray-100 dark:border-gray-700",children:n.jsxs("div",{className:"py-1",children:[n.jsx("h3",{className:"px-4 py-2 text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider border-b border-gray-100 dark:border-gray-700",children:"Ngi dng"}),u.map(He=>n.jsxs("div",{className:"px-4 py-2.5 hover:bg-theme-accent/50 dark:hover:bg-theme-accent/20 cursor-pointer flex items-center transition-colors duration-150",onClick:()=>Ct(He.id),children:[n.jsx(fn,{src:He.avatar,name:He.fullName,alt:He.fullName||"User",size:"small",className:"mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:He.fullName}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:He.email})]})]},He.id))]})})]})}),n.jsxs("div",{className:"relative",ref:me,children:[n.jsx("button",{className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-theme-accent/50 relative transition-all duration-200 hover:text-theme-primary dark:hover:text-theme-secondary",onClick:()=>re(!X),children:ce>0?n.jsxs(n.Fragment,{children:[n.jsx(IQ,{className:"h-6 w-6 text-theme-primary"}),n.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full animate-pulse shadow-sm",children:ce>9?"9+":ce})]}):n.jsx(dm,{className:"h-6 w-6"})}),X&&n.jsx("div",{className:`fixed top-0 right-0 w-80 h-full bg-white dark:bg-gray-800 shadow-xl z-30 transform transition-transform duration-300 ease-in-out overflow-hidden ${_?"animate-slide-out-right":"animate-slide-in-right"}`,children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-theme-accent/50 to-white dark:from-gray-700 dark:to-gray-800",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Thng bo"}),n.jsxs("div",{className:"flex space-x-2",children:[ce>0&&n.jsx("button",{onClick:st,className:"text-xs text-theme-primary hover:text-theme-hover dark:hover:text-theme-secondary font-medium",children:"nh du  c"}),n.jsx("button",{onClick:at,className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:n.jsx(pn,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:Z?n.jsxs("div",{className:"py-10 text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-theme-primary mx-auto"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"ang ti thng bo..."})]}):G.length>0?n.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:G.map(He=>{const Le=St(He.Type);return n.jsxs("div",{className:`px-4 py-3.5 hover:bg-theme-accent/50 dark:hover:bg-theme-accent/20 cursor-pointer flex items-start ${He.IsRead?"":"bg-theme-accent/50 dark:bg-theme-accent/20"} transition-colors duration-150`,onClick:()=>qe(He),children:[n.jsx("div",{className:`flex-shrink-0 h-10 w-10 rounded-full flex items-center justify-center mr-3 ${He.IsRead?"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400":"bg-theme-secondary/30 text-theme-primary dark:bg-theme-secondary/20 dark:text-theme-secondary"}`,children:n.jsx(Le,{className:"h-6 w-6"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:`text-sm font-medium ${He.IsRead?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"}`,children:He.Title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-0.5 line-clamp-2",children:He.Content}),n.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:kt(He.CreatedAt)})]}),!He.IsRead&&n.jsx("span",{className:"ml-2 h-2 w-2 bg-theme-primary rounded-full flex-shrink-0 mt-2"})]},He.NotificationID)})}):n.jsxs("div",{className:"py-12 text-center",children:[n.jsx("div",{className:"bg-theme-accent/50 dark:bg-theme-accent/20 rounded-full h-16 w-16 flex items-center justify-center mx-auto mb-4",children:n.jsx(dm,{className:"h-8 w-8 text-theme-secondary"})}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Khng c thng bo no"}),n.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Thng bo mi s xut hin  y"})]})}),n.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800",children:n.jsx(Zt,{to:"/notifications",className:"block w-full py-2.5 bg-gradient-to-r from-theme-primary to-theme-hover hover:from-theme-hover hover:to-theme-active text-white text-center rounded-lg shadow-md transition-all duration-300 font-medium",onClick:at,children:"Xem tt c thng bo"})})]})})]}),X&&n.jsx("div",{className:`fixed inset-0 bg-black z-20 transition-opacity duration-300 ${_?"opacity-0":"bg-opacity-25 animate-fade-in"}`,onClick:at}),n.jsxs("div",{className:"relative",ref:z,children:[n.jsxs("button",{onClick:()=>P(He=>!He),className:"flex items-center space-x-2 p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-theme-accent/50 dark:hover:bg-theme-accent/20 transition-all duration-200 hover:text-theme-primary dark:hover:text-theme-secondary",children:[n.jsx(fn,{src:(a==null?void 0:a.avatar)||(a==null?void 0:a.profileImage),name:(a==null?void 0:a.fullName)||(a==null?void 0:a.username)||"User",alt:(a==null?void 0:a.fullName)||(a==null?void 0:a.username)||"User",size:"small",className:"ring-2 ring-theme-accent"}),n.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 hidden sm:inline group-hover:text-theme-primary",children:(a==null?void 0:a.fullName)||(a==null?void 0:a.username)||"User"})]}),H&&n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-100 dark:border-gray-700 z-30",children:[n.jsxs(Zt,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>P(!1),children:[n.jsx(uw,{className:"h-5 w-5 mr-3 text-gray-500 dark:text-gray-400"}),"H s"]}),n.jsxs(Zt,{to:"/settings",className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>P(!1),children:[n.jsx(iw,{className:"h-5 w-5 mr-3 text-gray-500 dark:text-gray-400"}),"Ci t"]}),n.jsxs(Zt,{to:"/reports",className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>P(!1),children:[n.jsx($m,{className:"h-5 w-5 mr-3 text-gray-500 dark:text-gray-400"}),"Bo co"]}),n.jsxs("button",{onClick:()=>{P(!1),ct()},className:"w-full text-left flex items-center px-4 py-2 text-sm text-red-600 hover:bg-gray-50 dark:hover:bg-gray-700",children:[n.jsx(OC,{className:"h-5 w-5 mr-3"}),"ng xut"]})]})]})]})]})}),n.jsx("div",{className:"flex-1 overflow-auto bg-white dark:bg-gray-800",children:n.jsx("main",{className:"h-full w-full",children:e})})]})}),S&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 sm:hidden",onClick:()=>I(!1)}),n.jsx("div",{className:`fixed inset-y-0 left-0 w-72 bg-white dark:bg-gray-800 shadow-xl z-40 transform transition-all duration-300 ease-in-out sm:hidden ${S?"translate-x-0":"-translate-x-full"}`,children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Vh,{className:"h-8 w-8 text-theme-primary mr-2"}),n.jsx("span",{className:"font-bold text-xl",children:"Menu"})]}),n.jsx("button",{onClick:()=>I(!1),className:"p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:n.jsx(pn,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:n.jsx("div",{className:"space-y-1",children:pe.filter(He=>!["/profile","/settings","/reports"].includes(He.href)).map(He=>{const Le=t.pathname===He.href||He.href!=="/home"&&t.pathname.startsWith(He.href),q=He.icon;return n.jsxs(Zt,{to:He.href,onClick:()=>I(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-lg ${Le?"bg-theme-accent/70 text-theme-primary dark:bg-theme-accent/20":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[n.jsx(q,{className:"h-5 w-5 flex-shrink-0"}),n.jsx("span",{className:"font-medium",children:He.name})]},He.name)})})}),n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(fn,{src:(a==null?void 0:a.avatar)||(a==null?void 0:a.profileImage),name:(a==null?void 0:a.fullName)||(a==null?void 0:a.username)||"User",alt:(a==null?void 0:a.fullName)||(a==null?void 0:a.username)||"User",size:"small",className:"ring-2 ring-theme-accent"}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:(a==null?void 0:a.fullName)||(a==null?void 0:a.username)||"User"})}),n.jsx("button",{onClick:ct,className:"p-1.5 rounded-full text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:n.jsx(OC,{className:"h-5 w-5"})})]})})]})})]})]}):n.jsx(n.Fragment,{children:e})},N5=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Dy=m.createContext({}),Oy=m.createContext(null),Qy=typeof document<"u",Pp=Qy?m.useLayoutEffect:m.useEffect,mT=m.createContext({strict:!1}),B5=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),wJ="framerAppearId",pT="data-"+B5(wJ);function jJ(e,t,r,s){const{visualElement:i}=m.useContext(Dy),o=m.useContext(mT),a=m.useContext(Oy),l=m.useContext(N5).reducedMotion,c=m.useRef();s=s||o.renderer,!c.current&&s&&(c.current=s(e,{visualState:t,parent:i,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;m.useInsertionEffect(()=>{d&&d.update(r,a)});const u=m.useRef(!!(r[pT]&&!window.HandoffComplete));return Pp(()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),d}function xh(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function CJ(e,t,r){return m.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),r&&(typeof r=="function"?r(s):xh(r)&&(r.current=s))},[t])}function ep(e){return typeof e=="string"||Array.isArray(e)}function _y(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const k5=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],S5=["initial",...k5];function Hy(e){return _y(e.animate)||S5.some(t=>ep(e[t]))}function gT(e){return!!(Hy(e)||e.variants)}function NJ(e,t){if(Hy(e)){const{initial:r,animate:s}=e;return{initial:r===!1||ep(r)?r:void 0,animate:ep(s)?s:void 0}}return e.inherit!==!1?t:{}}function BJ(e){const{initial:t,animate:r}=NJ(e,m.useContext(Dy));return m.useMemo(()=>({initial:t,animate:r}),[AB(t),AB(r)])}function AB(e){return Array.isArray(e)?e.join(" "):e}const hB={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tp={};for(const e in hB)tp[e]={isEnabled:t=>hB[e].some(r=>!!t[r])};function kJ(e){for(const t in e)tp[t]={...tp[t],...e[t]}}const E5=m.createContext({}),xT=m.createContext({}),SJ=Symbol.for("motionComponentSymbol");function EJ({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:s,Component:i}){e&&kJ(e);function o(l,c){let d;const u={...m.useContext(N5),...l,layoutId:IJ(l)},{isStatic:A}=u,f=BJ(l),h=s(l,A);if(!A&&Qy){f.visualElement=jJ(i,h,u,t);const g=m.useContext(xT),p=m.useContext(mT).strict;f.visualElement&&(d=f.visualElement.loadFeatures(u,p,e,g))}return m.createElement(Dy.Provider,{value:f},d&&f.visualElement?m.createElement(d,{visualElement:f.visualElement,...u}):null,r(i,l,CJ(h,f.visualElement,c),h,A,f.visualElement))}const a=m.forwardRef(o);return a[SJ]=i,a}function IJ({layoutId:e}){const t=m.useContext(E5).id;return t&&e!==void 0?t+"-"+e:e}function TJ(e){function t(s,i={}){return EJ(e(s,i))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(s,i)=>(r.has(i)||r.set(i,t(i)),r.get(i))})}const FJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function I5(e){return typeof e!="string"||e.includes("-")?!1:!!(FJ.indexOf(e)>-1||/[A-Z]/.test(e))}const Ax={};function LJ(e){Object.assign(Ax,e)}const Up=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sA=new Set(Up);function yT(e,{layout:t,layoutId:r}){return sA.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Ax[e]||e==="opacity")}const ao=e=>!!(e&&e.getVelocity),PJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},UJ=Up.length;function RJ(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},s,i){let o="";for(let a=0;a<UJ;a++){const l=Up[a];if(e[l]!==void 0){const c=PJ[l]||l;o+=`${c}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,s?"":o):r&&s&&(o="none"),o}const bT=e=>t=>typeof t=="string"&&t.startsWith(e),vT=bT("--"),Uw=bT("var(--"),MJ=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,DJ=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Nu=(e,t,r)=>Math.min(Math.max(r,e),t),iA={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ym={...iA,transform:e=>Nu(0,1,e)},$g={...iA,default:1},bm=e=>Math.round(e*1e5)/1e5,$y=/(-)?([\d]*\.?[\d])+/g,wT=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,OJ=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Rp(e){return typeof e=="string"}const Mp=e=>({test:t=>Rp(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Jc=Mp("deg"),bl=Mp("%"),cr=Mp("px"),QJ=Mp("vh"),_J=Mp("vw"),fB={...bl,parse:e=>bl.parse(e)/100,transform:e=>bl.transform(e*100)},mB={...iA,transform:Math.round},jT={borderWidth:cr,borderTopWidth:cr,borderRightWidth:cr,borderBottomWidth:cr,borderLeftWidth:cr,borderRadius:cr,radius:cr,borderTopLeftRadius:cr,borderTopRightRadius:cr,borderBottomRightRadius:cr,borderBottomLeftRadius:cr,width:cr,maxWidth:cr,height:cr,maxHeight:cr,size:cr,top:cr,right:cr,bottom:cr,left:cr,padding:cr,paddingTop:cr,paddingRight:cr,paddingBottom:cr,paddingLeft:cr,margin:cr,marginTop:cr,marginRight:cr,marginBottom:cr,marginLeft:cr,rotate:Jc,rotateX:Jc,rotateY:Jc,rotateZ:Jc,scale:$g,scaleX:$g,scaleY:$g,scaleZ:$g,skew:Jc,skewX:Jc,skewY:Jc,distance:cr,translateX:cr,translateY:cr,translateZ:cr,x:cr,y:cr,z:cr,perspective:cr,transformPerspective:cr,opacity:ym,originX:fB,originY:fB,originZ:cr,zIndex:mB,fillOpacity:ym,strokeOpacity:ym,numOctaves:mB};function T5(e,t,r,s){const{style:i,vars:o,transform:a,transformOrigin:l}=e;let c=!1,d=!1,u=!0;for(const A in t){const f=t[A];if(vT(A)){o[A]=f;continue}const h=jT[A],g=DJ(f,h);if(sA.has(A)){if(c=!0,a[A]=g,!u)continue;f!==(h.default||0)&&(u=!1)}else A.startsWith("origin")?(d=!0,l[A]=g):i[A]=g}if(t.transform||(c||s?i.transform=RJ(e.transform,r,u,s):i.transform&&(i.transform="none")),d){const{originX:A="50%",originY:f="50%",originZ:h=0}=l;i.transformOrigin=`${A} ${f} ${h}`}}const F5=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function CT(e,t,r){for(const s in t)!ao(t[s])&&!yT(s,r)&&(e[s]=t[s])}function HJ({transformTemplate:e},t,r){return m.useMemo(()=>{const s=F5();return T5(s,t,{enableHardwareAcceleration:!r},e),Object.assign({},s.vars,s.style)},[t])}function $J(e,t,r){const s=e.style||{},i={};return CT(i,s,e),Object.assign(i,HJ(e,t,r)),e.transformValues?e.transformValues(i):i}function VJ(e,t,r){const s={},i=$J(e,t,r);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=i,s}const KJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hx(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||KJ.has(e)}let NT=e=>!hx(e);function zJ(e){e&&(NT=t=>t.startsWith("on")?!hx(t):e(t))}try{zJ(require("@emotion/is-prop-valid").default)}catch{}function WJ(e,t,r){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(NT(i)||r===!0&&hx(i)||!t&&!hx(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}function pB(e,t,r){return typeof e=="string"?e:cr.transform(t+r*e)}function GJ(e,t,r){const s=pB(t,e.x,e.width),i=pB(r,e.y,e.height);return`${s} ${i}`}const qJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},XJ={offset:"strokeDashoffset",array:"strokeDasharray"};function JJ(e,t,r=1,s=0,i=!0){e.pathLength=1;const o=i?qJ:XJ;e[o.offset]=cr.transform(-s);const a=cr.transform(t),l=cr.transform(r);e[o.array]=`${a} ${l}`}function L5(e,{attrX:t,attrY:r,attrScale:s,originX:i,originY:o,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},u,A,f){if(T5(e,d,u,f),A){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:g,dimensions:p}=e;h.transform&&(p&&(g.transform=h.transform),delete h.transform),p&&(i!==void 0||o!==void 0||g.transform)&&(g.transformOrigin=GJ(p,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),s!==void 0&&(h.scale=s),a!==void 0&&JJ(h,a,l,c,!1)}const BT=()=>({...F5(),attrs:{}}),P5=e=>typeof e=="string"&&e.toLowerCase()==="svg";function YJ(e,t,r,s){const i=m.useMemo(()=>{const o=BT();return L5(o,t,{enableHardwareAcceleration:!1},P5(s),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};CT(o,e.style,e),i.style={...o,...i.style}}return i}function ZJ(e=!1){return(r,s,i,{latestValues:o},a)=>{const c=(I5(r)?YJ:VJ)(s,o,a,r),u={...WJ(s,typeof r=="string",e),...c,ref:i},{children:A}=s,f=m.useMemo(()=>ao(A)?A.get():A,[A]);return m.createElement(r,{...u,children:f})}}function kT(e,{style:t,vars:r},s,i){Object.assign(e.style,t,i&&i.getProjectionStyles(s));for(const o in r)e.style.setProperty(o,r[o])}const ST=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ET(e,t,r,s){kT(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(ST.has(i)?i:B5(i),t.attrs[i])}function U5(e,t){const{style:r}=e,s={};for(const i in r)(ao(r[i])||t.style&&ao(t.style[i])||yT(i,e))&&(s[i]=r[i]);return s}function IT(e,t){const r=U5(e,t);for(const s in e)if(ao(e[s])||ao(t[s])){const i=Up.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function R5(e,t,r,s={},i={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,s,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,s,i)),t}function Dp(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const fx=e=>Array.isArray(e),eY=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),tY=e=>fx(e)?e[e.length-1]||0:e;function P0(e){const t=ao(e)?e.get():e;return eY(t)?t.toValue():t}function rY({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},s,i,o){const a={latestValues:nY(s,i,o,e),renderState:t()};return r&&(a.mount=l=>r(s,l,a)),a}const TT=e=>(t,r)=>{const s=m.useContext(Dy),i=m.useContext(Oy),o=()=>rY(e,t,s,i);return r?o():Dp(o)};function nY(e,t,r,s){const i={},o=s(e,{});for(const f in o)i[f]=P0(o[f]);let{initial:a,animate:l}=e;const c=Hy(e),d=gT(e);t&&d&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||a===!1;const A=u?l:a;return A&&typeof A!="boolean"&&!_y(A)&&(Array.isArray(A)?A:[A]).forEach(h=>{const g=R5(e,h);if(!g)return;const{transitionEnd:p,transition:b,...x}=g;for(const j in x){let w=x[j];if(Array.isArray(w)){const S=u?w.length-1:0;w=w[S]}w!==null&&(i[j]=w)}for(const j in p)i[j]=p[j]}),i}const is=e=>e;class gB{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function sY(e){let t=new gB,r=new gB,s=0,i=!1,o=!1;const a=new WeakSet,l={schedule:(c,d=!1,u=!1)=>{const A=u&&i,f=A?t:r;return d&&a.add(c),f.add(c)&&A&&i&&(s=t.order.length),c},cancel:c=>{r.remove(c),a.delete(c)},process:c=>{if(i){o=!0;return}if(i=!0,[t,r]=[r,t],r.clear(),s=t.order.length,s)for(let d=0;d<s;d++){const u=t.order[d];u(c),a.has(u)&&(l.schedule(u),e())}i=!1,o&&(o=!1,l.process(c))}};return l}const Vg=["prepare","read","update","preRender","render","postRender"],iY=40;function oY(e,t){let r=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Vg.reduce((A,f)=>(A[f]=sY(()=>r=!0),A),{}),a=A=>o[A].process(i),l=()=>{const A=performance.now();r=!1,i.delta=s?1e3/60:Math.max(Math.min(A-i.timestamp,iY),1),i.timestamp=A,i.isProcessing=!0,Vg.forEach(a),i.isProcessing=!1,r&&t&&(s=!1,e(l))},c=()=>{r=!0,s=!0,i.isProcessing||e(l)};return{schedule:Vg.reduce((A,f)=>{const h=o[f];return A[f]=(g,p=!1,b=!1)=>(r||c(),h.schedule(g,p,b)),A},{}),cancel:A=>Vg.forEach(f=>o[f].cancel(A)),state:i,steps:o}}const{schedule:tn,cancel:Ia,state:Xs,steps:Pb}=oY(typeof requestAnimationFrame<"u"?requestAnimationFrame:is,!0),aY={useVisualState:TT({scrapeMotionValuesFromProps:IT,createRenderState:BT,onMount:(e,t,{renderState:r,latestValues:s})=>{tn.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),tn.render(()=>{L5(r,s,{enableHardwareAcceleration:!1},P5(t.tagName),e.transformTemplate),ET(t,r)})}})},lY={useVisualState:TT({scrapeMotionValuesFromProps:U5,createRenderState:F5})};function cY(e,{forwardMotionProps:t=!1},r,s){return{...I5(e)?aY:lY,preloadedFeatures:r,useRender:ZJ(t),createVisualElement:s,Component:e}}function Jl(e,t,r,s={passive:!0}){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r)}const FT=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Vy(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const uY=e=>t=>FT(t)&&e(t,Vy(t));function tc(e,t,r,s){return Jl(e,t,uY(r),s)}const dY=(e,t)=>r=>t(e(r)),mu=(...e)=>e.reduce(dY);function LT(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const xB=LT("dragHorizontal"),yB=LT("dragVertical");function PT(e){let t=!1;if(e==="y")t=yB();else if(e==="x")t=xB();else{const r=xB(),s=yB();r&&s?t=()=>{r(),s()}:(r&&r(),s&&s())}return t}function UT(){const e=PT(!0);return e?(e(),!1):!0}class Tu{constructor(t){this.isMounted=!1,this.node=t}update(){}}function bB(e,t){const r="pointer"+(t?"enter":"leave"),s="onHover"+(t?"Start":"End"),i=(o,a)=>{if(o.pointerType==="touch"||UT())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[s]&&tn.update(()=>l[s](o,a))};return tc(e.current,r,i,{passive:!e.getProps()[s]})}class AY extends Tu{mount(){this.unmount=mu(bB(this.node,!0),bB(this.node,!1))}unmount(){}}class hY extends Tu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mu(Jl(this.node.current,"focus",()=>this.onFocus()),Jl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const RT=(e,t)=>t?e===t?!0:RT(e,t.parentElement):!1;function Ub(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Vy(r))}class fY extends Tu{constructor(){super(...arguments),this.removeStartListeners=is,this.removeEndListeners=is,this.removeAccessibleListeners=is,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),o=tc(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:A}=this.node.getProps();tn.update(()=>{!A&&!RT(this.node.current,l.target)?u&&u(l,c):d&&d(l,c)})},{passive:!(s.onTap||s.onPointerUp)}),a=tc(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=mu(o,a),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||Ub("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&tn.update(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=Jl(this.node.current,"keyup",a),Ub("down",(l,c)=>{this.startPress(l,c)})},r=Jl(this.node.current,"keydown",t),s=()=>{this.isPressing&&Ub("cancel",(o,a)=>this.cancelPress(o,a))},i=Jl(this.node.current,"blur",s);this.removeAccessibleListeners=mu(r,i)}}startPress(t,r){this.isPressing=!0;const{onTapStart:s,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&tn.update(()=>s(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!UT()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&tn.update(()=>s(t,r))}mount(){const t=this.node.getProps(),r=tc(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),s=Jl(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=mu(r,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Rw=new WeakMap,Rb=new WeakMap,mY=e=>{const t=Rw.get(e.target);t&&t(e)},pY=e=>{e.forEach(mY)};function gY({root:e,...t}){const r=e||document;Rb.has(r)||Rb.set(r,{});const s=Rb.get(r),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(pY,{root:e,...t})),s[i]}function xY(e,t,r){const s=gY(t);return Rw.set(e,r),s.observe(e),()=>{Rw.delete(e),s.unobserve(e)}}const yY={some:0,all:1};class bY extends Tu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:s,amount:i="some",once:o}=t,a={root:r?r.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:yY[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:A}=this.node.getProps(),f=d?u:A;f&&f(c)};return xY(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(vY(t,r))&&this.startObserver()}unmount(){}}function vY({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const wY={inView:{Feature:bY},tap:{Feature:fY},focus:{Feature:hY},hover:{Feature:AY}};function MT(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(t[s]!==e[s])return!1;return!0}function jY(e){const t={};return e.values.forEach((r,s)=>t[s]=r.get()),t}function CY(e){const t={};return e.values.forEach((r,s)=>t[s]=r.getVelocity()),t}function Ky(e,t,r){const s=e.getProps();return R5(s,t,r!==void 0?r:s.custom,jY(e),CY(e))}let NY=is,M5=is;const Od=e=>e*1e3,rc=e=>e/1e3,BY={current:!1},DT=e=>Array.isArray(e)&&typeof e[0]=="number";function OT(e){return!!(!e||typeof e=="string"&&QT[e]||DT(e)||Array.isArray(e)&&e.every(OT))}const nm=([e,t,r,s])=>`cubic-bezier(${e}, ${t}, ${r}, ${s})`,QT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nm([0,.65,.55,1]),circOut:nm([.55,0,1,.45]),backIn:nm([.31,.01,.66,-.59]),backOut:nm([.33,1.53,.69,.99])};function _T(e){if(e)return DT(e)?nm(e):Array.isArray(e)?e.map(_T):QT[e]}function kY(e,t,r,{delay:s=0,duration:i,repeat:o=0,repeatType:a="loop",ease:l,times:c}={}){const d={[t]:r};c&&(d.offset=c);const u=_T(l);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:s,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}function SY(e,{repeat:t,repeatType:r="loop"}){const s=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[s]}const HT=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,EY=1e-7,IY=12;function TY(e,t,r,s,i){let o,a,l=0;do a=t+(r-t)/2,o=HT(a,s,i)-e,o>0?r=a:t=a;while(Math.abs(o)>EY&&++l<IY);return a}function Op(e,t,r,s){if(e===t&&r===s)return is;const i=o=>TY(o,0,1,e,r);return o=>o===0||o===1?o:HT(i(o),t,s)}const FY=Op(.42,0,1,1),LY=Op(0,0,.58,1),$T=Op(.42,0,.58,1),PY=e=>Array.isArray(e)&&typeof e[0]!="number",VT=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,KT=e=>t=>1-e(1-t),D5=e=>1-Math.sin(Math.acos(e)),zT=KT(D5),UY=VT(D5),WT=Op(.33,1.53,.69,.99),O5=KT(WT),RY=VT(O5),MY=e=>(e*=2)<1?.5*O5(e):.5*(2-Math.pow(2,-10*(e-1))),DY={linear:is,easeIn:FY,easeInOut:$T,easeOut:LY,circIn:D5,circInOut:UY,circOut:zT,backIn:O5,backInOut:RY,backOut:WT,anticipate:MY},vB=e=>{if(Array.isArray(e)){M5(e.length===4);const[t,r,s,i]=e;return Op(t,r,s,i)}else if(typeof e=="string")return DY[e];return e},Q5=(e,t)=>r=>!!(Rp(r)&&OJ.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),GT=(e,t,r)=>s=>{if(!Rp(s))return s;const[i,o,a,l]=s.match($y);return{[e]:parseFloat(i),[t]:parseFloat(o),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},OY=e=>Nu(0,255,e),Mb={...iA,transform:e=>Math.round(OY(e))},kd={test:Q5("rgb","red"),parse:GT("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:s=1})=>"rgba("+Mb.transform(e)+", "+Mb.transform(t)+", "+Mb.transform(r)+", "+bm(ym.transform(s))+")"};function QY(e){let t="",r="",s="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Mw={test:Q5("#"),parse:QY,transform:kd.transform},yh={test:Q5("hsl","hue"),parse:GT("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:s=1})=>"hsla("+Math.round(e)+", "+bl.transform(bm(t))+", "+bl.transform(bm(r))+", "+bm(ym.transform(s))+")"},_i={test:e=>kd.test(e)||Mw.test(e)||yh.test(e),parse:e=>kd.test(e)?kd.parse(e):yh.test(e)?yh.parse(e):Mw.parse(e),transform:e=>Rp(e)?e:e.hasOwnProperty("red")?kd.transform(e):yh.transform(e)},Yn=(e,t,r)=>-r*e+r*t+e;function Db(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function _Y({hue:e,saturation:t,lightness:r,alpha:s}){e/=360,t/=100,r/=100;let i=0,o=0,a=0;if(!t)i=o=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=Db(c,l,e+1/3),o=Db(c,l,e),a=Db(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:s}}const Ob=(e,t,r)=>{const s=e*e;return Math.sqrt(Math.max(0,r*(t*t-s)+s))},HY=[Mw,kd,yh],$Y=e=>HY.find(t=>t.test(e));function wB(e){const t=$Y(e);let r=t.parse(e);return t===yh&&(r=_Y(r)),r}const qT=(e,t)=>{const r=wB(e),s=wB(t),i={...r};return o=>(i.red=Ob(r.red,s.red,o),i.green=Ob(r.green,s.green,o),i.blue=Ob(r.blue,s.blue,o),i.alpha=Yn(r.alpha,s.alpha,o),kd.transform(i))};function VY(e){var t,r;return isNaN(e)&&Rp(e)&&(((t=e.match($y))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(wT))===null||r===void 0?void 0:r.length)||0)>0}const XT={regex:MJ,countKey:"Vars",token:"${v}",parse:is},JT={regex:wT,countKey:"Colors",token:"${c}",parse:_i.parse},YT={regex:$y,countKey:"Numbers",token:"${n}",parse:iA.parse};function Qb(e,{regex:t,countKey:r,token:s,parse:i}){const o=e.tokenised.match(t);o&&(e["num"+r]=o.length,e.tokenised=e.tokenised.replace(t,s),e.values.push(...o.map(i)))}function mx(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Qb(r,XT),Qb(r,JT),Qb(r,YT),r}function ZT(e){return mx(e).values}function e8(e){const{values:t,numColors:r,numVars:s,tokenised:i}=mx(e),o=t.length;return a=>{let l=i;for(let c=0;c<o;c++)c<s?l=l.replace(XT.token,a[c]):c<s+r?l=l.replace(JT.token,_i.transform(a[c])):l=l.replace(YT.token,bm(a[c]));return l}}const KY=e=>typeof e=="number"?0:e;function zY(e){const t=ZT(e);return e8(e)(t.map(KY))}const Bu={test:VY,parse:ZT,createTransformer:e8,getAnimatableNone:zY},t8=(e,t)=>r=>`${r>0?t:e}`;function r8(e,t){return typeof e=="number"?r=>Yn(e,t,r):_i.test(e)?qT(e,t):e.startsWith("var(")?t8(e,t):s8(e,t)}const n8=(e,t)=>{const r=[...e],s=r.length,i=e.map((o,a)=>r8(o,t[a]));return o=>{for(let a=0;a<s;a++)r[a]=i[a](o);return r}},WY=(e,t)=>{const r={...e,...t},s={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(s[i]=r8(e[i],t[i]));return i=>{for(const o in s)r[o]=s[o](i);return r}},s8=(e,t)=>{const r=Bu.createTransformer(t),s=mx(e),i=mx(t);return s.numVars===i.numVars&&s.numColors===i.numColors&&s.numNumbers>=i.numNumbers?mu(n8(s.values,i.values),r):t8(e,t)},Wh=(e,t,r)=>{const s=t-e;return s===0?1:(r-e)/s},jB=(e,t)=>r=>Yn(e,t,r);function GY(e){return typeof e=="number"?jB:typeof e=="string"?_i.test(e)?qT:s8:Array.isArray(e)?n8:typeof e=="object"?WY:jB}function qY(e,t,r){const s=[],i=r||GY(e[0]),o=e.length-1;for(let a=0;a<o;a++){let l=i(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||is:t;l=mu(c,l)}s.push(l)}return s}function zy(e,t,{clamp:r=!0,ease:s,mixer:i}={}){const o=e.length;if(M5(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=qY(t,s,i),l=a.length,c=d=>{let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const A=Wh(e[u],e[u+1],d);return a[u](A)};return r?d=>c(Nu(e[0],e[o-1],d)):c}function XY(e,t){const r=e[e.length-1];for(let s=1;s<=t;s++){const i=Wh(0,t,s);e.push(Yn(r,1,i))}}function i8(e){const t=[0];return XY(t,e.length-1),t}function JY(e,t){return e.map(r=>r*t)}function YY(e,t){return e.map(()=>t||$T).splice(0,e.length-1)}function px({duration:e=300,keyframes:t,times:r,ease:s="easeInOut"}){const i=PY(s)?s.map(vB):vB(s),o={done:!1,value:t[0]},a=JY(r&&r.length===t.length?r:i8(t),e),l=zy(a,t,{ease:Array.isArray(i)?i:YY(t,i)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}function _5(e,t){return t?e*(1e3/t):0}const ZY=5;function o8(e,t,r){const s=Math.max(t-ZY,0);return _5(r-e(s),t-s)}const _b=.001,eZ=.01,tZ=10,rZ=.05,nZ=1;function sZ({duration:e=800,bounce:t=.25,velocity:r=0,mass:s=1}){let i,o,a=1-t;a=Nu(rZ,nZ,a),e=Nu(eZ,tZ,rc(e)),a<1?(i=d=>{const u=d*a,A=u*e,f=u-r,h=Dw(d,a),g=Math.exp(-A);return _b-f/h*g},o=d=>{const A=d*a*e,f=A*r+r,h=Math.pow(a,2)*Math.pow(d,2)*e,g=Math.exp(-A),p=Dw(Math.pow(d,2),a);return(-i(d)+_b>0?-1:1)*((f-h)*g)/p}):(i=d=>{const u=Math.exp(-d*e),A=(d-r)*e+1;return-_b+u*A},o=d=>{const u=Math.exp(-d*e),A=(r-d)*(e*e);return u*A});const l=5/e,c=oZ(i,o,l);if(e=Od(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:a*2*Math.sqrt(s*d),duration:e}}}const iZ=12;function oZ(e,t,r){let s=r;for(let i=1;i<iZ;i++)s=s-e(s)/t(s);return s}function Dw(e,t){return e*Math.sqrt(1-t*t)}const aZ=["duration","bounce"],lZ=["stiffness","damping","mass"];function CB(e,t){return t.some(r=>e[r]!==void 0)}function cZ(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!CB(e,lZ)&&CB(e,aZ)){const r=sZ(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function a8({keyframes:e,restDelta:t,restSpeed:r,...s}){const i=e[0],o=e[e.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:u,velocity:A,isResolvedFromDuration:f}=cZ({...s,velocity:-rc(s.velocity||0)}),h=A||0,g=c/(2*Math.sqrt(l*d)),p=o-i,b=rc(Math.sqrt(l/d)),x=Math.abs(p)<5;r||(r=x?.01:2),t||(t=x?.005:.5);let j;if(g<1){const w=Dw(b,g);j=S=>{const I=Math.exp(-g*b*S);return o-I*((h+g*b*p)/w*Math.sin(w*S)+p*Math.cos(w*S))}}else if(g===1)j=w=>o-Math.exp(-b*w)*(p+(h+b*p)*w);else{const w=b*Math.sqrt(g*g-1);j=S=>{const I=Math.exp(-g*b*S),F=Math.min(w*S,300);return o-I*((h+g*b*p)*Math.sinh(F)+w*p*Math.cosh(F))/w}}return{calculatedDuration:f&&u||null,next:w=>{const S=j(w);if(f)a.done=w>=u;else{let I=h;w!==0&&(g<1?I=o8(j,w,S):I=0);const F=Math.abs(I)<=r,T=Math.abs(o-S)<=t;a.done=F&&T}return a.value=a.done?o:S,a}}}function NB({keyframes:e,velocity:t=0,power:r=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:u}){const A=e[0],f={done:!1,value:A},h=U=>l!==void 0&&U<l||c!==void 0&&U>c,g=U=>l===void 0?c:c===void 0||Math.abs(l-U)<Math.abs(c-U)?l:c;let p=r*t;const b=A+p,x=a===void 0?b:a(b);x!==b&&(p=x-A);const j=U=>-p*Math.exp(-U/s),w=U=>x+j(U),S=U=>{const K=j(U),B=w(U);f.done=Math.abs(K)<=d,f.value=f.done?x:B};let I,F;const T=U=>{h(f.value)&&(I=U,F=a8({keyframes:[f.value,g(f.value)],velocity:o8(w,U,f.value),damping:i,stiffness:o,restDelta:d,restSpeed:u}))};return T(0),{calculatedDuration:null,next:U=>{let K=!1;return!F&&I===void 0&&(K=!0,S(U),T(U)),I!==void 0&&U>I?F.next(U-I):(!K&&S(U),f)}}}const uZ=e=>{const t=({timestamp:r})=>e(r);return{start:()=>tn.update(t,!0),stop:()=>Ia(t),now:()=>Xs.isProcessing?Xs.timestamp:performance.now()}},BB=2e4;function kB(e){let t=0;const r=50;let s=e.next(t);for(;!s.done&&t<BB;)t+=r,s=e.next(t);return t>=BB?1/0:t}const dZ={decay:NB,inertia:NB,tween:px,keyframes:px,spring:a8};function gx({autoplay:e=!0,delay:t=0,driver:r=uZ,keyframes:s,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:u,onUpdate:A,...f}){let h=1,g=!1,p,b;const x=()=>{b=new Promise(re=>{p=re})};x();let j;const w=dZ[i]||px;let S;w!==px&&typeof s[0]!="number"&&(S=zy([0,100],s,{clamp:!1}),s=[0,100]);const I=w({...f,keyframes:s});let F;l==="mirror"&&(F=w({...f,keyframes:[...s].reverse(),velocity:-(f.velocity||0)}));let T="idle",U=null,K=null,B=null;I.calculatedDuration===null&&o&&(I.calculatedDuration=kB(I));const{calculatedDuration:R}=I;let D=1/0,H=1/0;R!==null&&(D=R+a,H=D*(o+1)-a);let P=0;const z=re=>{if(K===null)return;h>0&&(K=Math.min(K,re)),h<0&&(K=Math.min(re-H/h,K)),U!==null?P=U:P=Math.round(re-K)*h;const _=P-t*(h>=0?1:-1),Q=h>=0?_<0:_>H;P=Math.max(_,0),T==="finished"&&U===null&&(P=H);let Z=P,Ae=I;if(o){const te=Math.min(P,H)/D;let fe=Math.floor(te),pe=te%1;!pe&&te>=1&&(pe=1),pe===1&&fe--,fe=Math.min(fe,o+1),!!(fe%2)&&(l==="reverse"?(pe=1-pe,a&&(pe-=a/D)):l==="mirror"&&(Ae=F)),Z=Nu(0,1,pe)*D}const me=Q?{done:!1,value:s[0]}:Ae.next(Z);S&&(me.value=S(me.value));let{done:ae}=me;!Q&&R!==null&&(ae=h>=0?P>=H:P<=0);const ie=U===null&&(T==="finished"||T==="running"&&ae);return A&&A(me.value),ie&&ce(),me},G=()=>{j&&j.stop(),j=void 0},he=()=>{T="idle",G(),p(),x(),K=B=null},ce=()=>{T="finished",u&&u(),G(),p()},ye=()=>{if(g)return;j||(j=r(z));const re=j.now();c&&c(),U!==null?K=re-U:(!K||T==="finished")&&(K=re),T==="finished"&&x(),B=K,U=null,T="running",j.start()};e&&ye();const X={then(re,_){return b.then(re,_)},get time(){return rc(P)},set time(re){re=Od(re),P=re,U!==null||!j||h===0?U=re:K=j.now()-re/h},get duration(){const re=I.calculatedDuration===null?kB(I):I.calculatedDuration;return rc(re)},get speed(){return h},set speed(re){re===h||!j||(h=re,X.time=rc(P))},get state(){return T},play:ye,pause:()=>{T="paused",U=P},stop:()=>{g=!0,T!=="idle"&&(T="idle",d&&d(),he())},cancel:()=>{B!==null&&z(B),he()},complete:()=>{T="finished"},sample:re=>(K=0,z(re))};return X}function AZ(e){let t;return()=>(t===void 0&&(t=e()),t)}const hZ=AZ(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fZ=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Kg=10,mZ=2e4,pZ=(e,t)=>t.type==="spring"||e==="backgroundColor"||!OT(t.ease);function gZ(e,t,{onUpdate:r,onComplete:s,...i}){if(!(hZ()&&fZ.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,l,c,d=!1;const u=()=>{c=new Promise(w=>{l=w})};u();let{keyframes:A,duration:f=300,ease:h,times:g}=i;if(pZ(t,i)){const w=gx({...i,repeat:0,delay:0});let S={done:!1,value:A[0]};const I=[];let F=0;for(;!S.done&&F<mZ;)S=w.sample(F),I.push(S.value),F+=Kg;g=void 0,A=I,f=F-Kg,h="linear"}const p=kY(e.owner.current,t,A,{...i,duration:f,ease:h,times:g}),b=()=>{d=!1,p.cancel()},x=()=>{d=!0,tn.update(b),l(),u()};return p.onfinish=()=>{d||(e.set(SY(A,i)),s&&s(),x())},{then(w,S){return c.then(w,S)},attachTimeline(w){return p.timeline=w,p.onfinish=null,is},get time(){return rc(p.currentTime||0)},set time(w){p.currentTime=Od(w)},get speed(){return p.playbackRate},set speed(w){p.playbackRate=w},get duration(){return rc(f)},play:()=>{a||(p.play(),Ia(b))},pause:()=>p.pause(),stop:()=>{if(a=!0,p.playState==="idle")return;const{currentTime:w}=p;if(w){const S=gx({...i,autoplay:!1});e.setWithVelocity(S.sample(w-Kg).value,S.sample(w).value,Kg)}x()},complete:()=>{d||p.finish()},cancel:x}}function xZ({keyframes:e,delay:t,onUpdate:r,onComplete:s}){const i=()=>(r&&r(e[e.length-1]),s&&s(),{time:0,speed:1,duration:0,play:is,pause:is,stop:is,then:o=>(o(),Promise.resolve()),cancel:is,complete:is});return t?gx({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const yZ={type:"spring",stiffness:500,damping:25,restSpeed:10},bZ=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),vZ={type:"keyframes",duration:.8},wZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jZ=(e,{keyframes:t})=>t.length>2?vZ:sA.has(e)?e.startsWith("scale")?bZ(t[1]):yZ:wZ,Ow=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Bu.test(t)||t==="0")&&!t.startsWith("url(")),CZ=new Set(["brightness","contrast","saturate","opacity"]);function NZ(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=r.match($y)||[];if(!s)return e;const i=r.replace(s,"");let o=CZ.has(t)?1:0;return s!==r&&(o*=100),t+"("+o+i+")"}const BZ=/([a-z-]*)\(.*?\)/g,Qw={...Bu,getAnimatableNone:e=>{const t=e.match(BZ);return t?t.map(NZ).join(" "):e}},kZ={...jT,color:_i,backgroundColor:_i,outlineColor:_i,fill:_i,stroke:_i,borderColor:_i,borderTopColor:_i,borderRightColor:_i,borderBottomColor:_i,borderLeftColor:_i,filter:Qw,WebkitFilter:Qw},H5=e=>kZ[e];function l8(e,t){let r=H5(e);return r!==Qw&&(r=Bu),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const c8=e=>/^0[^.\s]+$/.test(e);function SZ(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||c8(e)}function EZ(e,t,r,s){const i=Ow(t,r);let o;Array.isArray(r)?o=[...r]:o=[null,r];const a=s.from!==void 0?s.from:e.get();let l;const c=[];for(let d=0;d<o.length;d++)o[d]===null&&(o[d]=d===0?a:o[d-1]),SZ(o[d])&&c.push(d),typeof o[d]=="string"&&o[d]!=="none"&&o[d]!=="0"&&(l=o[d]);if(i&&c.length&&l)for(let d=0;d<c.length;d++){const u=c[d];o[u]=l8(t,l)}return o}function IZ({when:e,delay:t,delayChildren:r,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}function $5(e,t){return e[t]||e.default||e}const TZ={skipAnimations:!1},V5=(e,t,r,s={})=>i=>{const o=$5(s,e)||{},a=o.delay||s.delay||0;let{elapsed:l=0}=s;l=l-Od(a);const c=EZ(t,e,r,o),d=c[0],u=c[c.length-1],A=Ow(e,d),f=Ow(e,u);let h={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:g=>{t.set(g),o.onUpdate&&o.onUpdate(g)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(IZ(o)||(h={...h,...jZ(e,h)}),h.duration&&(h.duration=Od(h.duration)),h.repeatDelay&&(h.repeatDelay=Od(h.repeatDelay)),!A||!f||BY.current||o.type===!1||TZ.skipAnimations)return xZ(h);if(!s.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=gZ(t,e,h);if(g)return g}return gx(h)};function xx(e){return!!(ao(e)&&e.add)}const u8=e=>/^\-?\d*\.?\d+$/.test(e);function K5(e,t){e.indexOf(t)===-1&&e.push(t)}function z5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class W5{constructor(){this.subscriptions=[]}add(t){return K5(this.subscriptions,t),()=>z5(this.subscriptions,t)}notify(t,r,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,s);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(t,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const FZ=e=>!isNaN(parseFloat(e)),vm={current:void 0};class LZ{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,i=!0)=>{this.prev=this.current,this.current=s;const{delta:o,timestamp:a}=Xs;this.lastUpdated!==a&&(this.timeDelta=o,this.lastUpdated=a,tn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=FZ(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new W5);const s=this.events[t].add(r);return t==="change"?()=>{s(),tn.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,s){this.set(r),this.prev=t,this.timeDelta=s}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return vm.current&&vm.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?_5(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Na(e,t){return new LZ(e,t)}const d8=e=>t=>t.test(e),PZ={test:e=>e==="auto",parse:e=>e},A8=[iA,cr,bl,Jc,_J,QJ,PZ],$f=e=>A8.find(d8(e)),UZ=[...A8,_i,Bu],RZ=e=>UZ.find(d8(e));function MZ(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Na(r))}function DZ(e,t){const r=Ky(e,t);let{transitionEnd:s={},transition:i={},...o}=r?e.makeTargetAnimatable(r,!1):{};o={...o,...s};for(const a in o){const l=tY(o[a]);MZ(e,a,l)}}function OZ(e,t,r){var s,i;const o=Object.keys(t).filter(l=>!e.hasValue(l)),a=o.length;if(a)for(let l=0;l<a;l++){const c=o[l],d=t[c];let u=null;Array.isArray(d)&&(u=d[0]),u===null&&(u=(i=(s=r[c])!==null&&s!==void 0?s:e.readValue(c))!==null&&i!==void 0?i:t[c]),u!=null&&(typeof u=="string"&&(u8(u)||c8(u))?u=parseFloat(u):!RZ(u)&&Bu.test(d)&&(u=l8(c,d)),e.addValue(c,Na(u,{owner:e})),r[c]===void 0&&(r[c]=u),u!==null&&e.setBaseTarget(c,u))}}function QZ(e,t){return t?(t[e]||t.default||t).from:void 0}function _Z(e,t,r){const s={};for(const i in e){const o=QZ(i,t);if(o!==void 0)s[i]=o;else{const a=r.getValue(i);a&&(s[i]=a.get())}}return s}function HZ({protectedKeys:e,needsAnimating:t},r){const s=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,s}function $Z(e,t){const r=e.get();if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(t[s]!==r)return!0}else return r!==t}function h8(e,t,{delay:r=0,transitionOverride:s,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");s&&(o=s);const d=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const A in l){const f=e.getValue(A),h=l[A];if(!f||h===void 0||u&&HZ(u,A))continue;const g={delay:r,elapsed:0,...$5(o||{},A)};if(window.HandoffAppearAnimations){const x=e.getProps()[pT];if(x){const j=window.HandoffAppearAnimations(x,A,f,tn);j!==null&&(g.elapsed=j,g.isHandoff=!0)}}let p=!g.isHandoff&&!$Z(f,h);if(g.type==="spring"&&(f.getVelocity()||g.velocity)&&(p=!1),f.animation&&(p=!1),p)continue;f.start(V5(A,f,h,e.shouldReduceMotion&&sA.has(A)?{type:!1}:g));const b=f.animation;xx(c)&&(c.add(A),b.then(()=>c.remove(A))),d.push(b)}return a&&Promise.all(d).then(()=>{a&&DZ(e,a)}),d}function _w(e,t,r={}){const s=Ky(e,t,r.custom);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const o=s?()=>Promise.all(h8(e,s,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:A}=i;return VZ(e,t,d+c,u,A,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(r.delay)])}function VZ(e,t,r=0,s=0,i=1,o){const a=[],l=(e.variantChildren.size-1)*s,c=i===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(e.variantChildren).sort(KZ).forEach((d,u)=>{d.notify("AnimationStart",t),a.push(_w(d,t,{...o,delay:r+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(a)}function KZ(e,t){return e.sortNodePosition(t)}function zZ(e,t,r={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(o=>_w(e,o,r));s=Promise.all(i)}else if(typeof t=="string")s=_w(e,t,r);else{const i=typeof t=="function"?Ky(e,t,r.custom):t;s=Promise.all(h8(e,i,r))}return s.then(()=>e.notify("AnimationComplete",t))}const WZ=[...k5].reverse(),GZ=k5.length;function qZ(e){return t=>Promise.all(t.map(({animation:r,options:s})=>zZ(e,r,s)))}function XZ(e){let t=qZ(e);const r=YZ();let s=!0;const i=(c,d)=>{const u=Ky(e,d);if(u){const{transition:A,transitionEnd:f,...h}=u;c={...c,...h,...f}}return c};function o(c){t=c(e)}function a(c,d){const u=e.getProps(),A=e.getVariantContext(!0)||{},f=[],h=new Set;let g={},p=1/0;for(let x=0;x<GZ;x++){const j=WZ[x],w=r[j],S=u[j]!==void 0?u[j]:A[j],I=ep(S),F=j===d?w.isActive:null;F===!1&&(p=x);let T=S===A[j]&&S!==u[j]&&I;if(T&&s&&e.manuallyAnimateOnMount&&(T=!1),w.protectedKeys={...g},!w.isActive&&F===null||!S&&!w.prevProp||_y(S)||typeof S=="boolean")continue;let K=JZ(w.prevProp,S)||j===d&&w.isActive&&!T&&I||x>p&&I,B=!1;const R=Array.isArray(S)?S:[S];let D=R.reduce(i,{});F===!1&&(D={});const{prevResolvedValues:H={}}=w,P={...H,...D},z=G=>{K=!0,h.has(G)&&(B=!0,h.delete(G)),w.needsAnimating[G]=!0};for(const G in P){const he=D[G],ce=H[G];if(g.hasOwnProperty(G))continue;let ye=!1;fx(he)&&fx(ce)?ye=!MT(he,ce):ye=he!==ce,ye?he!==void 0?z(G):h.add(G):he!==void 0&&h.has(G)?z(G):w.protectedKeys[G]=!0}w.prevProp=S,w.prevResolvedValues=D,w.isActive&&(g={...g,...D}),s&&e.blockInitialAnimation&&(K=!1),K&&(!T||B)&&f.push(...R.map(G=>({animation:G,options:{type:j,...c}})))}if(h.size){const x={};h.forEach(j=>{const w=e.getBaseTarget(j);w!==void 0&&(x[j]=w)}),f.push({animation:x})}let b=!!f.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(b=!1),s=!1,b?t(f):Promise.resolve()}function l(c,d,u){var A;if(r[c].isActive===d)return Promise.resolve();(A=e.variantChildren)===null||A===void 0||A.forEach(h=>{var g;return(g=h.animationState)===null||g===void 0?void 0:g.setActive(c,d)}),r[c].isActive=d;const f=a(u,c);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>r}}function JZ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!MT(t,e):!1}function ld(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function YZ(){return{animate:ld(!0),whileInView:ld(),whileHover:ld(),whileTap:ld(),whileDrag:ld(),whileFocus:ld(),exit:ld()}}class ZZ extends Tu{constructor(t){super(t),t.animationState||(t.animationState=XZ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),_y(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let eee=0;class tee extends Tu{constructor(){super(...arguments),this.id=eee++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t,{custom:s??this.node.getProps().custom});r&&!t&&o.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const ree={animation:{Feature:ZZ},exit:{Feature:tee}},SB=(e,t)=>Math.abs(e-t);function nee(e,t){const r=SB(e.x,t.x),s=SB(e.y,t.y);return Math.sqrt(r**2+s**2)}class f8{constructor(t,r,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=$b(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=nee(A.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:g}=A,{timestamp:p}=Xs;this.history.push({...g,timestamp:p});const{onStart:b,onMove:x}=this.handlers;f||(b&&b(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,A)},this.handlePointerMove=(A,f)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Hb(f,this.transformPagePoint),tn.update(this.updatePoint,!0)},this.handlePointerUp=(A,f)=>{this.end();const{onEnd:h,onSessionEnd:g,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=$b(A.type==="pointercancel"?this.lastMoveEventInfo:Hb(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(A,b),g&&g(A,b)},!FT(t))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=s,this.contextWindow=i||window;const a=Vy(t),l=Hb(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=Xs;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=r;u&&u(t,$b(l,this.history)),this.removeListeners=mu(tc(this.contextWindow,"pointermove",this.handlePointerMove),tc(this.contextWindow,"pointerup",this.handlePointerUp),tc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ia(this.updatePoint)}}function Hb(e,t){return t?{point:t(e.point)}:e}function EB(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $b({point:e},t){return{point:e,delta:EB(e,m8(t)),offset:EB(e,see(t)),velocity:iee(t,.1)}}function see(e){return e[0]}function m8(e){return e[e.length-1]}function iee(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,s=null;const i=m8(e);for(;r>=0&&(s=e[r],!(i.timestamp-s.timestamp>Od(t)));)r--;if(!s)return{x:0,y:0};const o=rc(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Fo(e){return e.max-e.min}function Hw(e,t=0,r=.01){return Math.abs(e-t)<=r}function IB(e,t,r,s=.5){e.origin=s,e.originPoint=Yn(t.min,t.max,e.origin),e.scale=Fo(r)/Fo(t),(Hw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Yn(r.min,r.max,e.origin)-e.originPoint,(Hw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function wm(e,t,r,s){IB(e.x,t.x,r.x,s?s.originX:void 0),IB(e.y,t.y,r.y,s?s.originY:void 0)}function TB(e,t,r){e.min=r.min+t.min,e.max=e.min+Fo(t)}function oee(e,t,r){TB(e.x,t.x,r.x),TB(e.y,t.y,r.y)}function FB(e,t,r){e.min=t.min-r.min,e.max=e.min+Fo(t)}function jm(e,t,r){FB(e.x,t.x,r.x),FB(e.y,t.y,r.y)}function aee(e,{min:t,max:r},s){return t!==void 0&&e<t?e=s?Yn(t,e,s.min):Math.max(e,t):r!==void 0&&e>r&&(e=s?Yn(r,e,s.max):Math.min(e,r)),e}function LB(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function lee(e,{top:t,left:r,bottom:s,right:i}){return{x:LB(e.x,r,i),y:LB(e.y,t,s)}}function PB(e,t){let r=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,s]=[s,r]),{min:r,max:s}}function cee(e,t){return{x:PB(e.x,t.x),y:PB(e.y,t.y)}}function uee(e,t){let r=.5;const s=Fo(e),i=Fo(t);return i>s?r=Wh(t.min,t.max-s,e.min):s>i&&(r=Wh(e.min,e.max-i,t.min)),Nu(0,1,r)}function dee(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const $w=.35;function Aee(e=$w){return e===!1?e=0:e===!0&&(e=$w),{x:UB(e,"left","right"),y:UB(e,"top","bottom")}}function UB(e,t,r){return{min:RB(e,t),max:RB(e,r)}}function RB(e,t){return typeof e=="number"?e:e[t]||0}const MB=()=>({translate:0,scale:1,origin:0,originPoint:0}),bh=()=>({x:MB(),y:MB()}),DB=()=>({min:0,max:0}),Ns=()=>({x:DB(),y:DB()});function Go(e){return[e("x"),e("y")]}function p8({top:e,left:t,right:r,bottom:s}){return{x:{min:t,max:r},y:{min:e,max:s}}}function hee({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function fee(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function Vb(e){return e===void 0||e===1}function Vw({scale:e,scaleX:t,scaleY:r}){return!Vb(e)||!Vb(t)||!Vb(r)}function gd(e){return Vw(e)||g8(e)||e.z||e.rotate||e.rotateX||e.rotateY}function g8(e){return OB(e.x)||OB(e.y)}function OB(e){return e&&e!=="0%"}function yx(e,t,r){const s=e-r,i=t*s;return r+i}function QB(e,t,r,s,i){return i!==void 0&&(e=yx(e,i,s)),yx(e,r,s)+t}function Kw(e,t=0,r=1,s,i){e.min=QB(e.min,t,r,s,i),e.max=QB(e.max,t,r,s,i)}function x8(e,{x:t,y:r}){Kw(e.x,t.translate,t.scale,t.originPoint),Kw(e.y,r.translate,r.scale,r.originPoint)}function mee(e,t,r,s=!1){const i=r.length;if(!i)return;t.x=t.y=1;let o,a;for(let l=0;l<i;l++){o=r[l],a=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&vh(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,x8(e,a)),s&&gd(o.latestValues)&&vh(e,o.latestValues))}t.x=_B(t.x),t.y=_B(t.y)}function _B(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function eu(e,t){e.min=e.min+t,e.max=e.max+t}function HB(e,t,[r,s,i]){const o=t[i]!==void 0?t[i]:.5,a=Yn(e.min,e.max,o);Kw(e,t[r],t[s],a,t.scale)}const pee=["x","scaleX","originX"],gee=["y","scaleY","originY"];function vh(e,t){HB(e.x,t,pee),HB(e.y,t,gee)}function y8(e,t){return p8(fee(e.getBoundingClientRect(),t))}function xee(e,t,r){const s=y8(e,r),{scroll:i}=t;return i&&(eu(s.x,i.offset.x),eu(s.y,i.offset.y)),s}const b8=({current:e})=>e?e.ownerDocument.defaultView:null,yee=new WeakMap;class bee{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ns(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Vy(u,"page").point)},o=(u,A)=>{const{drag:f,dragPropagation:h,onDragStart:g}=this.getProps();if(f&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=PT(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Go(b=>{let x=this.getAxisMotionValue(b).get()||0;if(bl.test(x)){const{projection:j}=this.visualElement;if(j&&j.layout){const w=j.layout.layoutBox[b];w&&(x=Fo(w)*(parseFloat(x)/100))}}this.originPoint[b]=x}),g&&tn.update(()=>g(u,A),!1,!0);const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},a=(u,A)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:g,onDrag:p}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:b}=A;if(h&&this.currentDirection===null){this.currentDirection=vee(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",A.point,b),this.updateAxis("y",A.point,b),this.visualElement.render(),p&&p(u,A)},l=(u,A)=>this.stop(u,A),c=()=>Go(u=>{var A;return this.getAnimationState(u)==="paused"&&((A=this.getAxisMotionValue(u).animation)===null||A===void 0?void 0:A.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new f8(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:b8(this.visualElement)})}stop(t,r){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&tn.update(()=>o(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,s){const{drag:i}=this.getProps();if(!s||!zg(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(a=aee(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;r&&xh(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=lee(i.layoutBox,r):this.constraints=!1,this.elastic=Aee(s),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Go(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=dee(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!xh(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=xee(s,i.root,this.visualElement.getTransformPagePoint());let a=cee(i.layout.layoutBox,o);if(r){const l=r(hee(a));this.hasMutatedConstraints=!!l,l&&(a=p8(l))}return a}startAnimation(t){const{drag:r,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Go(u=>{if(!zg(u,r,this.currentDirection))return;let A=c&&c[u]||{};a&&(A={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,g={type:"inertia",velocity:s?t[u]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...A};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const s=this.getAxisMotionValue(t);return s.start(V5(t,s,0,r))}stopAnimation(){Go(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Go(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),s=this.visualElement.getProps(),i=s[r];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Go(r=>{const{drag:s}=this.getProps();if(!zg(r,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[r];o.set(t[r]-Yn(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!xh(r)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Go(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();i[a]=uee({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Go(a=>{if(!zg(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];l.set(Yn(c,d,i[a]))})}addListeners(){if(!this.visualElement.current)return;yee.set(this.visualElement,this);const t=this.visualElement.current,r=tc(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();xh(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),s();const a=Jl(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Go(u=>{const A=this.getAxisMotionValue(u);A&&(this.originPoint[u]+=c[u].translate,A.set(A.get()+c[u].translate))}),this.visualElement.render())});return()=>{a(),r(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=$w,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function zg(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function vee(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class wee extends Tu{constructor(t){super(t),this.removeGroupControls=is,this.removeListeners=is,this.controls=new bee(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||is}unmount(){this.removeGroupControls(),this.removeListeners()}}const $B=e=>(t,r)=>{e&&tn.update(()=>e(t,r))};class jee extends Tu{constructor(){super(...arguments),this.removePointerDownListener=is}onPointerDown(t){this.session=new f8(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:b8(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:$B(t),onStart:$B(r),onMove:s,onEnd:(o,a)=>{delete this.session,i&&tn.update(()=>i(o,a))}}}mount(){this.removePointerDownListener=tc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Cee(){const e=m.useContext(Oy);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,i=m.useId();return m.useEffect(()=>s(i),[]),!t&&r?[!1,()=>r&&r(i)]:[!0]}const U0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function VB(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(cr.test(e))e=parseFloat(e);else return e;const r=VB(e,t.target.x),s=VB(e,t.target.y);return`${r}% ${s}%`}},Nee={correct:(e,{treeScale:t,projectionDelta:r})=>{const s=e,i=Bu.parse(e);if(i.length>5)return s;const o=Bu.createTransformer(e),a=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+a]/=l,i[1+a]/=c;const d=Yn(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),o(i)}};class Bee extends Xt.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=t;LJ(kee),o&&(r.group&&r.group.add(o),s&&s.register&&i&&s.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),U0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:s,drag:i,isPresent:o}=this.props,a=s.projection;return a&&(a.isPresent=o,i||t.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||tn.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function v8(e){const[t,r]=Cee(),s=m.useContext(E5);return Xt.createElement(Bee,{...e,layoutGroup:s,switchLayoutGroup:m.useContext(xT),isPresent:t,safeToRemove:r})}const kee={borderRadius:{...Vf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vf,borderTopRightRadius:Vf,borderBottomLeftRadius:Vf,borderBottomRightRadius:Vf,boxShadow:Nee},w8=["TopLeft","TopRight","BottomLeft","BottomRight"],See=w8.length,KB=e=>typeof e=="string"?parseFloat(e):e,zB=e=>typeof e=="number"||cr.test(e);function Eee(e,t,r,s,i,o){i?(e.opacity=Yn(0,r.opacity!==void 0?r.opacity:1,Iee(s)),e.opacityExit=Yn(t.opacity!==void 0?t.opacity:1,0,Tee(s))):o&&(e.opacity=Yn(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,s));for(let a=0;a<See;a++){const l=`border${w8[a]}Radius`;let c=WB(t,l),d=WB(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||zB(c)===zB(d)?(e[l]=Math.max(Yn(KB(c),KB(d),s),0),(bl.test(d)||bl.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=Yn(t.rotate||0,r.rotate||0,s))}function WB(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Iee=j8(0,.5,zT),Tee=j8(.5,.95,is);function j8(e,t,r){return s=>s<e?0:s>t?1:r(Wh(e,t,s))}function GB(e,t){e.min=t.min,e.max=t.max}function Wo(e,t){GB(e.x,t.x),GB(e.y,t.y)}function qB(e,t,r,s,i){return e-=t,e=yx(e,1/r,s),i!==void 0&&(e=yx(e,1/i,s)),e}function Fee(e,t=0,r=1,s=.5,i,o=e,a=e){if(bl.test(t)&&(t=parseFloat(t),t=Yn(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Yn(o.min,o.max,s);e===o&&(l-=t),e.min=qB(e.min,t,r,l,i),e.max=qB(e.max,t,r,l,i)}function XB(e,t,[r,s,i],o,a){Fee(e,t[r],t[s],t[i],t.scale,o,a)}const Lee=["x","scaleX","originX"],Pee=["y","scaleY","originY"];function JB(e,t,r,s){XB(e.x,t,Lee,r?r.x:void 0,s?s.x:void 0),XB(e.y,t,Pee,r?r.y:void 0,s?s.y:void 0)}function YB(e){return e.translate===0&&e.scale===1}function C8(e){return YB(e.x)&&YB(e.y)}function Uee(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function N8(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function ZB(e){return Fo(e.x)/Fo(e.y)}class Ree{constructor(){this.members=[]}add(t){K5(this.members,t),t.scheduleRender()}remove(t){if(z5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let s;for(let i=r;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(t,r){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,r&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:s}=t;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ek(e,t,r){let s="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(s=`translate3d(${i}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:d,rotateY:u}=r;c&&(s+=`rotate(${c}deg) `),d&&(s+=`rotateX(${d}deg) `),u&&(s+=`rotateY(${u}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(s+=`scale(${a}, ${l})`),s||"none"}const Mee=(e,t)=>e.depth-t.depth;class Dee{constructor(){this.children=[],this.isDirty=!1}add(t){K5(this.children,t),this.isDirty=!0}remove(t){z5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Mee),this.isDirty=!1,this.children.forEach(t)}}function Oee(e,t){const r=performance.now(),s=({timestamp:i})=>{const o=i-r;o>=t&&(Ia(s),e(o-t))};return tn.read(s,!0),()=>Ia(s)}function Qee(e){window.MotionDebug&&window.MotionDebug.record(e)}function _ee(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Hee(e,t,r){const s=ao(e)?e:Na(e);return s.start(V5("",s,t,r)),s.animation}const tk=["","X","Y","Z"],$ee={visibility:"hidden"},rk=1e3;let Vee=0;const xd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function B8({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(a={},l=t==null?void 0:t()){this.id=Vee++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xd.totalNodes=xd.resolvedTargetDeltas=xd.recalculatedProjection=0,this.nodes.forEach(Wee),this.nodes.forEach(Yee),this.nodes.forEach(Zee),this.nodes.forEach(Gee),Qee(xd)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Dee)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new W5),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_ee(a),this.instance=a;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let A;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,A&&A(),A=Oee(f,250),U0.hasAnimatedSinceResize&&(U0.hasAnimatedSinceResize=!1,this.nodes.forEach(sk))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||ste,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=u.getProps(),j=!this.targetLayout||!N8(this.targetLayout,g)||h,w=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(A,w);const S={...$5(p,"layout"),onPlay:b,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else f||sk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ia(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ete),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const A=this.path[u];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nk);return}this.isUpdating||this.nodes.forEach(Xee),this.isUpdating=!1,this.nodes.forEach(Jee),this.nodes.forEach(Kee),this.nodes.forEach(zee),this.clearAllSnapshots();const l=performance.now();Xs.delta=Nu(0,1e3/60,l-Xs.timestamp),Xs.timestamp=l,Xs.isProcessing=!0,Pb.update.process(Xs),Pb.preRender.process(Xs),Pb.render.process(Xs),Xs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(qee),this.sharedNodes.forEach(tte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ns(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:s(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!C8(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;a&&(l||gd(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),ite(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Ns();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(eu(l.x,c.offset.x),eu(l.y,c.offset.y)),l}removeElementScroll(a){const l=Ns();Wo(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:A}=d;if(d!==this.root&&u&&A.layoutScroll){if(u.isRoot){Wo(l,a);const{scroll:f}=this.root;f&&(eu(l.x,-f.offset.x),eu(l.y,-f.offset.y))}eu(l.x,u.offset.x),eu(l.y,u.offset.y)}}return l}applyTransform(a,l=!1){const c=Ns();Wo(c,a);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&vh(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),gd(u.latestValues)&&vh(c,u.latestValues)}return gd(this.latestValues)&&vh(c,this.latestValues),c}removeTransform(a){const l=Ns();Wo(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!gd(d.latestValues))continue;Vw(d.latestValues)&&d.updateSnapshot();const u=Ns(),A=d.measurePageBox();Wo(u,A),JB(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return gd(this.latestValues)&&JB(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:A,layoutId:f}=this.options;if(!(!this.layout||!(A||f))){if(this.resolvedRelativeTargetAt=Xs.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ns(),this.relativeTargetOrigin=Ns(),jm(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Wo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ns(),this.targetWithTransforms=Ns()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wo(this.target,this.layout.layoutBox),x8(this.target,this.targetDelta)):Wo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ns(),this.relativeTargetOrigin=Ns(),jm(this.relativeTargetOrigin,this.target,h.target),Wo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Vw(this.parent.latestValues)||g8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Xs.timestamp&&(d=!1),d)return;const{layout:u,layoutId:A}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||A))return;Wo(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;mee(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:g}=l;if(!g){this.projectionTransform&&(this.projectionDelta=bh(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=bh(),this.projectionDeltaWithTransform=bh());const p=this.projectionTransform;wm(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=ek(this.projectionDelta,this.treeScale),(this.projectionTransform!==p||this.treeScale.x!==f||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),xd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},A=bh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Ns(),h=c?c.source:void 0,g=this.layout?this.layout.source:void 0,p=h!==g,b=this.getStack(),x=!b||b.members.length<=1,j=!!(p&&!x&&this.options.crossfade===!0&&!this.path.some(nte));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const I=S/1e3;ik(A.x,a.x,I),ik(A.y,a.y,I),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jm(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rte(this.relativeTarget,this.relativeTargetOrigin,f,I),w&&Uee(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ns()),Wo(w,this.relativeTarget)),p&&(this.animationValues=u,Eee(u,d,this.latestValues,I,j,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ia(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tn.update(()=>{U0.hasAnimatedSinceResize=!0,this.currentAnimation=Hee(0,rk,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=a;if(!(!l||!c||!d)){if(this!==a&&this.layout&&d&&k8(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ns();const A=Fo(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+A;const f=Fo(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}Wo(l,c),vh(l,u),wm(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Ree),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let u=0;u<tk.length;u++){const A="rotate"+tk[u];c[A]&&(d[A]=c[A],a.setStaticValue(A,0))}a.render();for(const u in d)a.setStaticValue(u,d[u]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $ee;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=P0(a==null?void 0:a.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const A=this.getLead();if(!this.projectionDelta||!this.layout||!A.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=P0(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!gd(this.latestValues)&&(p.transform=u?u({},""):"none",this.hasProjected=!1),p}const f=A.animationValues||A.latestValues;this.applyTransformsToTarget(),d.transform=ek(this.projectionDeltaWithTransform,this.treeScale,f),u&&(d.transform=u(f,d.transform));const{x:h,y:g}=this.projectionDelta;d.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,A.animationValues?d.opacity=A===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:d.opacity=A===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const p in Ax){if(f[p]===void 0)continue;const{correct:b,applyTo:x}=Ax[p],j=d.transform==="none"?f[p]:b(f[p],A);if(x){const w=x.length;for(let S=0;S<w;S++)d[x[S]]=j}else d[p]=j}return this.options.layoutId&&(d.pointerEvents=A===this?P0(a==null?void 0:a.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(nk),this.root.sharedNodes.clear()}}}function Kee(e){e.updateLayout()}function zee(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:o}=e.options,a=r.source!==e.layout.source;o==="size"?Go(A=>{const f=a?r.measuredBox[A]:r.layoutBox[A],h=Fo(f);f.min=s[A].min,f.max=f.min+h}):k8(o,r.layoutBox,s)&&Go(A=>{const f=a?r.measuredBox[A]:r.layoutBox[A],h=Fo(s[A]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[A].max=e.relativeTarget[A].min+h)});const l=bh();wm(l,s,r.layoutBox);const c=bh();a?wm(c,e.applyTransform(i,!0),r.measuredBox):wm(c,s,r.layoutBox);const d=!C8(l);let u=!1;if(!e.resumeFrom){const A=e.getClosestProjectingParent();if(A&&!A.resumeFrom){const{snapshot:f,layout:h}=A;if(f&&h){const g=Ns();jm(g,r.layoutBox,f.layoutBox);const p=Ns();jm(p,s,h.layoutBox),N8(g,p)||(u=!0),A.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=g,e.relativeParent=A)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function Wee(e){xd.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Gee(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function qee(e){e.clearSnapshot()}function nk(e){e.clearMeasurements()}function Xee(e){e.isLayoutDirty=!1}function Jee(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function sk(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Yee(e){e.resolveTargetDelta()}function Zee(e){e.calcProjection()}function ete(e){e.resetRotation()}function tte(e){e.removeLeadSnapshot()}function ik(e,t,r){e.translate=Yn(t.translate,0,r),e.scale=Yn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function ok(e,t,r,s){e.min=Yn(t.min,r.min,s),e.max=Yn(t.max,r.max,s)}function rte(e,t,r,s){ok(e.x,t.x,r.x,s),ok(e.y,t.y,r.y,s)}function nte(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ste={duration:.45,ease:[.4,0,.1,1]},ak=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),lk=ak("applewebkit/")&&!ak("chrome/")?Math.round:is;function ck(e){e.min=lk(e.min),e.max=lk(e.max)}function ite(e){ck(e.x),ck(e.y)}function k8(e,t,r){return e==="position"||e==="preserve-aspect"&&!Hw(ZB(t),ZB(r),.2)}const ote=B8({attachResizeListener:(e,t)=>Jl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kb={current:void 0},S8=B8({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Kb.current){const e=new ote({});e.mount(window),e.setOptions({layoutScroll:!0}),Kb.current=e}return Kb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ate={pan:{Feature:jee},drag:{Feature:wee,ProjectionNode:S8,MeasureLayout:v8}},lte=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function cte(e){const t=lte.exec(e);if(!t)return[,];const[,r,s]=t;return[r,s]}function zw(e,t,r=1){const[s,i]=cte(e);if(!s)return;const o=window.getComputedStyle(t).getPropertyValue(s);if(o){const a=o.trim();return u8(a)?parseFloat(a):a}else return Uw(i)?zw(i,t,r+1):i}function ute(e,{...t},r){const s=e.current;if(!(s instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(i=>{const o=i.get();if(!Uw(o))return;const a=zw(o,s);a&&i.set(a)});for(const i in t){const o=t[i];if(!Uw(o))continue;const a=zw(o,s);a&&(t[i]=a,r||(r={}),r[i]===void 0&&(r[i]=o))}return{target:t,transitionEnd:r}}const dte=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),E8=e=>dte.has(e),Ate=e=>Object.keys(e).some(E8),uk=e=>e===iA||e===cr,dk=(e,t)=>parseFloat(e.split(", ")[t]),Ak=(e,t)=>(r,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/);if(i)return dk(i[1],t);{const o=s.match(/^matrix\((.+)\)$/);return o?dk(o[1],e):0}},hte=new Set(["x","y","z"]),fte=Up.filter(e=>!hte.has(e));function mte(e){const t=[];return fte.forEach(r=>{const s=e.getValue(r);s!==void 0&&(t.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Gh={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Ak(4,13),y:Ak(5,14)};Gh.translateX=Gh.x;Gh.translateY=Gh.y;const pte=(e,t,r)=>{const s=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:a}=o,l={};a==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(d=>{l[d]=Gh[d](s,o)}),t.render();const c=t.measureViewportBox();return r.forEach(d=>{const u=t.getValue(d);u&&u.jump(l[d]),e[d]=Gh[d](c,o)}),e},gte=(e,t,r={},s={})=>{t={...t},s={...s};const i=Object.keys(t).filter(E8);let o=[],a=!1;const l=[];if(i.forEach(c=>{const d=e.getValue(c);if(!e.hasValue(c))return;let u=r[c],A=$f(u);const f=t[c];let h;if(fx(f)){const g=f.length,p=f[0]===null?1:0;u=f[p],A=$f(u);for(let b=p;b<g&&f[b]!==null;b++)h?M5($f(f[b])===h):h=$f(f[b])}else h=$f(f);if(A!==h)if(uk(A)&&uk(h)){const g=d.get();typeof g=="string"&&d.set(parseFloat(g)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&h===cr&&(t[c]=f.map(parseFloat))}else A!=null&&A.transform&&(h!=null&&h.transform)&&(u===0||f===0)?u===0?d.set(h.transform(u)):t[c]=A.transform(f):(a||(o=mte(e),a=!0),l.push(c),s[c]=s[c]!==void 0?s[c]:t[c],d.jump(f))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=pte(t,e,l);return o.length&&o.forEach(([u,A])=>{e.getValue(u).set(A)}),e.render(),Qy&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:s}}else return{target:t,transitionEnd:s}};function xte(e,t,r,s){return Ate(t)?gte(e,t,r,s):{target:t,transitionEnd:s}}const yte=(e,t,r,s)=>{const i=ute(e,t,s);return t=i.target,s=i.transitionEnd,xte(e,t,r,s)},Ww={current:null},I8={current:!1};function bte(){if(I8.current=!0,!!Qy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ww.current=e.matches;e.addListener(t),t()}else Ww.current=!1}function vte(e,t,r){const{willChange:s}=t;for(const i in t){const o=t[i],a=r[i];if(ao(o))e.addValue(i,o),xx(s)&&s.add(i);else if(ao(a))e.addValue(i,Na(o,{owner:e})),xx(s)&&s.remove(i);else if(a!==o)if(e.hasValue(i)){const l=e.getValue(i);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(i);e.addValue(i,Na(l!==void 0?l:o,{owner:e}))}}for(const i in r)t[i]===void 0&&e.removeValue(i);return t}const hk=new WeakMap,T8=Object.keys(tp),wte=T8.length,fk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],jte=S5.length;class Cte{constructor({parent:t,props:r,presenceContext:s,reducedMotionConfig:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tn.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=Hy(r),this.isVariantNode=gT(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(r,{});for(const A in u){const f=u[A];l[A]!==void 0&&ao(f)&&(f.set(l[A],!1),xx(d)&&d.add(A))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,hk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),I8.current||bte(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ww.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hk.delete(this.current),this.projection&&this.projection.unmount(),Ia(this.notifyUpdate),Ia(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const s=sA.has(t),i=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&tn.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),o=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},s,i,o){let a,l;for(let c=0;c<wte;c++){const d=T8[c],{isEnabled:u,Feature:A,ProjectionNode:f,MeasureLayout:h}=tp[d];f&&(a=f),u(r)&&(!this.features[d]&&A&&(this.features[d]=new A(this)),h&&(l=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:u,dragConstraints:A,layoutScroll:f,layoutRoot:h}=r;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!u||A&&xh(A),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:o,layoutScroll:f,layoutRoot:h})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ns()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<fk.length;s++){const i=fk[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=t["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=vte(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const r={};for(let s=0;s<jte;s++){const i=S5[s],o=this.props[i];(ep(o)||o===!1)&&(r[i]=o)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&r!==void 0&&(s=Na(r,{owner:this}),this.addValue(t,s)),s}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:s}=this.props,i=typeof s=="string"||typeof s=="object"?(r=R5(this.props,s))===null||r===void 0?void 0:r[t]:void 0;if(s&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!ao(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new W5),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class F8 extends Cte{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:s}){delete r[t],delete s[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...s},{transformValues:i},o){let a=_Z(s,t||{},this);if(i&&(r&&(r=i(r)),s&&(s=i(s)),a&&(a=i(a))),o){OZ(this,s,a);const l=yte(this,s,a,r);r=l.transitionEnd,s=l.target}return{transition:t,transitionEnd:r,...s}}}function Nte(e){return window.getComputedStyle(e)}class Bte extends F8{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(sA.has(r)){const s=H5(r);return s&&s.default||0}else{const s=Nte(t),i=(vT(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return y8(t,r)}build(t,r,s,i){T5(t,r,s,i.transformTemplate)}scrapeMotionValuesFromProps(t,r){return U5(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ao(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,s,i){kT(t,r,s,i)}}class kte extends F8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(sA.has(r)){const s=H5(r);return s&&s.default||0}return r=ST.has(r)?r:B5(r),t.getAttribute(r)}measureInstanceViewportBox(){return Ns()}scrapeMotionValuesFromProps(t,r){return IT(t,r)}build(t,r,s,i){L5(t,r,s,this.isSVGTag,i.transformTemplate)}renderInstance(t,r,s,i){ET(t,r,s,i)}mount(t){this.isSVGTag=P5(t.tagName),super.mount(t)}}const Ste=(e,t)=>I5(e)?new kte(t,{enableHardwareAcceleration:!1}):new Bte(t,{enableHardwareAcceleration:!0}),Ete={layout:{ProjectionNode:S8,MeasureLayout:v8}},Ite={...ree,...wY,...ate,...Ete},ur=TJ((e,t)=>cY(e,t,Ite,Ste));function L8(){const e=m.useRef(!1);return Pp(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Tte(){const e=L8(),[t,r]=m.useState(0),s=m.useCallback(()=>{e.current&&r(t+1)},[t]);return[m.useCallback(()=>tn.postRender(s),[s]),t]}class Fte extends m.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Lte({children:e,isPresent:t}){const r=m.useId(),s=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(t||!s.current||!o||!a)return;s.current.dataset.motionPopId=r;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),m.createElement(Fte,{isPresent:t,childRef:s,sizeRef:i},m.cloneElement(e,{ref:s}))}const zb=({children:e,initial:t,isPresent:r,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:a})=>{const l=Dp(Pte),c=m.useId(),d=m.useMemo(()=>({id:c,initial:t,isPresent:r,custom:i,onExitComplete:u=>{l.set(u,!0);for(const A of l.values())if(!A)return;s&&s()},register:u=>(l.set(u,!1),()=>l.delete(u))}),o?void 0:[r]);return m.useMemo(()=>{l.forEach((u,A)=>l.set(A,!1))},[r]),m.useEffect(()=>{!r&&!l.size&&s&&s()},[r]),a==="popLayout"&&(e=m.createElement(Lte,{isPresent:r},e)),m.createElement(Oy.Provider,{value:d},e)};function Pte(){return new Map}function Ute(e){return m.useEffect(()=>()=>e(),[])}const yd=e=>e.key||"";function Rte(e,t){e.forEach(r=>{const s=yd(r);t.set(s,r)})}function Mte(e){const t=[];return m.Children.forEach(e,r=>{m.isValidElement(r)&&t.push(r)}),t}const G5=({children:e,custom:t,initial:r=!0,onExitComplete:s,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:a="sync"})=>{const l=m.useContext(E5).forceRender||Tte()[0],c=L8(),d=Mte(e);let u=d;const A=m.useRef(new Map).current,f=m.useRef(u),h=m.useRef(new Map).current,g=m.useRef(!0);if(Pp(()=>{g.current=!1,Rte(d,h),f.current=u}),Ute(()=>{g.current=!0,h.clear(),A.clear()}),g.current)return m.createElement(m.Fragment,null,u.map(j=>m.createElement(zb,{key:yd(j),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:o,mode:a},j)));u=[...u];const p=f.current.map(yd),b=d.map(yd),x=p.length;for(let j=0;j<x;j++){const w=p[j];b.indexOf(w)===-1&&!A.has(w)&&A.set(w,void 0)}return a==="wait"&&A.size&&(u=[]),A.forEach((j,w)=>{if(b.indexOf(w)!==-1)return;const S=h.get(w);if(!S)return;const I=p.indexOf(w);let F=j;if(!F){const T=()=>{A.delete(w);const U=Array.from(h.keys()).filter(K=>!b.includes(K));if(U.forEach(K=>h.delete(K)),f.current=d.filter(K=>{const B=yd(K);return B===w||U.includes(B)}),!A.size){if(c.current===!1)return;l(),s&&s()}};F=m.createElement(zb,{key:yd(S),isPresent:!1,onExitComplete:T,custom:t,presenceAffectsLayout:o,mode:a},S),A.set(w,F)}u.splice(I,0,F)}),u=u.map(j=>{const w=j.key;return A.has(w)?j:m.createElement(zb,{key:yd(j),isPresent:!0,presenceAffectsLayout:o,mode:a},j)}),m.createElement(m.Fragment,null,A.size?u:u.map(j=>m.cloneElement(j)))};function Dte(e){const t=Dp(()=>Na(e)),{isStatic:r}=m.useContext(N5);if(r){const[,s]=m.useState(e);m.useEffect(()=>t.on("change",s),[])}return t}const Ote=e=>e&&typeof e=="object"&&e.mix,Qte=e=>Ote(e)?e.mix:void 0;function _te(...e){const t=!Array.isArray(e[0]),r=t?0:-1,s=e[0+r],i=e[1+r],o=e[2+r],a=e[3+r],l=zy(i,o,{mixer:Qte(o[0]),...a});return t?l(s):l}function P8(e,t){const r=Dte(t()),s=()=>r.set(t());return s(),Pp(()=>{const i=()=>tn.update(s,!1,!0),o=e.map(a=>a.on("change",i));return()=>{o.forEach(a=>a()),Ia(s)}}),r}function Hte(e){vm.current=[],e();const t=P8(vm.current,e);return vm.current=void 0,t}function mk(e,t,r,s){if(typeof e=="function")return Hte(e);const i=typeof t=="function"?t:_te(t,r,s);return Array.isArray(e)?pk(e,i):pk([e],([o])=>i(o))}function pk(e,t){const r=Dp(()=>[]);return P8(e,()=>{r.length=0;const s=e.length;for(let i=0;i<s;i++)r[i]=e[i].get();return t(r)})}function $te(e,t,r){return typeof e=="string"?e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}const R0=new WeakMap;let Yc;function Vte(e,t){if(t){const{inlineSize:r,blockSize:s}=t[0];return{width:r,height:s}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function Kte({target:e,contentRect:t,borderBoxSize:r}){var s;(s=R0.get(e))===null||s===void 0||s.forEach(i=>{i({target:e,contentSize:t,get size(){return Vte(e,r)}})})}function zte(e){e.forEach(Kte)}function Wte(){typeof ResizeObserver>"u"||(Yc=new ResizeObserver(zte))}function Gte(e,t){Yc||Wte();const r=$te(e);return r.forEach(s=>{let i=R0.get(s);i||(i=new Set,R0.set(s,i)),i.add(t),Yc==null||Yc.observe(s)}),()=>{r.forEach(s=>{const i=R0.get(s);i==null||i.delete(t),i!=null&&i.size||Yc==null||Yc.unobserve(s)})}}const M0=new Set;let Cm;function qte(){Cm=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};M0.forEach(r=>r(t))},window.addEventListener("resize",Cm)}function Xte(e){return M0.add(e),Cm||qte(),()=>{M0.delete(e),!M0.size&&Cm&&(Cm=void 0)}}function Jte(e,t){return typeof e=="function"?Xte(e):Gte(e,t)}const Yte=50,gk=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Zte=()=>({time:0,x:gk(),y:gk()}),ere={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function xk(e,t,r,s){const i=r[t],{length:o,position:a}=ere[t],l=i.current,c=r.time;i.current=e["scroll"+a],i.scrollLength=e["scroll"+o]-e["client"+o],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Wh(0,i.scrollLength,i.current);const d=s-c;i.velocity=d>Yte?0:_5(i.current-l,d)}function tre(e,t,r){xk(e,"x",t,r),xk(e,"y",t,r),t.time=r}function rre(e,t){const r={x:0,y:0};let s=e;for(;s&&s!==t;)if(s instanceof HTMLElement)r.x+=s.offsetLeft,r.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const i=s.getBoundingClientRect();s=s.parentElement;const o=s.getBoundingClientRect();r.x+=i.left-o.left,r.y+=i.top-o.top}else if(s instanceof SVGGraphicsElement){const{x:i,y:o}=s.getBBox();r.x+=i,r.y+=o;let a=null,l=s.parentNode;for(;!a;)l.tagName==="svg"&&(a=l),l=s.parentNode;s=a}else break;return r}const nre={All:[[0,0],[1,1]]},Gw={start:0,center:.5,end:1};function yk(e,t,r=0){let s=0;if(Gw[e]!==void 0&&(e=Gw[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?s=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?s=i/100*document.documentElement.clientWidth:e.endsWith("vh")?s=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(s=t*e),r+s}const sre=[0,0];function ire(e,t,r,s){let i=Array.isArray(e)?e:sre,o=0,a=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,Gw[e]?e:"0"]),o=yk(i[0],r,s),a=yk(i[1],t),o-a}const ore={x:0,y:0};function are(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function lre(e,t,r){let{offset:s=nre.All}=r;const{target:i=e,axis:o="y"}=r,a=o==="y"?"height":"width",l=i!==e?rre(i,e):ore,c=i===e?{width:e.scrollWidth,height:e.scrollHeight}:are(i),d={width:e.clientWidth,height:e.clientHeight};t[o].offset.length=0;let u=!t[o].interpolate;const A=s.length;for(let f=0;f<A;f++){const h=ire(s[f],d[a],c[a],l[o]);!u&&h!==t[o].interpolatorOffsets[f]&&(u=!0),t[o].offset[f]=h}u&&(t[o].interpolate=zy(t[o].offset,i8(s)),t[o].interpolatorOffsets=[...t[o].offset]),t[o].progress=t[o].interpolate(t[o].current)}function cre(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)r.x.targetOffset+=s.offsetLeft,r.y.targetOffset+=s.offsetTop,s=s.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function ure(e,t,r,s={}){return{measure:()=>cre(e,s.target,r),update:i=>{tre(e,r,i),(s.offset||s.target)&&lre(e,r,s)},notify:()=>t(r)}}const Kf=new WeakMap,bk=new WeakMap,Wb=new WeakMap,vk=e=>e===document.documentElement?window:e;function dre(e,{container:t=document.documentElement,...r}={}){let s=Wb.get(t);s||(s=new Set,Wb.set(t,s));const i=Zte(),o=ure(t,e,i,r);if(s.add(o),!Kf.has(t)){const l=()=>{for(const f of s)f.measure()},c=()=>{for(const f of s)f.update(Xs.timestamp)},d=()=>{for(const f of s)f.notify()},u=()=>{tn.read(l,!1,!0),tn.read(c,!1,!0),tn.update(d,!1,!0)};Kf.set(t,u);const A=vk(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&bk.set(t,Jte(t,u)),A.addEventListener("scroll",u,{passive:!0})}const a=Kf.get(t);return tn.read(a,!1,!0),()=>{var l;Ia(a);const c=Wb.get(t);if(!c||(c.delete(o),c.size))return;const d=Kf.get(t);Kf.delete(t),d&&(vk(t).removeEventListener("scroll",d),(l=bk.get(t))===null||l===void 0||l(),window.removeEventListener("resize",d))}}function wk(e,t){NY(!!(!t||t.current))}const Are=()=>({scrollX:Na(0),scrollY:Na(0),scrollXProgress:Na(0),scrollYProgress:Na(0)});function hre({container:e,target:t,layoutEffect:r=!0,...s}={}){const i=Dp(Are);return(r?Pp:m.useEffect)(()=>(wk("target",t),wk("container",e),dre(({x:a,y:l})=>{i.scrollX.set(a.current),i.scrollXProgress.set(a.progress),i.scrollY.set(l.current),i.scrollYProgress.set(l.progress)},{...s,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(s.offset)]),i}const fre=()=>{const e=rn(),{currentUser:t,isAuthenticated:r}=co(),[s,i]=m.useState(0),[o,a]=m.useState([]),[l,c]=m.useState(!0),d=Mn(),u=Is(p=>p.auth.user),[A,f]=m.useState(!1);m.useEffect(()=>{if(!u||Object.keys(u).length===0){const p=localStorage.getItem("user");if(p)try{const b=JSON.parse(p);d(s6(b))}catch(b){console.error("Error parsing user data from localStorage:",b)}}},[d,u]),m.useEffect(()=>{A||(!r&&!localStorage.getItem("token")&&e("/login",{replace:!0}),f(!0))},[r,e,A]);const h=[{quote:"Mi ngi ngh rng khoa hc my tnh l ngh thut ca nhng thin ti, nhng thc t ngc li, ch l nhiu ngi lm vic cng nhau, ging nh xy dng mt bc tng gch nh.",author:"Alan Kay",role:"Nh khoa hc my tnh"},{quote:"on code u tin m bn vit s lun l on code ti t nht.",author:"Jeff Atwood",role:"ng sng lp Stack Overflow"},{quote:"Hc lp trnh khng phi l hc ngn ng, m l hc cch gii quyt vn .",author:"Edsger W. Dijkstra",role:"Nh khoa hc my tnh"},{quote:"My tnh tt nht l my tnh trong u bn.",author:"Alan Turing",role:"Cha  ca khoa hc my tnh"},{quote:"ng s tht bi, hy s vic khng th.",author:"Linus Torvalds",role:"Ngi to ra Linux"}];m.useEffect(()=>{const p=setInterval(()=>{i(b=>b===h.length-1?0:b+1)},5e3);return()=>clearInterval(p)},[]),m.useEffect(()=>{(async()=>{try{const b=await Er.getAllCourses();if(b.data&&b.data.success){const j=(b.data.data||[]).sort((w,S)=>(S.EnrolledCount||0)-(w.EnrolledCount||0)).slice(0,4);a(j)}}catch(b){console.error("Error fetching popular courses:",b)}finally{c(!1)}})()},[]);const g=[{title:"Hc tp thng minh",description:"H thng hc tp thng minh vi AI gip bn tip thu kin thc hiu qu hn",icon:G2},{title:"Ni dung cht lng",description:"Kho ti liu phong ph, c bin son bi cc chuyn gia hng u trong ngnh",icon:ef},{title:"Thc hnh trc tuyn",description:"Mi trng thc hnh code trc tuyn vi cc bi tp v d n thc t",icon:F6},{title:"Cng ng hc tp",description:"Kt ni v trao i vi cng ng ngi hc v chuyn gia trn ton quc",icon:lc},{title:"Chng ch cng nghip",description:"Nhn chng ch c cng nhn bi cc cng ty cng ngh hng u",icon:vu},{title:"L trnh c nhn ha",description:"Xy dng l trnh hc tp ph hp vi mc tiu v trnh  ca bn",icon:M6}];return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsx("section",{className:"relative overflow-hidden bg-white py-32",children:n.jsx("div",{className:"max-w-[1120px] mx-auto px-8 relative z-10",children:n.jsxs(ur.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[n.jsxs(ur.h1,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1.2,delay:.2},className:"text-5xl md:text-6xl lg:text-7xl font-semibold tracking-tight mb-6 leading-none",children:["Thnh tho cng ngh.",n.jsx("br",{}),n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-700",children:"To dng tng lai."})]}),n.jsxs(ur.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:.4},className:"text-xl md:text-2xl mb-12 text-gray-600 font-light max-w-3xl mx-auto",children:["Khm ph hn ",n.jsx("span",{className:"text-black font-normal",children:"500+"})," kha hc IT cht lng cao. Hc t cc chuyn gia hng u v xy dng s nghip cng ngh thnh cng."]}),n.jsxs(ur.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.6},className:"flex justify-center gap-4 mb-20",children:[n.jsxs(ur.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>e("/courses"),className:"px-8 py-4 bg-blue-600 text-white rounded-full font-medium text-lg shadow-sm transition-all duration-300 flex items-center justify-center gap-2 hover:bg-blue-700",children:["Khm ph ngay",n.jsx(B0,{className:"w-5 h-5"})]}),n.jsxs(ur.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>e("/roadmaps"),className:"px-8 py-4 rounded-full font-medium text-lg transition-all duration-300 flex items-center justify-center gap-2 text-purple-600 hover:text-purple-800",children:["Xem l trnh",n.jsx(E6,{className:"w-5 h-5"})]})]}),n.jsx(ur.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,delay:.6},children:n.jsx("img",{src:"https://images.unsplash.com/photo-1498050108023-c5249f4df085?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2072&q=80",alt:"Campus Learning Platform",className:"mx-auto rounded-2xl shadow-2xl w-full max-w-5xl object-cover"})})]})})}),n.jsx("section",{className:"py-24 bg-white",children:n.jsx("div",{className:"max-w-[1120px] mx-auto px-8 text-center",children:n.jsxs(ur.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"grid grid-cols-3 gap-16",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-5xl font-medium text-blue-600 mb-4",children:"10K+"}),n.jsx("div",{className:"text-gray-500 text-lg",children:"Hc vin"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-5xl font-medium text-green-600 mb-4",children:"500+"}),n.jsx("div",{className:"text-gray-500 text-lg",children:"Kha hc"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-5xl font-medium text-purple-600 mb-4",children:"98%"}),n.jsx("div",{className:"text-gray-500 text-lg",children:"Hi lng"})]})]})})}),n.jsx("section",{className:"py-24 bg-white",children:n.jsxs("div",{className:"max-w-[900px] mx-auto px-8 text-center",children:[n.jsx(G5,{mode:"wait",children:n.jsxs(ur.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.8},className:"text-center",children:[n.jsxs("blockquote",{className:"text-3xl md:text-4xl text-blue-900 mb-8 font-light leading-tight",children:['"',h[s].quote,'"']}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xl font-medium text-purple-800",children:h[s].author}),n.jsx("p",{className:"text-gray-500",children:h[s].role})]})]},s)}),n.jsx("div",{className:"flex justify-center mt-12 gap-3",children:h.map((p,b)=>n.jsx("button",{onClick:()=>i(b),className:`h-2.5 rounded-full transition-all duration-300 ${b===s?"bg-gray-900 w-6":"bg-gray-300 hover:bg-gray-400 w-2.5"}`},b))})]})}),n.jsxs("section",{className:"py-32 bg-white overflow-hidden",children:[n.jsx("div",{className:"max-w-[1120px] mx-auto px-8 mb-20",children:n.jsxs(ur.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},viewport:{once:!0},className:"text-center",children:[n.jsx("h2",{className:"text-4xl md:text-5xl font-semibold mb-6 tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-700",children:"Kha hc ph bin"}),n.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto font-light",children:"Bt u hnh trnh hc tp vi nhng kha hc c yu thch nht"})]})}),n.jsx("div",{className:"w-full flex justify-center items-center",children:n.jsx("div",{className:"grid grid-cols-2 gap-1 w-full mx-6 md:mx-12 max-w-[1440px] md:max-w-[90%] lg:max-w-[80%]",children:l?Array(4).fill(0).map((p,b)=>n.jsx("div",{className:"animate-pulse relative",children:n.jsx("div",{className:"relative aspect-[4/3] bg-gray-200",children:n.jsx("div",{className:"absolute inset-x-0 bottom-0 h-32 bg-gradient-to-t from-black/70 to-transparent",children:n.jsxs("div",{className:"absolute bottom-4 left-4",children:[n.jsx("div",{className:"h-6 w-40 bg-gray-300 rounded mb-2"}),n.jsx("div",{className:"h-4 w-48 bg-gray-300/70 rounded mb-4"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"h-8 w-24 bg-blue-300 rounded-full"}),n.jsx("div",{className:"h-8 w-8 bg-gray-300 rounded-full"})]})]})})})},b)):o.slice(0,4).map((p,b)=>n.jsx(ur.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6,delay:b*.05},viewport:{once:!0},className:"group relative cursor-pointer overflow-hidden h-full",children:n.jsxs("div",{className:"aspect-[4/3] relative overflow-hidden",children:[n.jsx("img",{src:p.ImageUrl||p.thumbnail||"https://placehold.co/600x400?text=No+Image",alt:p.Title||p.title,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-700"}),n.jsx("div",{className:"absolute inset-x-0 bottom-0 h-40 bg-gradient-to-t from-black/80 to-transparent",children:n.jsxs("div",{className:"absolute bottom-4 left-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:p.Title||p.title}),n.jsx("p",{className:"text-sm text-white/80 font-light mb-4 line-clamp-1",children:p.ShortDescription||p.Description||p.description||"Nng cao k nng ca bn"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:x=>{x.stopPropagation(),e(`/courses/${p.CourseID||p.id}`)},className:"bg-blue-600 text-white text-sm font-medium py-1.5 px-4 rounded-full hover:bg-blue-500 transition-colors",children:"Tm hiu thm"}),n.jsx("button",{onClick:x=>x.stopPropagation(),className:"w-8 h-8 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center hover:bg-white/30 transition-colors",children:n.jsx(B0,{className:"w-4 h-4 text-white"})})]})]})})]})},p.CourseID||p.id+"-"+b))})}),n.jsx("div",{className:"max-w-[1120px] mx-auto px-8",children:n.jsx(ur.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0},className:"text-center mt-20",children:n.jsxs("button",{onClick:()=>e("/courses"),className:"inline-flex items-center px-8 py-4 bg-blue-600 text-white font-medium rounded-full transition-all duration-300 hover:bg-blue-700",children:["Xem tt c kha hc",n.jsx(B0,{className:"w-5 h-5 ml-2"})]})})})]}),n.jsx("section",{className:"py-40 bg-white",children:n.jsxs("div",{className:"max-w-[1120px] mx-auto px-8",children:[n.jsxs(ur.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-24",children:[n.jsx("h2",{className:"text-4xl md:text-5xl font-semibold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-700 via-purple-700 to-green-700",children:"Ti sao chn Campus Learning?"}),n.jsx("p",{className:"text-xl text-gray-500 max-w-2xl mx-auto font-light",children:"Nn tng hc tp ton din vi cng ngh AI tin tin v phng php ging dy hin i"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-16",children:g.map((p,b)=>n.jsxs(ur.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6,delay:b*.1},viewport:{once:!0},className:"group",children:[n.jsx("div",{className:"mb-6",children:n.jsx(p.icon,{className:"h-12 w-12 text-blue-600"})}),n.jsx("h3",{className:"text-2xl font-medium text-blue-900 mb-3",children:p.title}),n.jsx("p",{className:"text-gray-500 leading-relaxed font-light",children:p.description}),n.jsx("div",{className:"mt-6 w-12 h-0.5 bg-gray-200 group-hover:bg-blue-600 transition-colors duration-300"})]},b))})]})}),n.jsxs("section",{className:"py-40 bg-white relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 z-0 opacity-5",children:n.jsx("img",{src:"https://images.unsplash.com/photo-1498050108023-c5249f4df085?auto=format&fit=crop&w=2000&q=80",alt:"Background pattern",className:"w-full h-full object-cover"})}),n.jsx("div",{className:"max-w-[800px] mx-auto px-8 relative z-10",children:n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx(ur.h2,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},viewport:{once:!0},className:"text-4xl md:text-5xl lg:text-6xl font-semibold tracking-tight mb-8 leading-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-600",children:"Sn sng bt u hnh trnh hc tp?"}),n.jsx(ur.p,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8,delay:.2},viewport:{once:!0},className:"text-xl text-gray-500 mb-12 max-w-2xl font-light",children:"Tham gia ngay  tri nghim phng php hc tp hin i v hiu qu"}),n.jsxs(ur.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8,delay:.4},viewport:{once:!0},className:"flex flex-col sm:flex-row gap-4",children:[n.jsx(ur.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>e("/register"),className:"px-8 py-4 bg-blue-600 text-white rounded-full font-medium text-lg transition-all duration-300 hover:bg-blue-700",children:"ng k ngay"}),n.jsx(ur.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>e("/courses"),className:"px-8 py-4 text-purple-600 rounded-full font-medium text-lg transition-all duration-300 hover:text-purple-800",children:"Xem kha hc"})]})]})})]}),n.jsx("footer",{className:"py-16 bg-gray-50",children:n.jsxs("div",{className:"max-w-[1120px] mx-auto px-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-5 gap-12",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(Vh,{className:"h-5 w-5 text-gray-900"}),n.jsx("span",{className:"text-lg font-medium text-gray-900",children:"Campus Learning"})]}),n.jsx("p",{className:"text-gray-500 mb-6 max-w-sm font-light",children:"Nn tng hc tp trc tuyn hng u, gip bn pht trin k nng v kin thc mt cch hiu qu."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-medium text-gray-900 mb-5 uppercase tracking-wider",children:"Lin kt nhanh"}),n.jsxs("ul",{className:"space-y-3",children:[n.jsx("li",{children:n.jsx(Zt,{to:"/courses",className:"text-gray-500 hover:text-gray-900 transition-colors text-sm",children:"Kha hc"})}),n.jsx("li",{children:n.jsx(Zt,{to:"/roadmaps",className:"text-gray-500 hover:text-gray-900 transition-colors text-sm",children:"L trnh hc tp"})}),n.jsx("li",{children:n.jsx(Zt,{to:"/blog",className:"text-gray-500 hover:text-gray-900 transition-colors text-sm",children:"Blog"})}),n.jsx("li",{children:n.jsx(Zt,{to:"/about",className:"text-gray-500 hover:text-gray-900 transition-colors text-sm",children:"V chng ti"})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-medium text-gray-900 mb-5 uppercase tracking-wider",children:"H tr"}),n.jsxs("ul",{className:"space-y-3",children:[n.jsx("li",{children:n.jsx(Zt,{to:"/support/faq",className:"text-gray-500 hover:text-gray-900 transition-colors text-sm",children:"Cu hi thng gp"})}),n.jsx("li",{children:n.jsx(Zt,{to:"/support/help-center",className:"text-gray-500 hover:text-gray-900 transition-colors text-sm",children:"Trung tm tr gip"})}),n.jsx("li",{children:n.jsx(Zt,{to:"/support/privacy-policy",className:"text-gray-500 hover:text-gray-900 transition-colors text-sm",children:"Chnh sch bo mt"})}),n.jsx("li",{children:n.jsx(Zt,{to:"/support/terms-of-use",className:"text-gray-500 hover:text-gray-900 transition-colors text-sm",children:"iu khon s dng"})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs font-medium text-gray-900 mb-5 uppercase tracking-wider",children:"Lin h"}),n.jsxs("ul",{className:"space-y-3",children:[n.jsx("li",{className:"flex items-start text-gray-500 text-sm",children:n.jsx("span",{className:"block",children:"123 ng Nguyn Vn Linh, Qun 7, TP. H Ch Minh"})}),n.jsx("li",{className:"text-gray-500 text-sm",children:n.jsx("a",{href:"mailto:contact@campuslearning.vn",className:"hover:text-gray-900 transition-colors",children:"contact@campuslearning.vn"})}),n.jsx("li",{className:"text-gray-500 text-sm",children:n.jsx("a",{href:"tel:84123456789",className:"hover:text-gray-900 transition-colors",children:"(84) 123 456 789"})})]})]})]}),n.jsxs("div",{className:"border-t border-gray-200 mt-12 pt-8 flex flex-col md:flex-row justify-between",children:[n.jsxs("p",{className:"text-gray-500 text-sm",children:[" ",new Date().getFullYear()," Campus Learning. All rights reserved."]}),n.jsxs("div",{className:"flex mt-4 md:mt-0 gap-6",children:[n.jsx(Zt,{to:"/privacy",className:"text-gray-500 hover:text-gray-900 transition-colors text-sm",children:"Chnh sch ring t"}),n.jsx(Zt,{to:"/terms",className:"text-gray-500 hover:text-gray-900 transition-colors text-sm",children:"iu khon s dng"}),n.jsx(Zt,{to:"/sitemap",className:"text-gray-500 hover:text-gray-900 transition-colors text-sm",children:"Bn  trang"})]})]})]})})]})};typeof window<"u"&&(window.browser=window.browser||window.chrome||{},window.browser.runtime||(window.browser.runtime={sendMessage:()=>Promise.resolve({}),onMessage:{addListener:()=>{},removeListener:()=>{}}}),window.addEventListener("error",e=>e.message&&e.message.includes("browser is not defined")?(console.warn("Suppressing browser not defined error"),e.preventDefault(),!0):!1,!0));const Kc={status:null,lastCheck:0,checkInterval:3e4},mre=async e=>{const t=Date.now();if(Kc.status!==null&&t-Kc.lastCheck<Kc.checkInterval)return Kc.status;try{const r=new AbortController,s=setTimeout(()=>r.abort(),2e3);return await fetch(`http://localhost:${e}/healthz`,{method:"GET",mode:"no-cors",signal:r.signal}),clearTimeout(s),Kc.status=!0,Kc.lastCheck=t,console.log("Code-server is running"),!0}catch(r){return Kc.status=!1,Kc.lastCheck=t,r.name==="AbortError"?console.error("Code-server health check timed out"):console.error("Code-server health check failed:",r),!1}},pre=async(e={})=>{const{courseId:t,lessonId:r}=e,s=e.port||8080;try{if(console.log(`Checking if code-server is running on port ${s}...`),!await mre(s))throw new Error("Code-server is not running or not accessible");const o=`http://localhost:${s}/`;return console.log(`Code-server URL: ${o}`),{success:!0,url:o,message:"Code-server initialized successfully"}}catch(i){return console.error("Error initializing code-server:",i),{success:!1,message:i.message||"Code-server is not running or inaccessible. Please ensure it is started."}}},gre=()=>{const{courseId:e,lessonId:t}=Lo(),r=rn(),{isAuthenticated:s}=co(),i=m.useRef(null),[o,a]=m.useState(!0),[l,c]=m.useState(null),[d,u]=m.useState(null),[A,f]=m.useState(""),[h,g]=m.useState(""),[p,b]=m.useState(null),[x,j]=m.useState(null);return m.useEffect(()=>((async()=>{if(!s){Re.error("Vui lng ng nhp  truy cp bi tp"),r("/login",{state:{from:`/courses/${e}/edit-code/${t}`}});return}try{a(!0);const S=await pre({courseId:e,lessonId:t,port:8080});if(!S.success)throw new Error(S.message);g(S.url);const I=await Er.getCodeExercise(e,t);if(!I||!I.success)throw new Error((I==null?void 0:I.message)||"Khng th ti thng tin bi tp");const F=I.data;if(u(F),F.moduleTitle&&f(F.moduleTitle),F.exerciseContent)try{const T=F.exerciseContent;console.log("Creating README.md in workspace with content:",T)}catch(T){console.error("Failed to create README.md in workspace:",T)}try{const T=await Er.getCourseDetails(e);if(T&&T.success){const U=T.data;let K=!1,B=null;if(U&&Array.isArray(U.Modules)){U.Modules.length>0&&U.Modules[0].Lessons&&U.Modules[0].Lessons.length>0&&j(U.Modules[0].Lessons[0].LessonID);for(let R=0;R<U.Modules.length&&!K;R++){const D=U.Modules[R];if(!(!D||!Array.isArray(D.Lessons)))for(let H=0;H<D.Lessons.length;H++){const P=D.Lessons[H];if(String(P.LessonID)===String(t)){if(H<D.Lessons.length-1)B=D.Lessons[H+1].LessonID;else if(R<U.Modules.length-1){const z=U.Modules[R+1];z&&Array.isArray(z.Lessons)&&z.Lessons.length>0&&(B=z.Lessons[0].LessonID)}K=!0;break}}}}b(B)}}catch(T){console.error("Error determining next lesson:",T)}a(!1)}catch(S){console.error("Error initializing code environment:",S),c(S.message||"C li xy ra khi ti mi trng code. Vui lng th li sau."),a(!1)}})(),()=>{i.current&&(i.current.src="about:blank")}),[e,t,s,r]),o&&!h?n.jsx("div",{className:"flex justify-center items-center h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-blue-500"})}):l?n.jsxs("div",{className:"flex flex-col items-center justify-center h-screen px-4",children:[n.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-lg mb-3 max-w-md text-sm",children:n.jsx("p",{className:"font-medium",children:l})}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>window.location.reload(),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Th li"}),n.jsx("button",{onClick:()=>r(`/courses/${e}`),className:"px-3 py-1.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 text-sm",children:"Quay li kha hc"})]})]}):n.jsxs("div",{className:"flex flex-col h-screen max-h-screen bg-white",children:[n.jsx("header",{className:"bg-white border-b border-gray-200 h-1"}),n.jsxs("div",{className:"flex-1 flex max-h-[calc(100vh-4.5rem)] overflow-hidden",children:[d&&n.jsxs("div",{className:"w-1/5 border-r border-gray-200 p-2 h-full flex flex-col max-h-full",children:[n.jsxs("div",{className:"mb-2 flex space-x-1",children:[n.jsx(Zt,{to:`/courses/${e}/learn?lessonId=${t}`,className:"flex-1 px-2 py-1 bg-gray-600 text-white rounded text-xs flex items-center justify-center",children:" Bi trc"}),p?n.jsx("button",{onClick:async()=>{try{await Er.markLessonAsComplete(e,t),Re.success(" nh du hon thnh bi hc")}catch(w){console.error("Error marking complete:",w)}finally{r(`/courses/${e}/learn?lessonId=${p}`)}},className:"flex-1 px-2 py-1 bg-blue-600 text-white rounded text-xs flex items-center justify-center",children:"Bi tip "}):n.jsx("button",{onClick:async()=>{try{await Er.markLessonAsComplete(e,t),Re.success("Bn  hon thnh kha hc!")}catch(w){console.error("Error marking complete:",w)}finally{const w=x?`/courses/${e}/learn?lessonId=${x}`:`/courses/${e}/learn`;r(w,{state:{finishedCourse:!0}})}},className:"flex-1 px-2 py-1 bg-green-600 text-white rounded text-xs flex items-center justify-center",children:"Kt thc kha hc"})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto pr-1 text-xs",children:[n.jsxs("div",{className:"border-b pb-1.5 mb-2",children:[n.jsx("h1",{className:"font-bold text-sm text-gray-800",children:(d==null?void 0:d.title)||"Hello C++ World"}),A&&n.jsxs("div",{className:"text-xs text-gray-600 mt-0.5",children:["Module: ",A]})]}),n.jsx("div",{className:"mb-2",children:d.description&&n.jsx("div",{className:"prose prose-xs max-w-none",dangerouslySetInnerHTML:{__html:d.description}})}),d.instructions&&n.jsxs("div",{className:"mb-2",children:[n.jsx("h3",{className:"text-xs font-semibold mb-1",children:"Hng dn"}),n.jsx("div",{className:"prose prose-xs max-w-none",dangerouslySetInnerHTML:{__html:d.instructions}})]}),d.hints&&d.hints.length>0&&n.jsxs("div",{className:"mb-2",children:[n.jsx("h3",{className:"text-xs font-semibold mb-1",children:"Gi "}),n.jsx("ul",{className:"list-disc pl-3 space-y-0.5 text-xs",children:d.hints.map((w,S)=>n.jsx("li",{className:"text-gray-700",children:w},S))})]}),d.testCases&&d.testCases.length>0&&n.jsxs("div",{className:"mb-2",children:[n.jsx("h3",{className:"text-xs font-semibold mb-1",children:"Cc test case"}),n.jsx("div",{className:"space-y-1",children:d.testCases.map((w,S)=>n.jsxs("div",{className:"bg-gray-50 p-1.5 rounded border text-xs",children:[n.jsxs("p",{className:"font-medium text-xs",children:["Test ",S+1,":"]}),w.input&&n.jsxs("p",{className:"text-xs leading-tight",children:[n.jsx("span",{className:"font-medium",children:"Input:"})," ",w.input]}),w.expected&&n.jsxs("p",{className:"text-xs leading-tight",children:[n.jsx("span",{className:"font-medium",children:"Expected:"})," ",w.expected]})]},S))})]}),d.exerciseContent&&!d.description&&!d.instructions&&n.jsx("div",{className:"prose prose-xs max-w-none",children:n.jsx("div",{dangerouslySetInnerHTML:{__html:d.exerciseContent}})})]})]}),n.jsx("div",{className:"w-4/5 h-full",children:h?n.jsx("iframe",{ref:i,src:h,className:"w-full h-full border-none",title:"Code Editor",allow:"fullscreen"}):n.jsx("div",{className:"flex justify-center items-center h-full",children:n.jsx("p",{className:"text-xs text-gray-500",children:"ang ti mi trng code..."})})})]})]})},jk=e=>{if(e==null)return 0;const t=parseFloat(e);return isNaN(t)?0:t},bd=e=>{if(e.CourseType!==void 0||e.courseType!==void 0)return(e.CourseType||e.courseType||"").toLowerCase()==="it";const t=(e.Title||e.title||"").toLowerCase();if(t.includes("lch s")||t.includes("t tng")||t.includes("chnh tr")||t.includes("o c")||t.includes("trit hc")||t.includes("x hi")||t.includes("kinh t"))return!1;if(t.includes("it")||t.includes("code")||t.includes("coding")||t.includes("lp trnh")||t.includes("web")||t.includes("app")||t.includes("software")||t.includes("phn mm")||t.includes("database")||t.includes("d liu")||t.includes("python")||t.includes("java")||t.includes("javascript")||t.includes("html")||t.includes("css")||t.includes("algorithm")||t.includes("thut ton"))return!0;const r=(e.Category||e.category||"").toLowerCase();return r.includes("it")||r.includes("programming")||r.includes("web")||r.includes("mobile")||r.includes("data")||r.includes("computer"),!0},xre=(e,t=[])=>{if(!t||!Array.isArray(t)||t.length===0)return!1;if(e.enrolled===!0)return!0;const r=e.CourseID||e.id;return r?t.some(s=>(s.CourseID||s.id)===r):!1},yre=()=>n.jsxs("div",{className:"bg-white rounded-lg overflow-hidden animate-pulse shadow-md h-full flex flex-col",children:[n.jsx("div",{className:"h-52 bg-gradient-to-br from-gray-100 to-gray-200 relative"}),n.jsxs("div",{className:"p-5 space-y-3 flex-1 flex flex-col",children:[n.jsx("div",{className:"h-4 bg-gray-100 rounded-md w-1/2 mb-1"}),n.jsx("div",{className:"h-5 bg-gray-200 rounded-md w-4/5"}),n.jsx("div",{className:"h-4 bg-gray-100 rounded-md w-full"}),n.jsx("div",{className:"h-4 bg-gray-100 rounded-md w-2/3"}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx("div",{className:"h-4 w-4 rounded-full bg-gray-200"}),n.jsx("div",{className:"h-3 bg-gray-100 rounded-md w-12"}),n.jsx("div",{className:"h-4 w-4 rounded-full bg-gray-200"}),n.jsx("div",{className:"h-3 bg-gray-100 rounded-md w-16"})]}),n.jsxs("div",{className:"mt-auto pt-4 flex justify-between items-center border-t border-gray-100 mt-3",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded-md w-16"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded-md w-20"})]})]})]}),bre=({course:e,enrollmentFilter:t,courseCategory:r,navigate:s,enrolledCourses:i})=>{const o=e.CourseID||e.id,a=jk(e.Price)===0,l=e.enrolled===!0||xre(e,i),c=bd(e)?"it":"regular",d=Mn(),{isAuthenticated:u}=co(),A=async x=>{if(x.stopPropagation(),!u){Re.info("Vui lng ng nhp  ng k kha hc"),s("/login");return}if(a)try{const j=await Er.enrollFreeCourse(o);j&&(j.success||j.alreadyEnrolled)?(Re.success("ng k kha hc thnh cng!"),d(z2(e)),setTimeout(()=>{s(`/courses/${o}/learn`)},1e3)):Re.error((j==null?void 0:j.message)||"Khng th ng k kha hc")}catch(j){Re.error(" xy ra li khi ng k kha hc"),console.error("Error enrolling in course:",j)}else s(`/payment/${o}`)},f=e.Duration||e.duration||0,h=e.EnrolledCount||e.enrolledCount||0,g=e.DifficultyLevel||e.Level||e.level||"C bn",p=e.Rating||e.rating||0,b=e.RatingCount||e.ratingCount||0;return n.jsxs("div",{className:"group bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg cursor-pointer h-full flex flex-col transition-shadow",onClick:()=>s(`/courses/${o}`),children:[n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsx("img",{src:e.ImageUrl||e.thumbnail||"https://placehold.co/600x400?text=No+Image",alt:e.Title||e.title,className:"w-full h-52 object-cover"}),n.jsx("div",{className:"absolute top-0 left-0 bg-black/60 backdrop-blur-sm text-white text-xs px-2 py-1.5",children:"CampusLearning"}),n.jsxs("div",{className:"absolute bottom-2 left-2 flex flex-wrap gap-1.5 max-w-[calc(100%-1rem)]",children:[n.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-medium ${c==="it"?"bg-blue-600 text-white":"bg-green-600 text-white"}`,children:c==="it"?"IT & Cng ngh":"Kin thc c bn"}),l&&n.jsx("span",{className:"px-2 py-0.5 rounded-md text-[10px] font-medium bg-emerald-600 text-white",children:" ng k"})]})]}),n.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[n.jsx("div",{className:"text-xs font-medium text-blue-600 mb-1",children:c==="it"?"Khoa hc my tnh":"Kin thc x hi"}),n.jsx("h3",{className:"font-medium text-gray-900 line-clamp-2 mb-2 text-base hover:text-blue-700 transition-colors",children:e.Title||e.title}),n.jsx("p",{className:"text-gray-500 text-xs line-clamp-2 mb-2",children:e.ShortDescription||e.Description||e.description||"Kha hc ny s gip bn nm vng nhng kin thc quan trng v k nng cn thit."}),n.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-500 flex-wrap mb-auto",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("svg",{className:"w-3 h-3 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),n.jsxs("span",{children:[p>0?p:"4.0",b>0?` (${b})`:""]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("svg",{className:"w-3 h-3 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:f>0?`${f} gi`:"Cha c"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("svg",{className:"w-3 h-3 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),n.jsx("span",{children:h>0?`${h.toLocaleString()} hc vin`:"0 hc vin"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("svg",{className:"w-3 h-3 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),n.jsx("span",{children:g})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 mt-3 border-t border-gray-100",children:[n.jsx("div",{children:a?n.jsx("span",{className:"text-sm font-semibold text-green-600",children:"Min ph"}):n.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[jk(e.DiscountPrice||e.Price).toLocaleString(),""]})}),l?n.jsx("button",{onClick:x=>{x.stopPropagation(),s(`/courses/${o}/learn`)},className:"px-4 py-2 rounded-md text-sm font-medium bg-emerald-600 hover:bg-emerald-700 text-white transition-shadow shadow-sm",children:"Hc tip"}):n.jsx("button",{onClick:A,className:`px-4 py-2 rounded-md text-sm font-medium ${a?"bg-green-600 hover:bg-green-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"} transition-shadow shadow-sm`,children:a?"ng k ngay":"Mua ngay"})]})]})]})},vre=()=>{var F;const e=Mn(),t=lo(),r=rn(),{isAuthenticated:s}=co(),{enrolledCourses:i,allCourses:o,loading:a,dataLoaded:l}=Is(T=>T.course),[c,d]=m.useState("it"),[u,A]=m.useState("all"),[f,h]=m.useState(!1),[g,p]=m.useState(null),[b,x]=m.useState("");m.useEffect(()=>{e(t9())},[e]),m.useEffect(()=>{o&&o.length>0&&h(!1)},[o]),m.useEffect(()=>{var T;(T=t.state)!=null&&T.activeTab&&s&&(t.state.activeTab==="enrolled"&&A("enrolled"),t.state.paymentSuccess&&(e(ta({forceRefresh:!0})),Re.success("Thanh ton thnh cng! Bn  ng k kha hc thnh cng.")))},[t.state,s,e]),m.useEffect(()=>{!s&&u==="enrolled"&&A("all")},[s,u]),m.useEffect(()=>{let T=!0;return(async()=>{if(!l&&(!o||o.length===0)){h(!0);try{await e(m0()).unwrap(),T&&h(!1)}catch(K){console.error("Error loading courses:",K),T&&(p("Li khi ti danh sch kha hc"),h(!1));try{const B=await Er.getAllCourses();B.data&&B.data.success&&T?(e({type:"course/preloadAllCourses/fulfilled",payload:B.data.data}),h(!1)):T&&p("Khng th ti danh sch kha hc")}catch(B){console.error("Error in direct API call:",B),T&&p("Li khi ti danh sch kha hc")}finally{T&&h(!1)}}}})(),()=>{T=!1}},[e,l]),m.useEffect(()=>{s&&!i.length&&(console.log("Fetching enrolled courses..."),e(ta()))},[e,s,i.length]),m.useEffect(()=>{var T;s&&((T=t.state)!=null&&T.paymentSuccess)&&(Re.success("Thanh ton thnh cng! Bn  ng k kha hc thnh cng."),e(ta({forceRefresh:!0})).then(()=>{console.log("Successfully refreshed enrollment data after payment")}).catch(U=>{console.error("Error refreshing enrollment data after payment:",U)}),window.history.replaceState({...window.history.state,state:{...t.state,paymentSuccess:!1}},document.title))},[e,s,(F=t.state)==null?void 0:F.paymentSuccess]),m.useEffect(()=>{let T=!0;const U=new URLSearchParams(window.location.search),K=U.get("courseId"),B=U.get("status");return K&&B==="success"&&s&&(console.log("Detected successful payment for course ID:",K),(async()=>{e(ta({forceRefresh:!0}));try{const D=await Er.getCourseDetails(K);if(D&&D.success&&T){const H=D.data;if(!H.CourseType&&!H.courseType){const P=(H.Title||H.title||"").toLowerCase();P.includes("lch s")||P.includes("t tng")||P.includes("chnh tr")||P.includes("o c")||P.includes("trit hc")?H.CourseType="regular":H.CourseType="it"}e(z2(H)),Re.success("Kha hc  c thm vo danh sch  ng k ca bn!")}}catch(D){console.error("Error fetching course details after payment:",D),T&&Re.error("Khng th ti thng tin kha hc")}})()),()=>{T=!1}},[s,e]);const j=T=>{x(T.target.value)},w=m.useMemo(()=>{const T=new Set,U=[];if(u==="enrolled"&&s)return i.forEach(K=>{const B=K.CourseID||K.id,R=c==="all"||(c==="it"?bd(K):!bd(K)),D=!b||(K.Title||K.title||"").toLowerCase().includes(b.toLowerCase())||(K.Description||K.description||"").toLowerCase().includes(b.toLowerCase());B&&R&&D&&!T.has(B)&&(T.add(B),U.push({...K,enrolled:!0}))}),U;{const K=new Set(i.map(B=>B.CourseID||B.id).filter(Boolean));return o&&o.length>0&&o.forEach(B=>{const R=B.CourseID||B.id;if(!R||T.has(R))return;const D=K.has(R),H=c==="all"||(c==="it"?bd(B):!bd(B)),P=!b||(B.Title||B.title||"").toLowerCase().includes(b.toLowerCase())||(B.Description||B.description||"").toLowerCase().includes(b.toLowerCase());H&&P&&!D&&(T.add(R),U.push({...B,enrolled:!1}))}),U}},[c,u,o,i,s,b]),S=m.useMemo(()=>u==="enrolled"?a&&(!i||i.length===0):f&&(!o||o.length===0),[u,a,f,i==null?void 0:i.length,o==null?void 0:o.length]),I=()=>Array(6).fill(0).map((T,U)=>n.jsx(yre,{},`skeleton-${U}`));return g?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:n.jsx("div",{className:"bg-white rounded-xl shadow-md p-8 max-w-md w-full",children:n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("div",{className:"bg-red-100 p-4 rounded-full mb-6",children:n.jsx("svg",{className:"w-12 h-12 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3",children:" xy ra li"}),n.jsx("p",{className:"text-red-500 mb-6",children:g}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Ti li trang"})]})})}):n.jsxs("div",{className:"bg-gray-50 min-h-screen pb-12",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 mb-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Khm ph kha hc"}),n.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium ml-3 px-2.5 py-1 rounded-full",children:[w.length," kha hc"]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:b,onChange:j,placeholder:"Tm kim kha hc...",className:"w-full md:w-64 px-4 py-2 pl-10 rounded-lg text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("svg",{className:"w-5 h-5 text-gray-500 absolute left-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),s&&n.jsxs("button",{onClick:()=>r("/payment-history"),className:"flex items-center gap-2 px-4 py-2 bg-white text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-50 transition-colors whitespace-nowrap",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Lch s thanh ton"]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg flex flex-wrap gap-2",children:[n.jsxs("div",{className:"flex rounded-md bg-white shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("button",{onClick:()=>d("it"),className:`px-4 py-2 font-medium transition-colors ${c==="it"?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-50"}`,children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Kha hc IT & Cng ngh"]})}),n.jsx("button",{onClick:()=>d("regular"),className:`px-4 py-2 font-medium transition-colors ${c==="regular"?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-50"}`,children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Kha hc Thng"]})})]}),s&&n.jsxs("button",{onClick:()=>A(u==="enrolled"?"all":"enrolled"),className:`px-4 py-2 font-medium rounded-md flex items-center gap-2 transition-colors ${u==="enrolled"?"bg-green-600 text-white shadow-sm":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200 shadow-sm"}`,children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{children:[" ng k",n.jsx("span",{className:"ml-1 bg-white bg-opacity-20 text-xs font-semibold px-2 py-0.5 rounded-full",children:i.filter(T=>c==="it"?bd(T):!bd(T)).length})]})]}),(c!=="it"||u!=="all"||b)&&n.jsxs("button",{onClick:()=>{d("it"),A("all"),x("")},className:"px-4 py-2 font-medium rounded-md bg-white text-gray-700 hover:bg-gray-50 border border-gray-200 shadow-sm flex items-center gap-2 ml-auto",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"t li b lc"]})]})]})}),n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S?I():w.length>0?w.map(T=>n.jsx(bre,{course:T,enrollmentFilter:u,courseCategory:c,navigate:r,enrolledCourses:i},`course-${c}-${T.CourseID||T.id}`)):n.jsx("div",{className:"col-span-full py-12 text-center",children:n.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-md mx-auto shadow-sm",children:[n.jsx("div",{className:"bg-gray-50 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Khng tm thy kha hc"}),n.jsx("p",{className:"text-gray-600 mb-6",children:b?`Khng tm thy kha hc ph hp vi t kha "${b}". Vui lng th tm kim vi t kha khc.`:"Hin ti cha c kha hc no trong danh mc ny. Hy th danh mc khc!"}),b?n.jsx("button",{onClick:()=>x(""),className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-sm",children:"Xa tm kim"}):n.jsxs("button",{onClick:()=>d(c==="it"?"regular":"it"),className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-sm",children:["Xem kha hc ",c==="it"?"Thng":"IT"]})]})})})})]})},wre=()=>{var H;const{courseId:e}=Lo(),t=rn(),r=lo(),s=Mn(),{isAuthenticated:i}=co(),[o,a]=m.useState(null),[l,c]=m.useState(!0),[d,u]=m.useState(null),[A,f]=m.useState(!1),[h,g]=m.useState(null),[p,b]=m.useState("overview"),[x,j]=m.useState([]),[w,S]=m.useState(!1),I=P=>{if(P==null)return 0;const z=parseFloat(P);return isNaN(z)?0:z},F=P=>P?new Date(P).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",T=P=>{if(!P)return null;let z={...P};if(typeof z.Requirements=="string")if(z.Requirements.startsWith("["))try{z.Requirements=JSON.parse(z.Requirements)}catch{z.Requirements=z.Requirements?[z.Requirements]:[]}else z.Requirements=z.Requirements?[z.Requirements]:[];if(typeof z.Objectives=="string")if(z.Objectives.startsWith("["))try{z.Objectives=JSON.parse(z.Objectives)}catch{z.Objectives=z.Objectives?[z.Objectives]:[]}else z.Objectives=z.Objectives?[z.Objectives]:[];return Array.isArray(z.Modules)||(z.Modules=[]),z.Instructor||(z.Instructor={Name:"Ging vin",Title:"Chuyn gia",Bio:"Thng tin cha c cp nht."}),z},U=async()=>{if(!(!i||!e)){S(!0);try{const P=await Er.getCoursePaymentHistory(e);P&&P.data&&Array.isArray(P.data)&&j(P.data)}catch(P){console.error("Error fetching payment history:",P)}finally{S(!1)}}};m.useEffect(()=>{e&&(async()=>{var z;try{if(c(!0),!e){u("ID kha hc khng hp l"),c(!1);return}const G=await Er.getCourseDetails(e);if(!G){u("Khng nhn c phn hi t my ch"),c(!1);return}if(G.success){const he=T(G.data);if(!he){u("Khng tm thy d liu kha hc"),c(!1);return}if(a(he),document.title=`${he.Title} | CampusLearning`,i)try{if(typeof Er.checkEnrollment=="function"){const ce=await Er.checkEnrollment(e);ce.success&&ce.isEnrolled&&(f(!0),g(ce.enrollmentData||((z=ce.data)==null?void 0:z.enrollment)||null))}}catch(ce){console.error("Error checking enrollment:",ce)}}else u(G.message||"Khng th ti thng tin kha hc")}catch{u("C li xy ra khi ti thng tin kha hc. Vui lng th li sau.")}finally{c(!1)}})()},[e,i,t]),m.useEffect(()=>{var P;(P=r.state)!=null&&P.paymentSuccess&&i&&(Er.checkEnrollment(e).then(z=>{var G;z.success&&z.isEnrolled&&(f(!0),g(z.enrollmentData||((G=z.data)==null?void 0:G.enrollment)||null),s(ta({forceRefresh:!0})),Re.success(" ng k kha hc thnh cng!"))}).catch(z=>console.error("Error re-checking enrollment:",z)),U())},[(H=r.state)==null?void 0:H.paymentSuccess,e,i,s]),m.useEffect(()=>{p==="payment-history"&&i&&U()},[p,i,e]);const K=async()=>{var P,z;if(!i){t("/login",{state:{from:`/courses/${e}`}});return}if(A){t(`/courses/${e}/learn`);return}try{const G=I(o.Price),he=I(o.DiscountPrice),ye=(he>0?he:G)===0;if(Re.info("ang x l ng k kha hc...",{autoClose:2e3}),ye){const X=await s(p0(e)).unwrap();if(X&&(X.success||X.alreadyEnrolled)){if(f(!0),(P=X.data)!=null&&P.enrollment)g(X.data.enrollment);else try{const re=await Er.checkEnrollment(e);re.success&&re.isEnrolled&&g(re.enrollmentData||((z=re.data)==null?void 0:z.enrollment)||null)}catch{console.warn("Unable to fetch enrollment after alreadyEnrolled response")}Re.success("ng k kha hc thnh cng!"),s(ta()),setTimeout(()=>t(`/courses/${e}/learn`),1e3)}else Re.error((X==null?void 0:X.message)||"ng k kha hc tht bi")}else t(`/payment/${e}`,{state:{initialPaymentMethod:"paypal"}})}catch(G){console.error("Error enrolling in course:",G);const he=G.message||"C li xy ra khi ng k kha hc";Re.error(he)}};if(l)return n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(d||!o)return n.jsxs("div",{className:"text-center py-10",children:[n.jsx("p",{className:"text-red-500 mb-4",children:d||"Khng tm thy kha hc"}),n.jsx("button",{onClick:()=>t("/courses"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Quay li danh sch kha hc"})]});const B=I(o.Price),R=I(o.DiscountPrice),D=B===0;return n.jsx("div",{className:"min-h-screen bg-white",children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.isLimitedView&&n.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6 rounded shadow",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-yellow-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium",children:"Bn ang xem phin bn gii hn ca kha hc ny."}),n.jsxs("p",{className:"mt-1 text-sm",children:[o.isFallbackData?"D liu hin th l d liu d phng do khng th kt ni ti my ch.":n.jsx(Zt,{to:"/login",className:"text-yellow-800 font-medium underline",children:"ng nhp"}),o.isFallbackData?"":"  xem y  thng tin kha hc."]})]})]})}),n.jsxs("div",{className:"mb-6 flex items-center text-sm text-gray-500",children:[n.jsx(Zt,{to:"/",className:"hover:text-blue-600",children:"Trang ch"}),n.jsx("span",{className:"mx-2",children:"/"}),n.jsx(Zt,{to:"/courses",className:"hover:text-blue-600",children:"Kha hc"}),n.jsx("span",{className:"mx-2",children:"/"}),n.jsx("span",{className:"text-gray-700",children:o.Title})]}),n.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-blue-700 text-white rounded-2xl shadow-lg mb-8 overflow-hidden",children:n.jsxs("div",{className:"container mx-auto p-6 md:p-8 flex flex-col md:flex-row",children:[n.jsxs("div",{className:"md:w-3/5 mb-6 md:mb-0 md:pr-6",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("span",{className:"bg-blue-500 text-xs font-bold uppercase px-3 py-1 rounded-full mr-2",children:o.Level||"All Levels"}),n.jsx("span",{className:"bg-blue-500 text-xs font-bold uppercase px-3 py-1 rounded-full",children:o.Category||"Lp trnh"})]}),n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:o.Title}),n.jsx("p",{className:"text-blue-100 mb-6 text-lg",children:o.ShortDescription||(typeof o.Description=="string"?o.Description.substring(0,150):"Khng c m t")}),n.jsxs("div",{className:"flex items-center mb-6",children:[o.Instructor&&n.jsxs("div",{className:"flex items-center mr-8",children:[n.jsx(fn,{src:o.Instructor.AvatarUrl,name:o.Instructor.Name,alt:o.Instructor.Name,className:"mr-2",size:"small"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:o.Instructor.Name}),n.jsx("p",{className:"text-blue-200 text-xs",children:o.Instructor.Title||"Ging vin"})]})]}),n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-yellow-400 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),n.jsxs("span",{children:[o.Rating||"0"," (",o.RatingCount||0," nh gi)"]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-300 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),n.jsxs("span",{children:[o.EnrolledCount||0," hc vin"]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-300 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),n.jsxs("span",{children:[o.Duration||0," pht"]})]})]})]}),A?n.jsx(Zt,{to:`/courses/${e}/learn`,className:"inline-block bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-2xl transition duration-200",children:"Tip tc hc"}):n.jsx("button",{onClick:K,className:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-6 rounded-2xl transition duration-200",children:D?"ng k min ph":"Mua ngay"})]}),n.jsx("div",{className:"md:w-2/5",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:[o.ImageUrl?n.jsx("img",{src:o.ImageUrl,alt:o.Title,className:"w-full h-48 md:h-64 object-cover",onError:P=>{P.target.onerror=null,P.target.src="https://placehold.co/600x400?text=Course+Image"}}):n.jsx("div",{className:"w-full h-48 md:h-64 bg-gray-200 flex items-center justify-center",children:n.jsx("p",{className:"text-gray-500",children:"Khng c hnh nh"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"mb-4",children:D?n.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Min ph"}):n.jsx("div",{children:R>0?n.jsxs("div",{className:"flex items-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[R.toLocaleString()," VND"]}),n.jsxs("p",{className:"ml-2 text-gray-500 line-through",children:[B.toLocaleString()," VND"]}),B>0&&n.jsxs("span",{className:"ml-2 bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded",children:[Math.round((1-R/B)*100),"% gim"]})]}):n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[B.toLocaleString()," VND"]})})}),n.jsxs("div",{className:"space-y-3 mb-4",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-900 font-medium",children:"Truy cp trn i"})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-900 font-medium",children:"Bi ging chi tit"})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-900 font-medium",children:"H tr 24/7"})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-gray-900 font-medium",children:"Giy chng nhn hon thnh"})]})]})]})]})})]})}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden mb-8",children:[n.jsx("div",{className:"border-b",children:n.jsxs("div",{className:"flex flex-wrap",children:[n.jsx("button",{className:`px-6 py-3 font-medium text-sm ${p==="overview"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500"}`,onClick:()=>b("overview"),children:"Tng quan"}),n.jsx("button",{className:`px-6 py-3 font-medium text-sm ${p==="curriculum"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500"}`,onClick:()=>b("curriculum"),children:"Ni dung kha hc"}),n.jsx("button",{className:`px-6 py-3 font-medium text-sm ${p==="instructor"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500"}`,onClick:()=>b("instructor"),children:"Ging vin"}),i&&n.jsx("button",{className:`px-6 py-3 font-medium text-sm ${p==="payment-history"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500"}`,onClick:()=>b("payment-history"),children:"Lch s thanh ton"})]})}),n.jsxs("div",{className:"p-6",children:[p==="overview"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"M t kha hc"}),o.Description?n.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:o.Description}}):n.jsx("p",{className:"text-gray-500",children:"Cha c m t chi tit cho kha hc ny."}),o.Requirements&&(Array.isArray(o.Requirements)?o.Requirements.length>0:!1)&&n.jsxs("div",{className:"mt-8",children:[n.jsx("h3",{className:"text-lg font-bold mb-3",children:"Yu cu"}),n.jsx("ul",{className:"list-disc pl-5 space-y-2",children:o.Requirements.map((P,z)=>n.jsx("li",{className:"text-gray-700",children:P},z))})]}),o.Objectives&&n.jsxs("div",{className:"mt-8",children:[n.jsx("h3",{className:"text-lg font-bold mb-3",children:"Bn s hc c g"}),typeof o.Objectives=="string"?n.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:o.Objectives}}):Array.isArray(o.Objectives)&&o.Objectives.length>0?n.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o.Objectives.map((P,z)=>n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),n.jsx("span",{children:P})]},z))}):n.jsx("p",{className:"text-gray-500",children:"Cha c thng tin v mc tiu kha hc."})]})]}),p==="curriculum"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Ni dung kha hc"}),o.Modules&&o.Modules.length>0?n.jsx("div",{className:"space-y-4",children:o.Modules.map((P,z)=>{var G;return n.jsxs("div",{className:"border rounded-2xl overflow-hidden",children:[n.jsxs("div",{className:"bg-gray-50 p-4 flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium",children:P.Title}),n.jsxs("div",{className:"text-sm text-gray-500",children:[((G=P.Lessons)==null?void 0:G.length)||0," bi hc"]})]}),P.Lessons&&P.Lessons.length>0&&n.jsx("div",{className:"divide-y",children:P.Lessons.map((he,ce)=>n.jsxs("div",{className:"p-4 pl-6 flex items-center hover:bg-gray-50 cursor-pointer",onClick:()=>{if(A)t(`/courses/${e}/learn?lessonId=${he.LessonID}`);else if(he.IsPreview)t(`/courses/${e}/learn?lessonId=${he.LessonID}`);else{Re.info("Bn cn ng k kha hc  xem bi hc ny");const ye=document.querySelector(".bg-blue-50");ye&&ye.scrollIntoView({behavior:"smooth"})}},children:[n.jsxs("svg",{className:"w-5 h-5 text-gray-400 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:he.Title}),n.jsxs("p",{className:"text-sm text-gray-500",children:[he.Duration||0," pht"]})]}),!A&&n.jsx("div",{className:"ml-auto flex items-center",children:he.IsPreview?n.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded",children:"Xem trc"}):n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]},he.LessonID||ce))})]},P.ModuleID||z)})}):n.jsx("p",{className:"text-gray-500",children:"Cha c thng tin v ni dung kha hc."})]}),p==="instructor"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold mb-6",children:"Thng tin ging vin"}),o.Instructor?n.jsxs("div",{className:"flex flex-col md:flex-row bg-gray-50 rounded-2xl p-6 shadow-sm",children:[n.jsx("div",{className:"md:w-1/4 mb-4 md:mb-0 flex justify-center md:justify-start",children:n.jsx(fn,{src:o.Instructor.Image||o.Instructor.AvatarUrl,name:o.Instructor.FullName||o.Instructor.Name,alt:o.Instructor.FullName||o.Instructor.Name,className:"border-4 border-white shadow-md",size:"xxl"})}),n.jsxs("div",{className:"md:w-3/4 md:pl-6",children:[n.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-700",children:o.Instructor.FullName||o.Instructor.Name}),n.jsx("p",{className:"text-gray-600 mb-3 font-medium",children:o.Instructor.Title||"Ging vin"}),n.jsxs("div",{className:"mb-4 flex items-center text-gray-500",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})}),n.jsx("span",{children:"Ging vin kha hc"})]}),o.Instructor.Bio||o.Instructor.Biography?n.jsx("div",{className:"prose max-w-none border-t border-gray-200 pt-4",dangerouslySetInnerHTML:{__html:o.Instructor.Bio||o.Instructor.Biography}}):n.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[n.jsx("p",{className:"text-gray-500",children:"Cha c thng tin chi tit v ging vin."}),n.jsx("p",{className:"mt-2",children:"Ging vin l ngi c chuyn mn trong lnh vc v s h tr bn trong sut qu trnh hc."})]})]})]}):n.jsx("div",{className:"bg-gray-50 rounded-2xl p-6",children:n.jsx("p",{className:"text-gray-500",children:"Cha c thng tin v ging vin."})})]}),p==="payment-history"&&i&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold mb-6",children:"Lch s thanh ton"}),w?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):x.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-3 px-4 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M giao dch"}),n.jsx("th",{className:"py-3 px-4 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phng thc"}),n.jsx("th",{className:"py-3 px-4 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S tin"}),n.jsx("th",{className:"py-3 px-4 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"}),n.jsx("th",{className:"py-3 px-4 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngy thanh ton"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:x.map(P=>{var z;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.TransactionCode||"N/A"}),n.jsx("td",{className:"py-3 px-4 whitespace-nowrap text-sm text-gray-700",children:P.PaymentMethod==="vnpay"?"VNPay":P.PaymentMethod==="paypal"?"PayPal":P.PaymentMethod==="free"?"Min ph":P.PaymentMethod}),n.jsxs("td",{className:"py-3 px-4 whitespace-nowrap text-sm text-gray-700",children:[(z=P.Amount)==null?void 0:z.toLocaleString()," ",P.Currency||"VND"]}),n.jsx("td",{className:"py-3 px-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P.PaymentStatus==="completed"?"bg-green-100 text-green-800":P.PaymentStatus==="pending"?"bg-yellow-100 text-yellow-800":P.PaymentStatus==="failed"?"bg-red-100 text-red-800":P.PaymentStatus==="refunded"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:P.PaymentStatus==="completed"?"Thnh cng":P.PaymentStatus==="pending"?"ang x l":P.PaymentStatus==="failed"?"Tht bi":P.PaymentStatus==="refunded"?"Hon tin":P.PaymentStatus})}),n.jsx("td",{className:"py-3 px-4 whitespace-nowrap text-sm text-gray-700",children:F(P.PaymentDate||P.CreatedAt)})]},P.TransactionID)})})]})}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Cha c giao dch"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Bn cha c giao dch no cho kha hc ny."})]})]})]})]}),!A&&n.jsxs("div",{className:"bg-blue-50 rounded-2xl p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sn sng  nng cao k nng ca bn?"}),n.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"Hc ngay hm nay v nhn y  quyn truy cp vo tt c cc ti liu kha hc, bi tp thc hnh v h tr t ging vin."}),n.jsx("button",{onClick:K,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-2xl transition duration-200",children:D?"ng k min ph ngay":"Mua ngay"})]})]})})};typeof window<"u"&&(window.browser=window.browser||window.chrome||{},window.browser.runtime||(window.browser.runtime={sendMessage:()=>Promise.resolve({}),onMessage:{addListener:()=>{},removeListener:()=>{}}}),window.addEventListener("error",e=>e.message&&e.message.includes("browser is not defined")?(console.warn("Suppressing browser not defined error"),e.preventDefault(),!0):!1,!0));(async function(){try{console.log("Checking for existing workspaces...");try{const t=await fetch("http://localhost:8080/",{method:"HEAD",mode:"no-cors",cache:"no-cache"});console.log("Code-server is accessible, but not creating any workspaces automatically")}catch(t){console.warn("Code-server is not running:",t)}}catch(t){console.warn("Pre-initialization failed:",t)}})();const jre=async(e={})=>{const{port:t=8080,workspacePath:r="/workspace"}=e;try{const s=await fetch(`http://localhost:${t}`,{method:"HEAD",mode:"no-cors",cache:"no-cache"});console.log("Code-server is already running");const i=await Cre(t);return{success:!0,url:`http://localhost:${t}`,message:"Code-server is already running",hasWorkspace:i.hasWorkspace,workspaceError:i.error}}catch(s){return console.error("Error checking code-server status:",s),{success:!1,message:"Code-server is not running. Please start it manually with: code-server --auth none --port 8080"}}};async function Cre(e){try{const r=await(await fetch(`http://localhost:${e}`,{method:"GET",cache:"no-cache"})).text();return r.includes("Workspace does not exist")||r.includes("Please select another workspace")?(console.log("Detected workspace error - no workspace exists"),{hasWorkspace:!1,error:"No workspace exists"}):{hasWorkspace:!0,error:null}}catch(t){return console.warn("Error checking workspace status:",t),{hasWorkspace:!1,error:t.message}}}const Nre=e=>{if(!e||!e.contentWindow)return;const t=`
    (function() {
      try {
        // Create workspace directory if it doesn't exist
        const fs = require('fs');
        const path = require('path');
        const os = require('os');
        
        // Try both paths - /workspace is for Docker environments, /home/coder/project for direct installs
        const workspacePaths = ['/workspace', '/home/coder/project'];
        
        let workspaceCreated = false;
        let createdWorkspacePath = '';
        
        for (const wsPath of workspacePaths) {
          try {
            if (!fs.existsSync(wsPath)) {
              fs.mkdirSync(wsPath, { recursive: true });
              console.log('Created workspace directory at ' + wsPath);
              workspaceCreated = true;
              createdWorkspacePath = wsPath;
              break;
            } else {
              console.log('Workspace directory already exists at ' + wsPath);
              workspaceCreated = true;
              createdWorkspacePath = wsPath;
              break;
            }
          } catch (err) {
            console.error('Error creating workspace at ' + wsPath + ':', err);
          }
        }
        
        if (!workspaceCreated) {
          // If all paths failed, create in home directory
          const homeDir = os.homedir();
          const fallbackPath = path.join(homeDir, 'workspace');
          
          if (!fs.existsSync(fallbackPath)) {
            fs.mkdirSync(fallbackPath, { recursive: true });
            console.log('Created fallback workspace at ' + fallbackPath);
            createdWorkspacePath = fallbackPath;
          } else {
            console.log('Fallback workspace already exists at ' + fallbackPath);
            createdWorkspacePath = fallbackPath;
          }
        }

        // Create a hidden .user-workspace marker file for this user
        if (createdWorkspacePath) {
          const userId = localStorage.getItem('userId') || 'anonymous-' + Math.random().toString(36).substring(2, 15);
          const userMarkerPath = path.join(createdWorkspacePath, '.user-workspace');
          fs.writeFileSync(userMarkerPath, userId);
          console.log('Added user workspace marker at:', userMarkerPath);
          
          // Store which workspace belongs to this user
          localStorage.setItem('userWorkspacePath', createdWorkspacePath);
        }
      } catch (error) {
        console.error('Error creating workspace directory:', error);
      }
    })();
  `;try{e.contentWindow.postMessage({type:"create-workspace",script:t},"*")}catch(r){console.error("Error sending create-workspace message:",r)}},Bre=e=>{if(!e||!e.contentWindow)return console.error("Invalid iframe element for file creation enablement"),!1;try{return e.contentWindow.postMessage({type:"inject-script",script:`
      (function() {
        try {
          console.log('Initializing file creation capabilities...');
          
          // Function to add file creation commands to the global context
          const enableFileCommands = () => {
            if (typeof window.vscodeApi === 'undefined') {
              try {
                // Try to acquire VS Code API if not already available
                window.vscodeApi = window.acquireVsCodeApi ? window.acquireVsCodeApi() : undefined;
              } catch (vsErr) {
                console.warn('Could not acquire VS Code API:', vsErr);
              }
            }
            
            // Set up global helper for file operations that works without the VS Code API
            window.CampusLearningFileHelper = {
              // Create a new file at the specified path
              createFile: async (filePath, content = '') => {
                try {
                  if (typeof require === 'function') {
                    const fs = require('fs');
                    const path = require('path');
                    
                    // Ensure we have an absolute path
                    if (!path.isAbsolute(filePath)) {
                      // Try to determine workspace root
                      const workspacePaths = ['/workspace', '/home/coder/project'];
                      let workspaceRoot = null;
                      
                      for (const wsPath of workspacePaths) {
                        try {
                          if (fs.existsSync(wsPath)) {
                            workspaceRoot = wsPath;
                            break;
                          }
                        } catch (err) {}
                      }
                      
                      // If no workspace found, use home directory
                      if (!workspaceRoot) {
                        const os = require('os');
                        workspaceRoot = path.join(os.homedir(), 'workspace');
                        
                        // Ensure the directory exists
                        if (!fs.existsSync(workspaceRoot)) {
                          fs.mkdirSync(workspaceRoot, { recursive: true });
                        }
                      }
                      
                      // Join with workspace path
                      filePath = path.join(workspaceRoot, filePath);
                    }
                    
                    // Ensure the directory exists
                    const dirPath = path.dirname(filePath);
                    if (!fs.existsSync(dirPath)) {
                      fs.mkdirSync(dirPath, { recursive: true });
                    }
                    
                    // Write the file
                    fs.writeFileSync(filePath, content);
                    console.log('File created successfully at: ' + filePath);
                    
                    // Try to open the file in editor
                    setTimeout(() => {
                      try {
                        // Try using VS Code API first
                        if (window.vscodeApi) {
                          window.vscodeApi.postMessage({ 
                            command: 'openFile', 
                            path: filePath 
                          });
                        } else {
                          // Fallback: Try to use file navigator UI to show the file
                          const sidebarElem = document.querySelector('.sidebar, .filetree, .explorer-viewlet');
                          if (sidebarElem) {
                            // Try to find the refresh button
                            const refreshBtn = sidebarElem.querySelector('button[title*="Refresh"], .refresh');
                            if (refreshBtn) {
                              refreshBtn.click();
                              console.log('Refreshed file explorer');
                            }
                          }
                        }
                      } catch (openErr) {
                        console.warn('Error trying to open file:', openErr);
                      }
                    }, 500);
                    
                    return { success: true, path: filePath };
                  } else {
                    throw new Error('Node.js require not available for file operations');
                  }
                } catch (error) {
                  console.error('Error creating file:', error);
                  return { success: false, error: error.toString() };
                }
              },
              
              // Create a new folder at the specified path
              createFolder: async (folderPath) => {
                try {
                  if (typeof require === 'function') {
                    const fs = require('fs');
                    const path = require('path');
                    
                    // Ensure we have an absolute path
                    if (!path.isAbsolute(folderPath)) {
                      // Try to determine workspace root
                      const workspacePaths = ['/workspace', '/home/coder/project'];
                      let workspaceRoot = null;
                      
                      for (const wsPath of workspacePaths) {
                        try {
                          if (fs.existsSync(wsPath)) {
                            workspaceRoot = wsPath;
                            break;
                          }
                        } catch (err) {}
                      }
                      
                      // If no workspace found, use home directory
                      if (!workspaceRoot) {
                        const os = require('os');
                        workspaceRoot = path.join(os.homedir(), 'workspace');
                        
                        // Ensure the parent directory exists
                        if (!fs.existsSync(workspaceRoot)) {
                          fs.mkdirSync(workspaceRoot, { recursive: true });
                        }
                      }
                      
                      // Join with workspace path
                      folderPath = path.join(workspaceRoot, folderPath);
                    }
                    
                    // Create the directory
                    fs.mkdirSync(folderPath, { recursive: true });
                    console.log('Folder created successfully at: ' + folderPath);
                    
                    // Try to refresh file explorer
                    setTimeout(() => {
                      try {
                        const sidebarElem = document.querySelector('.sidebar, .filetree, .explorer-viewlet');
                        if (sidebarElem) {
                          // Try to find the refresh button
                          const refreshBtn = sidebarElem.querySelector('button[title*="Refresh"], .refresh');
                          if (refreshBtn) {
                            refreshBtn.click();
                            console.log('Refreshed file explorer');
                          }
                        }
                      } catch (refreshErr) {
                        console.warn('Error refreshing file explorer:', refreshErr);
                      }
                    }, 500);
                    
                    return { success: true, path: folderPath };
                  } else {
                    throw new Error('Node.js require not available for file operations');
                  }
                } catch (error) {
                  console.error('Error creating folder:', error);
                  return { success: false, error: error.toString() };
                }
              }
            };
            
            // Also listen for file creation commands from the parent window
            window.addEventListener('message', (event) => {
              if (!event.data || !event.data.type) return;
              
              const { type, data } = event.data;
              
              if (type === 'create-file' && data && data.path) {
                const content = data.content || '';
                window.CampusLearningFileHelper.createFile(data.path, content)
                  .then(result => {
                    // Send result back to parent
                    window.parent.postMessage({
                      type: 'file-creation-result',
                      data: result
                    }, '*');
                  });
              } else if (type === 'create-folder' && data && data.path) {
                window.CampusLearningFileHelper.createFolder(data.path)
                  .then(result => {
                    // Send result back to parent
                    window.parent.postMessage({
                      type: 'folder-creation-result',
                      data: result
                    }, '*');
                  });
              }
            });
            
            console.log('File operations initialized successfully');
            return true;
          };
          
          // Try immediately
          if (!enableFileCommands()) {
            // If not successful, try again with a delay
            const interval = setInterval(() => {
              if (enableFileCommands()) {
                clearInterval(interval);
              }
            }, 1000);
            
            // Safety cleanup after 10 seconds
            setTimeout(() => clearInterval(interval), 10000);
          }
        } catch (error) {
          console.error('Error enabling file creation:', error);
        }
      })();
    `},"*"),!0}catch(t){return console.error("Error setting up file creation:",t),!1}},Ck=async(e,t,r="")=>!e||!e.contentWindow?(console.error("Invalid iframe element for file creation"),{success:!1,error:"Invalid iframe"}):new Promise(s=>{const i=o=>{o.data&&o.data.type==="file-creation-result"&&(window.removeEventListener("message",i),s(o.data.data))};window.addEventListener("message",i);try{e.contentWindow.postMessage({type:"create-file",data:{path:t,content:r}},"*"),setTimeout(()=>{window.removeEventListener("message",i),s({success:!1,error:"Timeout waiting for file creation result"})},5e3)}catch(o){window.removeEventListener("message",i),s({success:!1,error:o.toString()})}}),kre=async(e,t)=>!e||!e.contentWindow?(console.error("Invalid iframe element for folder creation"),{success:!1,error:"Invalid iframe"}):new Promise(r=>{const s=i=>{i.data&&i.data.type==="folder-creation-result"&&(window.removeEventListener("message",s),r(i.data.data))};window.addEventListener("message",s);try{e.contentWindow.postMessage({type:"create-folder",data:{path:t}},"*"),setTimeout(()=>{window.removeEventListener("message",s),r({success:!1,error:"Timeout waiting for folder creation result"})},5e3)}catch(i){window.removeEventListener("message",s),r({success:!1,error:i.toString()})}}),Sre=e=>{if(!e||!e.contentWindow)return console.error("Invalid iframe element or content window"),!1;try{return Nre(e),Bre(e),setTimeout(()=>{try{return e.contentWindow.postMessage({type:"inject-script",script:`
          (function() {
            // Polyfill browser if it doesn't exist
            if (typeof browser === 'undefined') {
              window.browser = window.browser || window.chrome || {};
              
              // Global polyfill for browser.runtime
              if (!window.browser.runtime) {
                window.browser.runtime = {
                  sendMessage: () => Promise.resolve({}),
                  onMessage: {
                    addListener: () => {},
                    removeListener: () => {}
                  }
                };
              }
            }
            
            // Add error suppression
            window.addEventListener('error', (event) => {
              if (event.message && (
                event.message.includes('browser is not defined') ||
                event.message.includes('vsda') ||
                event.message.includes('404 (Not Found)')
              )) {
                console.warn('Suppressing error:', event.message);
                event.preventDefault();
                return true;
              }
              return false;
            }, true);
            
            let lastSavedContent = '';
            let editorInitialized = false;
            
            // Function to send content changes to parent window
            function sendContentToParent() {
              const editor = window.monaco?.editor?.getModels()[0];
              if (editor) {
                const content = editor.getValue();
                if (content !== lastSavedContent) {
                  lastSavedContent = content;
                  window.parent.postMessage({
                    type: 'code-changed',
                    data: { code: content }
                  }, '*');
                }
              }
            }
            
            // Listen for content changes
            const setupMonacoListeners = () => {
              if (window.monaco && window.monaco.editor) {
                const editor = window.monaco.editor.getModels()[0];
                
                if (editor && !editorInitialized) {
                  editorInitialized = true;
                editor.onDidChangeContent(() => {
                  sendContentToParent();
                });
                
                // Notify parent that editor is ready
                window.parent.postMessage({
                  type: 'editor-ready',
                  data: {}
                }, '*');
                  
                  return true;
                }
              }
              
              // If we get here, monaco or editor isn't ready yet
              return false;
            };
            
            // Listen for messages from parent
            window.addEventListener('message', (event) => {
              if (event.data && event.data.type === 'set-code') {
                const { code, language } = event.data.data;
                
                const setupAndSetCode = () => {
                  if (window.monaco && window.monaco.editor) {
                    const editor = window.monaco.editor.getModels()[0];
                
                if (editor) {
                  lastSavedContent = code;
                  editor.setValue(code);
                  
                  // Set language if monaco is available
                  if (window.monaco && language) {
                    monaco.editor.setModelLanguage(editor, language);
                  }
                      return true;
                    }
                  }
                  
                  // If we get here, monaco or editor isn't ready yet
                  return false;
                };
                
                // Try to set code immediately, or retry with a delay if not ready
                if (!setupAndSetCode()) {
                  const interval = setInterval(() => {
                    if (setupAndSetCode()) {
                      clearInterval(interval);
                    }
                  }, 500);
                  
                  // Safety cleanup after 10 seconds
                  setTimeout(() => clearInterval(interval), 10000);
                }
              }
            });
            
            // Auto-reload the editor if the workspace doesn't exist
            const checkWorkspaceError = () => {
              if (document.body.innerText && document.body.innerText.includes('Workspace does not exist')) {
                console.log('Detected workspace error, reloading...');
                window.location.href = window.location.origin;
                return true;
              }
              return false;
            };
            
            // Check for workspace error immediately and then periodically
            if (!checkWorkspaceError()) {
              setTimeout(checkWorkspaceError, 1000);
              setTimeout(checkWorkspaceError, 3000);
            }
            
            // Start checking for Monaco to be ready
            if (!setupMonacoListeners()) {
              const interval = setInterval(() => {
                if (setupMonacoListeners()) {
                  clearInterval(interval);
                }
              }, 500);
              
              // Safety cleanup after 10 seconds
              setTimeout(() => clearInterval(interval), 10000);
            }
          })();
        `},"*"),!0}catch(t){return console.error("Error in setTimeout for communication script:",t),!1}},1e3),!0}catch(t){return console.error("Error injecting communication script:",t),!1}},Ere=(e,t={})=>{if(!e||!e.contentWindow)return console.error("Invalid iframe element or content window for configuring"),!1;const{theme:r="vs",fontSize:s=14}=t;try{return setTimeout(()=>{try{return e.contentWindow.postMessage({type:"configure-editor",settings:{theme:r,fontSize:s,options:{automaticLayout:!0,wordWrap:"on",scrollBeyondLastLine:!1,minimap:{enabled:!0}}}},"*"),!0}catch(i){return console.error("Error in setTimeout for configuration:",i),!1}},2e3),!0}catch(i){return console.error("Error configuring code-server:",i),!1}},Gb=e=>{if(!e)return!1;try{const t=`
      (function() {
        try {
          // Fix workspace error if present
          if (document.body.innerText && document.body.innerText.includes('Workspace does not exist')) {
            console.log('Detected workspace error, attempting to fix...');
            
            // Try to reload to the root
            setTimeout(() => {
              window.location.href = window.location.origin;
            }, 500);
            
            return; // Exit and let the reload handle it
          }
          
          // Try to access node modules in code-server environment
          if (typeof require === 'function') {
            const fs = require('fs');
            const path = require('path');
            
            // Try multiple possible workspace paths
            const workspacePaths = ['/workspace', '/home/coder/project', '/tmp/workspace'];
            let workspaceCreated = false;
            let workspacePath = '';
            
            for (const wsPath of workspacePaths) {
              try {
                if (!fs.existsSync(wsPath)) {
                  fs.mkdirSync(wsPath, { recursive: true });
                  console.log('Created workspace directory at ' + wsPath);
                  workspaceCreated = true;
                  workspacePath = wsPath;
                  break;
                } else {
                  console.log('Workspace directory already exists at ' + wsPath);
                  workspaceCreated = true;
                  workspacePath = wsPath;
                  break;
                }
              } catch (err) {
                console.error('Error creating workspace at ' + wsPath + ':', err);
              }
            }
            
            if (!workspaceCreated) {
              // If all paths failed, create in home directory
              try {
                const homeDir = require('os').homedir();
                workspacePath = path.join(homeDir, 'workspace');
                
                if (!fs.existsSync(workspacePath)) {
                  fs.mkdirSync(workspacePath, { recursive: true });
                  console.log('Created fallback workspace at ' + workspacePath);
                  workspaceCreated = true;
                } else {
                  console.log('Fallback workspace already exists at ' + workspacePath);
                  workspaceCreated = true;
                }
              } catch (homeErr) {
                console.error('Error creating home workspace:', homeErr);
                
                // Last attempt: try to create in /tmp
                try {
                  workspacePath = '/tmp/codeserver-workspace';
                  fs.mkdirSync(workspacePath, { recursive: true });
                  console.log('Created emergency workspace at ' + workspacePath);
                  workspaceCreated = true;
                } catch (tmpErr) {
                  console.error('Failed to create any workspace directory:', tmpErr);
                }
              }
            }
            
            if (workspaceCreated && workspacePath) {
              // Create a welcome README file
              try {
                fs.writeFileSync(path.join(workspacePath, 'README.md'), 
                  '# CHO MNG BN N VI CampusLearning

' +
                  '## Nn tng hc tp lp trnh hin i

' +
                  'y l khng gian lm vic ca bn  thc hnh lp trnh v gii quyt cc bi ton.

' +
                  '### Li ch khi hc tp ti CampusLearning

' +
                  '- Tri nghim hc tp thc t vi mi trng lp trnh chuyn nghip
' +
                  '- H tr nhiu ngn ng: JavaScript, Python, C++, Java
' +
                  '- Bi tp a dng t c bn n nng cao
' +
                  '- Hng dn v kim tra t ng gip bn nhanh chng ci thin k nng

' +
                  '### Bt u ngay

' +
                  '1. Chn ngn ng lp trnh bn mun hc
' +
                  '2. Lm quen vi giao din editor v cc cng c h tr
' +
                  '3. Th sc vi cc bi tp t c bn n nng cao

' +
                  '**Chc bn hc tp hiu qu!**
',
                  { flag: 'w' }
                );
                console.log('Created README.md file');
                
                // Try to open the README file automatically
                setTimeout(() => {
                  try {
                    // Get all VS Code commands
                    const vscode = window.vscodeApi || window.acquireVsCodeApi();
                    vscode.postMessage({ 
                      command: 'openFile', 
                      path: path.join(workspacePath, 'README.md') 
                    });
                  } catch (cmdErr) {
                    console.error('Error sending open command:', cmdErr);
                  }
                }, 1000);
              } catch (fileErr) {
                console.error('Error creating README file:', fileErr);
              }

              // Create a sample JavaScript file
              try {
                fs.writeFileSync(path.join(workspacePath, 'example.js'), 
                  '// V d code JavaScript ti CampusLearning

' +
                  'function helloCampusLearning() {
' +
                  '  console.log("Cho mng bn n vi CampusLearning!");
' +
                  '  console.log("Ni hc tp lp trnh hin i nht");
' +
                  '}

' +
                  'helloCampusLearning();

' +
                  '// Hy th chnh sa code ny v quan st kt qu!',
                  { flag: 'w' }
                );
                console.log('Created example.js file');
              } catch (fileErr) {
                console.error('Error creating JavaScript example file:', fileErr);
              }

              // Create a sample Python file
              try {
                fs.writeFileSync(path.join(workspacePath, 'example.py'), 
                  '# V d code Python ti CampusLearning

' +
                  'def hello_CampusLearning():
' +
                  '    print("Cho mng bn n vi CampusLearning!")
' +
                  '    print("Ni hc tp lp trnh hin i nht")

' +
                  'hello_CampusLearning()

' +
                  '# Hy th chnh sa code ny v quan st kt qu!',
                  { flag: 'w' }
                );
                console.log('Created example.py file');
              } catch (fileErr) {
                console.error('Error creating Python example file:', fileErr);
              }
              
              // Create a sample C++ file
              try {
                fs.writeFileSync(path.join(workspacePath, 'example.cpp'), 
                  '// V d code C++ ti CampusLearning

' +
                  '#include <iostream>

' +
                  'int main() {
' +
                  '    std::cout << "Cho mng bn n vi CampusLearning!" << std::endl;
' +
                  '    std::cout << "Ni hc tp lp trnh hin i nht" << std::endl;
' +
                  '    return 0;
' +
                  '}

' +
                  '// Hy th chnh sa code ny v quan st kt qu!',
                  { flag: 'w' }
                );
                console.log('Created example.cpp file');
              } catch (fileErr) {
                console.error('Error creating C++ example file:', fileErr);
              }
              
              // Create a sample Java file
              try {
                fs.writeFileSync(path.join(workspacePath, 'Main.java'), 
                  '// V d code Java ti CampusLearning

' +
                  'public class Main {
' +
                  '    public static void main(String[] args) {
' +
                  '        System.out.println("Cho mng bn n vi CampusLearning!");
' +
                  '        System.out.println("Ni hc tp lp trnh hin i nht");
' +
                  '    }
' +
                  '}

' +
                  '// Hy th chnh sa code ny v quan st kt qu!',
                  { flag: 'w' }
                );
                console.log('Created Main.java file');
              } catch (fileErr) {
                console.error('Error creating Java example file:', fileErr);
              }
            }
          } else {
            console.warn('Node.js require function not available');
            
            // Notify parent about the problem
            window.parent.postMessage({
              type: 'workspace-error',
              error: 'node-unavailable'
            }, '*');
          }
        } catch (error) {
          console.error('Error in workspace directory creation:', error);
          
          // Notify parent about the error
          window.parent.postMessage({
            type: 'workspace-error',
            error: error.toString()
          }, '*');
        }
      })();
    `;if(e.postMessage)return e.postMessage({type:"workspace-setup",script:t},"*"),!0;if(e.eval)try{return e.eval(t),!0}catch(r){console.error("Direct eval failed:",r)}return!1}catch(t){return console.error("Error setting up workspace directory:",t),!1}},qb=e=>{if(!e||!e.contentWindow){console.error("Invalid iframe element for workspace setup");return}try{Gb(e.contentWindow);const t=s=>{const{type:i}=s.data||{};i==="editor-ready"&&(Gb(e.contentWindow),window.removeEventListener("message",t))};window.addEventListener("message",t),setTimeout(()=>{window.removeEventListener("message",t)},1e4);const r=setInterval(()=>{if(e.contentWindow)try{const s=e.contentWindow.document;s.body&&s.body.innerText&&s.body.innerText.includes("Workspace does not exist")&&(console.log("Periodic check found workspace error, attempting to fix..."),Gb(e.contentWindow))}catch{}else clearInterval(r)},2e3);setTimeout(()=>clearInterval(r),3e4)}catch(t){console.error("Error in setupWorkspaceForCodeServer:",t)}},Ire=({iframeRef:e,onError:t,onFixed:r})=>{const[s,i]=m.useState(!1),[o,a]=m.useState(0),l=10;return m.useEffect(()=>{if(!e||!e.current)return;const c=()=>{try{const u=e.current;if(!u||!u.contentWindow||!u.contentWindow.document)return;const A=u.contentWindow.document.body.innerText||"";return A.includes("Workspace does not exist")||A.includes("Please select another workspace")?(console.log("WorkspaceErrorHandler: Detected workspace error"),i(!0),t&&t(),!0):!1}catch{return!1}};if(!c()){const u=setInterval(()=>{const A=c();a(f=>{const h=f+1;return h>=l&&clearInterval(u),h}),A&&clearInterval(u)},1e3);return()=>clearInterval(u)}},[e,t]),m.useEffect(()=>{if(!s||!e||!e.current)return;console.log("WorkspaceErrorHandler: Attempting to fix workspace error");const c=e.current,u=c.src.split("/").slice(0,3).join("/"),A=setTimeout(()=>{c.src=u,console.log("WorkspaceErrorHandler: Reloaded iframe to",u),r&&r(),i(!1)},500);return()=>clearTimeout(A)},[s,e,r]),null},U8=({code:e,language:t,onChange:r})=>{const s=m.useRef(null),[i,o]=m.useState(!1),[a,l]=m.useState(""),[c,d]=m.useState({loading:!0,success:!1,message:"Checking code-server status..."}),[u,A]=m.useState(!1),f=m.useRef(null),h=m.useRef(0),g=3;m.useEffect(()=>((async()=>{try{const S=await jre({port:8080});d({loading:!1,success:S.success,message:S.message}),S.success&&l(S.url)}catch(S){console.error("Failed to initialize code-server:",S),d({loading:!1,success:!1,message:"Failed to connect to code-server. Please make sure it is running."})}})(),f.current=setTimeout(()=>{i||(console.log("Timeout reached, setting editor as loaded anyway"),o(!0))},2e3),()=>{f.current&&clearTimeout(f.current)}),[]),m.useEffect(()=>{if(!a)return;const w=S=>{const{type:I,data:F}=S.data||{};if(I==="code-changed"&&(F!=null&&F.code))r(F.code);else if(I==="editor-ready")console.log("Editor is ready, sending initial code"),o(!0),A(!0),f.current&&(clearTimeout(f.current),f.current=null),s.current&&s.current.contentWindow&&s.current.contentWindow.postMessage({type:"set-code",data:{code:e,language:t}},"*"),b();else if(I==="workspace-error")console.log("Workspace error detected, attempting to fix..."),p();else if(I==="workspace-setup"){if(console.log("Setting up workspace directory"),S.data.script&&s.current&&s.current.contentWindow)try{const T=`
              (function() {
                try {
                  ${S.data.script}
                } catch (error) {
                  console.error('Error executing workspace setup script:', error);
                }
              })();
            `;try{s.current.contentWindow.eval(T)}catch(U){console.error("Direct workspace setup script eval failed:",U)}}catch(T){console.error("Error processing workspace-setup message:",T)}}else if(I==="inject-script"&&S.data.script)try{if(s.current&&s.current.contentWindow){const T=`
              (function() {
                try {
                  ${S.data.script}
                } catch (error) {
                  console.error('Error executing injected script:', error);
                }
              })();
            `;console.log("Please run this script in the iframe console if editor fails to load:"),console.log(T);try{const U=s.current;U&&U.contentWindow&&U.contentWindow.eval(T)}catch(U){console.error("Direct eval failed:",U)}}}catch(T){console.error("Error processing inject-script message:",T)}else if(I==="configure-editor")try{if(s.current&&s.current.contentWindow){const{theme:T,fontSize:U,options:K}=S.data.settings||{},B=`
              (function() {
                try {
                  if (window.monaco) {
                    monaco.editor.setTheme('${T||"vs"}');
                    
                    const editor = monaco.editor.getEditors()[0];
                    if (editor) {
                      editor.updateOptions(${JSON.stringify({fontSize:U||14,...K||{}})});
                    }
                  }
                } catch (error) {
                  console.error('Error configuring editor:', error);
                }
              })();
            `;console.log("Please run this configuration script in the iframe console if needed:"),console.log(B);try{const R=s.current;R&&R.contentWindow&&R.contentWindow.eval(B)}catch(R){console.error("Direct config eval failed:",R)}}}catch(T){console.error("Error processing configure-editor message:",T)}else(I==="file-creation-result"||I==="folder-creation-result")&&(console.log(`${I==="file-creation-result"?"File":"Folder"} creation result:`,F),F.success?console.log(`Successfully created ${I==="file-creation-result"?"file":"folder"} at: ${F.path}`):console.error(`Failed to create ${I==="file-creation-result"?"file":"folder"}:`,F.error))};return window.addEventListener("message",w),()=>{window.removeEventListener("message",w)}},[r,a,e,t]);const p=()=>{console.log(`Handling workspace error (attempt ${h.current+1}/${g})`),h.current<g?(h.current++,s.current&&s.current.contentWindow&&(qb(s.current),setTimeout(()=>{if(s.current){const w=s.current.src;s.current.src=w}},1e3))):console.error(`Failed to fix workspace after ${g} attempts`)},b=async()=>{if(!(!s.current||!u))try{await kre(s.current,"CampusLearning-examples"),console.log("Created CampusLearning-examples folder");const w={"html-example.html":`<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CampusLearning Demo Page</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: #333;
      margin: 40px;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }
    h1 {
      color: #2c3e50;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Cho mng n vi CampusLearning</h1>
    <p>y l mt v d trang HTML n gin c to bi CampusLearning Code Editor.</p>
    <p>Bn c th chnh sa tp ny  hc HTML v CSS.</p>
  </div>
</body>
</html>`,"js-example.js":`// V d JavaScript
class CampusLearningDemo {
  constructor(name) {
    this.name = name;
  }
  
  sayHello() {
    return \`Xin cho, ti l \${this.name} t CampusLearning!\`;
  }
  
  createList(items) {
    return items.map((item, index) => {
      return \`Item \${index + 1}: \${item}\`;
    });
  }
}

// To i tng demo mi
const demo = new CampusLearningDemo('Hc vin');
console.log(demo.sayHello());

// To danh sch
const items = ['HTML', 'CSS', 'JavaScript', 'Python'];
const formattedItems = demo.createList(items);
console.log('Cc kha hc:', formattedItems);`,"python-example.py":`# V d Python

class CampusLearningDemo:
    def __init__(self, name):
        self.name = name
    
    def say_hello(self):
        return f"Xin cho, ti l {self.name} t CampusLearning!"
    
    def create_list(self, items):
        return [f"Item {i+1}: {item}" for i, item in enumerate(items)]

# To i tng demo mi
demo = CampusLearningDemo("Hc vin")
print(demo.say_hello())

# To danh sch
items = ["HTML", "CSS", "JavaScript", "Python"]
formatted_items = demo.create_list(items)
print("Cc kha hc:")
for item in formatted_items:
    print(item)`};for(const[S,I]of Object.entries(w)){const F=`CampusLearning-examples/${S}`,T=await Ck(s.current,F,I);console.log(`Created file: ${F}`,T)}await Ck(s.current,"CampusLearning-examples/README.md",`# CampusLearning Code Examples
        
## Hng dn s dng

Th mc ny cha cc v d m ngun  gip bn lm quen vi trnh son tho code CampusLearning:

1. **html-example.html** - V d v c php HTML v CSS c bn
2. **js-example.js** - V d v JavaScript vi class v cc hm
3. **python-example.py** - V d v Python vi class v cc phng thc

## Cch to tp mi

 to mt tp mi:
1. Nhp chut phi vo explorer bn tri
2. Chn "New File" hoc "New Folder"
3. Nhp tn tp v nhn Enter

## Tnh nng chnh

- Lm vic vi nhiu loi tp khc nhau
- T ng highlight c php
- Autocompletion (gi  hon thnh m)
- M nhiu tp cng lc vi tabs`)}catch(w){console.error("Error creating sample files:",w)}},x=()=>{if(!(!s.current||!s.current.contentWindow))try{const w=s.current.contentWindow.document;w&&w.body&&w.body.innerText&&w.body.innerText.includes("Workspace does not exist")&&(console.log("Detected workspace error in iframe"),p())}catch{}};m.useEffect(()=>{u&&s.current&&s.current.contentWindow&&s.current.contentWindow.postMessage({type:"set-code",data:{code:e,language:t}},"*")},[e,t,u]);const j=()=>{s.current&&(console.log("Code-server iframe loaded, injecting communication script"),setTimeout(x,500),setTimeout(x,1500),qb(s.current),setTimeout(()=>{Sre(s.current),Ere(s.current,{theme:"vs",fontSize:14}),s.current&&s.current.contentWindow&&s.current.contentWindow.postMessage({type:"set-code",data:{code:e,language:t}},"*")},500))};return c.loading?n.jsx("div",{className:"h-full w-full bg-white flex items-center justify-center",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mb-4"}),n.jsx("p",{className:"text-gray-700",children:"ang kt ni ti khng gian lm vic..."})]})}):c.success?n.jsxs("div",{className:"h-full w-full bg-white relative",children:[!i&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-80 z-10",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mb-4"}),n.jsx("p",{className:"text-gray-700",children:"ang ti khng gian lm vic..."})]})}),n.jsx("iframe",{ref:s,src:`${a}/`,className:"w-full h-full",title:"CampusLearning Code Editor",onLoad:j,style:{border:"none"},sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-modals"}),n.jsx(Ire,{iframeRef:s,onError:()=>{console.log("Workspace error detected by handler"),p()},onFixed:()=>{console.log("Workspace error fixed by handler"),setTimeout(()=>{qb(s.current)},1e3)}})]}):n.jsxs("div",{className:"h-full w-full bg-white flex flex-col items-center justify-center p-4",children:[n.jsx("div",{className:"text-red-500 text-xl mb-4",children:" Khng th kt ni ti code-server"}),n.jsx("p",{className:"text-gray-700 mb-4 text-center",children:c.message}),n.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg w-full max-w-2xl text-sm",children:[n.jsx("p",{className:"font-bold mb-2",children:"Khi ng code-server vi lnh:"}),n.jsx("pre",{className:"bg-gray-800 text-white p-3 rounded overflow-x-auto",children:"code-server --auth none --port 8080"})]})]})};function Tre(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const Fre=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Lre=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Pre={};function Nk(e,t){return(Pre.jsx?Lre:Fre).test(e)}const Ure=/[ \t\n\f\r]/g;function Rre(e){return typeof e=="object"?e.type==="text"?Bk(e.value):!1:Bk(e)}function Bk(e){return e.replace(Ure,"")===""}class Qp{constructor(t,r,s){this.normal=r,this.property=t,s&&(this.space=s)}}Qp.prototype.normal={};Qp.prototype.property={};Qp.prototype.space=void 0;function R8(e,t){const r={},s={};for(const i of e)Object.assign(r,i.property),Object.assign(s,i.normal);return new Qp(r,s,t)}function qw(e){return e.toLowerCase()}class uo{constructor(t,r){this.attribute=r,this.property=t}}uo.prototype.attribute="";uo.prototype.booleanish=!1;uo.prototype.boolean=!1;uo.prototype.commaOrSpaceSeparated=!1;uo.prototype.commaSeparated=!1;uo.prototype.defined=!1;uo.prototype.mustUseProperty=!1;uo.prototype.number=!1;uo.prototype.overloadedBoolean=!1;uo.prototype.property="";uo.prototype.spaceSeparated=!1;uo.prototype.space=void 0;let Mre=0;const kr=oA(),Bs=oA(),Xw=oA(),Lt=oA(),In=oA(),Fh=oA(),vo=oA();function oA(){return 2**++Mre}const Jw=Object.freeze(Object.defineProperty({__proto__:null,boolean:kr,booleanish:Bs,commaOrSpaceSeparated:vo,commaSeparated:Fh,number:Lt,overloadedBoolean:Xw,spaceSeparated:In},Symbol.toStringTag,{value:"Module"})),Xb=Object.keys(Jw);class q5 extends uo{constructor(t,r,s,i){let o=-1;if(super(t,r),kk(this,"space",i),typeof s=="number")for(;++o<Xb.length;){const a=Xb[o];kk(this,Xb[o],(s&Jw[a])===Jw[a])}}}q5.prototype.defined=!0;function kk(e,t,r){r&&(e[t]=r)}function lf(e){const t={},r={};for(const[s,i]of Object.entries(e.properties)){const o=new q5(s,e.transform(e.attributes||{},s),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(s)&&(o.mustUseProperty=!0),t[s]=o,r[qw(s)]=s,r[qw(o.attribute)]=s}return new Qp(t,r,e.space)}const M8=lf({properties:{ariaActiveDescendant:null,ariaAtomic:Bs,ariaAutoComplete:null,ariaBusy:Bs,ariaChecked:Bs,ariaColCount:Lt,ariaColIndex:Lt,ariaColSpan:Lt,ariaControls:In,ariaCurrent:null,ariaDescribedBy:In,ariaDetails:null,ariaDisabled:Bs,ariaDropEffect:In,ariaErrorMessage:null,ariaExpanded:Bs,ariaFlowTo:In,ariaGrabbed:Bs,ariaHasPopup:null,ariaHidden:Bs,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:In,ariaLevel:Lt,ariaLive:null,ariaModal:Bs,ariaMultiLine:Bs,ariaMultiSelectable:Bs,ariaOrientation:null,ariaOwns:In,ariaPlaceholder:null,ariaPosInSet:Lt,ariaPressed:Bs,ariaReadOnly:Bs,ariaRelevant:null,ariaRequired:Bs,ariaRoleDescription:In,ariaRowCount:Lt,ariaRowIndex:Lt,ariaRowSpan:Lt,ariaSelected:Bs,ariaSetSize:Lt,ariaSort:null,ariaValueMax:Lt,ariaValueMin:Lt,ariaValueNow:Lt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function D8(e,t){return t in e?e[t]:t}function O8(e,t){return D8(e,t.toLowerCase())}const Dre=lf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Fh,acceptCharset:In,accessKey:In,action:null,allow:null,allowFullScreen:kr,allowPaymentRequest:kr,allowUserMedia:kr,alt:null,as:null,async:kr,autoCapitalize:null,autoComplete:In,autoFocus:kr,autoPlay:kr,blocking:In,capture:null,charSet:null,checked:kr,cite:null,className:In,cols:Lt,colSpan:null,content:null,contentEditable:Bs,controls:kr,controlsList:In,coords:Lt|Fh,crossOrigin:null,data:null,dateTime:null,decoding:null,default:kr,defer:kr,dir:null,dirName:null,disabled:kr,download:Xw,draggable:Bs,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:kr,formTarget:null,headers:In,height:Lt,hidden:Xw,high:Lt,href:null,hrefLang:null,htmlFor:In,httpEquiv:In,id:null,imageSizes:null,imageSrcSet:null,inert:kr,inputMode:null,integrity:null,is:null,isMap:kr,itemId:null,itemProp:In,itemRef:In,itemScope:kr,itemType:In,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:kr,low:Lt,manifest:null,max:null,maxLength:Lt,media:null,method:null,min:null,minLength:Lt,multiple:kr,muted:kr,name:null,nonce:null,noModule:kr,noValidate:kr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:kr,optimum:Lt,pattern:null,ping:In,placeholder:null,playsInline:kr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:kr,referrerPolicy:null,rel:In,required:kr,reversed:kr,rows:Lt,rowSpan:Lt,sandbox:In,scope:null,scoped:kr,seamless:kr,selected:kr,shadowRootClonable:kr,shadowRootDelegatesFocus:kr,shadowRootMode:null,shape:null,size:Lt,sizes:null,slot:null,span:Lt,spellCheck:Bs,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Lt,step:null,style:null,tabIndex:Lt,target:null,title:null,translate:null,type:null,typeMustMatch:kr,useMap:null,value:Bs,width:Lt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:In,axis:null,background:null,bgColor:null,border:Lt,borderColor:null,bottomMargin:Lt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:kr,declare:kr,event:null,face:null,frame:null,frameBorder:null,hSpace:Lt,leftMargin:Lt,link:null,longDesc:null,lowSrc:null,marginHeight:Lt,marginWidth:Lt,noResize:kr,noHref:kr,noShade:kr,noWrap:kr,object:null,profile:null,prompt:null,rev:null,rightMargin:Lt,rules:null,scheme:null,scrolling:Bs,standby:null,summary:null,text:null,topMargin:Lt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Lt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:kr,disableRemotePlayback:kr,prefix:null,property:null,results:Lt,security:null,unselectable:null},space:"html",transform:O8}),Ore=lf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:vo,accentHeight:Lt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Lt,amplitude:Lt,arabicForm:null,ascent:Lt,attributeName:null,attributeType:null,azimuth:Lt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Lt,by:null,calcMode:null,capHeight:Lt,className:In,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Lt,diffuseConstant:Lt,direction:null,display:null,dur:null,divisor:Lt,dominantBaseline:null,download:kr,dx:null,dy:null,edgeMode:null,editable:null,elevation:Lt,enableBackground:null,end:null,event:null,exponent:Lt,externalResourcesRequired:null,fill:null,fillOpacity:Lt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Fh,g2:Fh,glyphName:Fh,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Lt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Lt,horizOriginX:Lt,horizOriginY:Lt,id:null,ideographic:Lt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Lt,k:Lt,k1:Lt,k2:Lt,k3:Lt,k4:Lt,kernelMatrix:vo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Lt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Lt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Lt,overlineThickness:Lt,paintOrder:null,panose1:null,path:null,pathLength:Lt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:In,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Lt,pointsAtY:Lt,pointsAtZ:Lt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:vo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:vo,rev:vo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:vo,requiredFeatures:vo,requiredFonts:vo,requiredFormats:vo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Lt,specularExponent:Lt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Lt,strikethroughThickness:Lt,string:null,stroke:null,strokeDashArray:vo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Lt,strokeOpacity:Lt,strokeWidth:null,style:null,surfaceScale:Lt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:vo,tabIndex:Lt,tableValues:null,target:null,targetX:Lt,targetY:Lt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:vo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Lt,underlineThickness:Lt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Lt,values:null,vAlphabetic:Lt,vMathematical:Lt,vectorEffect:null,vHanging:Lt,vIdeographic:Lt,version:null,vertAdvY:Lt,vertOriginX:Lt,vertOriginY:Lt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Lt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:D8}),Q8=lf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),_8=lf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:O8}),H8=lf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Qre={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},_re=/[A-Z]/g,Sk=/-[a-z]/g,Hre=/^data[-\w.:]+$/i;function $re(e,t){const r=qw(t);let s=t,i=uo;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&Hre.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Sk,Kre);s="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Sk.test(o)){let a=o.replace(_re,Vre);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=q5}return new i(s,t)}function Vre(e){return"-"+e.toLowerCase()}function Kre(e){return e.charAt(1).toUpperCase()}const zre=R8([M8,Dre,Q8,_8,H8],"html"),X5=R8([M8,Ore,Q8,_8,H8],"svg");function Wre(e){return e.join(" ").trim()}var J5={},Ek=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Gre=/\n/g,qre=/^\s*/,Xre=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Jre=/^:\s*/,Yre=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Zre=/^[;\s]*/,ene=/^\s+|\s+$/g,tne=`
`,Ik="/",Tk="*",jd="",rne="comment",nne="declaration",sne=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,s=1;function i(g){var p=g.match(Gre);p&&(r+=p.length);var b=g.lastIndexOf(tne);s=~b?g.length-b:s+g.length}function o(){var g={line:r,column:s};return function(p){return p.position=new a(g),d(),p}}function a(g){this.start=g,this.end={line:r,column:s},this.source=t.source}a.prototype.content=e;function l(g){var p=new Error(t.source+":"+r+":"+s+": "+g);if(p.reason=g,p.filename=t.source,p.line=r,p.column=s,p.source=e,!t.silent)throw p}function c(g){var p=g.exec(e);if(p){var b=p[0];return i(b),e=e.slice(b.length),p}}function d(){c(qre)}function u(g){var p;for(g=g||[];p=A();)p!==!1&&g.push(p);return g}function A(){var g=o();if(!(Ik!=e.charAt(0)||Tk!=e.charAt(1))){for(var p=2;jd!=e.charAt(p)&&(Tk!=e.charAt(p)||Ik!=e.charAt(p+1));)++p;if(p+=2,jd===e.charAt(p-1))return l("End of comment missing");var b=e.slice(2,p-2);return s+=2,i(b),e=e.slice(p),s+=2,g({type:rne,comment:b})}}function f(){var g=o(),p=c(Xre);if(p){if(A(),!c(Jre))return l("property missing ':'");var b=c(Yre),x=g({type:nne,property:Fk(p[0].replace(Ek,jd)),value:b?Fk(b[0].replace(Ek,jd)):jd});return c(Zre),x}}function h(){var g=[];u(g);for(var p;p=f();)p!==!1&&(g.push(p),u(g));return g}return d(),h()};function Fk(e){return e?e.replace(ene,jd):jd}var ine=Rm&&Rm.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(J5,"__esModule",{value:!0});J5.default=ane;var one=ine(sne);function ane(e,t){var r=null;if(!e||typeof e!="string")return r;var s=(0,one.default)(e),i=typeof t=="function";return s.forEach(function(o){if(o.type==="declaration"){var a=o.property,l=o.value;i?t(a,l,o):l&&(r=r||{},r[a]=l)}}),r}var Wy={};Object.defineProperty(Wy,"__esModule",{value:!0});Wy.camelCase=void 0;var lne=/^--[a-zA-Z0-9_-]+$/,cne=/-([a-z])/g,une=/^[^-]+$/,dne=/^-(webkit|moz|ms|o|khtml)-/,Ane=/^-(ms)-/,hne=function(e){return!e||une.test(e)||lne.test(e)},fne=function(e,t){return t.toUpperCase()},Lk=function(e,t){return"".concat(t,"-")},mne=function(e,t){return t===void 0&&(t={}),hne(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Ane,Lk):e=e.replace(dne,Lk),e.replace(cne,fne))};Wy.camelCase=mne;var pne=Rm&&Rm.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},gne=pne(J5),xne=Wy;function Yw(e,t){var r={};return!e||typeof e!="string"||(0,gne.default)(e,function(s,i){s&&i&&(r[(0,xne.camelCase)(s,t)]=i)}),r}Yw.default=Yw;var yne=Yw;const bne=xp(yne),$8=V8("end"),Y5=V8("start");function V8(e){return t;function t(r){const s=r&&r.position&&r.position[e]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function vne(e){const t=Y5(e),r=$8(e);if(t&&r)return{start:t,end:r}}function Nm(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Pk(e.position):"start"in e||"end"in e?Pk(e):"line"in e||"column"in e?Zw(e):""}function Zw(e){return Uk(e&&e.line)+":"+Uk(e&&e.column)}function Pk(e){return Zw(e&&e.start)+"-"+Zw(e&&e.end)}function Uk(e){return e&&typeof e=="number"?e:1}class Ci extends Error{constructor(t,r,s){super(),typeof r=="string"&&(s=r,r=void 0);let i="",o={},a=!1;if(r&&("line"in r&&"column"in r?o={place:r}:"start"in r&&"end"in r?o={place:r}:"type"in r?o={ancestors:[r],place:r.position}:o={...r}),typeof t=="string"?i=t:!o.cause&&t&&(a=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof s=="string"){const c=s.indexOf(":");c===-1?o.ruleId=s:(o.source=s.slice(0,c),o.ruleId=s.slice(c+1))}if(!o.place&&o.ancestors&&o.ancestors){const c=o.ancestors[o.ancestors.length-1];c&&(o.place=c.position)}const l=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=l?l.line:void 0,this.name=Nm(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ci.prototype.file="";Ci.prototype.name="";Ci.prototype.reason="";Ci.prototype.message="";Ci.prototype.stack="";Ci.prototype.column=void 0;Ci.prototype.line=void 0;Ci.prototype.ancestors=void 0;Ci.prototype.cause=void 0;Ci.prototype.fatal=void 0;Ci.prototype.place=void 0;Ci.prototype.ruleId=void 0;Ci.prototype.source=void 0;const Z5={}.hasOwnProperty,wne=new Map,jne=/[A-Z]/g,Cne=new Set(["table","tbody","thead","tfoot","tr"]),Nne=new Set(["td","th"]),K8="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Bne(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let s;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=Pne(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=Lne(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:s,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?X5:zre,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=z8(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function z8(e,t,r){if(t.type==="element")return kne(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Sne(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Ine(e,t,r);if(t.type==="mdxjsEsm")return Ene(e,t);if(t.type==="root")return Tne(e,t,r);if(t.type==="text")return Fne(e,t)}function kne(e,t,r){const s=e.schema;let i=s;t.tagName.toLowerCase()==="svg"&&s.space==="html"&&(i=X5,e.schema=i),e.ancestors.push(t);const o=G8(e,t.tagName,!1),a=Une(e,t);let l=tj(e,t);return Cne.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!Rre(c):!0})),W8(e,a,o,t),ej(a,l),e.ancestors.pop(),e.schema=s,e.create(t,o,a,r)}function Sne(e,t){if(t.data&&t.data.estree&&e.evaluater){const s=t.data.estree.body[0];return s.type,e.evaluater.evaluateExpression(s.expression)}rp(e,t.position)}function Ene(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);rp(e,t.position)}function Ine(e,t,r){const s=e.schema;let i=s;t.name==="svg"&&s.space==="html"&&(i=X5,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:G8(e,t.name,!0),a=Rne(e,t),l=tj(e,t);return W8(e,a,o,t),ej(a,l),e.ancestors.pop(),e.schema=s,e.create(t,o,a,r)}function Tne(e,t,r){const s={};return ej(s,tj(e,t)),e.create(t,e.Fragment,s,r)}function Fne(e,t){return t.value}function W8(e,t,r,s){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=s)}function ej(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function Lne(e,t,r){return s;function s(i,o,a,l){const d=Array.isArray(a.children)?r:t;return l?d(o,a,l):d(o,a)}}function Pne(e,t){return r;function r(s,i,o,a){const l=Array.isArray(o.children),c=Y5(s);return t(i,o,a,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function Une(e,t){const r={};let s,i;for(i in t.properties)if(i!=="children"&&Z5.call(t.properties,i)){const o=Mne(e,i,t.properties[i]);if(o){const[a,l]=o;e.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&Nne.has(t.tagName)?s=l:r[a]=l}}if(s){const o=r.style||(r.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return r}function Rne(e,t){const r={};for(const s of t.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&e.evaluater){const o=s.data.estree.body[0];o.type;const a=o.expression;a.type;const l=a.properties[0];l.type,Object.assign(r,e.evaluater.evaluateExpression(l.argument))}else rp(e,t.position);else{const i=s.name;let o;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&e.evaluater){const l=s.value.data.estree.body[0];l.type,o=e.evaluater.evaluateExpression(l.expression)}else rp(e,t.position);else o=s.value===null?!0:s.value;r[i]=o}return r}function tj(e,t){const r=[];let s=-1;const i=e.passKeys?new Map:wne;for(;++s<t.children.length;){const o=t.children[s];let a;if(e.passKeys){const c=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(c){const d=i.get(c)||0;a=c+"-"+d,i.set(c,d+1)}}const l=z8(e,o,a);l!==void 0&&r.push(l)}return r}function Mne(e,t,r){const s=$re(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=s.commaSeparated?Tre(r):Wre(r)),s.property==="style"){let i=typeof r=="object"?r:Dne(e,String(r));return e.stylePropertyNameCase==="css"&&(i=One(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&s.space?Qre[s.property]||s.property:s.attribute,r]}}function Dne(e,t){try{return bne(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const s=r,i=new Ci("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=K8+"#cannot-parse-style-attribute",i}}function G8(e,t,r){let s;if(!r)s={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,a;for(;++o<i.length;){const l=Nk(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(o&&l.type==="Literal"),optional:!1}:l}s=a}else s=Nk(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(s.type==="Literal"){const i=s.value;return Z5.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(s);rp(e)}function rp(e,t){const r=new Ci("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=K8+"#cannot-handle-mdx-estrees-without-createevaluater",r}function One(e){const t={};let r;for(r in e)Z5.call(e,r)&&(t[Qne(r)]=e[r]);return t}function Qne(e){let t=e.replace(jne,_ne);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function _ne(e){return"-"+e.toLowerCase()}const Jb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Hne={};function rj(e,t){const r=Hne,s=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return q8(e,s,i)}function q8(e,t,r){if($ne(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Rk(e.children,t,r)}return Array.isArray(e)?Rk(e,t,r):""}function Rk(e,t,r){const s=[];let i=-1;for(;++i<e.length;)s[i]=q8(e[i],t,r);return s.join("")}function $ne(e){return!!(e&&typeof e=="object")}const Mk=document.createElement("i");function nj(e){const t="&"+e+";";Mk.innerHTML=t;const r=Mk.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Eo(e,t,r,s){const i=e.length;let o=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,s.length<1e4)a=Array.from(s),a.unshift(t,r),e.splice(...a);else for(r&&e.splice(t,r);o<s.length;)a=s.slice(o,o+1e4),a.unshift(t,0),e.splice(...a),o+=1e4,t+=1e4}function ea(e,t){return e.length>0?(Eo(e,e.length,0,t),e):t}const Dk={}.hasOwnProperty;function X8(e){const t={};let r=-1;for(;++r<e.length;)Vne(t,e[r]);return t}function Vne(e,t){let r;for(r in t){const i=(Dk.call(e,r)?e[r]:void 0)||(e[r]={}),o=t[r];let a;if(o)for(a in o){Dk.call(i,a)||(i[a]=[]);const l=o[a];Kne(i[a],Array.isArray(l)?l:l?[l]:[])}}}function Kne(e,t){let r=-1;const s=[];for(;++r<t.length;)(t[r].add==="after"?e:s).push(t[r]);Eo(e,0,0,s)}function J8(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function ka(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const $i=Fu(/[A-Za-z]/),ji=Fu(/[\dA-Za-z]/),zne=Fu(/[#-'*+\--9=?A-Z^-~]/);function bx(e){return e!==null&&(e<32||e===127)}const e2=Fu(/\d/),Wne=Fu(/[\dA-Fa-f]/),Gne=Fu(/[!-/:-@[-`{-~]/);function ir(e){return e!==null&&e<-2}function kn(e){return e!==null&&(e<0||e===32)}function Lr(e){return e===-2||e===-1||e===32}const Gy=Fu(new RegExp("\\p{P}|\\p{S}","u")),tA=Fu(/\s/);function Fu(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function cf(e){const t=[];let r=-1,s=0,i=0;for(;++r<e.length;){const o=e.charCodeAt(r);let a="";if(o===37&&ji(e.charCodeAt(r+1))&&ji(e.charCodeAt(r+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const l=e.charCodeAt(r+1);o<56320&&l>56319&&l<57344?(a=String.fromCharCode(o,l),i=1):a=""}else a=String.fromCharCode(o);a&&(t.push(e.slice(s,r),encodeURIComponent(a)),s=r+i+1,a=""),i&&(r+=i,i=0)}return t.join("")+e.slice(s)}function _r(e,t,r,s){const i=s?s-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(c){return Lr(c)?(e.enter(r),l(c)):t(c)}function l(c){return Lr(c)&&o++<i?(e.consume(c),l):(e.exit(r),t(c))}}const qne={tokenize:Xne};function Xne(e){const t=e.attempt(this.parser.constructs.contentInitial,s,i);let r;return t;function s(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),_r(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),o(l)}function o(l){const c=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=c),r=c,a(l)}function a(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return ir(l)?(e.consume(l),e.exit("chunkText"),o):(e.consume(l),a)}}const Jne={tokenize:Yne},Ok={tokenize:Zne};function Yne(e){const t=this,r=[];let s=0,i,o,a;return l;function l(w){if(s<r.length){const S=r[s];return t.containerState=S[1],e.attempt(S[0].continuation,c,d)(w)}return d(w)}function c(w){if(s++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&j();const S=t.events.length;let I=S,F;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){F=t.events[I][1].end;break}x(s);let T=S;for(;T<t.events.length;)t.events[T][1].end={...F},T++;return Eo(t.events,I+1,0,t.events.slice(S)),t.events.length=T,d(w)}return l(w)}function d(w){if(s===r.length){if(!i)return f(w);if(i.currentConstruct&&i.currentConstruct.concrete)return g(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Ok,u,A)(w)}function u(w){return i&&j(),x(s),f(w)}function A(w){return t.parser.lazy[t.now().line]=s!==r.length,a=t.now().offset,g(w)}function f(w){return t.containerState={},e.attempt(Ok,h,g)(w)}function h(w){return s++,r.push([t.currentConstruct,t.containerState]),f(w)}function g(w){if(w===null){i&&j(),x(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),p(w)}function p(w){if(w===null){b(e.exit("chunkFlow"),!0),x(0),e.consume(w);return}return ir(w)?(e.consume(w),b(e.exit("chunkFlow")),s=0,t.interrupt=void 0,l):(e.consume(w),p)}function b(w,S){const I=t.sliceStream(w);if(S&&I.push(null),w.previous=o,o&&(o.next=w),o=w,i.defineSkip(w.start),i.write(I),t.parser.lazy[w.start.line]){let F=i.events.length;for(;F--;)if(i.events[F][1].start.offset<a&&(!i.events[F][1].end||i.events[F][1].end.offset>a))return;const T=t.events.length;let U=T,K,B;for(;U--;)if(t.events[U][0]==="exit"&&t.events[U][1].type==="chunkFlow"){if(K){B=t.events[U][1].end;break}K=!0}for(x(s),F=T;F<t.events.length;)t.events[F][1].end={...B},F++;Eo(t.events,U+1,0,t.events.slice(T)),t.events.length=F}}function x(w){let S=r.length;for(;S-- >w;){const I=r[S];t.containerState=I[1],I[0].exit.call(t,e)}r.length=w}function j(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Zne(e,t,r){return _r(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function qh(e){if(e===null||kn(e)||tA(e))return 1;if(Gy(e))return 2}function qy(e,t,r){const s=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!s.includes(o)&&(t=o(t,r),s.push(o))}return t}const t2={name:"attention",resolveAll:ese,tokenize:tse};function ese(e,t){let r=-1,s,i,o,a,l,c,d,u;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(s=r;s--;)if(e[s][0]==="exit"&&e[s][1].type==="attentionSequence"&&e[s][1]._open&&t.sliceSerialize(e[s][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[s][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[s][1].end.offset-e[s][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;c=e[s][1].end.offset-e[s][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const A={...e[s][1].end},f={...e[r][1].start};Qk(A,-c),Qk(f,c),a={type:c>1?"strongSequence":"emphasisSequence",start:A,end:{...e[s][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:f},o={type:c>1?"strongText":"emphasisText",start:{...e[s][1].end},end:{...e[r][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},e[s][1].end={...a.start},e[r][1].start={...l.end},d=[],e[s][1].end.offset-e[s][1].start.offset&&(d=ea(d,[["enter",e[s][1],t],["exit",e[s][1],t]])),d=ea(d,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",o,t]]),d=ea(d,qy(t.parser.constructs.insideSpan.null,e.slice(s+1,r),t)),d=ea(d,[["exit",o,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(u=2,d=ea(d,[["enter",e[r][1],t],["exit",e[r][1],t]])):u=0,Eo(e,s-1,r-s+3,d),r=s+d.length-u-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function tse(e,t){const r=this.parser.constructs.attentionMarkers.null,s=this.previous,i=qh(s);let o;return a;function a(c){return o=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===o)return e.consume(c),l;const d=e.exit("attentionSequence"),u=qh(c),A=!u||u===2&&i||r.includes(c),f=!i||i===2&&u||r.includes(s);return d._open=!!(o===42?A:A&&(i||!f)),d._close=!!(o===42?f:f&&(u||!A)),t(c)}}function Qk(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const rse={name:"autolink",tokenize:nse};function nse(e,t,r){let s=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(h){return $i(h)?(e.consume(h),a):h===64?r(h):d(h)}function a(h){return h===43||h===45||h===46||ji(h)?(s=1,l(h)):d(h)}function l(h){return h===58?(e.consume(h),s=0,c):(h===43||h===45||h===46||ji(h))&&s++<32?(e.consume(h),l):(s=0,d(h))}function c(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||bx(h)?r(h):(e.consume(h),c)}function d(h){return h===64?(e.consume(h),u):zne(h)?(e.consume(h),d):r(h)}function u(h){return ji(h)?A(h):r(h)}function A(h){return h===46?(e.consume(h),s=0,u):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||ji(h))&&s++<63){const g=h===45?f:A;return e.consume(h),g}return r(h)}}const _p={partial:!0,tokenize:sse};function sse(e,t,r){return s;function s(o){return Lr(o)?_r(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||ir(o)?t(o):r(o)}}const Y8={continuation:{tokenize:ose},exit:ase,name:"blockQuote",tokenize:ise};function ise(e,t,r){const s=this;return i;function i(a){if(a===62){const l=s.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),o}return r(a)}function o(a){return Lr(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function ose(e,t,r){const s=this;return i;function i(a){return Lr(a)?_r(e,o,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return e.attempt(Y8,t,r)(a)}}function ase(e){e.exit("blockQuote")}const Z8={name:"characterEscape",tokenize:lse};function lse(e,t,r){return s;function s(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return Gne(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(o)}}const eF={name:"characterReference",tokenize:cse};function cse(e,t,r){const s=this;let i=0,o,a;return l;function l(A){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(A),e.exit("characterReferenceMarker"),c}function c(A){return A===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(A),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),o=31,a=ji,u(A))}function d(A){return A===88||A===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(A),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,a=Wne,u):(e.enter("characterReferenceValue"),o=7,a=e2,u(A))}function u(A){if(A===59&&i){const f=e.exit("characterReferenceValue");return a===ji&&!nj(s.sliceSerialize(f))?r(A):(e.enter("characterReferenceMarker"),e.consume(A),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(A)&&i++<o?(e.consume(A),u):r(A)}}const _k={partial:!0,tokenize:dse},Hk={concrete:!0,name:"codeFenced",tokenize:use};function use(e,t,r){const s=this,i={partial:!0,tokenize:I};let o=0,a=0,l;return c;function c(F){return d(F)}function d(F){const T=s.events[s.events.length-1];return o=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,l=F,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(F)}function u(F){return F===l?(a++,e.consume(F),u):a<3?r(F):(e.exit("codeFencedFenceSequence"),Lr(F)?_r(e,A,"whitespace")(F):A(F))}function A(F){return F===null||ir(F)?(e.exit("codeFencedFence"),s.interrupt?t(F):e.check(_k,p,S)(F)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(F))}function f(F){return F===null||ir(F)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),A(F)):Lr(F)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),_r(e,h,"whitespace")(F)):F===96&&F===l?r(F):(e.consume(F),f)}function h(F){return F===null||ir(F)?A(F):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(F))}function g(F){return F===null||ir(F)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),A(F)):F===96&&F===l?r(F):(e.consume(F),g)}function p(F){return e.attempt(i,S,b)(F)}function b(F){return e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),x}function x(F){return o>0&&Lr(F)?_r(e,j,"linePrefix",o+1)(F):j(F)}function j(F){return F===null||ir(F)?e.check(_k,p,S)(F):(e.enter("codeFlowValue"),w(F))}function w(F){return F===null||ir(F)?(e.exit("codeFlowValue"),j(F)):(e.consume(F),w)}function S(F){return e.exit("codeFenced"),t(F)}function I(F,T,U){let K=0;return B;function B(z){return F.enter("lineEnding"),F.consume(z),F.exit("lineEnding"),R}function R(z){return F.enter("codeFencedFence"),Lr(z)?_r(F,D,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):D(z)}function D(z){return z===l?(F.enter("codeFencedFenceSequence"),H(z)):U(z)}function H(z){return z===l?(K++,F.consume(z),H):K>=a?(F.exit("codeFencedFenceSequence"),Lr(z)?_r(F,P,"whitespace")(z):P(z)):U(z)}function P(z){return z===null||ir(z)?(F.exit("codeFencedFence"),T(z)):U(z)}}}function dse(e,t,r){const s=this;return i;function i(a){return a===null?r(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return s.parser.lazy[s.now().line]?r(a):t(a)}}const Yb={name:"codeIndented",tokenize:hse},Ase={partial:!0,tokenize:fse};function hse(e,t,r){const s=this;return i;function i(d){return e.enter("codeIndented"),_r(e,o,"linePrefix",5)(d)}function o(d){const u=s.events[s.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?a(d):r(d)}function a(d){return d===null?c(d):ir(d)?e.attempt(Ase,a,c)(d):(e.enter("codeFlowValue"),l(d))}function l(d){return d===null||ir(d)?(e.exit("codeFlowValue"),a(d)):(e.consume(d),l)}function c(d){return e.exit("codeIndented"),t(d)}}function fse(e,t,r){const s=this;return i;function i(a){return s.parser.lazy[s.now().line]?r(a):ir(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):_r(e,o,"linePrefix",5)(a)}function o(a){const l=s.events[s.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):ir(a)?i(a):r(a)}}const mse={name:"codeText",previous:gse,resolve:pse,tokenize:xse};function pse(e){let t=e.length-4,r=3,s,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(s=r;++s<t;)if(e[s][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(s=r-1,t++;++s<=t;)i===void 0?s!==t&&e[s][1].type!=="lineEnding"&&(i=s):(s===t||e[s][1].type==="lineEnding")&&(e[i][1].type="codeTextData",s!==i+2&&(e[i][1].end=e[s-1][1].end,e.splice(i+2,s-i-2),t-=s-i-2,s=i+2),i=void 0);return e}function gse(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function xse(e,t,r){let s=0,i,o;return a;function a(A){return e.enter("codeText"),e.enter("codeTextSequence"),l(A)}function l(A){return A===96?(e.consume(A),s++,l):(e.exit("codeTextSequence"),c(A))}function c(A){return A===null?r(A):A===32?(e.enter("space"),e.consume(A),e.exit("space"),c):A===96?(o=e.enter("codeTextSequence"),i=0,u(A)):ir(A)?(e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),c):(e.enter("codeTextData"),d(A))}function d(A){return A===null||A===32||A===96||ir(A)?(e.exit("codeTextData"),c(A)):(e.consume(A),d)}function u(A){return A===96?(e.consume(A),i++,u):i===s?(e.exit("codeTextSequence"),e.exit("codeText"),t(A)):(o.type="codeTextData",d(A))}}class yse{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const s=r??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(t,s):t>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(t,r,s){const i=r||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return s&&zf(this.left,s),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),zf(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),zf(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);zf(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);zf(this.left,r.reverse())}}}function zf(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function tF(e){const t={};let r=-1,s,i,o,a,l,c,d;const u=new yse(e);for(;++r<u.length;){for(;r in t;)r=t[r];if(s=u.get(r),r&&s[1].type==="chunkFlow"&&u.get(r-1)[1].type==="listItemPrefix"&&(c=s[1]._tokenizer.events,o=0,o<c.length&&c[o][1].type==="lineEndingBlank"&&(o+=2),o<c.length&&c[o][1].type==="content"))for(;++o<c.length&&c[o][1].type!=="content";)c[o][1].type==="chunkText"&&(c[o][1]._isInFirstContentOfListItem=!0,o++);if(s[0]==="enter")s[1].contentType&&(Object.assign(t,bse(u,r)),r=t[r],d=!0);else if(s[1]._container){for(o=r,i=void 0;o--;)if(a=u.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(s[1].end={...u.get(i)[1].start},l=u.slice(i,r),l.unshift(s),u.splice(i,r-i+1,l))}}return Eo(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!d}function bse(e,t){const r=e.get(t)[1],s=e.get(t)[2];let i=t-1;const o=[];let a=r._tokenizer;a||(a=s.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,c=[],d={};let u,A,f=-1,h=r,g=0,p=0;const b=[p];for(;h;){for(;e.get(++i)[1]!==h;);o.push(i),h._tokenizer||(u=s.sliceStream(h),h.next||u.push(null),A&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),A=h,h=h.next}for(h=r;++f<l.length;)l[f][0]==="exit"&&l[f-1][0]==="enter"&&l[f][1].type===l[f-1][1].type&&l[f][1].start.line!==l[f][1].end.line&&(p=f+1,b.push(p),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):b.pop(),f=b.length;f--;){const x=l.slice(b[f],b[f+1]),j=o.pop();c.push([j,j+x.length-1]),e.splice(j,2,x)}for(c.reverse(),f=-1;++f<c.length;)d[g+c[f][0]]=g+c[f][1],g+=c[f][1]-c[f][0]-1;return d}const vse={resolve:jse,tokenize:Cse},wse={partial:!0,tokenize:Nse};function jse(e){return tF(e),e}function Cse(e,t){let r;return s;function s(l){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?o(l):ir(l)?e.check(wse,a,o)(l):(e.consume(l),i)}function o(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function a(l){return e.consume(l),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function Nse(e,t,r){const s=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),_r(e,o,"linePrefix")}function o(a){if(a===null||ir(a))return r(a);const l=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):e.interrupt(s.parser.constructs.flow,r,t)(a)}}function rF(e,t,r,s,i,o,a,l,c){const d=c||Number.POSITIVE_INFINITY;let u=0;return A;function A(x){return x===60?(e.enter(s),e.enter(i),e.enter(o),e.consume(x),e.exit(o),f):x===null||x===32||x===41||bx(x)?r(x):(e.enter(s),e.enter(a),e.enter(l),e.enter("chunkString",{contentType:"string"}),p(x))}function f(x){return x===62?(e.enter(o),e.consume(x),e.exit(o),e.exit(i),e.exit(s),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),h(x))}function h(x){return x===62?(e.exit("chunkString"),e.exit(l),f(x)):x===null||x===60||ir(x)?r(x):(e.consume(x),x===92?g:h)}function g(x){return x===60||x===62||x===92?(e.consume(x),h):h(x)}function p(x){return!u&&(x===null||x===41||kn(x))?(e.exit("chunkString"),e.exit(l),e.exit(a),e.exit(s),t(x)):u<d&&x===40?(e.consume(x),u++,p):x===41?(e.consume(x),u--,p):x===null||x===32||x===40||bx(x)?r(x):(e.consume(x),x===92?b:p)}function b(x){return x===40||x===41||x===92?(e.consume(x),p):p(x)}}function nF(e,t,r,s,i,o){const a=this;let l=0,c;return d;function d(h){return e.enter(s),e.enter(i),e.consume(h),e.exit(i),e.enter(o),u}function u(h){return l>999||h===null||h===91||h===93&&!c||h===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?r(h):h===93?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(s),t):ir(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),A(h))}function A(h){return h===null||h===91||h===93||ir(h)||l++>999?(e.exit("chunkString"),u(h)):(e.consume(h),c||(c=!Lr(h)),h===92?f:A)}function f(h){return h===91||h===92||h===93?(e.consume(h),l++,A):A(h)}}function sF(e,t,r,s,i,o){let a;return l;function l(f){return f===34||f===39||f===40?(e.enter(s),e.enter(i),e.consume(f),e.exit(i),a=f===40?41:f,c):r(f)}function c(f){return f===a?(e.enter(i),e.consume(f),e.exit(i),e.exit(s),t):(e.enter(o),d(f))}function d(f){return f===a?(e.exit(o),c(a)):f===null?r(f):ir(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),_r(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===a||f===null||ir(f)?(e.exit("chunkString"),d(f)):(e.consume(f),f===92?A:u)}function A(f){return f===a||f===92?(e.consume(f),u):u(f)}}function Bm(e,t){let r;return s;function s(i){return ir(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,s):Lr(i)?_r(e,s,r?"linePrefix":"lineSuffix")(i):t(i)}}const Bse={name:"definition",tokenize:Sse},kse={partial:!0,tokenize:Ese};function Sse(e,t,r){const s=this;let i;return o;function o(h){return e.enter("definition"),a(h)}function a(h){return nF.call(s,e,l,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function l(h){return i=ka(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),c):r(h)}function c(h){return kn(h)?Bm(e,d)(h):d(h)}function d(h){return rF(e,u,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function u(h){return e.attempt(kse,A,A)(h)}function A(h){return Lr(h)?_r(e,f,"whitespace")(h):f(h)}function f(h){return h===null||ir(h)?(e.exit("definition"),s.parser.defined.push(i),t(h)):r(h)}}function Ese(e,t,r){return s;function s(l){return kn(l)?Bm(e,i)(l):r(l)}function i(l){return sF(e,o,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function o(l){return Lr(l)?_r(e,a,"whitespace")(l):a(l)}function a(l){return l===null||ir(l)?t(l):r(l)}}const Ise={name:"hardBreakEscape",tokenize:Tse};function Tse(e,t,r){return s;function s(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return ir(o)?(e.exit("hardBreakEscape"),t(o)):r(o)}}const Fse={name:"headingAtx",resolve:Lse,tokenize:Pse};function Lse(e,t){let r=e.length-2,s=3,i,o;return e[s][1].type==="whitespace"&&(s+=2),r-2>s&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(s===r-1||r-4>s&&e[r-2][1].type==="whitespace")&&(r-=s+1===r?2:4),r>s&&(i={type:"atxHeadingText",start:e[s][1].start,end:e[r][1].end},o={type:"chunkText",start:e[s][1].start,end:e[r][1].end,contentType:"text"},Eo(e,s,r-s+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function Pse(e,t,r){let s=0;return i;function i(u){return e.enter("atxHeading"),o(u)}function o(u){return e.enter("atxHeadingSequence"),a(u)}function a(u){return u===35&&s++<6?(e.consume(u),a):u===null||kn(u)?(e.exit("atxHeadingSequence"),l(u)):r(u)}function l(u){return u===35?(e.enter("atxHeadingSequence"),c(u)):u===null||ir(u)?(e.exit("atxHeading"),t(u)):Lr(u)?_r(e,l,"whitespace")(u):(e.enter("atxHeadingText"),d(u))}function c(u){return u===35?(e.consume(u),c):(e.exit("atxHeadingSequence"),l(u))}function d(u){return u===null||u===35||kn(u)?(e.exit("atxHeadingText"),l(u)):(e.consume(u),d)}}const Use=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],$k=["pre","script","style","textarea"],Rse={concrete:!0,name:"htmlFlow",resolveTo:Ose,tokenize:Qse},Mse={partial:!0,tokenize:Hse},Dse={partial:!0,tokenize:_se};function Ose(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Qse(e,t,r){const s=this;let i,o,a,l,c;return d;function d(Q){return u(Q)}function u(Q){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(Q),A}function A(Q){return Q===33?(e.consume(Q),f):Q===47?(e.consume(Q),o=!0,p):Q===63?(e.consume(Q),i=3,s.interrupt?t:X):$i(Q)?(e.consume(Q),a=String.fromCharCode(Q),b):r(Q)}function f(Q){return Q===45?(e.consume(Q),i=2,h):Q===91?(e.consume(Q),i=5,l=0,g):$i(Q)?(e.consume(Q),i=4,s.interrupt?t:X):r(Q)}function h(Q){return Q===45?(e.consume(Q),s.interrupt?t:X):r(Q)}function g(Q){const Z="CDATA[";return Q===Z.charCodeAt(l++)?(e.consume(Q),l===Z.length?s.interrupt?t:D:g):r(Q)}function p(Q){return $i(Q)?(e.consume(Q),a=String.fromCharCode(Q),b):r(Q)}function b(Q){if(Q===null||Q===47||Q===62||kn(Q)){const Z=Q===47,Ae=a.toLowerCase();return!Z&&!o&&$k.includes(Ae)?(i=1,s.interrupt?t(Q):D(Q)):Use.includes(a.toLowerCase())?(i=6,Z?(e.consume(Q),x):s.interrupt?t(Q):D(Q)):(i=7,s.interrupt&&!s.parser.lazy[s.now().line]?r(Q):o?j(Q):w(Q))}return Q===45||ji(Q)?(e.consume(Q),a+=String.fromCharCode(Q),b):r(Q)}function x(Q){return Q===62?(e.consume(Q),s.interrupt?t:D):r(Q)}function j(Q){return Lr(Q)?(e.consume(Q),j):B(Q)}function w(Q){return Q===47?(e.consume(Q),B):Q===58||Q===95||$i(Q)?(e.consume(Q),S):Lr(Q)?(e.consume(Q),w):B(Q)}function S(Q){return Q===45||Q===46||Q===58||Q===95||ji(Q)?(e.consume(Q),S):I(Q)}function I(Q){return Q===61?(e.consume(Q),F):Lr(Q)?(e.consume(Q),I):w(Q)}function F(Q){return Q===null||Q===60||Q===61||Q===62||Q===96?r(Q):Q===34||Q===39?(e.consume(Q),c=Q,T):Lr(Q)?(e.consume(Q),F):U(Q)}function T(Q){return Q===c?(e.consume(Q),c=null,K):Q===null||ir(Q)?r(Q):(e.consume(Q),T)}function U(Q){return Q===null||Q===34||Q===39||Q===47||Q===60||Q===61||Q===62||Q===96||kn(Q)?I(Q):(e.consume(Q),U)}function K(Q){return Q===47||Q===62||Lr(Q)?w(Q):r(Q)}function B(Q){return Q===62?(e.consume(Q),R):r(Q)}function R(Q){return Q===null||ir(Q)?D(Q):Lr(Q)?(e.consume(Q),R):r(Q)}function D(Q){return Q===45&&i===2?(e.consume(Q),G):Q===60&&i===1?(e.consume(Q),he):Q===62&&i===4?(e.consume(Q),re):Q===63&&i===3?(e.consume(Q),X):Q===93&&i===5?(e.consume(Q),ye):ir(Q)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Mse,_,H)(Q)):Q===null||ir(Q)?(e.exit("htmlFlowData"),H(Q)):(e.consume(Q),D)}function H(Q){return e.check(Dse,P,_)(Q)}function P(Q){return e.enter("lineEnding"),e.consume(Q),e.exit("lineEnding"),z}function z(Q){return Q===null||ir(Q)?H(Q):(e.enter("htmlFlowData"),D(Q))}function G(Q){return Q===45?(e.consume(Q),X):D(Q)}function he(Q){return Q===47?(e.consume(Q),a="",ce):D(Q)}function ce(Q){if(Q===62){const Z=a.toLowerCase();return $k.includes(Z)?(e.consume(Q),re):D(Q)}return $i(Q)&&a.length<8?(e.consume(Q),a+=String.fromCharCode(Q),ce):D(Q)}function ye(Q){return Q===93?(e.consume(Q),X):D(Q)}function X(Q){return Q===62?(e.consume(Q),re):Q===45&&i===2?(e.consume(Q),X):D(Q)}function re(Q){return Q===null||ir(Q)?(e.exit("htmlFlowData"),_(Q)):(e.consume(Q),re)}function _(Q){return e.exit("htmlFlow"),t(Q)}}function _se(e,t,r){const s=this;return i;function i(a){return ir(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):r(a)}function o(a){return s.parser.lazy[s.now().line]?r(a):t(a)}}function Hse(e,t,r){return s;function s(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(_p,t,r)}}const $se={name:"htmlText",tokenize:Vse};function Vse(e,t,r){const s=this;let i,o,a;return l;function l(X){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(X),c}function c(X){return X===33?(e.consume(X),d):X===47?(e.consume(X),I):X===63?(e.consume(X),w):$i(X)?(e.consume(X),U):r(X)}function d(X){return X===45?(e.consume(X),u):X===91?(e.consume(X),o=0,g):$i(X)?(e.consume(X),j):r(X)}function u(X){return X===45?(e.consume(X),h):r(X)}function A(X){return X===null?r(X):X===45?(e.consume(X),f):ir(X)?(a=A,he(X)):(e.consume(X),A)}function f(X){return X===45?(e.consume(X),h):A(X)}function h(X){return X===62?G(X):X===45?f(X):A(X)}function g(X){const re="CDATA[";return X===re.charCodeAt(o++)?(e.consume(X),o===re.length?p:g):r(X)}function p(X){return X===null?r(X):X===93?(e.consume(X),b):ir(X)?(a=p,he(X)):(e.consume(X),p)}function b(X){return X===93?(e.consume(X),x):p(X)}function x(X){return X===62?G(X):X===93?(e.consume(X),x):p(X)}function j(X){return X===null||X===62?G(X):ir(X)?(a=j,he(X)):(e.consume(X),j)}function w(X){return X===null?r(X):X===63?(e.consume(X),S):ir(X)?(a=w,he(X)):(e.consume(X),w)}function S(X){return X===62?G(X):w(X)}function I(X){return $i(X)?(e.consume(X),F):r(X)}function F(X){return X===45||ji(X)?(e.consume(X),F):T(X)}function T(X){return ir(X)?(a=T,he(X)):Lr(X)?(e.consume(X),T):G(X)}function U(X){return X===45||ji(X)?(e.consume(X),U):X===47||X===62||kn(X)?K(X):r(X)}function K(X){return X===47?(e.consume(X),G):X===58||X===95||$i(X)?(e.consume(X),B):ir(X)?(a=K,he(X)):Lr(X)?(e.consume(X),K):G(X)}function B(X){return X===45||X===46||X===58||X===95||ji(X)?(e.consume(X),B):R(X)}function R(X){return X===61?(e.consume(X),D):ir(X)?(a=R,he(X)):Lr(X)?(e.consume(X),R):K(X)}function D(X){return X===null||X===60||X===61||X===62||X===96?r(X):X===34||X===39?(e.consume(X),i=X,H):ir(X)?(a=D,he(X)):Lr(X)?(e.consume(X),D):(e.consume(X),P)}function H(X){return X===i?(e.consume(X),i=void 0,z):X===null?r(X):ir(X)?(a=H,he(X)):(e.consume(X),H)}function P(X){return X===null||X===34||X===39||X===60||X===61||X===96?r(X):X===47||X===62||kn(X)?K(X):(e.consume(X),P)}function z(X){return X===47||X===62||kn(X)?K(X):r(X)}function G(X){return X===62?(e.consume(X),e.exit("htmlTextData"),e.exit("htmlText"),t):r(X)}function he(X){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(X),e.exit("lineEnding"),ce}function ce(X){return Lr(X)?_r(e,ye,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(X):ye(X)}function ye(X){return e.enter("htmlTextData"),a(X)}}const sj={name:"labelEnd",resolveAll:Gse,resolveTo:qse,tokenize:Xse},Kse={tokenize:Jse},zse={tokenize:Yse},Wse={tokenize:Zse};function Gse(e){let t=-1;const r=[];for(;++t<e.length;){const s=e[t][1];if(r.push(e[t]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const i=s.type==="labelImage"?4:2;s.type="data",t+=i}}return e.length!==r.length&&Eo(e,0,e.length,r),e}function qse(e,t){let r=e.length,s=0,i,o,a,l;for(;r--;)if(i=e[r][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=r,i.type!=="labelLink")){s=2;break}}else i.type==="labelEnd"&&(a=r);const c={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[o][1].start},end:{...e[a][1].end}},u={type:"labelText",start:{...e[o+s+2][1].end},end:{...e[a-2][1].start}};return l=[["enter",c,t],["enter",d,t]],l=ea(l,e.slice(o+1,o+s+3)),l=ea(l,[["enter",u,t]]),l=ea(l,qy(t.parser.constructs.insideSpan.null,e.slice(o+s+4,a-3),t)),l=ea(l,[["exit",u,t],e[a-2],e[a-1],["exit",d,t]]),l=ea(l,e.slice(a+1)),l=ea(l,[["exit",c,t]]),Eo(e,o,e.length,l),e}function Xse(e,t,r){const s=this;let i=s.events.length,o,a;for(;i--;)if((s.events[i][1].type==="labelImage"||s.events[i][1].type==="labelLink")&&!s.events[i][1]._balanced){o=s.events[i][1];break}return l;function l(f){return o?o._inactive?A(f):(a=s.parser.defined.includes(ka(s.sliceSerialize({start:o.end,end:s.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),c):r(f)}function c(f){return f===40?e.attempt(Kse,u,a?u:A)(f):f===91?e.attempt(zse,u,a?d:A)(f):a?u(f):A(f)}function d(f){return e.attempt(Wse,u,A)(f)}function u(f){return t(f)}function A(f){return o._balanced=!0,r(f)}}function Jse(e,t,r){return s;function s(A){return e.enter("resource"),e.enter("resourceMarker"),e.consume(A),e.exit("resourceMarker"),i}function i(A){return kn(A)?Bm(e,o)(A):o(A)}function o(A){return A===41?u(A):rF(e,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(A)}function a(A){return kn(A)?Bm(e,c)(A):u(A)}function l(A){return r(A)}function c(A){return A===34||A===39||A===40?sF(e,d,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(A):u(A)}function d(A){return kn(A)?Bm(e,u)(A):u(A)}function u(A){return A===41?(e.enter("resourceMarker"),e.consume(A),e.exit("resourceMarker"),e.exit("resource"),t):r(A)}}function Yse(e,t,r){const s=this;return i;function i(l){return nF.call(s,e,o,a,"reference","referenceMarker","referenceString")(l)}function o(l){return s.parser.defined.includes(ka(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?t(l):r(l)}function a(l){return r(l)}}function Zse(e,t,r){return s;function s(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):r(o)}}const eie={name:"labelStartImage",resolveAll:sj.resolveAll,tokenize:tie};function tie(e,t,r){const s=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),o}function o(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),a):r(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in s.parser.constructs?r(l):t(l)}}const rie={name:"labelStartLink",resolveAll:sj.resolveAll,tokenize:nie};function nie(e,t,r){const s=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in s.parser.constructs?r(a):t(a)}}const Zb={name:"lineEnding",tokenize:sie};function sie(e,t){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),_r(e,t,"linePrefix")}}const D0={name:"thematicBreak",tokenize:iie};function iie(e,t,r){let s=0,i;return o;function o(d){return e.enter("thematicBreak"),a(d)}function a(d){return i=d,l(d)}function l(d){return d===i?(e.enter("thematicBreakSequence"),c(d)):s>=3&&(d===null||ir(d))?(e.exit("thematicBreak"),t(d)):r(d)}function c(d){return d===i?(e.consume(d),s++,c):(e.exit("thematicBreakSequence"),Lr(d)?_r(e,l,"whitespace")(d):l(d))}}const no={continuation:{tokenize:cie},exit:die,name:"list",tokenize:lie},oie={partial:!0,tokenize:Aie},aie={partial:!0,tokenize:uie};function lie(e,t,r){const s=this,i=s.events[s.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(h){const g=s.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!s.containerState.marker||h===s.containerState.marker:e2(h)){if(s.containerState.type||(s.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(D0,r,d)(h):d(h);if(!s.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(h)}return r(h)}function c(h){return e2(h)&&++a<10?(e.consume(h),c):(!s.interrupt||a<2)&&(s.containerState.marker?h===s.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),d(h)):r(h)}function d(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||h,e.check(_p,s.interrupt?r:u,e.attempt(oie,f,A))}function u(h){return s.containerState.initialBlankLine=!0,o++,f(h)}function A(h){return Lr(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):r(h)}function f(h){return s.containerState.size=o+s.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function cie(e,t,r){const s=this;return s.containerState._closeFlow=void 0,e.check(_p,i,o);function i(l){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,_r(e,t,"listItemIndent",s.containerState.size+1)(l)}function o(l){return s.containerState.furtherBlankLines||!Lr(l)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,a(l)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,e.attempt(aie,t,a)(l))}function a(l){return s.containerState._closeFlow=!0,s.interrupt=void 0,_r(e,e.attempt(no,t,r),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function uie(e,t,r){const s=this;return _r(e,i,"listItemIndent",s.containerState.size+1);function i(o){const a=s.events[s.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===s.containerState.size?t(o):r(o)}}function die(e){e.exit(this.containerState.type)}function Aie(e,t,r){const s=this;return _r(e,i,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=s.events[s.events.length-1];return!Lr(o)&&a&&a[1].type==="listItemPrefixWhitespace"?t(o):r(o)}}const Vk={name:"setextUnderline",resolveTo:hie,tokenize:fie};function hie(e,t){let r=e.length,s,i,o;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){s=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!o&&e[r][1].type==="definition"&&(o=r);const a={type:"setextHeading",start:{...e[s][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",a,t]),e.splice(o+1,0,["exit",e[s][1],t]),e[s][1].end={...e[o][1].end}):e[s][1]=a,e.push(["exit",a,t]),e}function fie(e,t,r){const s=this;let i;return o;function o(d){let u=s.events.length,A;for(;u--;)if(s.events[u][1].type!=="lineEnding"&&s.events[u][1].type!=="linePrefix"&&s.events[u][1].type!=="content"){A=s.events[u][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||A)?(e.enter("setextHeadingLine"),i=d,a(d)):r(d)}function a(d){return e.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(e.consume(d),l):(e.exit("setextHeadingLineSequence"),Lr(d)?_r(e,c,"lineSuffix")(d):c(d))}function c(d){return d===null||ir(d)?(e.exit("setextHeadingLine"),t(d)):r(d)}}const mie={tokenize:pie};function pie(e){const t=this,r=e.attempt(_p,s,e.attempt(this.parser.constructs.flowInitial,i,_r(e,e.attempt(this.parser.constructs.flow,i,e.attempt(vse,i)),"linePrefix")));return r;function s(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const gie={resolveAll:oF()},xie=iF("string"),yie=iF("text");function iF(e){return{resolveAll:oF(e==="text"?bie:void 0),tokenize:t};function t(r){const s=this,i=this.parser.constructs[e],o=r.attempt(i,a,l);return a;function a(u){return d(u)?o(u):l(u)}function l(u){if(u===null){r.consume(u);return}return r.enter("data"),r.consume(u),c}function c(u){return d(u)?(r.exit("data"),o(u)):(r.consume(u),c)}function d(u){if(u===null)return!0;const A=i[u];let f=-1;if(A)for(;++f<A.length;){const h=A[f];if(!h.previous||h.previous.call(s,s.previous))return!0}return!1}}}function oF(e){return t;function t(r,s){let i=-1,o;for(;++i<=r.length;)o===void 0?r[i]&&r[i][1].type==="data"&&(o=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==o+2&&(r[o][1].end=r[i-1][1].end,r.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(r,s):r}}function bie(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const s=e[r-1][1],i=t.sliceStream(s);let o=i.length,a=-1,l=0,c;for(;o--;){const d=i[o];if(typeof d=="string"){for(a=d.length;d.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(d===-2)c=!0,l++;else if(d!==-1){o++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(l=0),l){const d={type:r===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:s.start._bufferIndex+a,_index:s.start._index+o,line:s.end.line,column:s.end.column-l,offset:s.end.offset-l},end:{...s.end}};s.end={...d.start},s.start.offset===s.end.offset?Object.assign(s,d):(e.splice(r,0,["enter",d,t],["exit",d,t]),r+=2)}r++}return e}const vie={42:no,43:no,45:no,48:no,49:no,50:no,51:no,52:no,53:no,54:no,55:no,56:no,57:no,62:Y8},wie={91:Bse},jie={[-2]:Yb,[-1]:Yb,32:Yb},Cie={35:Fse,42:D0,45:[Vk,D0],60:Rse,61:Vk,95:D0,96:Hk,126:Hk},Nie={38:eF,92:Z8},Bie={[-5]:Zb,[-4]:Zb,[-3]:Zb,33:eie,38:eF,42:t2,60:[rse,$se],91:rie,92:[Ise,Z8],93:sj,95:t2,96:mse},kie={null:[t2,gie]},Sie={null:[42,95]},Eie={null:[]},Iie=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Sie,contentInitial:wie,disable:Eie,document:vie,flow:Cie,flowInitial:jie,insideSpan:kie,string:Nie,text:Bie},Symbol.toStringTag,{value:"Module"}));function Tie(e,t,r){let s={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},o=[];let a=[],l=[];const c={attempt:T(I),check:T(F),consume:j,enter:w,exit:S,interrupt:T(F,{interrupt:!0})},d={code:null,containerState:{},defineSkip:p,events:[],now:g,parser:e,previous:null,sliceSerialize:f,sliceStream:h,write:A};let u=t.tokenize.call(d,c);return t.resolveAll&&o.push(t),d;function A(R){return a=ea(a,R),b(),a[a.length-1]!==null?[]:(U(t,0),d.events=qy(o,d.events,d),d.events)}function f(R,D){return Lie(h(R),D)}function h(R){return Fie(a,R)}function g(){const{_bufferIndex:R,_index:D,line:H,column:P,offset:z}=s;return{_bufferIndex:R,_index:D,line:H,column:P,offset:z}}function p(R){i[R.line]=R.column,B()}function b(){let R;for(;s._index<a.length;){const D=a[s._index];if(typeof D=="string")for(R=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===R&&s._bufferIndex<D.length;)x(D.charCodeAt(s._bufferIndex));else x(D)}}function x(R){u=u(R)}function j(R){ir(R)?(s.line++,s.column=1,s.offset+=R===-3?2:1,B()):R!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===a[s._index].length&&(s._bufferIndex=-1,s._index++)),d.previous=R}function w(R,D){const H=D||{};return H.type=R,H.start=g(),d.events.push(["enter",H,d]),l.push(H),H}function S(R){const D=l.pop();return D.end=g(),d.events.push(["exit",D,d]),D}function I(R,D){U(R,D.from)}function F(R,D){D.restore()}function T(R,D){return H;function H(P,z,G){let he,ce,ye,X;return Array.isArray(P)?_(P):"tokenize"in P?_([P]):re(P);function re(me){return ae;function ae(ie){const te=ie!==null&&me[ie],fe=ie!==null&&me.null,pe=[...Array.isArray(te)?te:te?[te]:[],...Array.isArray(fe)?fe:fe?[fe]:[]];return _(pe)(ie)}}function _(me){return he=me,ce=0,me.length===0?G:Q(me[ce])}function Q(me){return ae;function ae(ie){return X=K(),ye=me,me.partial||(d.currentConstruct=me),me.name&&d.parser.constructs.disable.null.includes(me.name)?Ae():me.tokenize.call(D?Object.assign(Object.create(d),D):d,c,Z,Ae)(ie)}}function Z(me){return R(ye,X),z}function Ae(me){return X.restore(),++ce<he.length?Q(he[ce]):G}}}function U(R,D){R.resolveAll&&!o.includes(R)&&o.push(R),R.resolve&&Eo(d.events,D,d.events.length-D,R.resolve(d.events.slice(D),d)),R.resolveTo&&(d.events=R.resolveTo(d.events,d))}function K(){const R=g(),D=d.previous,H=d.currentConstruct,P=d.events.length,z=Array.from(l);return{from:P,restore:G};function G(){s=R,d.previous=D,d.currentConstruct=H,d.events.length=P,l=z,B()}}function B(){s.line in i&&s.column<2&&(s.column=i[s.line],s.offset+=i[s.line]-1)}}function Fie(e,t){const r=t.start._index,s=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let a;if(r===i)a=[e[r].slice(s,o)];else{if(a=e.slice(r,i),s>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(s):a.shift()}o>0&&a.push(e[i].slice(0,o))}return a}function Lie(e,t){let r=-1;const s=[];let i;for(;++r<e.length;){const o=e[r];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,s.push(a)}return s.join("")}function Pie(e){const s={constructs:X8([Iie,...(e||{}).extensions||[]]),content:i(qne),defined:[],document:i(Jne),flow:i(mie),lazy:{},string:i(xie),text:i(yie)};return s;function i(o){return a;function a(l){return Tie(s,o,l)}}}function Uie(e){for(;!tF(e););return e}const Kk=/[\0\t\n\r]/g;function Rie(){let e=1,t="",r=!0,s;return i;function i(o,a,l){const c=[];let d,u,A,f,h;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),A=0,t="",r&&(o.charCodeAt(0)===65279&&A++,r=void 0);A<o.length;){if(Kk.lastIndex=A,d=Kk.exec(o),f=d&&d.index!==void 0?d.index:o.length,h=o.charCodeAt(f),!d){t=o.slice(A);break}if(h===10&&A===f&&s)c.push(-3),s=void 0;else switch(s&&(c.push(-5),s=void 0),A<f&&(c.push(o.slice(A,f)),e+=f-A),h){case 0:{c.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,c.push(-2);e++<u;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:s=!0,e=1}A=f+1}return l&&(s&&c.push(-5),t&&c.push(t),c.push(null)),c}}const Mie=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Die(e){return e.replace(Mie,Oie)}function Oie(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),o=i===120||i===88;return J8(r.slice(o?2:1),o?16:10)}return nj(r)||e}const aF={}.hasOwnProperty;function Qie(e,t,r){return typeof t!="string"&&(r=t,t=void 0),_ie(r)(Uie(Pie(r).document().write(Rie()(e,t,!0))))}function _ie(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(rt),autolinkProtocol:K,autolinkEmail:K,atxHeading:o(Ue),blockQuote:o(fe),characterEscape:K,characterReference:K,codeFenced:o(pe),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(pe,a),codeText:o(we,a),codeTextData:K,data:K,codeFlowValue:K,definition:o(je),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(De),hardBreakEscape:o(Ce),hardBreakTrailing:o(Ce),htmlFlow:o(Ct,a),htmlFlowData:K,htmlText:o(Ct,a),htmlTextData:K,image:o(ct),label:a,link:o(rt),listItem:o(at),listItemValue:f,listOrdered:o(st,A),listUnordered:o(st),paragraph:o(qe),reference:Q,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(Ue),strong:o(St),thematicBreak:o(He)},exit:{atxHeading:c(),atxHeadingSequence:I,autolink:c(),autolinkEmail:te,autolinkProtocol:ie,blockQuote:c(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:Ae,characterReferenceMarkerNumeric:Ae,characterReferenceValue:me,characterReference:ae,codeFenced:c(b),codeFencedFence:p,codeFencedFenceInfo:h,codeFencedFenceMeta:g,codeFlowValue:B,codeIndented:c(x),codeText:c(z),codeTextData:B,data:B,definition:c(),definitionDestinationString:S,definitionLabelString:j,definitionTitleString:w,emphasis:c(),hardBreakEscape:c(D),hardBreakTrailing:c(D),htmlFlow:c(H),htmlFlowData:B,htmlText:c(P),htmlTextData:B,image:c(he),label:ye,labelText:ce,lineEnding:R,link:c(G),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Z,resourceDestinationString:X,resourceTitleString:re,resource:_,setextHeading:c(U),setextHeadingLineSequence:T,setextHeadingText:F,strong:c(),thematicBreak:c()}};lF(t,(e||{}).mdastExtensions||[]);const r={};return s;function s(Le){let q={type:"root",children:[]};const M={stack:[q],tokenStack:[],config:t,enter:l,exit:d,buffer:a,resume:u,data:r},$=[];let J=-1;for(;++J<Le.length;)if(Le[J][1].type==="listOrdered"||Le[J][1].type==="listUnordered")if(Le[J][0]==="enter")$.push(J);else{const ee=$.pop();J=i(Le,ee,J)}for(J=-1;++J<Le.length;){const ee=t[Le[J][0]];aF.call(ee,Le[J][1].type)&&ee[Le[J][1].type].call(Object.assign({sliceSerialize:Le[J][2].sliceSerialize},M),Le[J][1])}if(M.tokenStack.length>0){const ee=M.tokenStack[M.tokenStack.length-1];(ee[1]||zk).call(M,void 0,ee[0])}for(q.position={start:zc(Le.length>0?Le[0][1].start:{line:1,column:1,offset:0}),end:zc(Le.length>0?Le[Le.length-2][1].end:{line:1,column:1,offset:0})},J=-1;++J<t.transforms.length;)q=t.transforms[J](q)||q;return q}function i(Le,q,M){let $=q-1,J=-1,ee=!1,ve,Se,We,$e;for(;++$<=M;){const Pe=Le[$];switch(Pe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Pe[0]==="enter"?J++:J--,$e=void 0;break}case"lineEndingBlank":{Pe[0]==="enter"&&(ve&&!$e&&!J&&!We&&(We=$),$e=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:$e=void 0}if(!J&&Pe[0]==="enter"&&Pe[1].type==="listItemPrefix"||J===-1&&Pe[0]==="exit"&&(Pe[1].type==="listUnordered"||Pe[1].type==="listOrdered")){if(ve){let Be=$;for(Se=void 0;Be--;){const Te=Le[Be];if(Te[1].type==="lineEnding"||Te[1].type==="lineEndingBlank"){if(Te[0]==="exit")continue;Se&&(Le[Se][1].type="lineEndingBlank",ee=!0),Te[1].type="lineEnding",Se=Be}else if(!(Te[1].type==="linePrefix"||Te[1].type==="blockQuotePrefix"||Te[1].type==="blockQuotePrefixWhitespace"||Te[1].type==="blockQuoteMarker"||Te[1].type==="listItemIndent"))break}We&&(!Se||We<Se)&&(ve._spread=!0),ve.end=Object.assign({},Se?Le[Se][1].start:Pe[1].end),Le.splice(Se||$,0,["exit",ve,Pe[2]]),$++,M++}if(Pe[1].type==="listItemPrefix"){const Be={type:"listItem",_spread:!1,start:Object.assign({},Pe[1].start),end:void 0};ve=Be,Le.splice($,0,["enter",Be,Pe[2]]),$++,M++,We=void 0,$e=!0}}}return Le[q][1]._spread=ee,M}function o(Le,q){return M;function M($){l.call(this,Le($),$),q&&q.call(this,$)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(Le,q,M){this.stack[this.stack.length-1].children.push(Le),this.stack.push(Le),this.tokenStack.push([q,M||void 0]),Le.position={start:zc(q.start),end:void 0}}function c(Le){return q;function q(M){Le&&Le.call(this,M),d.call(this,M)}}function d(Le,q){const M=this.stack.pop(),$=this.tokenStack.pop();if($)$[0].type!==Le.type&&(q?q.call(this,Le,$[0]):($[1]||zk).call(this,Le,$[0]));else throw new Error("Cannot close `"+Le.type+"` ("+Nm({start:Le.start,end:Le.end})+"): its not open");M.position.end=zc(Le.end)}function u(){return rj(this.stack.pop())}function A(){this.data.expectingFirstListItemValue=!0}function f(Le){if(this.data.expectingFirstListItemValue){const q=this.stack[this.stack.length-2];q.start=Number.parseInt(this.sliceSerialize(Le),10),this.data.expectingFirstListItemValue=void 0}}function h(){const Le=this.resume(),q=this.stack[this.stack.length-1];q.lang=Le}function g(){const Le=this.resume(),q=this.stack[this.stack.length-1];q.meta=Le}function p(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const Le=this.resume(),q=this.stack[this.stack.length-1];q.value=Le.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const Le=this.resume(),q=this.stack[this.stack.length-1];q.value=Le.replace(/(\r?\n|\r)$/g,"")}function j(Le){const q=this.resume(),M=this.stack[this.stack.length-1];M.label=q,M.identifier=ka(this.sliceSerialize(Le)).toLowerCase()}function w(){const Le=this.resume(),q=this.stack[this.stack.length-1];q.title=Le}function S(){const Le=this.resume(),q=this.stack[this.stack.length-1];q.url=Le}function I(Le){const q=this.stack[this.stack.length-1];if(!q.depth){const M=this.sliceSerialize(Le).length;q.depth=M}}function F(){this.data.setextHeadingSlurpLineEnding=!0}function T(Le){const q=this.stack[this.stack.length-1];q.depth=this.sliceSerialize(Le).codePointAt(0)===61?1:2}function U(){this.data.setextHeadingSlurpLineEnding=void 0}function K(Le){const M=this.stack[this.stack.length-1].children;let $=M[M.length-1];(!$||$.type!=="text")&&($=kt(),$.position={start:zc(Le.start),end:void 0},M.push($)),this.stack.push($)}function B(Le){const q=this.stack.pop();q.value+=this.sliceSerialize(Le),q.position.end=zc(Le.end)}function R(Le){const q=this.stack[this.stack.length-1];if(this.data.atHardBreak){const M=q.children[q.children.length-1];M.position.end=zc(Le.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(q.type)&&(K.call(this,Le),B.call(this,Le))}function D(){this.data.atHardBreak=!0}function H(){const Le=this.resume(),q=this.stack[this.stack.length-1];q.value=Le}function P(){const Le=this.resume(),q=this.stack[this.stack.length-1];q.value=Le}function z(){const Le=this.resume(),q=this.stack[this.stack.length-1];q.value=Le}function G(){const Le=this.stack[this.stack.length-1];if(this.data.inReference){const q=this.data.referenceType||"shortcut";Le.type+="Reference",Le.referenceType=q,delete Le.url,delete Le.title}else delete Le.identifier,delete Le.label;this.data.referenceType=void 0}function he(){const Le=this.stack[this.stack.length-1];if(this.data.inReference){const q=this.data.referenceType||"shortcut";Le.type+="Reference",Le.referenceType=q,delete Le.url,delete Le.title}else delete Le.identifier,delete Le.label;this.data.referenceType=void 0}function ce(Le){const q=this.sliceSerialize(Le),M=this.stack[this.stack.length-2];M.label=Die(q),M.identifier=ka(q).toLowerCase()}function ye(){const Le=this.stack[this.stack.length-1],q=this.resume(),M=this.stack[this.stack.length-1];if(this.data.inReference=!0,M.type==="link"){const $=Le.children;M.children=$}else M.alt=q}function X(){const Le=this.resume(),q=this.stack[this.stack.length-1];q.url=Le}function re(){const Le=this.resume(),q=this.stack[this.stack.length-1];q.title=Le}function _(){this.data.inReference=void 0}function Q(){this.data.referenceType="collapsed"}function Z(Le){const q=this.resume(),M=this.stack[this.stack.length-1];M.label=q,M.identifier=ka(this.sliceSerialize(Le)).toLowerCase(),this.data.referenceType="full"}function Ae(Le){this.data.characterReferenceType=Le.type}function me(Le){const q=this.sliceSerialize(Le),M=this.data.characterReferenceType;let $;M?($=J8(q,M==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):$=nj(q);const J=this.stack[this.stack.length-1];J.value+=$}function ae(Le){const q=this.stack.pop();q.position.end=zc(Le.end)}function ie(Le){B.call(this,Le);const q=this.stack[this.stack.length-1];q.url=this.sliceSerialize(Le)}function te(Le){B.call(this,Le);const q=this.stack[this.stack.length-1];q.url="mailto:"+this.sliceSerialize(Le)}function fe(){return{type:"blockquote",children:[]}}function pe(){return{type:"code",lang:null,meta:null,value:""}}function we(){return{type:"inlineCode",value:""}}function je(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function De(){return{type:"emphasis",children:[]}}function Ue(){return{type:"heading",depth:0,children:[]}}function Ce(){return{type:"break"}}function Ct(){return{type:"html",value:""}}function ct(){return{type:"image",title:null,url:"",alt:null}}function rt(){return{type:"link",title:null,url:"",children:[]}}function st(Le){return{type:"list",ordered:Le.type==="listOrdered",start:null,spread:Le._spread,children:[]}}function at(Le){return{type:"listItem",spread:Le._spread,checked:null,children:[]}}function qe(){return{type:"paragraph",children:[]}}function St(){return{type:"strong",children:[]}}function kt(){return{type:"text",value:""}}function He(){return{type:"thematicBreak"}}}function zc(e){return{line:e.line,column:e.column,offset:e.offset}}function lF(e,t){let r=-1;for(;++r<t.length;){const s=t[r];Array.isArray(s)?lF(e,s):Hie(e,s)}}function Hie(e,t){let r;for(r in t)if(aF.call(t,r))switch(r){case"canContainEols":{const s=t[r];s&&e[r].push(...s);break}case"transforms":{const s=t[r];s&&e[r].push(...s);break}case"enter":case"exit":{const s=t[r];s&&Object.assign(e[r],s);break}}}function zk(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Nm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Nm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Nm({start:t.start,end:t.end})+") is still open")}function $ie(e){const t=this;t.parser=r;function r(s){return Qie(s,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Vie(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function Kie(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function zie(e,t){const r=t.value?t.value+`
`:"",s={};t.lang&&(s.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:s,children:[{type:"text",value:r}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function Wie(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Gie(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function qie(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",s=String(t.identifier).toUpperCase(),i=cf(s.toLowerCase()),o=e.footnoteOrder.indexOf(s);let a,l=e.footnoteCounts.get(s);l===void 0?(l=0,e.footnoteOrder.push(s),a=e.footnoteOrder.length):a=o+1,l+=1,e.footnoteCounts.set(s,l);const c={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,d),e.applyData(t,d)}function Xie(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Jie(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function cF(e,t){const r=t.referenceType;let s="]";if(r==="collapsed"?s+="[]":r==="full"&&(s+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+s}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=s:i.push({type:"text",value:s}),i}function Yie(e,t){const r=String(t.identifier).toUpperCase(),s=e.definitionById.get(r);if(!s)return cF(e,t);const i={src:cf(s.url||""),alt:t.alt};s.title!==null&&s.title!==void 0&&(i.title=s.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function Zie(e,t){const r={src:cf(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const s={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,s),e.applyData(t,s)}function eoe(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const s={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,s),e.applyData(t,s)}function toe(e,t){const r=String(t.identifier).toUpperCase(),s=e.definitionById.get(r);if(!s)return cF(e,t);const i={href:cf(s.url||"")};s.title!==null&&s.title!==void 0&&(i.title=s.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function roe(e,t){const r={href:cf(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const s={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function noe(e,t,r){const s=e.all(t),i=r?soe(r):uF(t),o={},a=[];if(typeof t.checked=="boolean"){const u=s[0];let A;u&&u.type==="element"&&u.tagName==="p"?A=u:(A={type:"element",tagName:"p",properties:{},children:[]},s.unshift(A)),A.children.length>0&&A.children.unshift({type:"text",value:" "}),A.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let l=-1;for(;++l<s.length;){const u=s[l];(i||l!==0||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?a.push(...u.children):a.push(u)}const c=s[s.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,d),e.applyData(t,d)}function soe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let s=-1;for(;!t&&++s<r.length;)t=uF(r[s])}return t}function uF(e){const t=e.spread;return t??e.children.length>1}function ioe(e,t){const r={},s=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<s.length;){const a=s[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function ooe(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function aoe(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function loe(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function coe(e,t){const r=e.all(t),s=r.shift(),i=[];if(s){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([s],!0)};e.patch(t.children[0],a),i.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},l=Y5(t.children[1]),c=$8(t.children[t.children.length-1]);l&&c&&(a.position={start:l,end:c}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function uoe(e,t,r){const s=r?r.children:void 0,o=(s?s.indexOf(t):1)===0?"th":"td",a=r&&r.type==="table"?r.align:void 0,l=a?a.length:t.children.length;let c=-1;const d=[];for(;++c<l;){const A=t.children[c],f={},h=a?a[c]:void 0;h&&(f.align=h);let g={type:"element",tagName:o,properties:f,children:[]};A&&(g.children=e.all(A),e.patch(A,g),g=e.applyData(A,g)),d.push(g)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,u),e.applyData(t,u)}function doe(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const Wk=9,Gk=32;function Aoe(e){const t=String(e),r=/\r?\n|\r/g;let s=r.exec(t),i=0;const o=[];for(;s;)o.push(qk(t.slice(i,s.index),i>0,!0),s[0]),i=s.index+s[0].length,s=r.exec(t);return o.push(qk(t.slice(i),i>0,!1)),o.join("")}function qk(e,t,r){let s=0,i=e.length;if(t){let o=e.codePointAt(s);for(;o===Wk||o===Gk;)s++,o=e.codePointAt(s)}if(r){let o=e.codePointAt(i-1);for(;o===Wk||o===Gk;)i--,o=e.codePointAt(i-1)}return i>s?e.slice(s,i):""}function hoe(e,t){const r={type:"text",value:Aoe(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function foe(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const moe={blockquote:Vie,break:Kie,code:zie,delete:Wie,emphasis:Gie,footnoteReference:qie,heading:Xie,html:Jie,imageReference:Yie,image:Zie,inlineCode:eoe,linkReference:toe,link:roe,listItem:noe,list:ioe,paragraph:ooe,root:aoe,strong:loe,table:coe,tableCell:doe,tableRow:uoe,text:hoe,thematicBreak:foe,toml:Wg,yaml:Wg,definition:Wg,footnoteDefinition:Wg};function Wg(){}const dF=-1,Xy=0,km=1,vx=2,ij=3,oj=4,aj=5,lj=6,AF=7,hF=8,Xk=typeof self=="object"?self:globalThis,poe=(e,t)=>{const r=(i,o)=>(e.set(o,i),i),s=i=>{if(e.has(i))return e.get(i);const[o,a]=t[i];switch(o){case Xy:case dF:return r(a,i);case km:{const l=r([],i);for(const c of a)l.push(s(c));return l}case vx:{const l=r({},i);for(const[c,d]of a)l[s(c)]=s(d);return l}case ij:return r(new Date(a),i);case oj:{const{source:l,flags:c}=a;return r(new RegExp(l,c),i)}case aj:{const l=r(new Map,i);for(const[c,d]of a)l.set(s(c),s(d));return l}case lj:{const l=r(new Set,i);for(const c of a)l.add(s(c));return l}case AF:{const{name:l,message:c}=a;return r(new Xk[l](c),i)}case hF:return r(BigInt(a),i);case"BigInt":return r(Object(BigInt(a)),i);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return r(new DataView(l),a)}}return r(new Xk[o](a),i)};return s},Jk=e=>poe(new Map,e)(0),ih="",{toString:goe}={},{keys:xoe}=Object,Wf=e=>{const t=typeof e;if(t!=="object"||!e)return[Xy,t];const r=goe.call(e).slice(8,-1);switch(r){case"Array":return[km,ih];case"Object":return[vx,ih];case"Date":return[ij,ih];case"RegExp":return[oj,ih];case"Map":return[aj,ih];case"Set":return[lj,ih];case"DataView":return[km,r]}return r.includes("Array")?[km,r]:r.includes("Error")?[AF,r]:[vx,r]},Gg=([e,t])=>e===Xy&&(t==="function"||t==="symbol"),yoe=(e,t,r,s)=>{const i=(a,l)=>{const c=s.push(a)-1;return r.set(l,c),c},o=a=>{if(r.has(a))return r.get(a);let[l,c]=Wf(a);switch(l){case Xy:{let u=a;switch(c){case"bigint":l=hF,u=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);u=null;break;case"undefined":return i([dF],a)}return i([l,u],a)}case km:{if(c){let f=a;return c==="DataView"?f=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(f=new Uint8Array(a)),i([c,[...f]],a)}const u=[],A=i([l,u],a);for(const f of a)u.push(o(f));return A}case vx:{if(c)switch(c){case"BigInt":return i([c,a.toString()],a);case"Boolean":case"Number":case"String":return i([c,a.valueOf()],a)}if(t&&"toJSON"in a)return o(a.toJSON());const u=[],A=i([l,u],a);for(const f of xoe(a))(e||!Gg(Wf(a[f])))&&u.push([o(f),o(a[f])]);return A}case ij:return i([l,a.toISOString()],a);case oj:{const{source:u,flags:A}=a;return i([l,{source:u,flags:A}],a)}case aj:{const u=[],A=i([l,u],a);for(const[f,h]of a)(e||!(Gg(Wf(f))||Gg(Wf(h))))&&u.push([o(f),o(h)]);return A}case lj:{const u=[],A=i([l,u],a);for(const f of a)(e||!Gg(Wf(f)))&&u.push(o(f));return A}}const{message:d}=a;return i([l,{name:c,message:d}],a)};return o},Yk=(e,{json:t,lossy:r}={})=>{const s=[];return yoe(!(t||r),!!t,new Map,s)(e),s},wx=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Jk(Yk(e,t)):structuredClone(e):(e,t)=>Jk(Yk(e,t));function boe(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function voe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function woe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||boe,s=e.options.footnoteBackLabel||voe,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[c]);if(!d)continue;const u=e.all(d),A=String(d.identifier).toUpperCase(),f=cf(A.toLowerCase());let h=0;const g=[],p=e.footnoteCounts.get(A);for(;p!==void 0&&++h<=p;){g.length>0&&g.push({type:"text",value:" "});let j=typeof r=="string"?r:r(c,h);typeof j=="string"&&(j={type:"text",value:j}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(c,h),className:["data-footnote-backref"]},children:Array.isArray(j)?j:[j]})}const b=u[u.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const j=b.children[b.children.length-1];j&&j.type==="text"?j.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...g)}else u.push(...g);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(u,!0)};e.patch(d,x),l.push(x)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...wx(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Jy=function(e){if(e==null)return Boe;if(typeof e=="function")return Yy(e);if(typeof e=="object")return Array.isArray(e)?joe(e):Coe(e);if(typeof e=="string")return Noe(e);throw new Error("Expected function, string, or object as test")};function joe(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Jy(e[r]);return Yy(s);function s(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function Coe(e){const t=e;return Yy(r);function r(s){const i=s;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function Noe(e){return Yy(t);function t(r){return r&&r.type===e}}function Yy(e){return t;function t(r,s,i){return!!(koe(r)&&e.call(this,r,typeof s=="number"?s:void 0,i||void 0))}}function Boe(){return!0}function koe(e){return e!==null&&typeof e=="object"&&"type"in e}const fF=[],Soe=!0,r2=!1,Eoe="skip";function mF(e,t,r,s){let i;typeof t=="function"&&typeof r!="function"?(s=r,r=t):i=t;const o=Jy(i),a=s?-1:1;l(e,void 0,[])();function l(c,d,u){const A=c&&typeof c=="object"?c:{};if(typeof A.type=="string"){const h=typeof A.tagName=="string"?A.tagName:typeof A.name=="string"?A.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(c.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=fF,g,p,b;if((!t||o(c,d,u[u.length-1]||void 0))&&(h=Ioe(r(c,u)),h[0]===r2))return h;if("children"in c&&c.children){const x=c;if(x.children&&h[0]!==Eoe)for(p=(s?x.children.length:-1)+a,b=u.concat(x);p>-1&&p<x.children.length;){const j=x.children[p];if(g=l(j,p,b)(),g[0]===r2)return g;p=typeof g[1]=="number"?g[1]:p+a}}return h}}}function Ioe(e){return Array.isArray(e)?e:typeof e=="number"?[Soe,e]:e==null?fF:[e]}function cj(e,t,r,s){let i,o,a;typeof t=="function"&&typeof r!="function"?(o=void 0,a=t,i=r):(o=t,a=r,i=s),mF(e,o,l,i);function l(c,d){const u=d[d.length-1],A=u?u.children.indexOf(c):void 0;return a(c,A,u)}}const n2={}.hasOwnProperty,Toe={};function Foe(e,t){const r=t||Toe,s=new Map,i=new Map,o=new Map,a={...moe,...r.handlers},l={all:d,applyData:Poe,definitionById:s,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:c,options:r,patch:Loe,wrap:Roe};return cj(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const A=u.type==="definition"?s:i,f=String(u.identifier).toUpperCase();A.has(f)||A.set(f,u)}}),l;function c(u,A){const f=u.type,h=l.handlers[f];if(n2.call(l.handlers,f)&&h)return h(l,u,A);if(l.options.passThrough&&l.options.passThrough.includes(f)){if("children"in u){const{children:p,...b}=u,x=wx(b);return x.children=l.all(u),x}return wx(u)}return(l.options.unknownHandler||Uoe)(l,u,A)}function d(u){const A=[];if("children"in u){const f=u.children;let h=-1;for(;++h<f.length;){const g=l.one(f[h],u);if(g){if(h&&f[h-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=Zk(g.value)),!Array.isArray(g)&&g.type==="element")){const p=g.children[0];p&&p.type==="text"&&(p.value=Zk(p.value))}Array.isArray(g)?A.push(...g):A.push(g)}}}return A}}function Loe(e,t){e.position&&(t.position=vne(e))}function Poe(e,t){let r=t;if(e&&e.data){const s=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof s=="string")if(r.type==="element")r.tagName=s;else{const a="children"in r?r.children:[r];r={type:"element",tagName:s,properties:{},children:a}}r.type==="element"&&o&&Object.assign(r.properties,wx(o)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function Uoe(e,t){const r=t.data||{},s="value"in t&&!(n2.call(r,"hProperties")||n2.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function Roe(e,t){const r=[];let s=-1;for(t&&r.push({type:"text",value:`
`});++s<e.length;)s&&r.push({type:"text",value:`
`}),r.push(e[s]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function Zk(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function e4(e,t){const r=Foe(e,t),s=r.one(e,void 0),i=woe(r),o=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function Moe(e,t){return e&&"run"in e?async function(r,s){const i=e4(r,{file:s,...t});await e.run(i,s)}:function(r,s){return e4(r,{file:s,...e||t})}}function t4(e){if(e)throw e}var O0=Object.prototype.hasOwnProperty,pF=Object.prototype.toString,r4=Object.defineProperty,n4=Object.getOwnPropertyDescriptor,s4=function(t){return typeof Array.isArray=="function"?Array.isArray(t):pF.call(t)==="[object Array]"},i4=function(t){if(!t||pF.call(t)!=="[object Object]")return!1;var r=O0.call(t,"constructor"),s=t.constructor&&t.constructor.prototype&&O0.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!s)return!1;var i;for(i in t);return typeof i>"u"||O0.call(t,i)},o4=function(t,r){r4&&r.name==="__proto__"?r4(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},a4=function(t,r){if(r==="__proto__")if(O0.call(t,r)){if(n4)return n4(t,r).value}else return;return t[r]},Doe=function e(){var t,r,s,i,o,a,l=arguments[0],c=1,d=arguments.length,u=!1;for(typeof l=="boolean"&&(u=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<d;++c)if(t=arguments[c],t!=null)for(r in t)s=a4(l,r),i=a4(t,r),l!==i&&(u&&i&&(i4(i)||(o=s4(i)))?(o?(o=!1,a=s&&s4(s)?s:[]):a=s&&i4(s)?s:{},o4(l,{name:r,newValue:e(u,a,i)})):typeof i<"u"&&o4(l,{name:r,newValue:i}));return l};const ev=xp(Doe);function s2(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Ooe(){const e=[],t={run:r,use:s};return t;function r(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(c,...d){const u=e[++o];let A=-1;if(c){a(c);return}for(;++A<i.length;)(d[A]===null||d[A]===void 0)&&(d[A]=i[A]);i=d,u?Qoe(u,l)(...d):a(null,...d)}}function s(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Qoe(e,t){let r;return s;function s(...a){const l=e.length>a.length;let c;l&&a.push(i);try{c=e.apply(this,a)}catch(d){const u=d;if(l&&r)throw u;return i(u)}l||(c&&c.then&&typeof c.then=="function"?c.then(o,i):c instanceof Error?i(c):o(c))}function i(a,...l){r||(r=!0,t(a,...l))}function o(a){i(null,a)}}const il={basename:_oe,dirname:Hoe,extname:$oe,join:Voe,sep:"/"};function _oe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Hp(e);let r=0,s=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){r=i+1;break}}else s<0&&(o=!0,s=i+1);return s<0?"":e.slice(r,s)}if(t===e)return"";let a=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){r=i+1;break}}else a<0&&(o=!0,a=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(s=i):(l=-1,s=a));return r===s?s=a:s<0&&(s=e.length),e.slice(r,s)}function Hoe(e){if(Hp(e),e.length===0)return".";let t=-1,r=e.length,s;for(;--r;)if(e.codePointAt(r)===47){if(s){t=r;break}}else s||(s=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function $oe(e){Hp(e);let t=e.length,r=-1,s=0,i=-1,o=0,a;for(;t--;){const l=e.codePointAt(t);if(l===47){if(a){s=t+1;break}continue}r<0&&(a=!0,r=t+1),l===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||r<0||o===0||o===1&&i===r-1&&i===s+1?"":e.slice(i,r)}function Voe(...e){let t=-1,r;for(;++t<e.length;)Hp(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":Koe(r)}function Koe(e){Hp(e);const t=e.codePointAt(0)===47;let r=zoe(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function zoe(e,t){let r="",s=0,i=-1,o=0,a=-1,l,c;for(;++a<=e.length;){if(a<e.length)l=e.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(r.length<2||s!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(c=r.lastIndexOf("/"),c!==r.length-1){c<0?(r="",s=0):(r=r.slice(0,c),s=r.length-1-r.lastIndexOf("/")),i=a,o=0;continue}}else if(r.length>0){r="",s=0,i=a,o=0;continue}}t&&(r=r.length>0?r+"/..":"..",s=2)}else r.length>0?r+="/"+e.slice(i+1,a):r=e.slice(i+1,a),s=a-i-1;i=a,o=0}else l===46&&o>-1?o++:o=-1}return r}function Hp(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Woe={cwd:Goe};function Goe(){return"/"}function i2(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function qoe(e){if(typeof e=="string")e=new URL(e);else if(!i2(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Xoe(e)}function Xoe(e){if(e.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const s=t.codePointAt(r+2);if(s===70||s===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const tv=["history","path","basename","stem","extname","dirname"];class gF{constructor(t){let r;t?i2(t)?r={path:t}:typeof t=="string"||Joe(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":Woe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<tv.length;){const o=tv[s];o in r&&r[o]!==void 0&&r[o]!==null&&(this[o]=o==="history"?[...r[o]]:r[o])}let i;for(i in r)tv.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?il.basename(this.path):void 0}set basename(t){nv(t,"basename"),rv(t,"basename"),this.path=il.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?il.dirname(this.path):void 0}set dirname(t){l4(this.basename,"dirname"),this.path=il.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?il.extname(this.path):void 0}set extname(t){if(rv(t,"extname"),l4(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=il.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){i2(t)&&(t=qoe(t)),nv(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?il.basename(this.path,this.extname):void 0}set stem(t){nv(t,"stem"),rv(t,"stem"),this.path=il.join(this.dirname||"",t+(this.extname||""))}fail(t,r,s){const i=this.message(t,r,s);throw i.fatal=!0,i}info(t,r,s){const i=this.message(t,r,s);return i.fatal=void 0,i}message(t,r,s){const i=new Ci(t,r,s);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function rv(e,t){if(e&&e.includes(il.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+il.sep+"`")}function nv(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function l4(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Joe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Yoe=function(e){const s=this.constructor.prototype,i=s[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,s),o},Zoe={}.hasOwnProperty;class uj extends Yoe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Ooe()}copy(){const t=new uj;let r=-1;for(;++r<this.attachers.length;){const s=this.attachers[r];t.use(...s)}return t.data(ev(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(ov("data",this.frozen),this.namespace[t]=r,this):Zoe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(ov("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const i=r.call(t,...s);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=qg(t),s=this.parser||this.Parser;return sv("parse",s),s(String(r),r)}process(t,r){const s=this;return this.freeze(),sv("process",this.parser||this.Parser),iv("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(o,a){const l=qg(t),c=s.parse(l);s.run(c,l,function(u,A,f){if(u||!A||!f)return d(u);const h=A,g=s.stringify(h,f);rae(g)?f.value=g:f.result=g,d(u,f)});function d(u,A){u||!A?a(u):o?o(A):r(void 0,A)}}}processSync(t){let r=!1,s;return this.freeze(),sv("processSync",this.parser||this.Parser),iv("processSync",this.compiler||this.Compiler),this.process(t,i),u4("processSync","process",r),s;function i(o,a){r=!0,t4(o),s=a}}run(t,r,s){c4(t),this.freeze();const i=this.transformers;return!s&&typeof r=="function"&&(s=r,r=void 0),s?o(void 0,s):new Promise(o);function o(a,l){const c=qg(r);i.run(t,c,d);function d(u,A,f){const h=A||t;u?l(u):a?a(h):s(void 0,h,f)}}}runSync(t,r){let s=!1,i;return this.run(t,r,o),u4("runSync","run",s),i;function o(a,l){t4(a),i=l,s=!0}}stringify(t,r){this.freeze();const s=qg(r),i=this.compiler||this.Compiler;return iv("stringify",i),c4(t),i(t,s)}use(t,...r){const s=this.attachers,i=this.namespace;if(ov("use",this.frozen),t!=null)if(typeof t=="function")c(t,r);else if(typeof t=="object")Array.isArray(t)?l(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[u,...A]=d;c(u,A)}else a(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function a(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(i.settings=ev(!0,i.settings,d.settings))}function l(d){let u=-1;if(d!=null)if(Array.isArray(d))for(;++u<d.length;){const A=d[u];o(A)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,u){let A=-1,f=-1;for(;++A<s.length;)if(s[A][0]===d){f=A;break}if(f===-1)s.push([d,...u]);else if(u.length>0){let[h,...g]=u;const p=s[f][1];s2(p)&&s2(h)&&(h=ev(!0,p,h)),s[f]=[d,h,...g]}}}}const eae=new uj().freeze();function sv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function iv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function ov(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function c4(e){if(!s2(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function u4(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function qg(e){return tae(e)?e:new gF(e)}function tae(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function rae(e){return typeof e=="string"||nae(e)}function nae(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const sae="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",d4=[],A4={allowDangerousHtml:!0},iae=/^(https?|ircs?|mailto|xmpp)$/i,oae=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function nc(e){const t=aae(e),r=lae(e);return cae(t.runSync(t.parse(r),r),e)}function aae(e){const t=e.rehypePlugins||d4,r=e.remarkPlugins||d4,s=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...A4}:A4;return eae().use($ie).use(r).use(Moe,s).use(t)}function lae(e){const t=e.children||"",r=new gF;return typeof t=="string"&&(r.value=t),r}function cae(e,t){const r=t.allowedElements,s=t.allowElement,i=t.components,o=t.disallowedElements,a=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||uae;for(const u of oae)Object.hasOwn(t,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+sae+u.id,void 0);return cj(e,d),Bne(e,{Fragment:n.Fragment,components:i,ignoreInvalidStyle:!0,jsx:n.jsx,jsxs:n.jsxs,passKeys:!0,passNode:!0});function d(u,A,f){if(u.type==="raw"&&f&&typeof A=="number")return a?f.children.splice(A,1):f.children[A]={type:"text",value:u.value},A;if(u.type==="element"){let h;for(h in Jb)if(Object.hasOwn(Jb,h)&&Object.hasOwn(u.properties,h)){const g=u.properties[h],p=Jb[h];(p===null||p.includes(u.tagName))&&(u.properties[h]=c(String(g||""),h,u))}}if(u.type==="element"){let h=r?!r.includes(u.tagName):o?o.includes(u.tagName):!1;if(!h&&s&&typeof A=="number"&&(h=!s(u,A,f)),h&&f&&typeof A=="number")return l&&u.children?f.children.splice(A,1,...u.children):f.children.splice(A,1),A}}}function uae(e){const t=e.indexOf(":"),r=e.indexOf("?"),s=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||s!==-1&&t>s||iae.test(e.slice(0,t))?e:""}function h4(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let s=0,i=r.indexOf(t);for(;i!==-1;)s++,i=r.indexOf(t,i+t.length);return s}function dae(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Aae(e,t,r){const i=Jy((r||{}).ignore||[]),o=hae(t);let a=-1;for(;++a<o.length;)mF(e,"text",l);function l(d,u){let A=-1,f;for(;++A<u.length;){const h=u[A],g=f?f.children:void 0;if(i(h,g?g.indexOf(h):void 0,f))return;f=h}if(f)return c(d,u)}function c(d,u){const A=u[u.length-1],f=o[a][0],h=o[a][1];let g=0;const b=A.children.indexOf(d);let x=!1,j=[];f.lastIndex=0;let w=f.exec(d.value);for(;w;){const S=w.index,I={index:w.index,input:w.input,stack:[...u,d]};let F=h(...w,I);if(typeof F=="string"&&(F=F.length>0?{type:"text",value:F}:void 0),F===!1?f.lastIndex=S+1:(g!==S&&j.push({type:"text",value:d.value.slice(g,S)}),Array.isArray(F)?j.push(...F):F&&j.push(F),g=S+w[0].length,x=!0),!f.global)break;w=f.exec(d.value)}return x?(g<d.value.length&&j.push({type:"text",value:d.value.slice(g)}),A.children.splice(b,1,...j)):j=[d],b+j.length}}function hae(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let s=-1;for(;++s<r.length;){const i=r[s];t.push([fae(i[0]),mae(i[1])])}return t}function fae(e){return typeof e=="string"?new RegExp(dae(e),"g"):e}function mae(e){return typeof e=="function"?e:function(){return e}}const av="phrasing",lv=["autolink","link","image","label"];function pae(){return{transforms:[jae],enter:{literalAutolink:xae,literalAutolinkEmail:cv,literalAutolinkHttp:cv,literalAutolinkWww:cv},exit:{literalAutolink:wae,literalAutolinkEmail:vae,literalAutolinkHttp:yae,literalAutolinkWww:bae}}}function gae(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:av,notInConstruct:lv},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:av,notInConstruct:lv},{character:":",before:"[ps]",after:"\\/",inConstruct:av,notInConstruct:lv}]}}function xae(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function cv(e){this.config.enter.autolinkProtocol.call(this,e)}function yae(e){this.config.exit.autolinkProtocol.call(this,e)}function bae(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function vae(e){this.config.exit.autolinkEmail.call(this,e)}function wae(e){this.exit(e)}function jae(e){Aae(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Cae],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Nae]],{ignore:["link","linkReference"]})}function Cae(e,t,r,s,i){let o="";if(!xF(i)||(/^w/i.test(t)&&(r=t+r,t="",o="http://"),!Bae(r)))return!1;const a=kae(r+s);if(!a[0])return!1;const l={type:"link",title:null,url:o+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[l,{type:"text",value:a[1]}]:l}function Nae(e,t,r,s){return!xF(s,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function Bae(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function kae(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],s=r.indexOf(")");const i=h4(e,"(");let o=h4(e,")");for(;s!==-1&&i>o;)e+=r.slice(0,s+1),r=r.slice(s+1),s=r.indexOf(")"),o++;return[e,r]}function xF(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||tA(r)||Gy(r))&&(!t||r!==47)}yF.peek=Rae;function Sae(){this.buffer()}function Eae(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Iae(){this.buffer()}function Tae(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Fae(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=ka(this.sliceSerialize(e)).toLowerCase(),r.label=t}function Lae(e){this.exit(e)}function Pae(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=ka(this.sliceSerialize(e)).toLowerCase(),r.label=t}function Uae(e){this.exit(e)}function Rae(){return"["}function yF(e,t,r,s){const i=r.createTracker(s);let o=i.move("[^");const a=r.enter("footnoteReference"),l=r.enter("reference");return o+=i.move(r.safe(r.associationId(e),{after:"]",before:o})),l(),a(),o+=i.move("]"),o}function Mae(){return{enter:{gfmFootnoteCallString:Sae,gfmFootnoteCall:Eae,gfmFootnoteDefinitionLabelString:Iae,gfmFootnoteDefinition:Tae},exit:{gfmFootnoteCallString:Fae,gfmFootnoteCall:Lae,gfmFootnoteDefinitionLabelString:Pae,gfmFootnoteDefinition:Uae}}}function Dae(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:yF},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(s,i,o,a){const l=o.createTracker(a);let c=l.move("[^");const d=o.enter("footnoteDefinition"),u=o.enter("label");return c+=l.move(o.safe(o.associationId(s),{before:c,after:"]"})),u(),c+=l.move("]:"),s.children&&s.children.length>0&&(l.shift(4),c+=l.move((t?`
`:" ")+o.indentLines(o.containerFlow(s,l.current()),t?bF:Oae))),d(),c}}function Oae(e,t,r){return t===0?e:bF(e,t,r)}function bF(e,t,r){return(r?"":"    ")+e}const Qae=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];vF.peek=Kae;function _ae(){return{canContainEols:["delete"],enter:{strikethrough:$ae},exit:{strikethrough:Vae}}}function Hae(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Qae}],handlers:{delete:vF}}}function $ae(e){this.enter({type:"delete",children:[]},e)}function Vae(e){this.exit(e)}function vF(e,t,r,s){const i=r.createTracker(s),o=r.enter("strikethrough");let a=i.move("~~");return a+=r.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}function Kae(){return"~"}function zae(e){return e.length}function Wae(e,t){const r=t||{},s=(r.align||[]).concat(),i=r.stringLength||zae,o=[],a=[],l=[],c=[];let d=0,u=-1;for(;++u<e.length;){const p=[],b=[];let x=-1;for(e[u].length>d&&(d=e[u].length);++x<e[u].length;){const j=Gae(e[u][x]);if(r.alignDelimiters!==!1){const w=i(j);b[x]=w,(c[x]===void 0||w>c[x])&&(c[x]=w)}p.push(j)}a[u]=p,l[u]=b}let A=-1;if(typeof s=="object"&&"length"in s)for(;++A<d;)o[A]=f4(s[A]);else{const p=f4(s);for(;++A<d;)o[A]=p}A=-1;const f=[],h=[];for(;++A<d;){const p=o[A];let b="",x="";p===99?(b=":",x=":"):p===108?b=":":p===114&&(x=":");let j=r.alignDelimiters===!1?1:Math.max(1,c[A]-b.length-x.length);const w=b+"-".repeat(j)+x;r.alignDelimiters!==!1&&(j=b.length+j+x.length,j>c[A]&&(c[A]=j),h[A]=j),f[A]=w}a.splice(1,0,f),l.splice(1,0,h),u=-1;const g=[];for(;++u<a.length;){const p=a[u],b=l[u];A=-1;const x=[];for(;++A<d;){const j=p[A]||"";let w="",S="";if(r.alignDelimiters!==!1){const I=c[A]-(b[A]||0),F=o[A];F===114?w=" ".repeat(I):F===99?I%2?(w=" ".repeat(I/2+.5),S=" ".repeat(I/2-.5)):(w=" ".repeat(I/2),S=w):S=" ".repeat(I)}r.delimiterStart!==!1&&!A&&x.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&j==="")&&(r.delimiterStart!==!1||A)&&x.push(" "),r.alignDelimiters!==!1&&x.push(w),x.push(j),r.alignDelimiters!==!1&&x.push(S),r.padding!==!1&&x.push(" "),(r.delimiterEnd!==!1||A!==d-1)&&x.push("|")}g.push(r.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return g.join(`
`)}function Gae(e){return e==null?"":String(e)}function f4(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function qae(e,t,r,s){const i=r.enter("blockquote"),o=r.createTracker(s);o.move("> "),o.shift(2);const a=r.indentLines(r.containerFlow(e,o.current()),Xae);return i(),a}function Xae(e,t,r){return">"+(r?"":" ")+e}function Jae(e,t){return m4(e,t.inConstruct,!0)&&!m4(e,t.notInConstruct,!1)}function m4(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let s=-1;for(;++s<t.length;)if(e.includes(t[s]))return!0;return!1}function p4(e,t,r,s){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&Jae(r.stack,r.unsafe[i]))return/[ \t]/.test(s.before)?"":" ";return`\\
`}function Yae(e,t){const r=String(e);let s=r.indexOf(t),i=s,o=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;s!==-1;)s===i?++o>a&&(a=o):o=1,i=s+t.length,s=r.indexOf(t,i);return a}function Zae(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function ele(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function tle(e,t,r,s){const i=ele(r),o=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(Zae(e,r)){const A=r.enter("codeIndented"),f=r.indentLines(o,rle);return A(),f}const l=r.createTracker(s),c=i.repeat(Math.max(Yae(o,i)+1,3)),d=r.enter("codeFenced");let u=l.move(c);if(e.lang){const A=r.enter(`codeFencedLang${a}`);u+=l.move(r.safe(e.lang,{before:u,after:" ",encode:["`"],...l.current()})),A()}if(e.lang&&e.meta){const A=r.enter(`codeFencedMeta${a}`);u+=l.move(" "),u+=l.move(r.safe(e.meta,{before:u,after:`
`,encode:["`"],...l.current()})),A()}return u+=l.move(`
`),o&&(u+=l.move(o+`
`)),u+=l.move(c),d(),u}function rle(e,t,r){return(r?"":"    ")+e}function dj(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function nle(e,t,r,s){const i=dj(r),o=i==='"'?"Quote":"Apostrophe",a=r.enter("definition");let l=r.enter("label");const c=r.createTracker(s);let d=c.move("[");return d+=c.move(r.safe(r.associationId(e),{before:d,after:"]",...c.current()})),d+=c.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(r.safe(e.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(l=r.enter("destinationRaw"),d+=c.move(r.safe(e.url,{before:d,after:e.title?" ":`
`,...c.current()}))),l(),e.title&&(l=r.enter(`title${o}`),d+=c.move(" "+i),d+=c.move(r.safe(e.title,{before:d,after:i,...c.current()})),d+=c.move(i),l()),a(),d}function sle(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function np(e){return"&#x"+e.toString(16).toUpperCase()+";"}function jx(e,t,r){const s=qh(e),i=qh(t);return s===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:s===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}wF.peek=ile;function wF(e,t,r,s){const i=sle(r),o=r.enter("emphasis"),a=r.createTracker(s),l=a.move(i);let c=a.move(r.containerPhrasing(e,{after:i,before:l,...a.current()}));const d=c.charCodeAt(0),u=jx(s.before.charCodeAt(s.before.length-1),d,i);u.inside&&(c=np(d)+c.slice(1));const A=c.charCodeAt(c.length-1),f=jx(s.after.charCodeAt(0),A,i);f.inside&&(c=c.slice(0,-1)+np(A));const h=a.move(i);return o(),r.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},l+c+h}function ile(e,t,r){return r.options.emphasis||"*"}function ole(e,t){let r=!1;return cj(e,function(s){if("value"in s&&/\r?\n|\r/.test(s.value)||s.type==="break")return r=!0,r2}),!!((!e.depth||e.depth<3)&&rj(e)&&(t.options.setext||r))}function ale(e,t,r,s){const i=Math.max(Math.min(6,e.depth||1),1),o=r.createTracker(s);if(ole(e,r)){const u=r.enter("headingSetext"),A=r.enter("phrasing"),f=r.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return A(),u(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const a="#".repeat(i),l=r.enter("headingAtx"),c=r.enter("phrasing");o.move(a+" ");let d=r.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(d)&&(d=np(d.charCodeAt(0))+d.slice(1)),d=d?a+" "+d:a,r.options.closeAtx&&(d+=" "+a),c(),l(),d}jF.peek=lle;function jF(e){return e.value||""}function lle(){return"<"}CF.peek=cle;function CF(e,t,r,s){const i=dj(r),o=i==='"'?"Quote":"Apostrophe",a=r.enter("image");let l=r.enter("label");const c=r.createTracker(s);let d=c.move("![");return d+=c.move(r.safe(e.alt,{before:d,after:"]",...c.current()})),d+=c.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(r.safe(e.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(l=r.enter("destinationRaw"),d+=c.move(r.safe(e.url,{before:d,after:e.title?" ":")",...c.current()}))),l(),e.title&&(l=r.enter(`title${o}`),d+=c.move(" "+i),d+=c.move(r.safe(e.title,{before:d,after:i,...c.current()})),d+=c.move(i),l()),d+=c.move(")"),a(),d}function cle(){return"!"}NF.peek=ule;function NF(e,t,r,s){const i=e.referenceType,o=r.enter("imageReference");let a=r.enter("label");const l=r.createTracker(s);let c=l.move("![");const d=r.safe(e.alt,{before:c,after:"]",...l.current()});c+=l.move(d+"]["),a();const u=r.stack;r.stack=[],a=r.enter("reference");const A=r.safe(r.associationId(e),{before:c,after:"]",...l.current()});return a(),r.stack=u,o(),i==="full"||!d||d!==A?c+=l.move(A+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function ule(){return"!"}BF.peek=dle;function BF(e,t,r){let s=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(s);)i+="`";for(/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^`|`$/.test(s))&&(s=" "+s+" ");++o<r.unsafe.length;){const a=r.unsafe[o],l=r.compilePattern(a);let c;if(a.atBreak)for(;c=l.exec(s);){let d=c.index;s.charCodeAt(d)===10&&s.charCodeAt(d-1)===13&&d--,s=s.slice(0,d)+" "+s.slice(c.index+1)}}return i+s+i}function dle(){return"`"}function kF(e,t){const r=rj(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}SF.peek=Ale;function SF(e,t,r,s){const i=dj(r),o=i==='"'?"Quote":"Apostrophe",a=r.createTracker(s);let l,c;if(kF(e,r)){const u=r.stack;r.stack=[],l=r.enter("autolink");let A=a.move("<");return A+=a.move(r.containerPhrasing(e,{before:A,after:">",...a.current()})),A+=a.move(">"),l(),r.stack=u,A}l=r.enter("link"),c=r.enter("label");let d=a.move("[");return d+=a.move(r.containerPhrasing(e,{before:d,after:"](",...a.current()})),d+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=r.enter("destinationLiteral"),d+=a.move("<"),d+=a.move(r.safe(e.url,{before:d,after:">",...a.current()})),d+=a.move(">")):(c=r.enter("destinationRaw"),d+=a.move(r.safe(e.url,{before:d,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=r.enter(`title${o}`),d+=a.move(" "+i),d+=a.move(r.safe(e.title,{before:d,after:i,...a.current()})),d+=a.move(i),c()),d+=a.move(")"),l(),d}function Ale(e,t,r){return kF(e,r)?"<":"["}EF.peek=hle;function EF(e,t,r,s){const i=e.referenceType,o=r.enter("linkReference");let a=r.enter("label");const l=r.createTracker(s);let c=l.move("[");const d=r.containerPhrasing(e,{before:c,after:"]",...l.current()});c+=l.move(d+"]["),a();const u=r.stack;r.stack=[],a=r.enter("reference");const A=r.safe(r.associationId(e),{before:c,after:"]",...l.current()});return a(),r.stack=u,o(),i==="full"||!d||d!==A?c+=l.move(A+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function hle(){return"["}function Aj(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function fle(e){const t=Aj(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function mle(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function IF(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function ple(e,t,r,s){const i=r.enter("list"),o=r.bulletCurrent;let a=e.ordered?mle(r):Aj(r);const l=e.ordered?a==="."?")":".":fle(r);let c=t&&r.bulletLastUsed?a===r.bulletLastUsed:!1;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&u&&(!u.children||!u.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(c=!0),IF(r)===a&&u){let A=-1;for(;++A<e.children.length;){const f=e.children[A];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=l),r.bulletCurrent=a;const d=r.containerFlow(e,s);return r.bulletLastUsed=a,r.bulletCurrent=o,i(),d}function gle(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function xle(e,t,r,s){const i=gle(r);let o=r.bulletCurrent||Aj(r);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let a=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const l=r.createTracker(s);l.move(o+" ".repeat(a-o.length)),l.shift(a);const c=r.enter("listItem"),d=r.indentLines(r.containerFlow(e,l.current()),u);return c(),d;function u(A,f,h){return f?(h?"":" ".repeat(a))+A:(h?o:o+" ".repeat(a-o.length))+A}}function yle(e,t,r,s){const i=r.enter("paragraph"),o=r.enter("phrasing"),a=r.containerPhrasing(e,s);return o(),i(),a}const ble=Jy(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function vle(e,t,r,s){return(e.children.some(function(a){return ble(a)})?r.containerPhrasing:r.containerFlow).call(r,e,s)}function wle(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}TF.peek=jle;function TF(e,t,r,s){const i=wle(r),o=r.enter("strong"),a=r.createTracker(s),l=a.move(i+i);let c=a.move(r.containerPhrasing(e,{after:i,before:l,...a.current()}));const d=c.charCodeAt(0),u=jx(s.before.charCodeAt(s.before.length-1),d,i);u.inside&&(c=np(d)+c.slice(1));const A=c.charCodeAt(c.length-1),f=jx(s.after.charCodeAt(0),A,i);f.inside&&(c=c.slice(0,-1)+np(A));const h=a.move(i+i);return o(),r.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},l+c+h}function jle(e,t,r){return r.options.strong||"*"}function Cle(e,t,r,s){return r.safe(e.value,s)}function Nle(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Ble(e,t,r){const s=(IF(r)+(r.options.ruleSpaces?" ":"")).repeat(Nle(r));return r.options.ruleSpaces?s.slice(0,-1):s}const FF={blockquote:qae,break:p4,code:tle,definition:nle,emphasis:wF,hardBreak:p4,heading:ale,html:jF,image:CF,imageReference:NF,inlineCode:BF,link:SF,linkReference:EF,list:ple,listItem:xle,paragraph:yle,root:vle,strong:TF,text:Cle,thematicBreak:Ble};function kle(){return{enter:{table:Sle,tableData:g4,tableHeader:g4,tableRow:Ile},exit:{codeText:Tle,table:Ele,tableData:uv,tableHeader:uv,tableRow:uv}}}function Sle(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function Ele(e){this.exit(e),this.data.inTable=void 0}function Ile(e){this.enter({type:"tableRow",children:[]},e)}function uv(e){this.exit(e)}function g4(e){this.enter({type:"tableCell",children:[]},e)}function Tle(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Fle));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function Fle(e,t){return t==="|"?t:e}function Lle(e){const t=e||{},r=t.tableCellPadding,s=t.tablePipeAlign,i=t.stringLength,o=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:a,tableCell:c,tableRow:l}};function a(h,g,p,b){return d(u(h,p,b),h.align)}function l(h,g,p,b){const x=A(h,p,b),j=d([x]);return j.slice(0,j.indexOf(`
`))}function c(h,g,p,b){const x=p.enter("tableCell"),j=p.enter("phrasing"),w=p.containerPhrasing(h,{...b,before:o,after:o});return j(),x(),w}function d(h,g){return Wae(h,{align:g,alignDelimiters:s,padding:r,stringLength:i})}function u(h,g,p){const b=h.children;let x=-1;const j=[],w=g.enter("table");for(;++x<b.length;)j[x]=A(b[x],g,p);return w(),j}function A(h,g,p){const b=h.children;let x=-1;const j=[],w=g.enter("tableRow");for(;++x<b.length;)j[x]=c(b[x],h,g,p);return w(),j}function f(h,g,p){let b=FF.inlineCode(h,g,p);return p.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function Ple(){return{exit:{taskListCheckValueChecked:x4,taskListCheckValueUnchecked:x4,paragraph:Rle}}}function Ule(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Mle}}}function x4(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Rle(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const s=r.children[0];if(s&&s.type==="text"){const i=t.children;let o=-1,a;for(;++o<i.length;){const l=i[o];if(l.type==="paragraph"){a=l;break}}a===r&&(s.value=s.value.slice(1),s.value.length===0?r.children.shift():r.position&&s.position&&typeof s.position.start.offset=="number"&&(s.position.start.column++,s.position.start.offset++,r.position.start=Object.assign({},s.position.start)))}}this.exit(e)}function Mle(e,t,r,s){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",l=r.createTracker(s);o&&l.move(a);let c=FF.listItem(e,t,r,{...s,...l.current()});return o&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),c;function d(u){return u+a}}function Dle(){return[pae(),Mae(),_ae(),kle(),Ple()]}function Ole(e){return{extensions:[gae(),Dae(e),Hae(),Lle(e),Ule()]}}const Qle={tokenize:zle,partial:!0},LF={tokenize:Wle,partial:!0},PF={tokenize:Gle,partial:!0},UF={tokenize:qle,partial:!0},_le={tokenize:Xle,partial:!0},RF={name:"wwwAutolink",tokenize:Vle,previous:DF},MF={name:"protocolAutolink",tokenize:Kle,previous:OF},dc={name:"emailAutolink",tokenize:$le,previous:QF},Cl={};function Hle(){return{text:Cl}}let cd=48;for(;cd<123;)Cl[cd]=dc,cd++,cd===58?cd=65:cd===91&&(cd=97);Cl[43]=dc;Cl[45]=dc;Cl[46]=dc;Cl[95]=dc;Cl[72]=[dc,MF];Cl[104]=[dc,MF];Cl[87]=[dc,RF];Cl[119]=[dc,RF];function $le(e,t,r){const s=this;let i,o;return a;function a(A){return!o2(A)||!QF.call(s,s.previous)||hj(s.events)?r(A):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(A))}function l(A){return o2(A)?(e.consume(A),l):A===64?(e.consume(A),c):r(A)}function c(A){return A===46?e.check(_le,u,d)(A):A===45||A===95||ji(A)?(o=!0,e.consume(A),c):u(A)}function d(A){return e.consume(A),i=!0,c}function u(A){return o&&i&&$i(s.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(A)):r(A)}}function Vle(e,t,r){const s=this;return i;function i(a){return a!==87&&a!==119||!DF.call(s,s.previous)||hj(s.events)?r(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Qle,e.attempt(LF,e.attempt(PF,o),r),r)(a))}function o(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function Kle(e,t,r){const s=this;let i="",o=!1;return a;function a(A){return(A===72||A===104)&&OF.call(s,s.previous)&&!hj(s.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(A),e.consume(A),l):r(A)}function l(A){if($i(A)&&i.length<5)return i+=String.fromCodePoint(A),e.consume(A),l;if(A===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(A),c}return r(A)}function c(A){return A===47?(e.consume(A),o?d:(o=!0,c)):r(A)}function d(A){return A===null||bx(A)||kn(A)||tA(A)||Gy(A)?r(A):e.attempt(LF,e.attempt(PF,u),r)(A)}function u(A){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(A)}}function zle(e,t,r){let s=0;return i;function i(a){return(a===87||a===119)&&s<3?(s++,e.consume(a),i):a===46&&s===3?(e.consume(a),o):r(a)}function o(a){return a===null?r(a):t(a)}}function Wle(e,t,r){let s,i,o;return a;function a(d){return d===46||d===95?e.check(UF,c,l)(d):d===null||kn(d)||tA(d)||d!==45&&Gy(d)?c(d):(o=!0,e.consume(d),a)}function l(d){return d===95?s=!0:(i=s,s=void 0),e.consume(d),a}function c(d){return i||s||!o?r(d):t(d)}}function Gle(e,t){let r=0,s=0;return i;function i(a){return a===40?(r++,e.consume(a),i):a===41&&s<r?o(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(UF,t,o)(a):a===null||kn(a)||tA(a)?t(a):(e.consume(a),i)}function o(a){return a===41&&s++,e.consume(a),i}}function qle(e,t,r){return s;function s(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),s):l===38?(e.consume(l),o):l===93?(e.consume(l),i):l===60||l===null||kn(l)||tA(l)?t(l):r(l)}function i(l){return l===null||l===40||l===91||kn(l)||tA(l)?t(l):s(l)}function o(l){return $i(l)?a(l):r(l)}function a(l){return l===59?(e.consume(l),s):$i(l)?(e.consume(l),a):r(l)}}function Xle(e,t,r){return s;function s(o){return e.consume(o),i}function i(o){return ji(o)?r(o):t(o)}}function DF(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||kn(e)}function OF(e){return!$i(e)}function QF(e){return!(e===47||o2(e))}function o2(e){return e===43||e===45||e===46||e===95||ji(e)}function hj(e){let t=e.length,r=!1;for(;t--;){const s=e[t][1];if((s.type==="labelLink"||s.type==="labelImage")&&!s._balanced){r=!0;break}if(s._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const Jle={tokenize:ice,partial:!0};function Yle(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:rce,continuation:{tokenize:nce},exit:sce}},text:{91:{name:"gfmFootnoteCall",tokenize:tce},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Zle,resolveTo:ece}}}}function Zle(e,t,r){const s=this;let i=s.events.length;const o=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let a;for(;i--;){const c=s.events[i][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!a||!a._balanced)return r(c);const d=ka(s.sliceSerialize({start:a.end,end:s.now()}));return d.codePointAt(0)!==94||!o.includes(d.slice(1))?r(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function ece(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const s={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},l=[e[r+1],e[r+2],["enter",s,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",a,t],["exit",a,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",s,t]];return e.splice(r,e.length-r+1,...l),e}function tce(e,t,r){const s=this,i=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let o=0,a;return l;function l(A){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(A),e.exit("gfmFootnoteCallLabelMarker"),c}function c(A){return A!==94?r(A):(e.enter("gfmFootnoteCallMarker"),e.consume(A),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(A){if(o>999||A===93&&!a||A===null||A===91||kn(A))return r(A);if(A===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(ka(s.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(A),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(A)}return kn(A)||(a=!0),o++,e.consume(A),A===92?u:d}function u(A){return A===91||A===92||A===93?(e.consume(A),o++,d):d(A)}}function rce(e,t,r){const s=this,i=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let o,a=0,l;return c;function c(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):r(g)}function u(g){if(a>999||g===93&&!l||g===null||g===91||kn(g))return r(g);if(g===93){e.exit("chunkString");const p=e.exit("gfmFootnoteDefinitionLabelString");return o=ka(s.sliceSerialize(p)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return kn(g)||(l=!0),a++,e.consume(g),g===92?A:u}function A(g){return g===91||g===92||g===93?(e.consume(g),a++,u):u(g)}function f(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(o)||i.push(o),_r(e,h,"gfmFootnoteDefinitionWhitespace")):r(g)}function h(g){return t(g)}}function nce(e,t,r){return e.check(_p,t,e.attempt(Jle,t,r))}function sce(e){e.exit("gfmFootnoteDefinition")}function ice(e,t,r){const s=this;return _r(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const a=s.events[s.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(o):r(o)}}function oce(e){let r=(e||{}).singleTilde;const s={name:"strikethrough",tokenize:o,resolveAll:i};return r==null&&(r=!0),{text:{126:s},insideSpan:{null:[s]},attentionMarkers:{null:[126]}};function i(a,l){let c=-1;for(;++c<a.length;)if(a[c][0]==="enter"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._close){let d=c;for(;d--;)if(a[d][0]==="exit"&&a[d][1].type==="strikethroughSequenceTemporary"&&a[d][1]._open&&a[c][1].end.offset-a[c][1].start.offset===a[d][1].end.offset-a[d][1].start.offset){a[c][1].type="strikethroughSequence",a[d][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},a[d][1].start),end:Object.assign({},a[c][1].end)},A={type:"strikethroughText",start:Object.assign({},a[d][1].end),end:Object.assign({},a[c][1].start)},f=[["enter",u,l],["enter",a[d][1],l],["exit",a[d][1],l],["enter",A,l]],h=l.parser.constructs.insideSpan.null;h&&Eo(f,f.length,0,qy(h,a.slice(d+1,c),l)),Eo(f,f.length,0,[["exit",A,l],["enter",a[c][1],l],["exit",a[c][1],l],["exit",u,l]]),Eo(a,d-1,c-d+3,f),c=d+f.length-2;break}}for(c=-1;++c<a.length;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function o(a,l,c){const d=this.previous,u=this.events;let A=0;return f;function f(g){return d===126&&u[u.length-1][1].type!=="characterEscape"?c(g):(a.enter("strikethroughSequenceTemporary"),h(g))}function h(g){const p=qh(d);if(g===126)return A>1?c(g):(a.consume(g),A++,h);if(A<2&&!r)return c(g);const b=a.exit("strikethroughSequenceTemporary"),x=qh(g);return b._open=!x||x===2&&!!p,b._close=!p||p===2&&!!x,l(g)}}}class ace{constructor(){this.map=[]}add(t,r,s){lce(this,t,r,s)}consume(t){if(this.map.sort(function(o,a){return o[0]-a[0]}),this.map.length===0)return;let r=this.map.length;const s=[];for(;r>0;)r-=1,s.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];s.push(t.slice()),t.length=0;let i=s.pop();for(;i;){for(const o of i)t.push(o);i=s.pop()}this.map.length=0}}function lce(e,t,r,s){let i=0;if(!(r===0&&s.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...s);return}i+=1}e.map.push([t,r,s])}}function cce(e,t){let r=!1;const s=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&s.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=s.length-1;s[o]=s[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return s}function uce(){return{flow:{null:{name:"table",tokenize:dce,resolveAll:Ace}}}}function dce(e,t,r){const s=this;let i=0,o=0,a;return l;function l(B){let R=s.events.length-1;for(;R>-1;){const P=s.events[R][1].type;if(P==="lineEnding"||P==="linePrefix")R--;else break}const D=R>-1?s.events[R][1].type:null,H=D==="tableHead"||D==="tableRow"?F:c;return H===F&&s.parser.lazy[s.now().line]?r(B):H(B)}function c(B){return e.enter("tableHead"),e.enter("tableRow"),d(B)}function d(B){return B===124||(a=!0,o+=1),u(B)}function u(B){return B===null?r(B):ir(B)?o>1?(o=0,s.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),h):r(B):Lr(B)?_r(e,u,"whitespace")(B):(o+=1,a&&(a=!1,i+=1),B===124?(e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),a=!0,u):(e.enter("data"),A(B)))}function A(B){return B===null||B===124||kn(B)?(e.exit("data"),u(B)):(e.consume(B),B===92?f:A)}function f(B){return B===92||B===124?(e.consume(B),A):A(B)}function h(B){return s.interrupt=!1,s.parser.lazy[s.now().line]?r(B):(e.enter("tableDelimiterRow"),a=!1,Lr(B)?_r(e,g,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):g(B))}function g(B){return B===45||B===58?b(B):B===124?(a=!0,e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),p):I(B)}function p(B){return Lr(B)?_r(e,b,"whitespace")(B):b(B)}function b(B){return B===58?(o+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(B),e.exit("tableDelimiterMarker"),x):B===45?(o+=1,x(B)):B===null||ir(B)?S(B):I(B)}function x(B){return B===45?(e.enter("tableDelimiterFiller"),j(B)):I(B)}function j(B){return B===45?(e.consume(B),j):B===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(B),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(B))}function w(B){return Lr(B)?_r(e,S,"whitespace")(B):S(B)}function S(B){return B===124?g(B):B===null||ir(B)?!a||i!==o?I(B):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(B)):I(B)}function I(B){return r(B)}function F(B){return e.enter("tableRow"),T(B)}function T(B){return B===124?(e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),T):B===null||ir(B)?(e.exit("tableRow"),t(B)):Lr(B)?_r(e,T,"whitespace")(B):(e.enter("data"),U(B))}function U(B){return B===null||B===124||kn(B)?(e.exit("data"),T(B)):(e.consume(B),B===92?K:U)}function K(B){return B===92||B===124?(e.consume(B),U):U(B)}}function Ace(e,t){let r=-1,s=!0,i=0,o=[0,0,0,0],a=[0,0,0,0],l=!1,c=0,d,u,A;const f=new ace;for(;++r<e.length;){const h=e[r],g=h[1];h[0]==="enter"?g.type==="tableHead"?(l=!1,c!==0&&(y4(f,t,c,d,u),u=void 0,c=0),d={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(r,0,[["enter",d,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(s=!0,A=void 0,o=[0,0,0,0],a=[0,r+1,0,0],l&&(l=!1,u={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(r,0,[["enter",u,t]])),i=g.type==="tableDelimiterRow"?2:u?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(s=!1,a[2]===0&&(o[1]!==0&&(a[0]=a[1],A=Xg(f,t,o,i,void 0,A),o=[0,0,0,0]),a[2]=r)):g.type==="tableCellDivider"&&(s?s=!1:(o[1]!==0&&(a[0]=a[1],A=Xg(f,t,o,i,void 0,A)),o=a,a=[o[1],r,0,0])):g.type==="tableHead"?(l=!0,c=r):g.type==="tableRow"||g.type==="tableDelimiterRow"?(c=r,o[1]!==0?(a[0]=a[1],A=Xg(f,t,o,i,r,A)):a[1]!==0&&(A=Xg(f,t,a,i,r,A)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(a[3]=r)}for(c!==0&&y4(f,t,c,d,u),f.consume(t.events),r=-1;++r<t.events.length;){const h=t.events[r];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=cce(t.events,r))}return e}function Xg(e,t,r,s,i,o){const a=s===1?"tableHeader":s===2?"tableDelimiter":"tableData",l="tableContent";r[0]!==0&&(o.end=Object.assign({},hh(t.events,r[0])),e.add(r[0],0,[["exit",o,t]]));const c=hh(t.events,r[1]);if(o={type:a,start:Object.assign({},c),end:Object.assign({},c)},e.add(r[1],0,[["enter",o,t]]),r[2]!==0){const d=hh(t.events,r[2]),u=hh(t.events,r[3]),A={type:l,start:Object.assign({},d),end:Object.assign({},u)};if(e.add(r[2],0,[["enter",A,t]]),s!==2){const f=t.events[r[2]],h=t.events[r[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type="chunkText",f[1].contentType="text",r[3]>r[2]+1){const g=r[2]+1,p=r[3]-r[2]-1;e.add(g,p,[])}}e.add(r[3]+1,0,[["exit",A,t]])}return i!==void 0&&(o.end=Object.assign({},hh(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function y4(e,t,r,s,i){const o=[],a=hh(t.events,r);i&&(i.end=Object.assign({},a),o.push(["exit",i,t])),s.end=Object.assign({},a),o.push(["exit",s,t]),e.add(r+1,0,o)}function hh(e,t){const r=e[t],s=r[0]==="enter"?"start":"end";return r[1][s]}const hce={name:"tasklistCheck",tokenize:mce};function fce(){return{text:{91:hce}}}function mce(e,t,r){const s=this;return i;function i(c){return s.previous!==null||!s._gfmTasklistFirstContentOfListItem?r(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),o)}function o(c){return kn(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),a):r(c)}function a(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):r(c)}function l(c){return ir(c)?t(c):Lr(c)?e.check({tokenize:pce},t,r)(c):r(c)}}function pce(e,t,r){return _r(e,s,"whitespace");function s(i){return i===null?r(i):t(i)}}function gce(e){return X8([Hle(),Yle(),oce(e),uce(),fce()])}const xce={};function Qd(e){const t=this,r=e||xce,s=t.data(),i=s.micromarkExtensions||(s.micromarkExtensions=[]),o=s.fromMarkdownExtensions||(s.fromMarkdownExtensions=[]),a=s.toMarkdownExtensions||(s.toMarkdownExtensions=[]);i.push(gce(r)),o.push(Dle()),a.push(Ole(r))}const Oi={table:"min-w-full border border-gray-300 border-collapse my-4",thead:"bg-gray-50",th:"border border-gray-300 px-4 py-2 text-left font-semibold",td:"border border-gray-300 px-4 py-2",ul:"list-disc pl-6 space-y-1 my-4",ol:"list-decimal pl-6 space-y-1 my-4",li:"pl-1",h1:"text-2xl font-bold mt-6 mb-4",h2:"text-xl font-bold mt-5 mb-3",h3:"text-lg font-bold mt-4 mb-2",p:"my-3",blockquote:"border-l-4 border-gray-200 pl-4 py-2 italic my-4",pre:"bg-gray-50 p-4 rounded my-4 overflow-x-auto",code:"bg-gray-50 p-1 rounded text-sm font-mono"},yce="AIzaSyDLh0Md76lI4wZLgDrO9jAQemim6czJQE0",bce="gemini-2.0-flash",b4=`https://generativelanguage.googleapis.com/v1beta/models/${bce}:generateContent?key=${yce}`,vce=()=>{var ae;const{courseId:e}=Lo(),t=lo(),r=rn();Mn();const{isAuthenticated:s,user:i}=co(),[o,a]=m.useState(null),[l,c]=m.useState(null),[d,u]=m.useState(null),[A,f]=m.useState(()=>{const ie=window.history.state&&window.history.state.usr?window.history.state.usr:null;return ie&&ie.finishedCourse?100:0}),[h,g]=m.useState([]),[p,b]=m.useState(!0),[x,j]=m.useState(null),[w,S]=m.useState(!0),[I,F]=m.useState("video"),[T,U]=m.useState(!1),[K,B]=m.useState(null),[R,D]=m.useState(!1),H=m.useRef(null),P=m.useRef(null);m.useEffect(()=>{const te=new URLSearchParams(t.search).get("lessonId");te&&console.log("Lesson ID from URL:",te)},[t.search]),m.useEffect(()=>{t.state&&t.state.finishedCourse&&r(t.pathname+t.search,{replace:!0,state:{}}),s||(Re.error("Vui lng ng nhp  truy cp kha hc"),r("/login",{state:{from:`/courses/${e}/learn`}}))},[s,e,r]);const z=ie=>{if(!ie)return null;let te={...ie};if(typeof te.Requirements=="string")if(te.Requirements.startsWith("["))try{te.Requirements=JSON.parse(te.Requirements)}catch{te.Requirements=te.Requirements?[te.Requirements]:[]}else te.Requirements=te.Requirements?[te.Requirements]:[];if(typeof te.Objectives=="string")if(te.Objectives.startsWith("["))try{te.Objectives=JSON.parse(te.Objectives)}catch{te.Objectives=te.Objectives?[te.Objectives]:[]}else te.Objectives=te.Objectives?[te.Objectives]:[];return Array.isArray(te.Modules)||(te.Modules=[]),te};m.useEffect(()=>{e&&s&&(async()=>{try{if(b(!0),!e){j("ID kha hc khng hp l"),b(!1);return}const te=await Er.checkEnrollment(e);if(!te.success||!te.isEnrolled){j("Bn cha ng k kha hc ny"),b(!1),r(`/courses/${e}`);return}const fe=await Er.getCourseDetails(e);if(!fe||!fe.success){j((fe==null?void 0:fe.message)||"Khng th ti thng tin kha hc"),b(!1);return}const pe=z(fe.data);a(pe),document.title=`Hc: ${pe.Title} | CampusLearning`;try{const we=await Er.getUserCourseProgress(e);if(we&&we.success){const je=we.data;f(je.overallProgress||0),g(je.completedLessons||[]);const Ue=new URLSearchParams(t.search).get("lessonId");if(pe.Modules&&pe.Modules.length>0)if(Ue){let Ce=null,Ct=null;for(const ct of pe.Modules)if(ct.Lessons){const rt=ct.Lessons.find(st=>st.LessonID===Ue||st.LessonID===parseInt(Ue));if(rt){Ce=rt,Ct=ct;break}}Ce&&Ct?(u(Ce),c(Ct),F(G(Ce))):he(pe,je.completedLessons)}else he(pe,je.completedLessons)}else{console.warn("Failed to load progress, using empty progress data:",we==null?void 0:we.message),f(0),g([]);const De=new URLSearchParams(t.search).get("lessonId");pe.Modules&&pe.Modules.length>0&&(De?ce(pe,De):he(pe,[]))}}catch(we){console.error("Error loading progress:",we),f(0),g([]);const De=new URLSearchParams(t.search).get("lessonId");pe.Modules&&pe.Modules.length>0&&(De?ce(pe,De):he(pe,[]))}}catch(te){console.error("Error loading course:",te),j("C li xy ra khi ti thng tin kha hc. Vui lng th li sau.")}finally{b(!1)}})()},[e,s,r,t.search]);const G=ie=>{if(!ie)return"text";const te=(ie.Type||"").toString().toLowerCase(),fe=me(ie);return ie.CodeExercise||ie.codeExercise||ie.Exercise,["coding","exercise","practice","code"].includes(te)?(setTimeout(()=>{window.location.href=`/courses/${e}/edit-code/${ie.LessonID}`},100),"loading"):te==="video"?fe?"video":"text":te==="quiz"?"quiz":fe?"video":"text"},he=(ie,te=[])=>{if(!ie.Modules||ie.Modules.length===0)return;for(const pe of ie.Modules)if(pe.Lessons&&pe.Lessons.length>0){for(const we of pe.Lessons)if(!te.includes(we.LessonID)){c(pe),u(we),F(G(we));return}}const fe=ie.Modules[0];fe.Lessons&&fe.Lessons.length>0&&(c(fe),u(fe.Lessons[0]),F(G(fe.Lessons[0])))},ce=(ie,te)=>{let fe=null,pe=null;for(const we of ie.Modules)if(we.Lessons){const je=we.Lessons.find(De=>De.LessonID===te||De.LessonID===parseInt(te));if(je){fe=je,pe=we;break}}fe&&pe?(u(fe),c(pe),F(G(fe))):he(ie,[])},ye=async()=>{if(d)try{if(h.includes(d.LessonID)){Re.info("Bi hc ny  c nh du hon thnh");return}const ie=await Er.markLessonAsComplete(e,d.LessonID);if(ie&&ie.success){const te=[...h,d.LessonID];if(g(te),o&&o.Modules){let fe=0;o.Modules.forEach(we=>{fe+=we.Lessons?we.Lessons.length:0});const pe=Math.round(te.length/fe*100);f(pe)}Re.success(" nh du bi hc hon thnh"),X()}else Re.error((ie==null?void 0:ie.message)||"Khng th nh du bi hc hon thnh")}catch(ie){console.error("Error marking lesson as complete:",ie),Re.error("C li xy ra khi nh du bi hc hon thnh")}},X=()=>{if(!o||!l||!d)return;const ie=o.Modules.findIndex(fe=>fe.ModuleID===l.ModuleID);if(ie===-1)return;const te=l.Lessons.findIndex(fe=>fe.LessonID===d.LessonID);if(te!==-1){if(te<l.Lessons.length-1){const fe=l.Lessons[te+1];r(`/courses/${e}/learn?lessonId=${fe.LessonID}`);return}if(ie<o.Modules.length-1){const fe=o.Modules[ie+1];if(fe.Lessons&&fe.Lessons.length>0){r(`/courses/${e}/learn?lessonId=${fe.Lessons[0].LessonID}`);return}}Re.success("Chc mng! Bn  hon thnh kha hc.")}},re=()=>{if(!o||!l||!d)return;const ie=o.Modules.findIndex(fe=>fe.ModuleID===l.ModuleID);if(ie===-1)return;const te=l.Lessons.findIndex(fe=>fe.LessonID===d.LessonID);if(te!==-1){if(te>0){const fe=l.Lessons[te-1];r(`/courses/${e}/learn?lessonId=${fe.LessonID}`);return}if(ie>0){const fe=o.Modules[ie-1];if(fe.Lessons&&fe.Lessons.length>0){const pe=fe.Lessons[fe.Lessons.length-1];r(`/courses/${e}/learn?lessonId=${pe.LessonID}`);return}}}},_=(ie,te)=>{c(ie),u(te),F(G(te)),r(`/courses/${e}/learn?lessonId=${te.LessonID}`)},Q=()=>{U(!T),T||S(!1)},Z=async()=>{var ie;if(d){D(!0),B(null);try{const te=d.Content||d.Description||`Video about ${d.Title} from ${o.Title}`,fe=`
        Ti ang xem mt video v: "${d.Title}" 
        t kha hc "${o.Title}".
        
        Ni dung video:
        ${te}
        
        Vui lng to mt bn tm tt ngn gn, trng tm v ni dung video ny bng ting Vit.
        Tm tt nn bao gm:
        - im chnh ca video
        - Cc khi nim quan trng
        - Kt lun hoc im then cht
        
        QUAN TRNG: nh dng kt qu theo c php Markdown  d c, s dng:
        - Cc tiu  (# hoc ##)
        - Cc im nh du (-)
        - In m (**) cho cc t kha quan trng
        - To bng  tng hp thng tin quan trng, nh dng theo Markdown standard nh sau:
          | Tiu  1 | Tiu  2 | Tiu  3 |
          | --------- | --------- | --------- |
          | Ni dung 1 | Ni dung 2 | Ni dung 3 |
      `;console.log("Calling Gemini API with URL:",b4);const pe=await Ht.post(b4,{contents:[{parts:[{text:fe}]}],generationConfig:{temperature:.2,maxOutputTokens:800}},{headers:{"Content-Type":"application/json"}});if(console.log("Gemini API response:",pe.data),pe.data&&pe.data.candidates&&pe.data.candidates.length>0){const we=pe.data.candidates[0].content.parts[0].text;B(we)}else console.error("Unexpected Gemini API response format:",pe.data),Re.error("Khng th to tm tt video. Vui lng th li sau.")}catch(te){console.error("Error summarizing with Gemini API:",te),console.error("Error details:",((ie=te.response)==null?void 0:ie.data)||te.message),Re.error("Li khi to tm tt video. Vui lng th li sau.")}finally{D(!1)}}},Ae=ie=>{if(!ie)return ie;try{const te=new URL(ie),fe=te.hostname,pe=te.searchParams.get("list");if(fe==="youtu.be"){const je=te.pathname.slice(1);return pe?`https://www.youtube.com/embed/${je}?list=${pe}`:`https://www.youtube.com/embed/${je}`}const we=te.searchParams.get("v");if(we)return pe?`https://www.youtube.com/embed/${we}?list=${pe}`:`https://www.youtube.com/embed/${we}`;if(te.pathname.startsWith("/shorts/")){const je=te.pathname.split("/shorts/")[1].split(/[?&]/)[0];return pe?`https://www.youtube.com/embed/${je}?list=${pe}`:`https://www.youtube.com/embed/${je}`}return ie}catch{return ie}},me=ie=>{if(!ie)return null;const te=ie.VideoUrl||ie.videoUrl||ie.VideoURL;if(te)return te;if(typeof ie.Content=="string"){const fe=ie.Content.match(/https?:\/\/(?:www\.)?(?:youtube\.com\/[\w\-?=&%#./]+|youtu\.be\/[\w\-?=&%#./]+)/i);if(fe)return fe[0]}return null};return p?n.jsx("div",{className:"flex justify-center items-center h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):x?n.jsxs("div",{className:"flex flex-col items-center justify-center h-screen px-4",children:[n.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-lg mb-4 max-w-md",children:n.jsx("p",{className:"font-medium",children:x})}),n.jsx("button",{onClick:()=>r("/courses"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Quay li danh sch kha hc"})]}):!o||!l||!d?n.jsxs("div",{className:"flex flex-col items-center justify-center h-screen px-4",children:[n.jsx("div",{className:"bg-yellow-100 text-yellow-700 p-4 rounded-lg mb-4 max-w-md",children:n.jsx("p",{className:"font-medium",children:"Khng tm thy thng tin bi hc"})}),n.jsx("button",{onClick:()=>r(`/courses/${e}`),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Quay li trang chi tit kha hc"})]}):n.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[n.jsx("header",{className:`bg-white border-b border-gray-200 px-6 py-3 ${T?"hidden":""}`,children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{onClick:()=>S(!w),className:"mr-4 text-gray-500 hover:text-gray-700 focus:outline-none",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),n.jsx(Zt,{to:"/courses",className:"text-gray-500 hover:text-blue-600 text-sm mr-4",children:"Kha hc"}),n.jsx("span",{className:"text-gray-400 mx-2",children:"/"}),n.jsx(Zt,{to:`/courses/${e}`,className:"text-gray-500 hover:text-blue-600 text-sm",children:o==null?void 0:o.Title})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"hidden md:block",children:n.jsx("div",{className:"bg-blue-50 rounded-full h-2 w-48",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${A}%`}})})}),n.jsxs("div",{className:"text-sm text-gray-600",children:[A,"% hon thnh"]})]})]})}),n.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[n.jsx("aside",{className:`bg-white w-80 border-r border-gray-200 flex-shrink-0 transition-all duration-300 transform ${w&&!T?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 ${T?"hidden md:hidden":""} absolute z-10 h-full`,children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200",children:[n.jsx("h2",{className:"font-bold text-lg truncate",children:o.Title}),n.jsxs("div",{className:"mt-2 flex items-center",children:[n.jsx("div",{className:"mr-4",children:n.jsx("div",{className:"bg-blue-50 rounded-full h-2 w-24",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${A}%`}})})}),n.jsxs("span",{className:"text-sm text-gray-600",children:[A,"%"]})]})]}),n.jsx("div",{className:"overflow-y-auto flex-1 py-2",children:o.Modules.map((ie,te)=>n.jsxs("div",{className:"mb-2",children:[n.jsx("div",{className:"px-4 py-2 font-medium text-gray-700 flex items-center",children:n.jsxs("span",{children:[te+1,". ",ie.Title]})}),n.jsx("div",{className:"space-y-1",children:ie.Lessons&&ie.Lessons.map((fe,pe)=>{const we=d&&d.LessonID===fe.LessonID,je=h.includes(fe.LessonID),De=fe.CodeExercise&&(fe.Type==="coding"||fe.Type==="exercise");return n.jsxs("button",{onClick:()=>_(ie,fe),className:`pl-8 pr-4 py-2 w-full text-left flex items-center ${we?"bg-blue-50 text-blue-700 border-l-4 border-blue-600 pl-7":"text-gray-600 hover:bg-gray-50"}`,children:[n.jsx("div",{className:"mr-3 flex-shrink-0",children:je?n.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):n.jsx("div",{className:`w-5 h-5 border-2 rounded-full flex items-center justify-center
                                ${we?"border-blue-600":"border-gray-300"}`,children:n.jsxs("span",{className:"text-xs",children:[te+1,".",pe+1]})})}),n.jsxs("div",{className:"flex-1 truncate text-sm",children:[fe.Title,n.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:["(",fe.Duration||0," pht)"]})]}),fe.Quiz&&n.jsx("span",{className:"ml-2 flex-shrink-0",children:n.jsx("svg",{className:"w-4 h-4 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),De?n.jsx("span",{className:"ml-2 flex-shrink-0",children:n.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}):fe.CodeExercise?n.jsx("span",{className:"ml-2 flex-shrink-0",children:n.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}):null]},fe.LessonID||pe)})})]},ie.ModuleID||te))}),n.jsx("div",{className:"p-4 border-t border-gray-200",children:n.jsxs(Zt,{to:`/courses/${e}`,className:"text-gray-500 hover:text-blue-600 flex items-center text-sm",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 17l-5-5m0 0l5-5m-5 5h12"})}),"Quay li trang kha hc"]})})]})}),n.jsx("main",{className:`flex-1 overflow-y-auto bg-white ${T?"p-0":""}`,children:n.jsxs("div",{className:`${T?"w-full h-full p-0 max-w-none":"w-full px-4 py-8"}`,children:[!T&&n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 max-w-7xl mx-auto",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold mb-2",children:[d==null?void 0:d.Title,(d==null?void 0:d.Type)==="coding"||(d==null?void 0:d.Type)==="exercise"?n.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Bi thc hnh"}):null]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsxs("span",{children:["Module ",((ae=o==null?void 0:o.Modules)==null?void 0:ae.findIndex(ie=>ie.ModuleID===(l==null?void 0:l.ModuleID)))+1,": ",l==null?void 0:l.Title]}),n.jsx("span",{className:"mx-2",children:""}),n.jsxs("span",{children:[(d==null?void 0:d.Duration)||0," pht"]}),(d==null?void 0:d.Type)&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mx-2",children:""}),n.jsx("span",{className:"capitalize",children:(d==null?void 0:d.Type)==="video"?"Video":(d==null?void 0:d.Type)==="text"?"Bi c":(d==null?void 0:d.Type)==="quiz"?"Trc nghim":(d==null?void 0:d.Type)==="coding"||(d==null?void 0:d.Type)==="exercise"?"Thc hnh":(d==null?void 0:d.Type)==="assignment"?"Bi tp":"Bi hc"})]})]})]}),n.jsx("div",{className:"mt-4 md:mt-0",children:h.includes(d==null?void 0:d.LessonID)?n.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})," hon thnh"]}):n.jsxs("button",{onClick:ye,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"nh du hon thnh"]})})]}),n.jsx("div",{className:`${T?"w-full h-full":"w-full bg-white overflow-hidden mb-6"}`,children:n.jsxs("div",{ref:H,className:`${T?"p-0 h-full":"w-full"}`,children:[console.log("Rendering content with type:",I),console.log("Current lesson has CodeExercise:",!!(d!=null&&d.CodeExercise)||!!(d!=null&&d.codeExercise)||!!(d!=null&&d.Exercise)),I==="loading"?n.jsxs("div",{className:"flex justify-center items-center py-10",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),n.jsx("p",{className:"ml-3 text-gray-600",children:"ang chuyn hng..."})]}):I==="video"&&me(d)?n.jsxs("div",{className:`${T?"w-full h-full":"w-full aspect-video"} relative mx-auto`,ref:P,children:[n.jsx("iframe",{title:d.Title,src:Ae(me(d)),className:"w-full h-full rounded-lg",frameBorder:"0",allowFullScreen:!0}),n.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[n.jsx("button",{onClick:Q,className:"p-2 bg-black bg-opacity-50 rounded-lg text-white hover:bg-opacity-70 transition-opacity",title:T?"Exit Fullscreen":"Fullscreen",children:T?n.jsx(jb,{className:"h-5 w-5"}):n.jsx(sw,{className:"h-5 w-5"})}),n.jsx("button",{onClick:Z,disabled:R,className:`p-2 bg-black bg-opacity-50 rounded-lg text-white hover:bg-opacity-70 transition-opacity ${R?"opacity-50 cursor-not-allowed":""}`,title:"Tm tt video vi AI",children:n.jsx(hu,{className:"h-5 w-5"})})]}),T&&n.jsx("button",{onClick:Q,className:"absolute top-4 left-4 p-2 bg-black bg-opacity-50 rounded-lg text-white hover:bg-opacity-70 transition-opacity",children:n.jsx(jb,{className:"h-5 w-5"})})]}):I==="code"?n.jsxs("div",{className:"mb-6",children:[console.log("Rendering code editor with lesson:",d),n.jsx(wce,{courseId:e,lessonId:d.LessonID,codeExercise:d.CodeExercise||d.codeExercise||d.Exercise,onComplete:()=>{if(!h.includes(d.LessonID)){const ie=[...h,d.LessonID];if(g(ie),o&&o.Modules){let te=0;o.Modules.forEach(pe=>{te+=pe.Lessons?pe.Lessons.length:0});const fe=Math.round(ie.length/te*100);f(fe)}}},showControls:!1})]}):(d!=null&&d.CodeExercise||d!=null&&d.codeExercise||d!=null&&d.Exercise)&&!((d==null?void 0:d.Type)==="coding"||(d==null?void 0:d.Type)==="exercise")?n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-4",children:[n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Thng tin m ngun"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:'Bi hc ny c m ngun mu, nhng khng phi l bi thc hnh. Trnh son tho m ch hin th cho cc bi c nh du l bi thc hnh trong c s d liu (c loi "coding" hoc "exercise").'})]})]}),n.jsx("div",{className:"mt-3 prose max-w-none",dangerouslySetInnerHTML:{__html:d.Content||"<p>Khng c ni dung cho bi hc ny.</p>"}})]})}):I==="quiz"&&(d!=null&&d.Quiz)?n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm text-yellow-700",children:"Tnh nng quiz ang c pht trin. Vui lng quay li sau."})})]})})}):n.jsx("div",{className:"prose max-w-none mb-6",dangerouslySetInnerHTML:{__html:d.Content||"<p>Khng c ni dung cho bi hc ny.</p>"}}),I==="video"&&!T&&n.jsx("div",{className:"mt-6 max-w-7xl mx-auto",children:R?n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-blue-500 mr-3"}),n.jsx("p",{children:"ang to tm tt video vi AI..."})]}):K?n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[n.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center",children:[n.jsx(hu,{className:"h-5 w-5 mr-2"}),"Tm tt ni dung video"]}),n.jsx("div",{className:"prose prose-sm max-w-none overflow-x-auto",children:n.jsx(nc,{remarkPlugins:[Qd],components:{table:({node:ie,...te})=>n.jsx("table",{className:Oi.table,...te}),thead:({node:ie,...te})=>n.jsx("thead",{className:Oi.thead,...te}),th:({node:ie,...te})=>n.jsx("th",{className:Oi.th,...te}),td:({node:ie,...te})=>n.jsx("td",{className:Oi.td,...te}),ul:({node:ie,...te})=>n.jsx("ul",{className:Oi.ul,...te}),ol:({node:ie,...te})=>n.jsx("ol",{className:Oi.ol,...te}),li:({node:ie,...te})=>n.jsx("li",{className:Oi.li,...te}),h1:({node:ie,...te})=>n.jsx("h1",{className:Oi.h1,...te}),h2:({node:ie,...te})=>n.jsx("h2",{className:Oi.h2,...te}),h3:({node:ie,...te})=>n.jsx("h3",{className:Oi.h3,...te}),p:({node:ie,...te})=>n.jsx("p",{className:Oi.p,...te}),blockquote:({node:ie,...te})=>n.jsx("blockquote",{className:Oi.blockquote,...te}),pre:({node:ie,...te})=>n.jsx("pre",{className:Oi.pre,...te}),code:({inline:ie,...te})=>ie?n.jsx("code",{className:Oi.code,...te}):n.jsx("code",{className:`block ${Oi.pre}`,...te})},children:K})}),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx("button",{onClick:()=>B(null),className:"text-sm text-gray-600 hover:text-gray-800",children:"n tm tt"})})]}):n.jsx("div",{className:"flex justify-center",children:n.jsxs("button",{onClick:Z,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",children:[n.jsx(hu,{className:"h-5 w-5 mr-2"}),"To tm tt video vi AI"]})})})]})}),!T&&(d==null?void 0:d.Resources)&&d.Resources.length>0&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6 max-w-7xl mx-auto",children:[n.jsx("h2",{className:"text-lg font-bold mb-4",children:"Ti liu b sung"}),n.jsx("ul",{className:"space-y-2",children:d.Resources.map((ie,te)=>n.jsxs("li",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("a",{href:ie.Url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:ie.Title||"Ti liu"})]},te))})]}),!T&&n.jsxs("div",{className:"flex justify-between mt-8 max-w-7xl mx-auto",children:[n.jsxs("button",{onClick:re,className:"px-4 py-2 border border-gray-300 rounded-md flex items-center text-gray-700 hover:bg-gray-50",children:[n.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Bi trc"]}),n.jsxs("button",{onClick:X,className:"px-4 py-2 bg-blue-600 text-white rounded-md flex items-center hover:bg-blue-700",children:["Bi tip theo",n.jsx("svg",{className:"w-5 h-5 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]})})]}),T&&n.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50",children:n.jsxs("button",{onClick:Q,className:"px-4 py-2 bg-black bg-opacity-50 rounded-lg text-white flex items-center hover:bg-opacity-70 transition-opacity",children:[n.jsx(jb,{className:"h-5 w-5 mr-2"}),"Thot ch  ton mn hnh"]})})]})},wce=({courseId:e,lessonId:t,codeExercise:r,onComplete:s,showControls:i=!0})=>{console.log("CodeExerciseEditor initialized with:",{courseId:e,lessonId:t,codeExercise:r});const o=r||{};console.log("Exercise data mapping:",o);const a=o.Language||o.language||o.ProgrammingLanguage||"javascript",[l,c]=m.useState(a),d=o.StartingCode||o.initialCode||o.InitialCode||"// Your code here",[u,A]=m.useState(d),[f,h]=m.useState(!1),[g,p]=m.useState(!1),[b,x]=m.useState(null),[j,w]=m.useState(!1);m.useEffect(()=>{if(r){const B=r.StartingCode||r.initialCode||r.InitialCode||"// Your code here",R=r.Language||r.language||r.ProgrammingLanguage||"javascript";A(B),c(R),x(null),console.log("CodeExerciseEditor updated with new exercise data:",{initialCode:B,language:R})}},[r]);const S=async()=>{var B,R;console.log("Running code"),h(!0),x(null);try{const D=r.ExerciseID||r.exerciseId||r.id||null,H=r.TestCases||r.testCases||r.tests||[];console.log("Running code with:",{code:u,language:l,exerciseId:D,testCases:H});const P=await Ht.post("/api/code-exercises/run",{code:u,language:l,exerciseId:D,tests:H});console.log("Run response:",P.data),x(P.data)}catch(D){console.error("Error running code:",D),x({success:!1,error:((R=(B=D.response)==null?void 0:B.data)==null?void 0:R.message)||"An error occurred while running your code"})}finally{h(!1)}},I=async()=>{var B,R;console.log("Submitting code"),p(!0);try{const D=r.ExerciseID||r.exerciseId||r.id||null;console.log("Submitting solution with:",{code:u,language:l,courseId:e,lessonId:t,exerciseId:D});const H=await Ht.post("/api/code-exercises/submit",{code:u,language:l,courseId:e,lessonId:t,exerciseId:D});console.log("Submit response:",H.data),H.data.success?(Re.success("Exercise completed successfully!"),s&&s()):Re.error(H.data.message||"Some tests failed. Please fix your code and try again."),x(H.data)}catch(D){console.error("Error submitting code:",D),Re.error(((R=(B=D.response)==null?void 0:B.data)==null?void 0:R.message)||"An error occurred while submitting your code")}finally{p(!1)}},F=B=>{A(B)},T=()=>{w(!j),j||window.scrollTo(0,0)},U=j?{position:"fixed",top:0,left:0,right:0,bottom:0,height:"100vh",width:"100vw",zIndex:9999,margin:0,padding:0,border:"none",borderRadius:0}:{height:"400px",border:"1px solid #ddd",borderRadius:"6px",overflow:"hidden",marginBottom:"24px"},K=j?{backgroundColor:"#fff",padding:0}:{backgroundColor:"white",padding:"24px",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"};return n.jsxs("div",{style:K,children:[((r==null?void 0:r.Title)||(r==null?void 0:r.Description))&&n.jsxs("div",{className:"mb-4",children:[(r==null?void 0:r.Title)&&n.jsx("h3",{className:"text-lg font-semibold mb-2",children:r.Title}),(r==null?void 0:r.Description)&&n.jsx("p",{className:"text-gray-700",children:r.Description})]}),i&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"language",className:"block text-sm font-medium text-gray-700 mb-1",children:"Language"}),n.jsxs("select",{id:"language",value:l,onChange:B=>c(B.target.value),className:"block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[n.jsx("option",{value:"javascript",children:"JavaScript"}),n.jsx("option",{value:"python",children:"Python"}),n.jsx("option",{value:"java",children:"Java"}),n.jsx("option",{value:"csharp",children:"C#"}),n.jsx("option",{value:"cpp",children:"C++"})]})]}),n.jsxs("div",{style:U,children:[n.jsx("div",{className:"absolute top-2 right-2 z-[10000]",children:n.jsx("button",{onClick:T,className:"p-2 bg-black bg-opacity-50 rounded-lg text-white hover:bg-opacity-70 transition-opacity",children:j?n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})})})}),n.jsx(U8,{code:u,language:l,onChange:F})]}),i&&!j&&n.jsxs("div",{className:"flex justify-between mb-6",children:[n.jsx("button",{onClick:S,disabled:f,className:`px-4 py-2 rounded-md text-sm font-medium ${f?"bg-gray-300 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:f?"Running...":"Run Code"}),n.jsx("button",{onClick:I,disabled:g,className:`px-4 py-2 rounded-md text-sm font-medium ${g?"bg-gray-300 text-gray-700 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:g?"Submitting...":"Submit Solution"})]}),b&&!j&&n.jsxs("div",{className:"mt-4 border-t pt-4",children:[n.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Test Results"}),b.error?n.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",children:[n.jsx("p",{className:"font-bold",children:"Error"}),n.jsx("p",{children:b.error})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`mb-4 p-4 rounded-md ${b.success?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:n.jsx("p",{className:"font-semibold",children:b.success?"All tests passed! Great job!":"Some tests failed. Review the results below."})}),b.tests&&n.jsx("div",{className:"space-y-3",children:b.tests.map((B,R)=>n.jsxs("div",{className:`p-3 rounded-md ${B.passed?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[n.jsxs("div",{className:"flex items-center",children:[B.passed?n.jsx(No,{className:"h-5 w-5 text-green-500 mr-2"}):n.jsx(fm,{className:"h-5 w-5 text-red-500 mr-2"}),n.jsxs("p",{className:`font-medium ${B.passed?"text-green-800":"text-red-800"}`,children:["Test ",R+1,": ",B.name||"Test case"]})]}),!B.passed&&B.message&&n.jsx("p",{className:"mt-1 text-sm text-red-700",children:B.message}),B.input&&n.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Input:"})," ",B.input]}),B.expected&&n.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Expected:"})," ",B.expected]}),B.actual&&n.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Actual:"})," ",B.actual]})]},R))})]})]})]})},jce=()=>{var Z,Ae,me;const{courseId:e}=Lo(),t=rn(),{isAuthenticated:r,user:s}=co(),i=lo(),o=new URLSearchParams(i.search),a=((Z=i.state)==null?void 0:Z.initialPaymentMethod)||o.get("method")||"vnpay",[l,c]=m.useState(a),[d,u]=m.useState(null),[A,f]=m.useState(!0),[h,g]=m.useState(null),[p,b]=m.useState(!1);m.useRef(null);const[x,j]=m.useState(""),[w,S]=m.useState(null),[I,F]=m.useState(null),[T,U]=m.useState(!1),[K,B]=m.useState(null),[R,D]=m.useState([]),[H,P]=m.useState(!0),z=ae=>{if(ae==null)return 0;const ie=parseFloat(ae);return isNaN(ie)?0:ie};m.useEffect(()=>{(async()=>{try{if(f(!0),!e){g("Khng th xc nh kha hc"),f(!1);return}if(!r){t("/login",{state:{from:`/payment/${e}`}});return}const ie=await Er.getCourseDetails(e);ie.success&&ie.data?u(ie.data):g(ie.message||"Khng th ti thng tin kha hc")}catch(ie){g("Li khi ti thng tin kha hc"),console.error("Course fetch error:",ie)}finally{f(!1)}})()},[e,r,t]),m.useEffect(()=>{(async()=>{try{const te=await(await fetch("/api/vnpay/banks")).json();te.success?(D(te.data),te.data&&te.data.length>0&&j(te.data[0].code)):console.error("Failed to fetch VNPay banks:",te.message)}catch(ie){console.error("Error fetching VNPay bank list:",ie)}finally{P(!1)}})()},[]);const G=async()=>{var ae,ie;try{if(b(!0),l==="vnpay"){const te=await Er.createPayment(e,x);te.data&&te.data.success&&te.data.paymentUrl?(localStorage.setItem("pendingPayment",JSON.stringify({courseId:e,method:"vnpay",timestamp:new Date().getTime()})),window.location.href=te.data.paymentUrl):Re.error("Khng th to lin kt thanh ton")}else if(l==="vietqr"){const te=await Er.createVietQRPayment(e);if(te&&te.data&&te.data.success&&te.data.data&&te.data.data.vietQRData){const{vietQRData:fe,transactionCode:pe}=te.data.data;t(`/payment/vietqr/${pe}`,{state:{vietQRData:fe,courseId:e,transactionCode:pe}})}else Re.error("Khng th to thng tin thanh ton VietQR")}else l!=="paypal"&&Re.info("Phng thc thanh ton ny s c h tr trong thi gian ti")}catch(te){console.error("Payment error:",te),Re.error(((ie=(ae=te.response)==null?void 0:ae.data)==null?void 0:ie.message)||"Li x l thanh ton")}finally{b(!1)}},he=async()=>{var ae,ie;b(!0);try{const fe=(await Er.createPayPalOrder(e)).data.approveUrl;fe?window.location.href=fe:Re.error("Khng nhn c ng dn xc nhn PayPal")}catch(te){console.error("PayPal redirect error:",te),Re.error(((ie=(ae=te.response)==null?void 0:ae.data)==null?void 0:ie.message)||"Khng th to n hng PayPal")}finally{b(!1)}};m.useEffect(()=>()=>{K&&clearInterval(K)},[K]);const ce=async()=>{if(!I){Re.error("Khng c m giao dch  xc minh");return}try{U(!0);const ae=await Er.verifyVietQRPayment(I);ae.data&&ae.data.success&&ae.data.data&&ae.data.data.status==="completed"?(Re.success("Thanh ton thnh cng!"),t(`/courses/${e}`)):Re.info("Cha nhn c thanh ton. Vui lng th li sau.")}catch(ae){console.error("Error verifying VietQR payment:",ae),Re.error("Li xc nhn thanh ton. Vui lng th li.")}finally{U(!1)}};if(A)return n.jsx($6,{});if(h||!d)return n.jsxs("div",{className:"text-center py-10",children:[n.jsx("p",{className:"text-red-500 mb-4",children:h||"Khng tm thy kha hc"}),n.jsx("button",{onClick:()=>t("/courses"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Quay li danh sch kha hc"})]});const ye=z(d.Price),X=z(d.DiscountPrice),re=X>0?X:ye,_=ye>0&&X>0?ye-X:0,Q=ye>0?Math.round(_/ye*100):0;return n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6 flex items-center text-sm text-gray-500",children:[n.jsx(Zt,{to:"/",className:"hover:text-blue-600",children:"Trang ch"}),n.jsx("span",{className:"mx-2",children:"/"}),n.jsx(Zt,{to:"/courses",className:"hover:text-blue-600",children:"Kha hc"}),n.jsx("span",{className:"mx-2",children:"/"}),n.jsx(Zt,{to:`/courses/${e}`,className:"hover:text-blue-600",children:d.Title}),n.jsx("span",{className:"mx-2",children:"/"}),n.jsx("span",{className:"text-gray-700",children:"Thanh ton"})]}),H?n.jsx("p",{children:"Loading bank list..."}):n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"VNPay Banks:"}),n.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600",children:R.map(ae=>n.jsx("li",{className:"mb-1",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"bankCode",value:ae.code,checked:x===ae.code,onChange:()=>j(ae.code),className:"mr-2"}),ae.code,": ",ae.name]})},ae.code))})]}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[n.jsxs("div",{className:"lg:w-2/3",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Thng tin n hng"}),n.jsxs("div",{className:"flex items-start border-b pb-4 mb-4",children:[d.ImageUrl?n.jsx("img",{src:d.ImageUrl,alt:d.Title,className:"w-24 h-24 object-cover rounded-md mr-4",onError:ae=>{ae.target.onerror=null,ae.target.src="https://placehold.co/600x400?text=Course+Image"}}):n.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-md mr-4 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500 text-xs",children:"Khng c hnh nh"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-lg mb-1",children:d.Title}),n.jsx("p",{className:"text-gray-600 text-sm mb-2",children:d.ShortDescription||((Ae=d.Description)==null?void 0:Ae.substring(0,100))||"Khng c m t"}),n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full text-xs mr-2",children:d.Level||"All Levels"}),n.jsxs("span",{children:[d.Duration||0," pht"]})]})]})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Gi gc:"}),n.jsxs("span",{children:[ye.toLocaleString()," VND"]})]}),_>0&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsxs("span",{children:["Gim gi (",Q,"%):"]}),n.jsxs("span",{children:["- ",_.toLocaleString()," VND"]})]}),n.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 border-t",children:[n.jsx("span",{children:"Tng thanh ton:"}),n.jsxs("span",{children:[re.toLocaleString()," VND"]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Phng thc thanh ton"}),n.jsxs("div",{className:"flex justify-center gap-6 mb-6",children:[n.jsxs("div",{className:`relative cursor-pointer p-3 rounded-lg transition-all flex items-center justify-center w-20 h-20 ${l==="vnpay"?"bg-blue-50 border-2 border-blue-500 shadow-md":"bg-white border hover:bg-gray-50"}`,onClick:()=>c("vnpay"),children:[n.jsx("img",{src:"https://cdn.haitrieu.com/wp-content/uploads/2022/10/Logo-VNPAY-QR.png",alt:"VNPAY",className:"max-h-12 max-w-12 object-contain"}),n.jsx("input",{type:"radio",name:"payment-method",value:"vnpay",checked:l==="vnpay",onChange:()=>c("vnpay"),className:"sr-only"}),l==="vnpay"&&n.jsx("div",{className:"absolute -top-2 -right-2 bg-blue-500 rounded-full p-1",children:n.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]}),n.jsxs("div",{className:`relative cursor-pointer p-3 rounded-lg transition-all flex items-center justify-center w-20 h-20 ${l==="vietqr"?"bg-blue-50 border-2 border-blue-500 shadow-md":"bg-white border hover:bg-gray-50"}`,onClick:()=>c("vietqr"),children:[n.jsx("img",{src:"https://play-lh.googleusercontent.com/22cJzF0otG-EmmQgILMRTWFPnx0wTCSDY9aFaAmOhHs30oNHxi63KcGwUwmbR76Msko",alt:"VietQR",className:"max-h-12 max-w-12 object-contain"}),n.jsx("input",{type:"radio",name:"payment-method",value:"vietqr",checked:l==="vietqr",onChange:()=>c("vietqr"),className:"sr-only"}),l==="vietqr"&&n.jsx("div",{className:"absolute -top-2 -right-2 bg-blue-500 rounded-full p-1",children:n.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]}),n.jsxs("div",{className:`relative cursor-pointer p-3 rounded-lg transition-all flex items-center justify-center w-20 h-20 ${l==="paypal"?"bg-blue-50 border-2 border-blue-500 shadow-md":"bg-white border hover:bg-gray-50"}`,onClick:()=>c("paypal"),children:[n.jsx("img",{src:"https://www.paypalobjects.com/webstatic/mktg/logo/pp_cc_mark_37x23.jpg",alt:"PayPal",className:"max-h-12 max-w-12 object-contain"}),n.jsx("input",{type:"radio",name:"payment-method",value:"paypal",checked:l==="paypal",onChange:()=>c("paypal"),className:"sr-only"}),l==="paypal"&&n.jsx("div",{className:"absolute -top-2 -right-2 bg-blue-500 rounded-full p-1",children:n.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]}),n.jsxs("div",{className:`relative cursor-pointer p-3 rounded-lg transition-all flex items-center justify-center w-20 h-20 ${l==="card"?"bg-blue-50 border-2 border-blue-500 shadow-md":"bg-white border hover:bg-gray-50"}`,onClick:()=>c("card"),children:[n.jsx("img",{src:"https://usa.visa.com/dam/VCOM/regional/ve/romania/blogs/hero-image/visa-logo-800x450.jpg",alt:"Visa",className:"max-h-12 max-w-12 object-contain"}),n.jsx("input",{type:"radio",name:"payment-method",value:"card",checked:l==="card",onChange:()=>c("card"),className:"sr-only"}),l==="card"&&n.jsx("div",{className:"absolute -top-2 -right-2 bg-blue-500 rounded-full p-1",children:n.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]}),n.jsxs("div",{className:`relative cursor-pointer p-3 rounded-lg transition-all flex items-center justify-center w-20 h-20 ${l==="momo"?"bg-blue-50 border-2 border-blue-500 shadow-md":"bg-white border hover:bg-gray-50"}`,onClick:()=>c("momo"),children:[n.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/vi/f/fe/MoMo_Logo.png",alt:"MoMo",className:"max-h-12 max-w-12 object-contain"}),n.jsx("input",{type:"radio",name:"payment-method",value:"momo",checked:l==="momo",onChange:()=>c("momo"),className:"sr-only"}),l==="momo"&&n.jsx("div",{className:"absolute -top-2 -right-2 bg-blue-500 rounded-full p-1",children:n.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[l==="vnpay"&&n.jsx("div",{className:"text-sm text-gray-600",children:n.jsx("p",{children:"Thanh ton bng VNPAY QR hoc th ATM/Visa/Mastercard thng qua cng VNPAY"})}),l==="vietqr"&&n.jsx("div",{className:"text-sm text-gray-600",children:n.jsx("p",{children:"Thanh ton chuyn khon ngn hng bng m QR ca VietQR"})}),l==="paypal"&&n.jsx("div",{className:"text-sm text-gray-600",children:n.jsx("p",{children:"Thanh ton an ton vi PayPal hoc th tn dng quc t thng qua PayPal"})}),l==="card"&&n.jsx("div",{className:"text-sm text-gray-600",children:n.jsx("p",{children:"Thanh ton bng th Visa, Mastercard hoc JCB"})}),l==="momo"&&n.jsx("div",{className:"text-sm text-gray-600",children:n.jsx("p",{children:"Thanh ton qua v in t MoMo"})})]}),l==="vietqr"&&w?n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"mb-4 text-center",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Qut m QR  thanh ton"}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"S dng ng dng ngn hng  qut m QR v thanh ton"}),n.jsx("div",{className:"p-4 bg-white border rounded-lg shadow-sm",children:n.jsx("img",{src:w.qrImageUrl,alt:"VietQR Payment",className:"max-w-full h-auto"})})]}),n.jsxs("div",{className:"w-full bg-gray-100 p-4 rounded-md mb-4",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Thng tin chuyn khon"}),n.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Ngn hng:"}),n.jsx("span",{className:"font-medium",children:w.bankName})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"S ti khon:"}),n.jsx("span",{className:"font-medium",children:w.bankAccount})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Tn ti khon:"}),n.jsx("span",{className:"font-medium",children:w.accountName})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"S tin:"}),n.jsxs("span",{className:"font-medium",children:[(me=w.amount)==null?void 0:me.toLocaleString()," VND"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Ni dung chuyn khon:"}),n.jsx("span",{className:"font-medium",children:w.description})]})]})]}),n.jsx("button",{onClick:ce,disabled:T,className:`w-full py-3 text-white rounded-lg ${T?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:T?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang xc minh thanh ton..."]}):"Ti  thanh ton"})]}):l==="paypal"?n.jsx("button",{onClick:he,disabled:p,className:`w-full py-3 text-white rounded-lg ${p?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:p?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang chuyn hng..."]}):"Thanh ton vi PayPal"}):l==="vietqr"&&!w?n.jsx("button",{onClick:G,disabled:p,className:`w-full py-3 text-white rounded-lg ${p?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:p?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang to m thanh ton..."]}):"To m QR  thanh ton"}):n.jsx("button",{onClick:G,disabled:p,className:`w-full py-3 text-white rounded-lg ${p?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:p?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang x l..."]}):`Thanh ton qua ${l==="vnpay"?"VNPAY":l==="card"?"Th tn dng":l==="momo"?"MoMo":"Khc"}`})]})]}),n.jsx("div",{className:"lg:w-1/3",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-6",children:[n.jsx("h2",{className:"text-lg font-bold mb-4",children:"Thng tin kha hc"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Bn s nhn c:"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),n.jsx("span",{children:"Truy cp trn i vo kha hc"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),n.jsx("span",{children:"Hc theo tc  ca ring bn"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),n.jsx("span",{children:"Giy chng nhn hon thnh"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),n.jsx("span",{children:"H tr k thut t ging vin"})]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Chnh sch hon tin:"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Chng ti cam kt hon tin 100% trong vng 30 ngy nu bn khng hi lng vi kha hc."})]}),n.jsxs("div",{className:"border-t mt-4 pt-4",children:[n.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Cn h tr?"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Lin h vi chng ti qua email ",n.jsx("a",{href:"mailto:support@CampusLearning.edu.vn",className:"text-blue-600",children:"support@CampusLearning.edu.vn"})," hoc hotline ",n.jsx("span",{className:"text-blue-600",children:"1800-6868"})]})]})]})})]})]})};var Zy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},e1=typeof window>"u"||"Deno"in globalThis;function ya(){}function Cce(e,t){return typeof e=="function"?e(t):e}function Nce(e){return typeof e=="number"&&e>=0&&e!==1/0}function Bce(e,t){return Math.max(e+(t||0)-Date.now(),0)}function a2(e,t){return typeof e=="function"?e(t):e}function kce(e,t){return typeof e=="function"?e(t):e}function v4(e,t){const{type:r="all",exact:s,fetchStatus:i,predicate:o,queryKey:a,stale:l}=e;if(a){if(s){if(t.queryHash!==fj(a,t.options))return!1}else if(!ip(t.queryKey,a))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||o&&!o(t))}function w4(e,t){const{exact:r,status:s,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(sp(t.options.mutationKey)!==sp(o))return!1}else if(!ip(t.options.mutationKey,o))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function fj(e,t){return((t==null?void 0:t.queryKeyHashFn)||sp)(e)}function sp(e){return JSON.stringify(e,(t,r)=>l2(r)?Object.keys(r).sort().reduce((s,i)=>(s[i]=r[i],s),{}):r)}function ip(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ip(e[r],t[r])):!1}function _F(e,t){if(e===t)return e;const r=j4(e)&&j4(t);if(r||l2(e)&&l2(t)){const s=r?e:Object.keys(e),i=s.length,o=r?t:Object.keys(t),a=o.length,l=r?[]:{},c=new Set(s);let d=0;for(let u=0;u<a;u++){const A=r?u:o[u];(!r&&c.has(A)||r)&&e[A]===void 0&&t[A]===void 0?(l[A]=void 0,d++):(l[A]=_F(e[A],t[A]),l[A]===e[A]&&e[A]!==void 0&&d++)}return i===a&&d===i?e:l}return t}function j4(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function l2(e){if(!C4(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!C4(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function C4(e){return Object.prototype.toString.call(e)==="[object Object]"}function Sce(e){return new Promise(t=>{setTimeout(t,e)})}function Ece(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?_F(e,t):t}function Ice(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function Tce(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var mj=Symbol();function HF(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===mj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ed,iu,Lh,MS,Fce=(MS=class extends Zy{constructor(){super();qr(this,Ed);qr(this,iu);qr(this,Lh);wr(this,Lh,t=>{if(!e1&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){xt(this,iu)||this.setEventListener(xt(this,Lh))}onUnsubscribe(){var t;this.hasListeners()||((t=xt(this,iu))==null||t.call(this),wr(this,iu,void 0))}setEventListener(t){var r;wr(this,Lh,t),(r=xt(this,iu))==null||r.call(this),wr(this,iu,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){xt(this,Ed)!==t&&(wr(this,Ed,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof xt(this,Ed)=="boolean"?xt(this,Ed):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ed=new WeakMap,iu=new WeakMap,Lh=new WeakMap,MS),$F=new Fce,Ph,ou,Uh,DS,Lce=(DS=class extends Zy{constructor(){super();qr(this,Ph,!0);qr(this,ou);qr(this,Uh);wr(this,Uh,t=>{if(!e1&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){xt(this,ou)||this.setEventListener(xt(this,Uh))}onUnsubscribe(){var t;this.hasListeners()||((t=xt(this,ou))==null||t.call(this),wr(this,ou,void 0))}setEventListener(t){var r;wr(this,Uh,t),(r=xt(this,ou))==null||r.call(this),wr(this,ou,t(this.setOnline.bind(this)))}setOnline(t){xt(this,Ph)!==t&&(wr(this,Ph,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return xt(this,Ph)}},Ph=new WeakMap,ou=new WeakMap,Uh=new WeakMap,DS),Cx=new Lce;function Pce(){let e,t;const r=new Promise((i,o)=>{e=i,t=o});r.status="pending",r.catch(()=>{});function s(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},r.reject=i=>{s({status:"rejected",reason:i}),t(i)},r}function Uce(e){return Math.min(1e3*2**e,3e4)}function VF(e){return(e??"online")==="online"?Cx.isOnline():!0}var KF=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function dv(e){return e instanceof KF}function zF(e){let t=!1,r=0,s=!1,i;const o=Pce(),a=p=>{var b;s||(f(new KF(p)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>$F.isFocused()&&(e.networkMode==="always"||Cx.isOnline())&&e.canRun(),u=()=>VF(e.networkMode)&&e.canRun(),A=p=>{var b;s||(s=!0,(b=e.onSuccess)==null||b.call(e,p),i==null||i(),o.resolve(p))},f=p=>{var b;s||(s=!0,(b=e.onError)==null||b.call(e,p),i==null||i(),o.reject(p))},h=()=>new Promise(p=>{var b;i=x=>{(s||d())&&p(x)},(b=e.onPause)==null||b.call(e)}).then(()=>{var p;i=void 0,s||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(s)return;let p;const b=r===0?e.initialPromise:void 0;try{p=b??e.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(A).catch(x=>{var F;if(s)return;const j=e.retry??(e1?0:3),w=e.retryDelay??Uce,S=typeof w=="function"?w(r,x):w,I=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,x);if(t||!I){f(x);return}r++,(F=e.onFail)==null||F.call(e,r,x),Sce(S).then(()=>d()?void 0:h()).then(()=>{t?f(x):g()})})};return{promise:o,cancel:a,continue:()=>(i==null||i(),o),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():h().then(g),o)}}var Rce=e=>setTimeout(e,0);function Mce(){let e=[],t=0,r=l=>{l()},s=l=>{l()},i=Rce;const o=l=>{t?e.push(l):i(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&i(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{i=l}}}var Hi=Mce(),Id,OS,WF=(OS=class{constructor(){qr(this,Id)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Nce(this.gcTime)&&wr(this,Id,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(e1?1/0:5*60*1e3))}clearGcTimeout(){xt(this,Id)&&(clearTimeout(xt(this,Id)),wr(this,Id,void 0))}},Id=new WeakMap,OS),Rh,Td,Xo,Fd,gi,pp,Ld,va,Gl,QS,Dce=(QS=class extends WF{constructor(t){super();qr(this,va);qr(this,Rh);qr(this,Td);qr(this,Xo);qr(this,Fd);qr(this,gi);qr(this,pp);qr(this,Ld);wr(this,Ld,!1),wr(this,pp,t.defaultOptions),this.setOptions(t.options),this.observers=[],wr(this,Fd,t.client),wr(this,Xo,xt(this,Fd).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,wr(this,Rh,Qce(this.options)),this.state=t.state??xt(this,Rh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=xt(this,gi))==null?void 0:t.promise}setOptions(t){this.options={...xt(this,pp),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&xt(this,Xo).remove(this)}setData(t,r){const s=Ece(this.state.data,t,this.options);return di(this,va,Gl).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){di(this,va,Gl).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,i;const r=(s=xt(this,gi))==null?void 0:s.promise;return(i=xt(this,gi))==null||i.cancel(t),r?r.then(ya).catch(ya):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(xt(this,Rh))}isActive(){return this.observers.some(t=>kce(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>a2(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Bce(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=xt(this,gi))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=xt(this,gi))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),xt(this,Xo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(xt(this,gi)&&(xt(this,Ld)?xt(this,gi).cancel({revert:!0}):xt(this,gi).cancelRetry()),this.scheduleGc()),xt(this,Xo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||di(this,va,Gl).call(this,{type:"invalidate"})}fetch(t,r){var d,u,A;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(xt(this,gi))return xt(this,gi).continueRetry(),xt(this,gi).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(wr(this,Ld,!0),s.signal)})},o=()=>{const f=HF(this.options,r),g=(()=>{const p={client:xt(this,Fd),queryKey:this.queryKey,meta:this.meta};return i(p),p})();return wr(this,Ld,!1),this.options.persister?this.options.persister(f,g,this):f(g)},l=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:xt(this,Fd),state:this.state,fetchFn:o};return i(f),f})();(d=this.options.behavior)==null||d.onFetch(l,this),wr(this,Td,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&di(this,va,Gl).call(this,{type:"fetch",meta:(A=l.fetchOptions)==null?void 0:A.meta});const c=f=>{var h,g,p,b;dv(f)&&f.silent||di(this,va,Gl).call(this,{type:"error",error:f}),dv(f)||((g=(h=xt(this,Xo).config).onError)==null||g.call(h,f,this),(b=(p=xt(this,Xo).config).onSettled)==null||b.call(p,this.state.data,f,this)),this.scheduleGc()};return wr(this,gi,zF({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var h,g,p,b;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){c(x);return}(g=(h=xt(this,Xo).config).onSuccess)==null||g.call(h,f,this),(b=(p=xt(this,Xo).config).onSettled)==null||b.call(p,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,h)=>{di(this,va,Gl).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{di(this,va,Gl).call(this,{type:"pause"})},onContinue:()=>{di(this,va,Gl).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),xt(this,gi).start()}},Rh=new WeakMap,Td=new WeakMap,Xo=new WeakMap,Fd=new WeakMap,gi=new WeakMap,pp=new WeakMap,Ld=new WeakMap,va=new WeakSet,Gl=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Oce(s.data,this.options),fetchMeta:t.meta??null};case"success":return wr(this,Td,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return dv(i)&&i.revert&&xt(this,Td)?{...xt(this,Td),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),Hi.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),xt(this,Xo).notify({query:this,type:"updated",action:t})})},QS);function Oce(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:VF(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Qce(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ol,_S,_ce=(_S=class extends Zy{constructor(t={}){super();qr(this,ol);this.config=t,wr(this,ol,new Map)}build(t,r,s){const i=r.queryKey,o=r.queryHash??fj(i,r);let a=this.get(o);return a||(a=new Dce({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){xt(this,ol).has(t.queryHash)||(xt(this,ol).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=xt(this,ol).get(t.queryHash);r&&(t.destroy(),r===t&&xt(this,ol).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Hi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return xt(this,ol).get(t)}getAll(){return[...xt(this,ol).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>v4(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>v4(t,s)):r}notify(t){Hi.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Hi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Hi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ol=new WeakMap,_S),al,Qi,Pd,ll,Zc,HS,Hce=(HS=class extends WF{constructor(t){super();qr(this,ll);qr(this,al);qr(this,Qi);qr(this,Pd);this.mutationId=t.mutationId,wr(this,Qi,t.mutationCache),wr(this,al,[]),this.state=t.state||$ce(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){xt(this,al).includes(t)||(xt(this,al).push(t),this.clearGcTimeout(),xt(this,Qi).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){wr(this,al,xt(this,al).filter(r=>r!==t)),this.scheduleGc(),xt(this,Qi).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){xt(this,al).length||(this.state.status==="pending"?this.scheduleGc():xt(this,Qi).remove(this))}continue(){var t;return((t=xt(this,Pd))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,c,d,u,A,f,h,g,p,b,x,j,w,S,I,F,T,U;const r=()=>{di(this,ll,Zc).call(this,{type:"continue"})};wr(this,Pd,zF({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(K,B)=>{di(this,ll,Zc).call(this,{type:"failed",failureCount:K,error:B})},onPause:()=>{di(this,ll,Zc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>xt(this,Qi).canRun(this)}));const s=this.state.status==="pending",i=!xt(this,Pd).canStart();try{if(s)r();else{di(this,ll,Zc).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=xt(this,Qi).config).onMutate)==null?void 0:a.call(o,t,this));const B=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));B!==this.state.context&&di(this,ll,Zc).call(this,{type:"pending",context:B,variables:t,isPaused:i})}const K=await xt(this,Pd).start();return await((u=(d=xt(this,Qi).config).onSuccess)==null?void 0:u.call(d,K,t,this.state.context,this)),await((f=(A=this.options).onSuccess)==null?void 0:f.call(A,K,t,this.state.context)),await((g=(h=xt(this,Qi).config).onSettled)==null?void 0:g.call(h,K,null,this.state.variables,this.state.context,this)),await((b=(p=this.options).onSettled)==null?void 0:b.call(p,K,null,t,this.state.context)),di(this,ll,Zc).call(this,{type:"success",data:K}),K}catch(K){try{throw await((j=(x=xt(this,Qi).config).onError)==null?void 0:j.call(x,K,t,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,K,t,this.state.context)),await((F=(I=xt(this,Qi).config).onSettled)==null?void 0:F.call(I,void 0,K,this.state.variables,this.state.context,this)),await((U=(T=this.options).onSettled)==null?void 0:U.call(T,void 0,K,t,this.state.context)),K}finally{di(this,ll,Zc).call(this,{type:"error",error:K})}}finally{xt(this,Qi).runNext(this)}}},al=new WeakMap,Qi=new WeakMap,Pd=new WeakMap,ll=new WeakSet,Zc=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Hi.batch(()=>{xt(this,al).forEach(s=>{s.onMutationUpdate(t)}),xt(this,Qi).notify({mutation:this,type:"updated",action:t})})},HS);function $ce(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ql,wa,gp,$S,Vce=($S=class extends Zy{constructor(t={}){super();qr(this,ql);qr(this,wa);qr(this,gp);this.config=t,wr(this,ql,new Set),wr(this,wa,new Map),wr(this,gp,0)}build(t,r,s){const i=new Hce({mutationCache:this,mutationId:++kg(this,gp)._,options:t.defaultMutationOptions(r),state:s});return this.add(i),i}add(t){xt(this,ql).add(t);const r=Jg(t);if(typeof r=="string"){const s=xt(this,wa).get(r);s?s.push(t):xt(this,wa).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(xt(this,ql).delete(t)){const r=Jg(t);if(typeof r=="string"){const s=xt(this,wa).get(r);if(s)if(s.length>1){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}else s[0]===t&&xt(this,wa).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Jg(t);if(typeof r=="string"){const s=xt(this,wa).get(r),i=s==null?void 0:s.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){var s;const r=Jg(t);if(typeof r=="string"){const i=(s=xt(this,wa).get(r))==null?void 0:s.find(o=>o!==t&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Hi.batch(()=>{xt(this,ql).forEach(t=>{this.notify({type:"removed",mutation:t})}),xt(this,ql).clear(),xt(this,wa).clear()})}getAll(){return Array.from(xt(this,ql))}find(t){const r={exact:!0,...t};return this.getAll().find(s=>w4(r,s))}findAll(t={}){return this.getAll().filter(r=>w4(t,r))}notify(t){Hi.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Hi.batch(()=>Promise.all(t.map(r=>r.continue().catch(ya))))}},ql=new WeakMap,wa=new WeakMap,gp=new WeakMap,$S);function Jg(e){var t;return(t=e.options.scope)==null?void 0:t.id}function N4(e){return{onFetch:(t,r)=>{var u,A,f,h,g;const s=t.options,i=(f=(A=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:A.fetchMore)==null?void 0:f.direction,o=((h=t.state.data)==null?void 0:h.pages)||[],a=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},x=HF(t.options,t.fetchOptions),j=async(w,S,I)=>{if(p)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const T=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:S,direction:I?"backward":"forward",meta:t.options.meta};return b(R),R})(),U=await x(T),{maxPages:K}=t.options,B=I?Tce:Ice;return{pages:B(w.pages,U,K),pageParams:B(w.pageParams,S,K)}};if(i&&o.length){const w=i==="backward",S=w?Kce:B4,I={pages:o,pageParams:a},F=S(s,I);l=await j(I,F,w)}else{const w=e??o.length;do{const S=c===0?a[0]??s.initialPageParam:B4(s,l);if(c>0&&S==null)break;l=await j(l,S),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,b;return(b=(p=t.options).persister)==null?void 0:b.call(p,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function B4(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function Kce(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var rs,au,lu,Mh,Dh,cu,Oh,Qh,VS,zce=(VS=class{constructor(e={}){qr(this,rs);qr(this,au);qr(this,lu);qr(this,Mh);qr(this,Dh);qr(this,cu);qr(this,Oh);qr(this,Qh);wr(this,rs,e.queryCache||new _ce),wr(this,au,e.mutationCache||new Vce),wr(this,lu,e.defaultOptions||{}),wr(this,Mh,new Map),wr(this,Dh,new Map),wr(this,cu,0)}mount(){kg(this,cu)._++,xt(this,cu)===1&&(wr(this,Oh,$F.subscribe(async e=>{e&&(await this.resumePausedMutations(),xt(this,rs).onFocus())})),wr(this,Qh,Cx.subscribe(async e=>{e&&(await this.resumePausedMutations(),xt(this,rs).onOnline())})))}unmount(){var e,t;kg(this,cu)._--,xt(this,cu)===0&&((e=xt(this,Oh))==null||e.call(this),wr(this,Oh,void 0),(t=xt(this,Qh))==null||t.call(this),wr(this,Qh,void 0))}isFetching(e){return xt(this,rs).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return xt(this,au).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=xt(this,rs).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=xt(this,rs).build(this,t),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(a2(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return xt(this,rs).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),i=xt(this,rs).get(s.queryHash),o=i==null?void 0:i.state.data,a=Cce(t,o);if(a!==void 0)return xt(this,rs).build(this,s).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return Hi.batch(()=>xt(this,rs).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=xt(this,rs).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=xt(this,rs);Hi.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=xt(this,rs);return Hi.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},s=Hi.batch(()=>xt(this,rs).findAll(e).map(i=>i.cancel(r)));return Promise.all(s).then(ya).catch(ya)}invalidateQueries(e,t={}){return Hi.batch(()=>(xt(this,rs).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},s=Hi.batch(()=>xt(this,rs).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(ya)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(ya)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=xt(this,rs).build(this,t);return r.isStaleByTime(a2(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ya).catch(ya)}fetchInfiniteQuery(e){return e.behavior=N4(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ya).catch(ya)}ensureInfiniteQueryData(e){return e.behavior=N4(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Cx.isOnline()?xt(this,au).resumePausedMutations():Promise.resolve()}getQueryCache(){return xt(this,rs)}getMutationCache(){return xt(this,au)}getDefaultOptions(){return xt(this,lu)}setDefaultOptions(e){wr(this,lu,e)}setQueryDefaults(e,t){xt(this,Mh).set(sp(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...xt(this,Mh).values()],r={};return t.forEach(s=>{ip(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,t){xt(this,Dh).set(sp(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...xt(this,Dh).values()],r={};return t.forEach(s=>{ip(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...xt(this,lu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=fj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===mj&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...xt(this,lu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){xt(this,rs).clear(),xt(this,au).clear()}},rs=new WeakMap,au=new WeakMap,lu=new WeakMap,Mh=new WeakMap,Dh=new WeakMap,cu=new WeakMap,Oh=new WeakMap,Qh=new WeakMap,VS),GF=m.createContext(void 0),Wce=e=>{const t=m.useContext(GF);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Gce=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(GF.Provider,{value:e,children:t})),qF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},k4=Xt.createContext&&Xt.createContext(qF),qce=["attr","size","title"];function Xce(e,t){if(e==null)return{};var r=Jce(e,t),s,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)s=o[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Jce(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Nx.apply(this,arguments)}function S4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,s)}return r}function Bx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(r),!0).forEach(function(s){Yce(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S4(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Yce(e,t,r){return t=Zce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zce(e){var t=eue(e,"string");return typeof t=="symbol"?t:t+""}function eue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XF(e){return e&&e.map((t,r)=>Xt.createElement(t.tag,Bx({key:r},t.attr),XF(t.child)))}function Ac(e){return t=>Xt.createElement(tue,Nx({attr:Bx({},e.attr)},t),XF(e.child))}function tue(e){var t=r=>{var{attr:s,size:i,title:o}=e,a=Xce(e,qce),l=i||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),Xt.createElement("svg",Nx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,a,{className:c,style:Bx(Bx({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&Xt.createElement("title",null,o),e.children)};return k4!==void 0?Xt.createElement(k4.Consumer,null,r=>t(r)):t(qF)}function rue(e){return Ac({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(e)}function nue(e){return Ac({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"},child:[]}]})(e)}function sue(e){return Ac({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"},child:[]}]})(e)}const Av=()=>{const[e,t]=m.useState(!0),[r,s]=m.useState(null),[i,o]=m.useState(""),[a,l]=m.useState(null),[c,d]=m.useState(""),[u,A]=m.useState(null),f=rn(),h=lo(),g=Wce(),p=Mn(),{isAuthenticated:b}=co();m.useEffect(()=>{if(!b&&!localStorage.getItem("token")){f("/login",{replace:!0});return}const w=new URLSearchParams(h.search),S=w.get("status"),I=w.get("message"),F=w.get("courseId"),T=w.get("transactionId"),U=w.get("PayerID")||w.get("payerId");s(S),o(I||""),l(F),A(T),(async()=>{try{if(t(!0),S==="success"&&F){try{await Er.processPayPalSuccess({transactionId:T,PayerID:U,courseId:F}),console.log("Backend confirmed PayPal payment success")}catch(B){console.error("Backend confirmation for PayPal success failed:",B),Re.error("Khng th xc thc thanh ton. Vui lng kim tra li lch s giao dch.")}try{await p(ta()).unwrap(),console.log("Successfully fetched enrolled courses after payment")}catch(B){console.error("Error fetching enrolled courses:",B)}try{const B=await Er.getCourseDetails(F);B&&B.success&&(d(B.data.Title||"Kha hc"),p(z2(B.data)),console.log(`Course ${F} added to enrolled courses list`))}catch(B){console.error("Error fetching course details:",B)}g.invalidateQueries(["enrolledCourses"]),Re.success("ng k kha hc thnh cng!"),setTimeout(()=>{p(ta())},2e3)}else if((S==="cancel"||S==="error")&&T)try{await Er.processPayPalCancel(T),console.log("Backend recorded PayPal cancellation")}catch(B){console.error("Failed to notify backend about cancellation:",B)}}catch(B){console.error("Error processing payment result:",B),o(B.message||" xy ra li khi x l kt qu thanh ton"),S==="success"&&s("error")}finally{t(!1)}})()},[b,h.search,f,p,g]);const x=(w=!1)=>{a&&f(`/courses/${a}`,{state:{paymentSuccess:w,timestamp:Date.now()},replace:!0})},j=()=>{a&&f(`/courses/${a}/learn`)};return m.useEffect(()=>{if(e)return;let w;return r==="success"?w=setTimeout(()=>x(!0),5e3):(r==="cancel"||r==="error"||i!=null&&i.toLowerCase().includes("cancel"))&&(w=setTimeout(()=>{a?x(!1):f("/courses")},5e3)),()=>clearTimeout(w)},[e,r,a,i]),e?n.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-50",children:n.jsxs("div",{className:"w-full max-w-lg bg-white p-8 rounded-lg shadow-lg text-center",children:[n.jsx("div",{className:"animate-spin mx-auto h-12 w-12 border-4 border-blue-500 border-t-transparent rounded-full"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"ang x l kt qu thanh ton..."})]})}):n.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-50 py-10",children:n.jsx("div",{className:"w-full max-w-lg bg-white p-8 rounded-lg shadow-lg",children:r==="success"?n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto h-16 w-16 flex items-center justify-center rounded-full bg-green-100",children:n.jsx(rue,{className:"h-10 w-10 text-green-500"})}),n.jsx("h2",{className:"mt-4 text-xl font-bold text-gray-800",children:"Thanh ton thnh cng"}),n.jsxs("p",{className:"mt-2 text-gray-600",children:['Cm n bn  ng k kha hc "',c||"Kha hc",'"']}),u&&n.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["M giao dch: ",u]}),n.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Bn s c chuyn hng n trang kha hc  ng k sau 5 giy."}),n.jsxs("div",{className:"mt-6 space-y-3",children:[n.jsxs("button",{onClick:j,className:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700",children:["Hc ngay",n.jsx(sue,{className:"ml-2"})]}),n.jsx("button",{onClick:()=>x(!0),className:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm text-base font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Xem chi tit kha hc"})]})]}):n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto h-16 w-16 flex items-center justify-center rounded-full bg-red-100",children:n.jsx(nue,{className:"h-10 w-10 text-red-500"})}),n.jsx("h2",{className:"mt-4 text-xl font-bold text-gray-800",children:"Thanh ton khng thnh cng"}),n.jsx("p",{className:"mt-2 text-gray-600",children:i?`Li: ${i.replace(/_/g," ")}`:" xy ra li trong qu trnh thanh ton"}),n.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Bn s c chuyn hng v trang kha hc trong 5 giy."}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:()=>x(!1),className:"w-full px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Quay li chi tit kha hc"})})]})})})};Er.deletePayment||(Er.deletePayment=async e=>{try{return await Er.axiosInstance.delete(`/payments/${e}`)}catch(t){throw t}});const iue=({icon:e,title:t,value:r,color:s})=>n.jsx("div",{className:"bg-white rounded-xl shadow-md transition-transform hover:scale-[1.02]",children:n.jsxs("div",{className:"p-6 flex items-center",children:[n.jsx("div",{className:`p-3 rounded-full ${e.bg} mr-4`,children:e.svg}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),n.jsx("p",{className:"text-xl font-bold text-gray-900",children:r})]})]})}),oue=({status:e})=>{const t=(e==null?void 0:e.toLowerCase())||"";return t==="completed"||t==="success"?n.jsxs("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 flex items-center gap-1 w-fit",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"Thnh cng"]}):t==="pending"||t==="processing"?n.jsxs("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800 flex items-center gap-1 w-fit",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),"ang x l"]}):t==="failed"||t==="error"?n.jsxs("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800 flex items-center gap-1 w-fit",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Tht bi"]}):t==="cancelled"?n.jsxs("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800 flex items-center gap-1 w-fit",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-500"})," hy"]}):n.jsxs("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800 flex items-center gap-1 w-fit",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-500"}),e||"Khng xc nh"]})},Yg=({active:e,onClick:t,children:r,activeColor:s})=>n.jsx("button",{onClick:t,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${e?`${s} shadow-sm`:"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:r}),aue=()=>{const e=rn(),{isAuthenticated:t,currentUser:r}=co(),[s,i]=m.useState([]),[o,a]=m.useState(!1),[l,c]=m.useState(null),[d,u]=m.useState(null),[A,f]=m.useState("CreatedAt"),[h,g]=m.useState("desc"),[p,b]=m.useState("all"),[x,j]=m.useState([]),[w,S]=m.useState([]),[I,F]=m.useState({totalPaid:0,totalPending:0,totalTransactions:0,successfulTransactions:0});m.useEffect(()=>{if(!t){Re.info("Bn cn ng nhp  xem lch s thanh ton"),e("/login",{state:{from:"/payment-history"}});return}const Z=async()=>{try{a(!0);const me=await Er.getPaymentHistory();if(me.data&&me.data.success){const ae=me.data.data||[];i(ae);const ie={totalPaid:0,totalPending:0,totalTransactions:ae.length,successfulTransactions:0};ae.forEach(te=>{const fe=(te.PaymentStatus||te.Status||"").toLowerCase(),pe=parseFloat(te.Amount)||0;fe==="completed"||fe==="success"?(ie.totalPaid+=pe,ie.successfulTransactions++):(fe==="pending"||fe==="processing")&&(ie.totalPending+=pe)}),F(ie)}else u("Khng th ti lch s thanh ton")}catch(me){console.error("Error fetching payment history:",me),u(" xy ra li khi ti lch s thanh ton")}finally{a(!1)}},Ae=async()=>{try{const me=await Er.getEnrolledCourses();me.data&&me.data.success&&S(me.data.data||[])}catch(me){console.error("Error fetching enrolled courses:",me)}};Z(),Ae()},[t,e]);const T=async Z=>{var Ae,me,ae;try{if(!window.confirm("Bn c chc chn mun xa giao dch ny khng?"))return;c(Z);const te=await Er.deletePayment(Z);te.data&&te.data.success?(i(fe=>fe.filter(pe=>pe.TransactionID!==Z)),Re.success("Giao dch  c xa thnh cng",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),await fetchPaymentHistory()):Re.error(((Ae=te.data)==null?void 0:Ae.message)||"Khng th xa giao dch",{position:"top-right",autoClose:5e3})}catch(ie){console.error("Error deleting payment:",ie);const te=((ae=(me=ie.response)==null?void 0:me.data)==null?void 0:ae.message)||" xy ra li khi xa giao dch";Re.error(te,{position:"top-right",autoClose:5e3})}finally{c(null)}},U=Z=>{j(Ae=>Ae.includes(Z)?Ae.filter(me=>me!==Z):[...Ae,Z])},K=()=>{const Z=s.filter(Ae=>(Ae.PaymentStatus||Ae.Status||"").toLowerCase()==="cancelled").map(Ae=>Ae.TransactionID);if(Z.length===0){Re.info("Khng c giao dch  hy no  chn",{position:"top-right",autoClose:3e3});return}j(Z),Re.info(` chn ${Z.length} giao dch  hy`,{position:"top-right",autoClose:2e3})},B=()=>{j([])},R=async()=>{var Ae,me,ae;if(x.length===0){Re.info("Cha c giao dch no c chn",{position:"top-right",autoClose:3e3});return}if(window.confirm(`Bn c chc chn mun xa ${x.length} giao dch  chn khng?`))try{a(!0);const ie=await Er.deleteManyPayments(x);ie.data&&ie.data.success?(i(te=>te.filter(fe=>!x.includes(fe.TransactionID))),Re.success(` xa thnh cng ${ie.data.deletedCount} giao dch`,{position:"top-right",autoClose:3e3}),j([]),await fetchPaymentHistory()):Re.error(((Ae=ie.data)==null?void 0:Ae.message)||"Khng th xa cc giao dch  chn",{position:"top-right",autoClose:5e3})}catch(ie){console.error("Error deleting payments:",ie);const te=((ae=(me=ie.response)==null?void 0:me.data)==null?void 0:ae.message)||" xy ra li khi xa cc giao dch";Re.error(te,{position:"top-right",autoClose:5e3})}finally{a(!1)}},D=()=>{const Z=s.filter(fe=>{const pe=(fe.PaymentStatus||fe.Status||"").toLowerCase();return pe==="completed"||pe==="success"});if(Z.length===0){Re.info("Khng c giao dch thnh cng  in");return}const Ae=(r==null?void 0:r.FullName)||(r==null?void 0:r.fullName)||(r==null?void 0:r.name)||"Ngi dng CampusLearning Learning",me=(r==null?void 0:r.Email)||(r==null?void 0:r.email)||"",ae=(r==null?void 0:r.UserID)||(r==null?void 0:r.userId)||(r==null?void 0:r.id)||"",ie=window.open("","_blank"),te=`
      <!DOCTYPE html>
      <html lang="vi">
      <head>
        <meta charset="UTF-8">
        <title>Lch s thanh ton thnh cng - CampusLearning Learning</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
        <style>
          body {
            font-family: 'Roboto', Arial, sans-serif;
            margin: 40px;
            color: #333;
            line-height: 1.6;
            position: relative;
            background-color: #fff;
          }
          
          /* Watermark base styles */
          .watermark {
            pointer-events: none;
          }
          
          /* Diagonal striped watermark on every page */
          @page {
            size: A4;
            margin: 0;
          }
          
          @media print {
            body::before, body::after {
              display: none; /* Remove the body pseudo-elements for print */
            }
            
            .page {
              page-break-after: always;
              position: relative;
              height: 100vh;
            }
            
            /* Apply the watermark to every page */
            .page::before {
              content: "";
              position: fixed;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background: repeating-linear-gradient(
                45deg,
                rgba(200, 200, 200, 0.05),
                rgba(200, 200, 200, 0.05) 10px,
                rgba(200, 200, 200, 0.08) 10px,
                rgba(200, 200, 200, 0.08) 20px
              );
              z-index: -2;
            }
            
            /* Text watermark on every page */
            .page::after {
              content: "CampusLearning Learning";
              position: fixed;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%) rotate(-30deg);
              font-size: 80px;
              font-weight: 700;
              color: rgba(37, 99, 235, 0.07);  /* Mu xanh m */
              white-space: nowrap;
              z-index: -1;
            }
          }
          
          .container {
            max-width: 850px;
            margin: 0 auto;
            padding: 30px;
            background-color: #fff;
            box-shadow: 0 1px 15px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            position: relative;
            z-index: 1;
          }
          
          .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f0f0f0;
          }
          
          .logo {
            font-size: 28px;
            font-weight: 700;
            color: #2563eb;
            margin-bottom: 5px;
          }
          
          h1 {
            font-size: 24px;
            color: #111827;
            margin-bottom: 10px;
            font-weight: 600;
          }
          
          .print-date {
            color: #6b7280;
            font-size: 14px;
            margin-bottom: 20px;
          }
          
          .user-info {
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
          }
          
          .info-group {
            margin-bottom: 10px;
          }
          
          .info-label {
            font-weight: 600;
            color: #4b5563;
            font-size: 14px;
          }
          
          .info-value {
            font-weight: 400;
          }
          
          table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
            border-radius: 5px;
            overflow: hidden;
          }
          
          th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
          }
          
          th {
            background-color: #f3f4f6;
            font-weight: 600;
            color: #4b5563;
            font-size: 14px;
          }
          
          tr:nth-child(even) {
            background-color: #f9fafb;
          }
          
          tr:hover {
            background-color: #f3f4f6;
          }
          
          .amount {
            font-weight: 600;
            text-align: right;
          }
          
          .status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            background-color: #d1fae5;
            color: #065f46;
          }
          
          .footer {
            margin-top: 40px;
            text-align: right;
            border-top: 2px solid #f0f0f0;
            padding-top: 20px;
            font-size: 14px;
          }
          
          .total-section {
            margin-top: 20px;
            text-align: right;
            font-weight: 600;
          }
          
          .total-row {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 5px;
            font-size: 15px;
          }
          
          .total-label {
            margin-right: 20px;
            color: #6b7280;
          }
          
          .total-amount {
            min-width: 120px;
            text-align: right;
            color: #111827;
          }
          
          .grand-total {
            font-size: 18px;
            font-weight: 700;
            color: #2563eb;
            border-top: 1px solid #e5e7eb;
            padding-top: 8px;
          }
          
          .notes {
            margin-top: 40px;
            padding: 15px;
            background-color: #f3f4f6;
            border-radius: 5px;
            font-size: 14px;
            color: #4b5563;
          }
          
          .notes h3 {
            margin-top: 0;
            font-size: 16px;
            color: #111827;
          }
          
          .stamp {
            margin-top: 30px;
            display: flex;
            justify-content: flex-end;
          }
          
          .stamp-content {
            border: 2px solid #2563eb;
            color: #2563eb;
            border-radius: 5px;
            padding: 10px 20px;
            font-weight: 600;
            font-size: 16px;
            transform: rotate(-5deg);
            opacity: 0.8;
          }
          
          @media print {
            body {
              margin: 0;
              padding: 20px;
            }
            
            .container {
              box-shadow: none;
              padding: 0;
            }
            
            .no-print {
              display: none;
            }
            
            /* Force page breaks where needed */
            .page-break {
              page-break-after: always;
            }
            
            /* Each page must be a container */
            .page {
              page-break-after: always;
              position: relative;
            }
          }
        </style>
      </head>
      <body>
        <div class="page">
          <div class="container">
            <div class="header">
              <div class="logo">CampusLearning Learning</div>
              <h1>Lch s thanh ton thnh cng</h1>
              <div class="print-date">Ngy in: ${new Date().toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})} lc ${new Date().toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})}</div>
            </div>
            
            <div class="user-info">
              <div>
                <div class="info-group">
                  <span class="info-label">Hc vin:</span> <span class="info-value">${Ae}</span>
                </div>
                <div class="info-group">
                  <span class="info-label">Email:</span> <span class="info-value">${me}</span>
                </div>
              </div>
              <div>
                <div class="info-group">
                  <span class="info-label">M hc vin:</span> <span class="info-value">${ae}</span>
                </div>
              </div>
            </div>
            
            <table>
              <thead>
                <tr>
                  <th>STT</th>
                  <th>Kha hc</th>
                  <th>M giao dch</th>
                  <th>Phng thc</th>
                  <th>Ngy thanh ton</th>
                  <th class="amount">S tin</th>
                </tr>
              </thead>
              <tbody>
                ${Z.map((fe,pe)=>{var we;return`
                  <tr>
                    <td>${pe+1}</td>
                    <td>${((we=fe.Course)==null?void 0:we.Title)||"Khng c thng tin kha hc"}</td>
                    <td>${fe.TransactionCode||fe.TransactionID}</td>
                    <td>${P(fe.PaymentMethod)}</td>
                    <td>${G(fe.CreatedAt)}</td>
                    <td class="amount">${z(fe.Amount)}</td>
                  </tr>
                `}).join("")}
              </tbody>
            </table>
            
            <div class="total-section">
              <div class="total-row">
                <div class="total-label">S lng giao dch:</div>
                <div class="total-amount">${Z.length} giao dch</div>
              </div>
              <div class="total-row grand-total">
                <div class="total-label">Tng thanh ton:</div>
                <div class="total-amount">${z(Z.reduce((fe,pe)=>fe+parseFloat(pe.Amount||0),0))}</div>
              </div>
            </div>
            
            <div class="notes">
              <h3>Ghi ch:</h3>
              <p>Ti liu ny ch c gi tr thng tin v khng c gi tr php l. Vui lng lin h vi b phn h tr khch hng ca CampusLearning Learning nu cn thm thng tin hoc xc nhn thanh ton.</p>
            </div>
            
            <div class="stamp">
              <div class="stamp-content"> xc nhn</div>
            </div>
            
            <div class="footer">
              <p>CampusLearning Learning - Nn tng hc trc tuyn hng u</p>
              <p>Mi thc mc xin lin h: support@CampusLearning.com | Hotline: 0123456789</p>
            </div>
          </div>
        </div>
        
        <script>
          // Ensure watermarks appear on every page by adding page class to each page
          document.addEventListener('DOMContentLoaded', function() {
            // Add watermark elements to ensure they appear on every printed page
            const addWatermarks = () => {
              const watermarkText = document.createElement('div');
              watermarkText.className = 'watermark-text';
              watermarkText.style.cssText = 
                'position: fixed;' +
                'top: 50%;' +
                'left: 50%;' +
                'transform: translate(-50%, -50%) rotate(-30deg);' +
                'font-size: 80px;' +
                'font-weight: 700;' +
                'color: rgba(37, 99, 235, 0.07);' +  /* Mu xanh m */
                'white-space: nowrap;' +
                'z-index: -1;' +
                'pointer-events: none;';
              watermarkText.innerText = 'CampusLearning Learning';
              document.body.appendChild(watermarkText);
              
              const watermarkStripes = document.createElement('div');
              watermarkStripes.className = 'watermark-stripes';
              watermarkStripes.style.cssText = 
                'position: fixed;' +
                'top: 0;' +
                'left: 0;' +
                'width: 100%;' +
                'height: 100%;' +
                'background: repeating-linear-gradient(' +
                  '45deg,' +
                  'rgba(200, 200, 200, 0.05),' +
                  'rgba(200, 200, 200, 0.05) 10px,' +
                  'rgba(200, 200, 200, 0.08) 10px,' +
                  'rgba(200, 200, 200, 0.08) 20px' +
                ');' +
                'z-index: -2;' +
                'pointer-events: none;';
              document.body.appendChild(watermarkStripes);

              // Add additional blue text watermark at bottom of each page
              const blueWatermark = document.createElement('div');
              blueWatermark.className = 'blue-watermark';
              blueWatermark.style.cssText = 
                'position: fixed;' +
                'bottom: 10px;' +
                'left: 50%;' +
                'transform: translateX(-50%);' +
                'font-size: 14px;' +
                'font-weight: 500;' +
                'color: rgba(37, 99, 235, 0.5);' +  /* Mu xanh m hn */
                'white-space: nowrap;' +
                'z-index: 1;' +
                'pointer-events: none;';
              blueWatermark.innerText = 'Ti liu ca CampusLearning Learning - www.CampusLearning.com';
              document.body.appendChild(blueWatermark);
            };
            
            // Add watermarks when document loads
            addWatermarks();
            
            // If there are multiple pages, ensure each gets the page class
            if (document.querySelectorAll('.page').length === 0) {
              const content = document.querySelector('.container');
              if (content) {
                const page = document.createElement('div');
                page.className = 'page';
                content.parentNode.insertBefore(page, content);
                page.appendChild(content);
              }
            }
          });
        <\/script>
        
        <div class="no-print" style="margin-top: 30px; text-align: center;">
          <button onclick="window.print()" style="padding: 10px 20px; background-color: #2563eb; color: white; border: none; border-radius: 5px; cursor: pointer; margin-right: 10px;">In ngay</button>
          <button onclick="window.close()" style="padding: 10px 20px; background-color: #6b7280; color: white; border: none; border-radius: 5px; cursor: pointer;">ng</button>
        </div>
      </body>
      </html>
    `;ie.document.open(),ie.document.write(te),ie.document.close()},H=Z=>{if(Z.id===7){Re.error("Kha hc ny  b xa hoc khng tn ti",{position:"top-right",autoClose:5e3});return}if(!Z.id||!Z.title){Re.error("D liu kha hc khng hp l",{position:"top-right",autoClose:5e3});return}e("/payment-history/print-course",{state:{courseData:Z}})},P=Z=>{switch(Z){case"vnpay":return"VNPay";case"credit_card":return"Th tn dng";case"paypal":return"PayPal";case"free":return"Min ph";case"vietqr":return"VietQR";default:return"Khng xc nh"}},z=Z=>Z?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Z):"0 ",G=Z=>{if(!Z)return"N/A";const Ae=new Date(Z);return new Intl.DateTimeFormat("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(Ae)},he=Z=>{A===Z?g(h==="asc"?"desc":"asc"):(f(Z),g("asc"))},ce=Z=>A!==Z?n.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}):h==="asc"?n.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}):n.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),ye=s.filter(Z=>{if(p==="all")return!0;const Ae=(Z.PaymentStatus||Z.Status||"").toLowerCase();return p==="completed"?Ae==="completed"||Ae==="success":p==="pending"?Ae==="pending"||Ae==="processing":p==="failed"?Ae==="failed"||Ae==="error"||Ae==="cancelled":!0}).sort((Z,Ae)=>{let me=Z[A],ae=Ae[A];return A==="CreatedAt"||A==="UpdatedAt"?(me=new Date(me||0).getTime(),ae=new Date(ae||0).getTime()):A==="Amount"?(me=parseFloat(me||0),ae=parseFloat(ae||0)):(me=(me==null?void 0:me.toString())||"",ae=(ae==null?void 0:ae.toString())||""),h==="asc"?me>ae?1:-1:me<ae?1:-1}),X=()=>n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:Array(4).fill(0).map((Z,Ae)=>n.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded-md w-1/2 mb-2"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded-md w-3/4"})]},`stat-skeleton-${Ae}`))}),Array(5).fill(0).map((Z,Ae)=>n.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md mb-4",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded-md w-1/4 mb-4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded-md w-1/2 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded-md w-3/4 mb-2"}),n.jsxs("div",{className:"flex justify-between mt-4",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded-md w-20"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded-md w-28"})]})]},`skeleton-${Ae}`))]}),re=()=>{const Z=[{title:"Tng thanh ton",value:z(I.totalPaid),icon:{bg:"bg-blue-100",svg:n.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}},{title:"ang x l",value:z(I.totalPending),icon:{bg:"bg-yellow-100",svg:n.jsx("svg",{className:"w-6 h-6 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}},{title:"Giao dch thnh cng",value:I.successfulTransactions,icon:{bg:"bg-green-100",svg:n.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}},{title:"Tng giao dch",value:I.totalTransactions,icon:{bg:"bg-purple-100",svg:n.jsx("svg",{className:"w-6 h-6 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}}];return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:Z.map((Ae,me)=>n.jsx(iue,{...Ae},me))})},_=()=>n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"w-24 h-24 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto",children:n.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Khng tm thy lch s thanh ton"}),n.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:p==="all"?"Bn cha c giao dch no. Hy ng k kha hc  bt u hc tp.":"Khng tm thy giao dch no ph hp vi b lc  chn."}),n.jsxs("button",{onClick:()=>e("/courses"),className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-md hover:shadow-lg focus:ring-4 focus:ring-blue-200 flex items-center gap-2 mx-auto",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Khm ph kha hc"]})]}),Q=()=>n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"w-24 h-24 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto",children:n.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:d}),n.jsxs("button",{onClick:()=>window.location.reload(),className:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-md hover:shadow-lg focus:ring-4 focus:ring-blue-200 flex items-center gap-2 mx-auto",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Th li"]})]});return n.jsxs("div",{className:"bg-gradient-to-b from-gray-50 to-gray-100 min-h-screen pb-12",children:[n.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-10",children:n.jsx("div",{className:"container mx-auto px-4 py-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"mb-4 md:mb-0",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lch s thanh ton"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Xem lch s thanh ton v ng k kha hc ca bn"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors shadow-sm",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"In thanh ton"]}),n.jsxs("button",{onClick:()=>e("/courses"),className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:text-blue-800 transition-colors",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Quay li kha hc"]})]})]})})}),n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:n.jsxs("div",{className:"flex flex-wrap gap-3 justify-between",children:[n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsx(Yg,{active:p==="all",onClick:()=>b("all"),activeColor:"bg-blue-50 text-blue-700 border border-blue-200",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),"Tt c"]})}),n.jsx(Yg,{active:p==="completed",onClick:()=>b("completed"),activeColor:"bg-green-50 text-green-700 border border-green-200",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Thnh cng"]})}),n.jsx(Yg,{active:p==="pending",onClick:()=>b("pending"),activeColor:"bg-yellow-50 text-yellow-700 border border-yellow-200",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"ang x l"]})}),n.jsx(Yg,{active:p==="failed",onClick:()=>b("failed"),activeColor:"bg-red-50 text-red-700 border border-red-200",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Tht bi"]})})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs("button",{onClick:K,className:"px-4 py-2 bg-red-50 text-red-700 rounded-lg border border-red-200 hover:bg-red-100 transition-colors flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Chn tt c  hy"]}),x.length>0&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:B,disabled:o,className:`px-4 py-2 bg-gray-50 text-gray-700 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors flex items-center gap-2 ${o?"opacity-60 cursor-not-allowed":""}`,children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"B chn tt c"]}),n.jsxs("button",{onClick:R,disabled:o,className:`px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 ${o?"opacity-60 cursor-not-allowed":""}`,children:[o?n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Xa (",x.length,")"]})]})]})]})}),o?X():d?Q():ye.length===0?_():n.jsxs(n.Fragment,{children:[re(),n.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n.jsx("div",{className:"flex items-center gap-1",children:"Chn"})}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>he("Course.Title"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Kha hc",ce("Course.Title")]})}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>he("Amount"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["S tin",ce("Amount")]})}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>he("PaymentMethod"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Phng thc",ce("PaymentMethod")]})}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>he("PaymentStatus"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Trng thi",ce("PaymentStatus")]})}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>he("CreatedAt"),children:n.jsxs("div",{className:"flex items-center gap-1",children:["Ngy",ce("CreatedAt")]})}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hnh ng"})]})}),n.jsx("tbody",{children:ye.map((Z,Ae)=>{var ae,ie,te;const me=(Z.PaymentStatus||Z.Status||"").toLowerCase()==="cancelled";return n.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${Ae%2===0?"bg-white":"bg-gray-50"}`,children:[n.jsx("td",{className:"px-3 py-4",children:n.jsx("div",{className:"flex items-center justify-center",children:me&&n.jsx("input",{type:"checkbox",checked:x.includes(Z.TransactionID),onChange:()=>U(Z.TransactionID),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-100 rounded-md flex items-center justify-center text-gray-500 mr-3",children:(ae=Z.Course)!=null&&ae.ImageUrl?n.jsx("img",{src:Z.Course.ImageUrl,alt:((ie=Z.Course)==null?void 0:ie.Title)||"Course image",className:"h-10 w-10 object-cover rounded-md"}):n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:((te=Z.Course)==null?void 0:te.Title)||"Khng c thng tin kha hc"}),n.jsxs("div",{className:"text-xs text-gray-500",children:["M GD: ",Z.TransactionCode||Z.TransactionID]})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:z(Z.Amount)})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm text-gray-900 flex items-center",children:[Z.PaymentMethod==="vnpay"&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"w-6 h-6 rounded bg-green-100 flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-xs font-bold text-green-700",children:"VN"})}),"VNPay"]}),Z.PaymentMethod==="credit_card"&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"w-6 h-6 rounded bg-blue-100 flex items-center justify-center mr-2",children:n.jsx("svg",{className:"w-4 h-4 text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),"Th tn dng"]}),Z.PaymentMethod==="paypal"&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"w-6 h-6 rounded bg-blue-100 flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-xs font-bold text-blue-700",children:"PP"})}),"PayPal"]}),Z.PaymentMethod==="free"&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"w-6 h-6 rounded bg-purple-100 flex items-center justify-center mr-2",children:n.jsx("svg",{className:"w-4 h-4 text-purple-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),"Min ph"]}),Z.PaymentMethod==="vietqr"&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"w-6 h-6 rounded bg-red-100 flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-xs font-bold text-red-700",children:"QR"})}),"VietQR"]}),!Z.PaymentMethod&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"w-6 h-6 rounded bg-gray-100 flex items-center justify-center mr-2",children:n.jsx("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),"Khng xc nh"]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx(oue,{status:Z.PaymentStatus||Z.Status})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:G(Z.CreatedAt)}),n.jsxs("td",{className:"px-6 py-4 text-right text-sm font-medium",children:[Z.Course&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>e(`/courses/${Z.CourseID}`),className:"text-blue-600 hover:text-blue-900 transition-colors bg-blue-50 hover:bg-blue-100 p-2 rounded-md mr-2",title:"Xem kha hc",children:n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),w.find(fe=>fe.id===Z.CourseID)&&n.jsx("button",{onClick:()=>H(w.find(fe=>fe.id===Z.CourseID)),className:"text-green-600 hover:text-green-900 transition-colors bg-green-50 hover:bg-green-100 p-2 rounded-md",title:"In chi tit",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})})]}),me&&n.jsxs("button",{onClick:()=>T(Z.TransactionID),disabled:o||l===Z.TransactionID,className:`text-red-600 hover:text-red-900 transition-colors bg-red-50 hover:bg-red-100 px-3 py-1 rounded-md ml-2 flex items-center gap-1 ${o||l===Z.TransactionID?"opacity-60 cursor-not-allowed":""}`,children:[l===Z.TransactionID?n.jsxs("svg",{className:"animate-spin h-4 w-4 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Xa"]})]})]},Z.TransactionID)})})]})})})]})]})]})};var JF={exports:{}};const lue="modulepreload",cue=function(e){return"/"+e},E4={},c2=function(t,r,s){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=cue(c),c in E4)return;E4[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const A=document.createElement("link");if(A.rel=d?"stylesheet":lue,d||(A.as="script"),A.crossOrigin="",A.href=c,l&&A.setAttribute("nonce",l),document.head.appendChild(A),d)return new Promise((f,h)=>{A.addEventListener("load",f),A.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};function xn(e){"@babel/helpers - typeof";return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(e)}var bi=Uint8Array,ko=Uint16Array,pj=Int32Array,t1=new bi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),r1=new bi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),u2=new bi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),YF=function(e,t){for(var r=new ko(31),s=0;s<31;++s)r[s]=t+=1<<e[s-1];for(var i=new pj(r[30]),s=1;s<30;++s)for(var o=r[s];o<r[s+1];++o)i[o]=o-r[s]<<5|s;return{b:r,r:i}},ZF=YF(t1,2),eL=ZF.b,d2=ZF.r;eL[28]=258,d2[258]=28;var tL=YF(r1,0),uue=tL.b,I4=tL.r,A2=new ko(32768);for(var Un=0;Un<32768;++Un){var Wc=(Un&43690)>>1|(Un&21845)<<1;Wc=(Wc&52428)>>2|(Wc&13107)<<2,Wc=(Wc&61680)>>4|(Wc&3855)<<4,A2[Un]=((Wc&65280)>>8|(Wc&255)<<8)>>1}var vl=function(e,t,r){for(var s=e.length,i=0,o=new ko(t);i<s;++i)e[i]&&++o[e[i]-1];var a=new ko(t);for(i=1;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;var l;if(r){l=new ko(1<<t);var c=15-t;for(i=0;i<s;++i)if(e[i])for(var d=i<<4|e[i],u=t-e[i],A=a[e[i]-1]++<<u,f=A|(1<<u)-1;A<=f;++A)l[A2[A]>>c]=d}else for(l=new ko(s),i=0;i<s;++i)e[i]&&(l[i]=A2[a[e[i]-1]++]>>15-e[i]);return l},ku=new bi(288);for(var Un=0;Un<144;++Un)ku[Un]=8;for(var Un=144;Un<256;++Un)ku[Un]=9;for(var Un=256;Un<280;++Un)ku[Un]=7;for(var Un=280;Un<288;++Un)ku[Un]=8;var op=new bi(32);for(var Un=0;Un<32;++Un)op[Un]=5;var due=vl(ku,9,0),Aue=vl(ku,9,1),hue=vl(op,5,0),fue=vl(op,5,1),hv=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},ga=function(e,t,r){var s=t/8|0;return(e[s]|e[s+1]<<8)>>(t&7)&r},fv=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},gj=function(e){return(e+7)/8|0},rL=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new bi(e.subarray(t,r))},mue=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ba=function(e,t,r){var s=new Error(t||mue[e]);if(s.code=e,Error.captureStackTrace&&Error.captureStackTrace(s,ba),!r)throw s;return s},pue=function(e,t,r,s){var i=e.length,o=0;if(!i||t.f&&!t.l)return r||new bi(0);var a=!r,l=a||t.i!=2,c=t.i;a&&(r=new bi(i*3));var d=function(pe){var we=r.length;if(pe>we){var je=new bi(Math.max(we*2,pe));je.set(r),r=je}},u=t.f||0,A=t.p||0,f=t.b||0,h=t.l,g=t.d,p=t.m,b=t.n,x=i*8;do{if(!h){u=ga(e,A,1);var j=ga(e,A+1,3);if(A+=3,j)if(j==1)h=Aue,g=fue,p=9,b=5;else if(j==2){var F=ga(e,A,31)+257,T=ga(e,A+10,15)+4,U=F+ga(e,A+5,31)+1;A+=14;for(var K=new bi(U),B=new bi(19),R=0;R<T;++R)B[u2[R]]=ga(e,A+R*3,7);A+=T*3;for(var D=hv(B),H=(1<<D)-1,P=vl(B,D,1),R=0;R<U;){var z=P[ga(e,A,H)];A+=z&15;var w=z>>4;if(w<16)K[R++]=w;else{var G=0,he=0;for(w==16?(he=3+ga(e,A,3),A+=2,G=K[R-1]):w==17?(he=3+ga(e,A,7),A+=3):w==18&&(he=11+ga(e,A,127),A+=7);he--;)K[R++]=G}}var ce=K.subarray(0,F),ye=K.subarray(F);p=hv(ce),b=hv(ye),h=vl(ce,p,1),g=vl(ye,b,1)}else ba(1);else{var w=gj(A)+4,S=e[w-4]|e[w-3]<<8,I=w+S;if(I>i){c&&ba(0);break}l&&d(f+S),r.set(e.subarray(w,I),f),t.b=f+=S,t.p=A=I*8,t.f=u;continue}if(A>x){c&&ba(0);break}}l&&d(f+131072);for(var X=(1<<p)-1,re=(1<<b)-1,_=A;;_=A){var G=h[fv(e,A)&X],Q=G>>4;if(A+=G&15,A>x){c&&ba(0);break}if(G||ba(2),Q<256)r[f++]=Q;else if(Q==256){_=A,h=null;break}else{var Z=Q-254;if(Q>264){var R=Q-257,Ae=t1[R];Z=ga(e,A,(1<<Ae)-1)+eL[R],A+=Ae}var me=g[fv(e,A)&re],ae=me>>4;me||ba(3),A+=me&15;var ye=uue[ae];if(ae>3){var Ae=r1[ae];ye+=fv(e,A)&(1<<Ae)-1,A+=Ae}if(A>x){c&&ba(0);break}l&&d(f+131072);var ie=f+Z;if(f<ye){var te=o-ye,fe=Math.min(ye,ie);for(te+f<0&&ba(3);f<fe;++f)r[f]=s[te+f]}for(;f<ie;++f)r[f]=r[f-ye]}}t.l=h,t.p=_,t.b=f,t.f=u,h&&(u=1,t.m=p,t.d=g,t.n=b)}while(!u);return f!=r.length&&a?rL(r,0,f):r.subarray(0,f)},Wl=function(e,t,r){r<<=t&7;var s=t/8|0;e[s]|=r,e[s+1]|=r>>8},Gf=function(e,t,r){r<<=t&7;var s=t/8|0;e[s]|=r,e[s+1]|=r>>8,e[s+2]|=r>>16},mv=function(e,t){for(var r=[],s=0;s<e.length;++s)e[s]&&r.push({s,f:e[s]});var i=r.length,o=r.slice();if(!i)return{t:sL,l:0};if(i==1){var a=new bi(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(I,F){return I.f-F.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,A=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=i-1;)l=r[r[d].f<r[A].f?d++:A++],c=r[d!=u&&r[d].f<r[A].f?d++:A++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var f=o[0].s,s=1;s<i;++s)o[s].s>f&&(f=o[s].s);var h=new ko(f+1),g=h2(r[u-1],h,0);if(g>t){var s=0,p=0,b=g-t,x=1<<b;for(o.sort(function(F,T){return h[T.s]-h[F.s]||F.f-T.f});s<i;++s){var j=o[s].s;if(h[j]>t)p+=x-(1<<g-h[j]),h[j]=t;else break}for(p>>=b;p>0;){var w=o[s].s;h[w]<t?p-=1<<t-h[w]++-1:++s}for(;s>=0&&p;--s){var S=o[s].s;h[S]==t&&(--h[S],++p)}g=t}return{t:new bi(h),l:g}},h2=function(e,t,r){return e.s==-1?Math.max(h2(e.l,t,r+1),h2(e.r,t,r+1)):t[e.s]=r},T4=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ko(++t),s=0,i=e[0],o=1,a=function(c){r[s++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(i),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(i);o=1,i=e[l]}return{c:r.subarray(0,s),n:t}},qf=function(e,t){for(var r=0,s=0;s<t.length;++s)r+=e[s]*t[s];return r},nL=function(e,t,r){var s=r.length,i=gj(t+2);e[i]=s&255,e[i+1]=s>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var o=0;o<s;++o)e[i+o+4]=r[o];return(i+4+s)*8},F4=function(e,t,r,s,i,o,a,l,c,d,u){Wl(t,u++,r),++i[256];for(var A=mv(i,15),f=A.t,h=A.l,g=mv(o,15),p=g.t,b=g.l,x=T4(f),j=x.c,w=x.n,S=T4(p),I=S.c,F=S.n,T=new ko(19),U=0;U<j.length;++U)++T[j[U]&31];for(var U=0;U<I.length;++U)++T[I[U]&31];for(var K=mv(T,7),B=K.t,R=K.l,D=19;D>4&&!B[u2[D-1]];--D);var H=d+5<<3,P=qf(i,ku)+qf(o,op)+a,z=qf(i,f)+qf(o,p)+a+14+3*D+qf(T,B)+2*T[16]+3*T[17]+7*T[18];if(c>=0&&H<=P&&H<=z)return nL(t,u,e.subarray(c,c+d));var G,he,ce,ye;if(Wl(t,u,1+(z<P)),u+=2,z<P){G=vl(f,h,0),he=f,ce=vl(p,b,0),ye=p;var X=vl(B,R,0);Wl(t,u,w-257),Wl(t,u+5,F-1),Wl(t,u+10,D-4),u+=14;for(var U=0;U<D;++U)Wl(t,u+3*U,B[u2[U]]);u+=3*D;for(var re=[j,I],_=0;_<2;++_)for(var Q=re[_],U=0;U<Q.length;++U){var Z=Q[U]&31;Wl(t,u,X[Z]),u+=B[Z],Z>15&&(Wl(t,u,Q[U]>>5&127),u+=Q[U]>>12)}}else G=due,he=ku,ce=hue,ye=op;for(var U=0;U<l;++U){var Ae=s[U];if(Ae>255){var Z=Ae>>18&31;Gf(t,u,G[Z+257]),u+=he[Z+257],Z>7&&(Wl(t,u,Ae>>23&31),u+=t1[Z]);var me=Ae&31;Gf(t,u,ce[me]),u+=ye[me],me>3&&(Gf(t,u,Ae>>5&8191),u+=r1[me])}else Gf(t,u,G[Ae]),u+=he[Ae]}return Gf(t,u,G[256]),u+he[256]},gue=new pj([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sL=new bi(0),xue=function(e,t,r,s,i,o){var a=o.z||e.length,l=new bi(s+a+5*(1+Math.ceil(a/7e3))+i),c=l.subarray(s,l.length-i),d=o.l,u=(o.r||0)&7;if(t){u&&(c[0]=o.r>>3);for(var A=gue[t-1],f=A>>13,h=A&8191,g=(1<<r)-1,p=o.p||new ko(32768),b=o.h||new ko(g+1),x=Math.ceil(r/3),j=2*x,w=function(De){return(e[De]^e[De+1]<<x^e[De+2]<<j)&g},S=new pj(25e3),I=new ko(288),F=new ko(32),T=0,U=0,K=o.i||0,B=0,R=o.w||0,D=0;K+2<a;++K){var H=w(K),P=K&32767,z=b[H];if(p[P]=z,b[H]=P,R<=K){var G=a-K;if((T>7e3||B>24576)&&(G>423||!d)){u=F4(e,c,0,S,I,F,U,B,D,K-D,u),B=T=U=0,D=K;for(var he=0;he<286;++he)I[he]=0;for(var he=0;he<30;++he)F[he]=0}var ce=2,ye=0,X=h,re=P-z&32767;if(G>2&&H==w(K-re))for(var _=Math.min(f,G)-1,Q=Math.min(32767,K),Z=Math.min(258,G);re<=Q&&--X&&P!=z;){if(e[K+ce]==e[K+ce-re]){for(var Ae=0;Ae<Z&&e[K+Ae]==e[K+Ae-re];++Ae);if(Ae>ce){if(ce=Ae,ye=re,Ae>_)break;for(var me=Math.min(re,Ae-2),ae=0,he=0;he<me;++he){var ie=K-re+he&32767,te=p[ie],fe=ie-te&32767;fe>ae&&(ae=fe,z=ie)}}}P=z,z=p[P],re+=P-z&32767}if(ye){S[B++]=268435456|d2[ce]<<18|I4[ye];var pe=d2[ce]&31,we=I4[ye]&31;U+=t1[pe]+r1[we],++I[257+pe],++F[we],R=K+ce,++T}else S[B++]=e[K],++I[e[K]]}}for(K=Math.max(K,R);K<a;++K)S[B++]=e[K],++I[e[K]];u=F4(e,c,d,S,I,F,U,B,D,K-D,u),d||(o.r=u&7|c[u/8|0]<<3,u-=7,o.h=b,o.p=p,o.i=K,o.w=R)}else{for(var K=o.w||0;K<a+d;K+=65535){var je=K+65535;je>=a&&(c[u/8|0]=d,je=a),u=nL(c,u+1,e.subarray(K,je))}o.i=a}return rL(l,0,s+gj(u)+i)},iL=function(){var e=1,t=0;return{p:function(r){for(var s=e,i=t,o=r.length|0,a=0;a!=o;){for(var l=Math.min(a+2655,o);a<l;++a)i+=s+=r[a];s=(s&65535)+15*(s>>16),i=(i&65535)+15*(i>>16)}e=s,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},yue=function(e,t,r,s,i){if(!i&&(i={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),a=new bi(o.length+e.length);a.set(o),a.set(e,o.length),e=a,i.w=o.length}return xue(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,s,i)},oL=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},bue=function(e,t){var r=t.level,s=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=s<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=iL();i.p(t.dictionary),oL(e,2,i.d())}},vue=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ba(6,"invalid zlib data"),(e[1]>>5&1)==1&&ba(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function f2(e,t){t||(t={});var r=iL();r.p(e);var s=yue(e,t,t.dictionary?6:2,4);return bue(s,t),oL(s,s.length-4,r.d()),s}function wue(e,t){return pue(e.subarray(vue(e),-4),{i:2},t,t)}var jue=typeof TextDecoder<"u"&&new TextDecoder,Cue=0;try{jue.decode(sL,{stream:!0}),Cue=1}catch{}var dr=function(){return typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this}();function pv(){dr.console&&typeof dr.console.log=="function"&&dr.console.log.apply(dr.console,arguments)}var Nn={log:pv,warn:function(e){dr.console&&(typeof dr.console.warn=="function"?dr.console.warn.apply(dr.console,arguments):pv.call(null,arguments))},error:function(e){dr.console&&(typeof dr.console.error=="function"?dr.console.error.apply(dr.console,arguments):pv(e))}};function gv(e,t,r){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){vd(s.response,t,r)},s.onerror=function(){Nn.error("could not download file")},s.send()}function L4(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Zg(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Sm,m2,vd=dr.saveAs||((typeof window>"u"?"undefined":xn(window))!=="object"||window!==dr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var s=dr.URL||dr.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?L4(i.href)?gv(e,t,r):Zg(i,i.target="_blank"):Zg(i)):(i.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(i.href)},4e4),setTimeout(function(){Zg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(L4(e))gv(e,t,r);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){Zg(s)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:xn(o)!=="object"&&(Nn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return gv(e,t,r);var i=e.type==="application/octet-stream",o=/constructor/i.test(dr.HTMLElement)||dr.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&o)&&(typeof FileReader>"u"?"undefined":xn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=u:location=u,s=null},l.readAsDataURL(e)}else{var c=dr.URL||dr.webkitURL,d=c.createObjectURL(e);s?s.location=d:location.href=d,s=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function aL(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],s=0;s<r.length;s++){var i=r[s].re,o=r[s].process,a=i.exec(e);a&&(t=o(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function xv(e,t){var r=e[0],s=e[1],i=e[2],o=e[3];r=Ai(r,s,i,o,t[0],7,-680876936),o=Ai(o,r,s,i,t[1],12,-389564586),i=Ai(i,o,r,s,t[2],17,606105819),s=Ai(s,i,o,r,t[3],22,-1044525330),r=Ai(r,s,i,o,t[4],7,-176418897),o=Ai(o,r,s,i,t[5],12,1200080426),i=Ai(i,o,r,s,t[6],17,-1473231341),s=Ai(s,i,o,r,t[7],22,-45705983),r=Ai(r,s,i,o,t[8],7,1770035416),o=Ai(o,r,s,i,t[9],12,-1958414417),i=Ai(i,o,r,s,t[10],17,-42063),s=Ai(s,i,o,r,t[11],22,-1990404162),r=Ai(r,s,i,o,t[12],7,1804603682),o=Ai(o,r,s,i,t[13],12,-40341101),i=Ai(i,o,r,s,t[14],17,-1502002290),r=hi(r,s=Ai(s,i,o,r,t[15],22,1236535329),i,o,t[1],5,-165796510),o=hi(o,r,s,i,t[6],9,-1069501632),i=hi(i,o,r,s,t[11],14,643717713),s=hi(s,i,o,r,t[0],20,-373897302),r=hi(r,s,i,o,t[5],5,-701558691),o=hi(o,r,s,i,t[10],9,38016083),i=hi(i,o,r,s,t[15],14,-660478335),s=hi(s,i,o,r,t[4],20,-405537848),r=hi(r,s,i,o,t[9],5,568446438),o=hi(o,r,s,i,t[14],9,-1019803690),i=hi(i,o,r,s,t[3],14,-187363961),s=hi(s,i,o,r,t[8],20,1163531501),r=hi(r,s,i,o,t[13],5,-1444681467),o=hi(o,r,s,i,t[2],9,-51403784),i=hi(i,o,r,s,t[7],14,1735328473),r=fi(r,s=hi(s,i,o,r,t[12],20,-1926607734),i,o,t[5],4,-378558),o=fi(o,r,s,i,t[8],11,-2022574463),i=fi(i,o,r,s,t[11],16,1839030562),s=fi(s,i,o,r,t[14],23,-35309556),r=fi(r,s,i,o,t[1],4,-1530992060),o=fi(o,r,s,i,t[4],11,1272893353),i=fi(i,o,r,s,t[7],16,-155497632),s=fi(s,i,o,r,t[10],23,-1094730640),r=fi(r,s,i,o,t[13],4,681279174),o=fi(o,r,s,i,t[0],11,-358537222),i=fi(i,o,r,s,t[3],16,-722521979),s=fi(s,i,o,r,t[6],23,76029189),r=fi(r,s,i,o,t[9],4,-640364487),o=fi(o,r,s,i,t[12],11,-421815835),i=fi(i,o,r,s,t[15],16,530742520),r=mi(r,s=fi(s,i,o,r,t[2],23,-995338651),i,o,t[0],6,-198630844),o=mi(o,r,s,i,t[7],10,1126891415),i=mi(i,o,r,s,t[14],15,-1416354905),s=mi(s,i,o,r,t[5],21,-57434055),r=mi(r,s,i,o,t[12],6,1700485571),o=mi(o,r,s,i,t[3],10,-1894986606),i=mi(i,o,r,s,t[10],15,-1051523),s=mi(s,i,o,r,t[1],21,-2054922799),r=mi(r,s,i,o,t[8],6,1873313359),o=mi(o,r,s,i,t[15],10,-30611744),i=mi(i,o,r,s,t[6],15,-1560198380),s=mi(s,i,o,r,t[13],21,1309151649),r=mi(r,s,i,o,t[4],6,-145523070),o=mi(o,r,s,i,t[11],10,-1120210379),i=mi(i,o,r,s,t[2],15,718787259),s=mi(s,i,o,r,t[9],21,-343485551),e[0]=uu(r,e[0]),e[1]=uu(s,e[1]),e[2]=uu(i,e[2]),e[3]=uu(o,e[3])}function n1(e,t,r,s,i,o){return t=uu(uu(t,e),uu(s,o)),uu(t<<i|t>>>32-i,r)}function Ai(e,t,r,s,i,o,a){return n1(t&r|~t&s,e,t,i,o,a)}function hi(e,t,r,s,i,o,a){return n1(t&s|r&~s,e,t,i,o,a)}function fi(e,t,r,s,i,o,a){return n1(t^r^s,e,t,i,o,a)}function mi(e,t,r,s,i,o,a){return n1(r^(t|~s),e,t,i,o,a)}function lL(e){var t,r=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)xv(s,Nue(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(xv(s,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,xv(s,i),s}function Nue(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Sm=dr.atob.bind(dr),m2=dr.btoa.bind(dr);var P4="0123456789abcdef".split("");function Bue(e){for(var t="",r=0;r<4;r++)t+=P4[e>>8*r+4&15]+P4[e>>8*r&15];return t}function kue(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function p2(e){return lL(e).map(kue).join("")}var Sue=function(e){for(var t=0;t<e.length;t++)e[t]=Bue(e[t]);return e.join("")}(lL("hello"))!="5d41402abc4b2a76b9719d911017c592";function uu(e,t){if(Sue){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function g2(e,t){var r,s,i,o;if(e!==r){for(var a=(i=e,o=1+(256/e.length>>0),new Array(o+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+a.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=e,s=l}else l=s;var A=t.length,f=0,h=0,g="";for(c=0;c<A;c++)h=(h+(u=l[f=(f+1)%256]))%256,l[f]=l[h],l[h]=u,a=l[(l[f]+l[h])%256],g+=String.fromCharCode(t.charCodeAt(c)^a);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var U4={print:4,modify:8,copy:16,"annot-forms":32};function fh(e,t,r,s){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(U4.perm!==void 0)throw new Error("Invalid permission: "+l);i+=U4[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,a),this.P=-(1+(255^i)),this.encryptionKey=p2(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=g2(this.encryptionKey,this.padding)}function mh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,s=0;s<r;s++){var i=e.charCodeAt(s);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[s]}return t}function R4(e){if(xn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,s,i){if(i=i||!1,typeof r!="string"||typeof s!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var o=Math.random().toString(35);return t[r][o]=[s,!!i],o},this.unsubscribe=function(r){for(var s in t)if(t[s][r])return delete t[s][r],Object.keys(t[s]).length===0&&delete t[s],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var s=Array.prototype.slice.call(arguments,1),i=[];for(var o in t[r]){var a=t[r][o];try{a[0].apply(e,s)}catch(l){dr.console&&Nn.error("jsPDF PubSub Error",l.message,l)}a[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function ap(e){if(!(this instanceof ap))return new ap(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function cL(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function su(e,t,r,s,i){if(!(this instanceof su))return new su(e,t,r,s,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,cL.call(this,s,i)}function Sd(e,t,r,s,i){if(!(this instanceof Sd))return new Sd(e,t,r,s,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,cL.call(this,s,i)}function ar(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],i=arguments[2],o=arguments[3],a=[],l=1,c=16,d="S",u=null;xn(e=e||{})==="object"&&(r=e.orientation,s=e.unit||s,i=e.format||i,o=e.compress||e.compressPdf||o,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),a=e.filters||(o===!0?["FlateEncode"]:a),s=s||"mm",r=(""+(r||"P")).toLowerCase();var A=e.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=R4;var g="1.3",p=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(L){g=L};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return b};var x=h.__private__.getPageFormat=function(L){return b[L]};i=i||"a4";var j={COMPAT:"compat",ADVANCED:"advanced"},w=j.COMPAT;function S(){this.saveGraphicsState(),Ce(new Ft(ee,0,0,-ee,0,$a()*ee).toString()+" cm"),this.setFontSize(this.getFontSize()/ee),d="n",w=j.ADVANCED}function I(){this.restoreGraphicsState(),d="S",w=j.COMPAT}var F=h.__private__.combineFontStyleAndFontWeight=function(L,se){if(L=="bold"&&se=="normal"||L=="bold"&&se==400||L=="normal"&&se=="italic"||L=="bold"&&se=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(L=se==400||se==="normal"?L==="italic"?"italic":"normal":se!=700&&se!=="bold"||L!=="normal"?(se==700?"bold":se)+""+L:"bold"),L};h.advancedAPI=function(L){var se=w===j.COMPAT;return se&&S.call(this),typeof L!="function"||(L(this),se&&I.call(this)),this},h.compatAPI=function(L){var se=w===j.ADVANCED;return se&&I.call(this),typeof L!="function"||(L(this),se&&S.call(this)),this},h.isAdvancedAPI=function(){return w===j.ADVANCED};var T,U=function(L){if(w!==j.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=h.roundToPrecision=h.__private__.roundToPrecision=function(L,se){var Ie=t||se;if(isNaN(L)||isNaN(Ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Ie).replace(/0+$/,"")};T=h.hpf=h.__private__.hpf=typeof c=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return K(L,c)}:c==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return K(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return K(L,16)};var B=h.f2=h.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return K(L,2)},R=h.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return K(L,3)},D=h.scale=h.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return w===j.COMPAT?L*ee:w===j.ADVANCED?L:void 0},H=function(L){return w===j.COMPAT?$a()-L:w===j.ADVANCED?L:void 0},P=function(L){return D(H(L))};h.__private__.setPrecision=h.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var z,G="00000000000000000000000000000000",he=h.__private__.getFileId=function(){return G},ce=h.__private__.setFileId=function(L){return G=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():G.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Ms=new fh(u.userPermissions,u.userPassword,u.ownerPassword,G)),G};h.setFileId=function(L){return ce(L),this},h.getFileId=function(){return he()};var ye=h.__private__.convertDateToPDFDate=function(L){var se=L.getTimezoneOffset(),Ie=se<0?"+":"-",Me=Math.floor(Math.abs(se/60)),Ge=Math.abs(se%60),ut=[Ie,Z(Me),"'",Z(Ge),"'"].join("");return["D:",L.getFullYear(),Z(L.getMonth()+1),Z(L.getDate()),Z(L.getHours()),Z(L.getMinutes()),Z(L.getSeconds()),ut].join("")},X=h.__private__.convertPDFDateToDate=function(L){var se=parseInt(L.substr(2,4),10),Ie=parseInt(L.substr(6,2),10)-1,Me=parseInt(L.substr(8,2),10),Ge=parseInt(L.substr(10,2),10),ut=parseInt(L.substr(12,2),10),wt=parseInt(L.substr(14,2),10);return new Date(se,Ie,Me,Ge,ut,wt,0)},re=h.__private__.setCreationDate=function(L){var se;if(L===void 0&&(L=new Date),L instanceof Date)se=ye(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=L}return z=se},_=h.__private__.getCreationDate=function(L){var se=z;return L==="jsDate"&&(se=X(z)),se};h.setCreationDate=function(L){return re(L),this},h.getCreationDate=function(L){return _(L)};var Q,Z=h.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},Ae=h.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},me=0,ae=[],ie=[],te=0,fe=[],pe=[],we=!1,je=ie,De=function(){me=0,te=0,ie=[],ae=[],fe=[],Ni=an(),ti=an()};h.__private__.setCustomOutputDestination=function(L){we=!0,je=L};var Ue=function(L){we||(je=L)};h.__private__.resetCustomOutputDestination=function(){we=!1,je=ie};var Ce=h.__private__.out=function(L){return L=L.toString(),te+=L.length+1,je.push(L),je},Ct=h.__private__.write=function(L){return Ce(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},ct=h.__private__.getArrayBuffer=function(L){for(var se=L.length,Ie=new ArrayBuffer(se),Me=new Uint8Array(Ie);se--;)Me[se]=L.charCodeAt(se);return Ie},rt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return rt};var st=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(L){return st=w===j.ADVANCED?L/ee:L,this};var at,qe=h.__private__.getFontSize=h.getFontSize=function(){return w===j.COMPAT?st:st*ee},St=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(L){return St=L,this},h.__private__.getR2L=h.getR2L=function(){return St};var kt,He=h.__private__.setZoomMode=function(L){var se=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))at=L;else if(isNaN(L)){if(se.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');at=L}else at=parseInt(L,10)};h.__private__.getZoomMode=function(){return at};var Le,q=h.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');kt=L};h.__private__.getPageMode=function(){return kt};var M=h.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');Le=L};h.__private__.getLayoutMode=function(){return Le},h.__private__.setDisplayMode=h.setDisplayMode=function(L,se,Ie){return He(L),M(se),q(Ie),this};var $={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(L){if(Object.keys($).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $[L]},h.__private__.getDocumentProperties=function(){return $},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(L){for(var se in $)$.hasOwnProperty(se)&&L[se]&&($[se]=L[se]);return this},h.__private__.setDocumentProperty=function(L,se){if(Object.keys($).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $[L]=se};var J,ee,ve,Se,We,$e={},Pe={},Be=[],Te={},pt={},nt={},Nt={},ht=null,ft=0,xe=[],Xe=new R4(h),Fe=e.hotfixes||[],et={},Et={},Qt=[],Ft=function L(se,Ie,Me,Ge,ut,wt){if(!(this instanceof L))return new L(se,Ie,Me,Ge,ut,wt);isNaN(se)&&(se=1),isNaN(Ie)&&(Ie=0),isNaN(Me)&&(Me=0),isNaN(Ge)&&(Ge=1),isNaN(ut)&&(ut=0),isNaN(wt)&&(wt=0),this._matrix=[se,Ie,Me,Ge,ut,wt]};Object.defineProperty(Ft.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ft.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ft.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ft.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ft.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ft.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ft.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ft.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ft.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ft.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ft.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ft.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ft.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ft.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ft.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ft.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ft.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(L)},Ft.prototype.multiply=function(L){var se=L.sx*this.sx+L.shy*this.shx,Ie=L.sx*this.shy+L.shy*this.sy,Me=L.shx*this.sx+L.sy*this.shx,Ge=L.shx*this.shy+L.sy*this.sy,ut=L.tx*this.sx+L.ty*this.shx+this.tx,wt=L.tx*this.shy+L.ty*this.sy+this.ty;return new Ft(se,Ie,Me,Ge,ut,wt)},Ft.prototype.decompose=function(){var L=this.sx,se=this.shy,Ie=this.shx,Me=this.sy,Ge=this.tx,ut=this.ty,wt=Math.sqrt(L*L+se*se),Vt=(L/=wt)*Ie+(se/=wt)*Me;Ie-=L*Vt,Me-=se*Vt;var rr=Math.sqrt(Ie*Ie+Me*Me);return Vt/=rr,L*(Me/=rr)<se*(Ie/=rr)&&(L=-L,se=-se,Vt=-Vt,wt=-wt),{scale:new Ft(wt,0,0,rr,0,0),translate:new Ft(1,0,0,1,Ge,ut),rotate:new Ft(L,se,-se,L,0,0),skew:new Ft(1,0,Vt,1,0,0)}},Ft.prototype.toString=function(L){return this.join(" ")},Ft.prototype.inversed=function(){var L=this.sx,se=this.shy,Ie=this.shx,Me=this.sy,Ge=this.tx,ut=this.ty,wt=1/(L*Me-se*Ie),Vt=Me*wt,rr=-se*wt,hr=-Ie*wt,fr=L*wt;return new Ft(Vt,rr,hr,fr,-Vt*Ge-hr*ut,-rr*Ge-fr*ut)},Ft.prototype.applyToPoint=function(L){var se=L.x*this.sx+L.y*this.shx+this.tx,Ie=L.x*this.shy+L.y*this.sy+this.ty;return new wc(se,Ie)},Ft.prototype.applyToRectangle=function(L){var se=this.applyToPoint(L),Ie=this.applyToPoint(new wc(L.x+L.w,L.y+L.h));return new Mu(se.x,se.y,Ie.x-se.x,Ie.y-se.y)},Ft.prototype.clone=function(){var L=this.sx,se=this.shy,Ie=this.shx,Me=this.sy,Ge=this.tx,ut=this.ty;return new Ft(L,se,Ie,Me,Ge,ut)},h.Matrix=Ft;var Rr=h.matrixMult=function(L,se){return se.multiply(L)},vr=new Ft(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=vr;var Dn=function(L,se){if(!pt[L]){var Ie=(se instanceof su?"Sh":"P")+(Object.keys(Te).length+1).toString(10);se.id=Ie,pt[L]=Ie,Te[Ie]=se,Xe.publish("addPattern",se)}};h.ShadingPattern=su,h.TilingPattern=Sd,h.addShadingPattern=function(L,se){return U("addShadingPattern()"),Dn(L,se),this},h.beginTilingPattern=function(L){U("beginTilingPattern()"),bA(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},h.endTilingPattern=function(L,se){U("endTilingPattern()"),se.stream=pe[Q].join(`
`),Dn(L,se),Xe.publish("endTilingPattern",se),Qt.pop().restore()};var tr=h.__private__.newObject=function(){var L=an();return gs(L,!0),L},an=h.__private__.newObjectDeferred=function(){return me++,ae[me]=function(){return te},me},gs=function(L,se){return se=typeof se=="boolean"&&se,ae[L]=te,se&&Ce(L+" 0 obj"),L},Ts=h.__private__.newAdditionalObject=function(){var L={objId:an(),content:""};return fe.push(L),L},Ni=an(),ti=an(),ri=h.__private__.decodeColorString=function(L){var se=L.split(" ");if(se.length!==2||se[1]!=="g"&&se[1]!=="G")se.length===5&&(se[4]==="k"||se[4]==="K")&&(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var Ie=parseFloat(se[0]);se=[Ie,Ie,Ie,"r"]}for(var Me="#",Ge=0;Ge<3;Ge++)Me+=("0"+Math.floor(255*parseFloat(se[Ge])).toString(16)).slice(-2);return Me},ni=h.__private__.encodeColorString=function(L){var se;typeof L=="string"&&(L={ch1:L});var Ie=L.ch1,Me=L.ch2,Ge=L.ch3,ut=L.ch4,wt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ie=="string"&&Ie.charAt(0)!=="#"){var Vt=new aL(Ie);if(Vt.ok)Ie=Vt.toHex();else if(!/^\d*\.?\d*$/.test(Ie))throw new Error('Invalid color "'+Ie+'" passed to jsPDF.encodeColorString.')}if(typeof Ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ie)&&(Ie="#"+Ie[1]+Ie[1]+Ie[2]+Ie[2]+Ie[3]+Ie[3]),typeof Ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ie)){var rr=parseInt(Ie.substr(1),16);Ie=rr>>16&255,Me=rr>>8&255,Ge=255&rr}if(Me===void 0||ut===void 0&&Ie===Me&&Me===Ge)if(typeof Ie=="string")se=Ie+" "+wt[0];else switch(L.precision){case 2:se=B(Ie/255)+" "+wt[0];break;case 3:default:se=R(Ie/255)+" "+wt[0]}else if(ut===void 0||xn(ut)==="object"){if(ut&&!isNaN(ut.a)&&ut.a===0)return se=["1.","1.","1.",wt[1]].join(" ");if(typeof Ie=="string")se=[Ie,Me,Ge,wt[1]].join(" ");else switch(L.precision){case 2:se=[B(Ie/255),B(Me/255),B(Ge/255),wt[1]].join(" ");break;default:case 3:se=[R(Ie/255),R(Me/255),R(Ge/255),wt[1]].join(" ")}}else if(typeof Ie=="string")se=[Ie,Me,Ge,ut,wt[2]].join(" ");else switch(L.precision){case 2:se=[B(Ie),B(Me),B(Ge),B(ut),wt[2]].join(" ");break;case 3:default:se=[R(Ie),R(Me),R(Ge),R(ut),wt[2]].join(" ")}return se},Bi=h.__private__.getFilters=function(){return a},xs=h.__private__.putStream=function(L){var se=(L=L||{}).data||"",Ie=L.filters||Bi(),Me=L.alreadyAppliedFilters||[],Ge=L.addLength1||!1,ut=se.length,wt=L.objectId,Vt=function(Ds){return Ds};if(u!==null&&wt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Vt=Ms.encryptor(wt,0));var rr={};Ie===!0&&(Ie=["FlateEncode"]);var hr=L.additionalKeyValues||[],fr=(rr=ar.API.processDataByFilters!==void 0?ar.API.processDataByFilters(se,Ie):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(Me)?Me.join(" "):Me.toString());if(rr.data.length!==0&&(hr.push({key:"Length",value:rr.data.length}),Ge===!0&&hr.push({key:"Length1",value:ut})),fr.length!=0)if(fr.split("/").length-1==1)hr.push({key:"Filter",value:fr});else{hr.push({key:"Filter",value:"["+fr+"]"});for(var Ir=0;Ir<hr.length;Ir+=1)if(hr[Ir].key==="DecodeParms"){for(var ln=[],cn=0;cn<rr.reverseChain.split("/").length-1;cn+=1)ln.push("null");ln.push(hr[Ir].value),hr[Ir].value="["+ln.join(" ")+"]"}}Ce("<<");for(var lr=0;lr<hr.length;lr++)Ce("/"+hr[lr].key+" "+hr[lr].value);Ce(">>"),rr.data.length!==0&&(Ce("stream"),Ce(Vt(rr.data)),Ce("endstream"))},zi=h.__private__.putPage=function(L){var se=L.number,Ie=L.data,Me=L.objId,Ge=L.contentsObjId;gs(Me,!0),Ce("<</Type /Page"),Ce("/Parent "+L.rootDictionaryObjId+" 0 R"),Ce("/Resources "+L.resourceDictionaryObjId+" 0 R"),Ce("/MediaBox ["+parseFloat(T(L.mediaBox.bottomLeftX))+" "+parseFloat(T(L.mediaBox.bottomLeftY))+" "+T(L.mediaBox.topRightX)+" "+T(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&Ce("/CropBox ["+T(L.cropBox.bottomLeftX)+" "+T(L.cropBox.bottomLeftY)+" "+T(L.cropBox.topRightX)+" "+T(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&Ce("/BleedBox ["+T(L.bleedBox.bottomLeftX)+" "+T(L.bleedBox.bottomLeftY)+" "+T(L.bleedBox.topRightX)+" "+T(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&Ce("/TrimBox ["+T(L.trimBox.bottomLeftX)+" "+T(L.trimBox.bottomLeftY)+" "+T(L.trimBox.topRightX)+" "+T(L.trimBox.topRightY)+"]"),L.artBox!==null&&Ce("/ArtBox ["+T(L.artBox.bottomLeftX)+" "+T(L.artBox.bottomLeftY)+" "+T(L.artBox.topRightX)+" "+T(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&Ce("/UserUnit "+L.userUnit),Xe.publish("putPage",{objId:Me,pageContext:xe[se],pageNumber:se,page:Ie}),Ce("/Contents "+Ge+" 0 R"),Ce(">>"),Ce("endobj");var ut=Ie.join(`
`);return w===j.ADVANCED&&(ut+=`
Q`),gs(Ge,!0),xs({data:ut,filters:Bi(),objectId:Ge}),Ce("endobj"),Me},Fs=h.__private__.putPages=function(){var L,se,Ie=[];for(L=1;L<=ft;L++)xe[L].objId=an(),xe[L].contentsObjId=an();for(L=1;L<=ft;L++)Ie.push(zi({number:L,data:pe[L],objId:xe[L].objId,contentsObjId:xe[L].contentsObjId,mediaBox:xe[L].mediaBox,cropBox:xe[L].cropBox,bleedBox:xe[L].bleedBox,trimBox:xe[L].trimBox,artBox:xe[L].artBox,userUnit:xe[L].userUnit,rootDictionaryObjId:Ni,resourceDictionaryObjId:ti}));gs(Ni,!0),Ce("<</Type /Pages");var Me="/Kids [";for(se=0;se<ft;se++)Me+=Ie[se]+" 0 R ";Ce(Me+"]"),Ce("/Count "+ft),Ce(">>"),Ce("endobj"),Xe.publish("postPutPages")},zr=function(L){Xe.publish("putFont",{font:L,out:Ce,newObject:tr,putStream:xs}),L.isAlreadyPutted!==!0&&(L.objectNumber=tr(),Ce("<<"),Ce("/Type /Font"),Ce("/BaseFont /"+mh(L.postScriptName)),Ce("/Subtype /Type1"),typeof L.encoding=="string"&&Ce("/Encoding /"+L.encoding),Ce("/FirstChar 32"),Ce("/LastChar 255"),Ce(">>"),Ce("endobj"))},ho=function(){for(var L in $e)$e.hasOwnProperty(L)&&(A===!1||A===!0&&f.hasOwnProperty(L))&&zr($e[L])},Vs=function(L){L.objectNumber=tr();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[T(L.x),T(L.y),T(L.x+L.width),T(L.y+L.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Ie=L.pages[1].join(`
`);xs({data:Ie,additionalKeyValues:se,objectId:L.objectNumber}),Ce("endobj")},ki=function(){for(var L in et)et.hasOwnProperty(L)&&Vs(et[L])},fo=function(L,se){var Ie,Me=[],Ge=1/(se-1);for(Ie=0;Ie<1;Ie+=Ge)Me.push(Ie);if(Me.push(1),L[0].offset!=0){var ut={offset:0,color:L[0].color};L.unshift(ut)}if(L[L.length-1].offset!=1){var wt={offset:1,color:L[L.length-1].color};L.push(wt)}for(var Vt="",rr=0,hr=0;hr<Me.length;hr++){for(Ie=Me[hr];Ie>L[rr+1].offset;)rr++;var fr=L[rr].offset,Ir=(Ie-fr)/(L[rr+1].offset-fr),ln=L[rr].color,cn=L[rr+1].color;Vt+=Ae(Math.round((1-Ir)*ln[0]+Ir*cn[0]).toString(16))+Ae(Math.round((1-Ir)*ln[1]+Ir*cn[1]).toString(16))+Ae(Math.round((1-Ir)*ln[2]+Ir*cn[2]).toString(16))}return Vt.trim()},fc=function(L,se){se||(se=21);var Ie=tr(),Me=fo(L.colors,se),Ge=[];Ge.push({key:"FunctionType",value:"0"}),Ge.push({key:"Domain",value:"[0.0 1.0]"}),Ge.push({key:"Size",value:"["+se+"]"}),Ge.push({key:"BitsPerSample",value:"8"}),Ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xs({data:Me,additionalKeyValues:Ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ie}),Ce("endobj"),L.objectNumber=tr(),Ce("<< /ShadingType "+L.type),Ce("/ColorSpace /DeviceRGB");var ut="/Coords ["+T(parseFloat(L.coords[0]))+" "+T(parseFloat(L.coords[1]))+" ";L.type===2?ut+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3])):ut+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3]))+" "+T(parseFloat(L.coords[4]))+" "+T(parseFloat(L.coords[5])),Ce(ut+="]"),L.matrix&&Ce("/Matrix ["+L.matrix.toString()+"]"),Ce("/Function "+Ie+" 0 R"),Ce("/Extend [true true]"),Ce(">>"),Ce("endobj")},Wr=function(L,se){var Ie=an(),Me=tr();se.push({resourcesOid:Ie,objectOid:Me}),L.objectNumber=Me;var Ge=[];Ge.push({key:"Type",value:"/Pattern"}),Ge.push({key:"PatternType",value:"1"}),Ge.push({key:"PaintType",value:"1"}),Ge.push({key:"TilingType",value:"1"}),Ge.push({key:"BBox",value:"["+L.boundingBox.map(T).join(" ")+"]"}),Ge.push({key:"XStep",value:T(L.xStep)}),Ge.push({key:"YStep",value:T(L.yStep)}),Ge.push({key:"Resources",value:Ie+" 0 R"}),L.matrix&&Ge.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),xs({data:L.stream,additionalKeyValues:Ge,objectId:L.objectNumber}),Ce("endobj")},Si=function(L){var se;for(se in Te)Te.hasOwnProperty(se)&&(Te[se]instanceof su?fc(Te[se]):Te[se]instanceof Sd&&Wr(Te[se],L))},Rs=function(L){for(var se in L.objectNumber=tr(),Ce("<<"),L)switch(se){case"opacity":Ce("/ca "+B(L[se]));break;case"stroke-opacity":Ce("/CA "+B(L[se]))}Ce(">>"),Ce("endobj")},Ua=function(){var L;for(L in nt)nt.hasOwnProperty(L)&&Rs(nt[L])},Ra=function(){for(var L in Ce("/XObject <<"),et)et.hasOwnProperty(L)&&et[L].objectNumber>=0&&Ce("/"+L+" "+et[L].objectNumber+" 0 R");Xe.publish("putXobjectDict"),Ce(">>")},Uo=function(){Ms.oid=tr(),Ce("<<"),Ce("/Filter /Standard"),Ce("/V "+Ms.v),Ce("/R "+Ms.r),Ce("/U <"+Ms.toHexString(Ms.U)+">"),Ce("/O <"+Ms.toHexString(Ms.O)+">"),Ce("/P "+Ms.P),Ce(">>"),Ce("endobj")},mc=function(){for(var L in Ce("/Font <<"),$e)$e.hasOwnProperty(L)&&(A===!1||A===!0&&f.hasOwnProperty(L))&&Ce("/"+L+" "+$e[L].objectNumber+" 0 R");Ce(">>")},Lu=function(){if(Object.keys(Te).length>0){for(var L in Ce("/Shading <<"),Te)Te.hasOwnProperty(L)&&Te[L]instanceof su&&Te[L].objectNumber>=0&&Ce("/"+L+" "+Te[L].objectNumber+" 0 R");Xe.publish("putShadingPatternDict"),Ce(">>")}},Wi=function(L){if(Object.keys(Te).length>0){for(var se in Ce("/Pattern <<"),Te)Te.hasOwnProperty(se)&&Te[se]instanceof h.TilingPattern&&Te[se].objectNumber>=0&&Te[se].objectNumber<L&&Ce("/"+se+" "+Te[se].objectNumber+" 0 R");Xe.publish("putTilingPatternDict"),Ce(">>")}},Ro=function(){if(Object.keys(nt).length>0){var L;for(L in Ce("/ExtGState <<"),nt)nt.hasOwnProperty(L)&&nt[L].objectNumber>=0&&Ce("/"+L+" "+nt[L].objectNumber+" 0 R");Xe.publish("putGStateDict"),Ce(">>")}},Tn=function(L){gs(L.resourcesOid,!0),Ce("<<"),Ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),mc(),Lu(),Wi(L.objectOid),Ro(),Ra(),Ce(">>"),Ce("endobj")},pc=function(){var L=[];ho(),Ua(),ki(),Si(L),Xe.publish("putResources"),L.forEach(Tn),Tn({resourcesOid:ti,objectOid:Number.MAX_SAFE_INTEGER}),Xe.publish("postPutResources")},gc=function(){Xe.publish("putAdditionalObjects");for(var L=0;L<fe.length;L++){var se=fe[L];gs(se.objId,!0),Ce(se.content),Ce("endobj")}Xe.publish("postPutAdditionalObjects")},ia=function(L){Pe[L.fontName]=Pe[L.fontName]||{},Pe[L.fontName][L.fontStyle]=L.id},Mo=function(L,se,Ie,Me,Ge){var ut={id:"F"+(Object.keys($e).length+1).toString(10),postScriptName:L,fontName:se,fontStyle:Ie,encoding:Me,isStandardFont:Ge||!1,metadata:{}};return Xe.publish("addFont",{font:ut,instance:this}),$e[ut.id]=ut,ia(ut),ut.id},Do=function(L){for(var se=0,Ie=rt.length;se<Ie;se++){var Me=Mo.call(this,L[se][0],L[se][1],L[se][2],rt[se][3],!0);A===!1&&(f[Me]=!0);var Ge=L[se][0].split("-");ia({id:Me,fontName:Ge[0],fontStyle:Ge[1]||""})}Xe.publish("addFonts",{fonts:$e,dictionary:Pe})},si=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(Me){var se=Me.stack||"";~se.indexOf(" at ")&&(se=se.split(" at ")[1]);var Ie="Error in function "+se.split(`
`)[0].split("<")[0]+": "+Me.message;if(!dr.console)throw new Error(Ie);dr.console.error(Ie,Me),dr.alert&&alert(Ie)}},L.foo.bar=L,L.foo},On=function(L,se){var Ie,Me,Ge,ut,wt,Vt,rr,hr,fr;if(Ge=(se=se||{}).sourceEncoding||"Unicode",wt=se.outputEncoding,(se.autoencode||wt)&&$e[J].metadata&&$e[J].metadata[Ge]&&$e[J].metadata[Ge].encoding&&(ut=$e[J].metadata[Ge].encoding,!wt&&$e[J].encoding&&(wt=$e[J].encoding),!wt&&ut.codePages&&(wt=ut.codePages[0]),typeof wt=="string"&&(wt=ut[wt]),wt)){for(rr=!1,Vt=[],Ie=0,Me=L.length;Ie<Me;Ie++)(hr=wt[L.charCodeAt(Ie)])?Vt.push(String.fromCharCode(hr)):Vt.push(L[Ie]),Vt[Ie].charCodeAt(0)>>8&&(rr=!0);L=Vt.join("")}for(Ie=L.length;rr===void 0&&Ie!==0;)L.charCodeAt(Ie-1)>>8&&(rr=!0),Ie--;if(!rr)return L;for(Vt=se.noBOM?[]:[254,255],Ie=0,Me=L.length;Ie<Me;Ie++){if((fr=(hr=L.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vt.push(fr),Vt.push(hr-(fr<<8))}return String.fromCharCode.apply(void 0,Vt)},oe=h.__private__.pdfEscape=h.pdfEscape=function(L,se){return On(L,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},tt=h.__private__.beginPage=function(L){pe[++ft]=[],xe[ft]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Ut(ft),Ue(pe[Q])},yt=function(L,se){var Ie,Me,Ge;switch(r=se||r,typeof L=="string"&&(Ie=x(L.toLowerCase()),Array.isArray(Ie)&&(Me=Ie[0],Ge=Ie[1])),Array.isArray(L)&&(Me=L[0]*ee,Ge=L[1]*ee),isNaN(Me)&&(Me=i[0],Ge=i[1]),(Me>14400||Ge>14400)&&(Nn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Me=Math.min(14400,Me),Ge=Math.min(14400,Ge)),i=[Me,Ge],r.substr(0,1)){case"l":Ge>Me&&(i=[Ge,Me]);break;case"p":Me>Ge&&(i=[Ge,Me])}tt(i),gA(yc),Ce(oi),El!==0&&Ce(El+" J"),Ru!==0&&Ce(Ru+" j"),Xe.publish("addPage",{pageNumber:ft})},It=function(L){L>0&&L<=ft&&(pe.splice(L,1),xe.splice(L,1),ft--,Q>ft&&(Q=ft),this.setPage(Q))},Ut=function(L){L>0&&L<=ft&&(Q=L)},Mt=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return pe.length-1},nr=function(L,se,Ie){var Me,Ge=void 0;return Ie=Ie||{},L=L!==void 0?L:$e[J].fontName,se=se!==void 0?se:$e[J].fontStyle,Me=L.toLowerCase(),Pe[Me]!==void 0&&Pe[Me][se]!==void 0?Ge=Pe[Me][se]:Pe[L]!==void 0&&Pe[L][se]!==void 0?Ge=Pe[L][se]:Ie.disableWarning===!1&&Nn.warn("Unable to look up font label for font '"+L+"', '"+se+"'. Refer to getFontList() for available fonts."),Ge||Ie.noFallback||(Ge=Pe.times[se])==null&&(Ge=Pe.times.normal),Ge},nn=h.__private__.putInfo=function(){var L=tr(),se=function(Me){return Me};for(var Ie in u!==null&&(se=Ms.encryptor(L,0)),Ce("<<"),Ce("/Producer ("+oe(se("jsPDF "+ar.version))+")"),$)$.hasOwnProperty(Ie)&&$[Ie]&&Ce("/"+Ie.substr(0,1).toUpperCase()+Ie.substr(1)+" ("+oe(se($[Ie]))+")");Ce("/CreationDate ("+oe(se(z))+")"),Ce(">>"),Ce("endobj")},Xr=h.__private__.putCatalog=function(L){var se=(L=L||{}).rootDictionaryObjId||Ni;switch(tr(),Ce("<<"),Ce("/Type /Catalog"),Ce("/Pages "+se+" 0 R"),at||(at="fullwidth"),at){case"fullwidth":Ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ce("/OpenAction [3 0 R /Fit]");break;case"original":Ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ie=""+at;Ie.substr(Ie.length-1)==="%"&&(at=parseInt(at)/100),typeof at=="number"&&Ce("/OpenAction [3 0 R /XYZ null null "+B(at)+"]")}switch(Le||(Le="continuous"),Le){case"continuous":Ce("/PageLayout /OneColumn");break;case"single":Ce("/PageLayout /SinglePage");break;case"two":case"twoleft":Ce("/PageLayout /TwoColumnLeft");break;case"tworight":Ce("/PageLayout /TwoColumnRight")}kt&&Ce("/PageMode /"+kt),Xe.publish("putCatalog"),Ce(">>"),Ce("endobj")},oa=h.__private__.putTrailer=function(){Ce("trailer"),Ce("<<"),Ce("/Size "+(me+1)),Ce("/Root "+me+" 0 R"),Ce("/Info "+(me-1)+" 0 R"),u!==null&&Ce("/Encrypt "+Ms.oid+" 0 R"),Ce("/ID [ <"+G+"> <"+G+"> ]"),Ce(">>")},Bl=h.__private__.putHeader=function(){Ce("%PDF-"+g),Ce("%")},Pu=h.__private__.putXRef=function(){var L="0000000000";Ce("xref"),Ce("0 "+(me+1)),Ce("0000000000 65535 f ");for(var se=1;se<=me;se++)typeof ae[se]=="function"?Ce((L+ae[se]()).slice(-10)+" 00000 n "):ae[se]!==void 0?Ce((L+ae[se]).slice(-10)+" 00000 n "):Ce("0000000000 00000 n ")},Oo=h.__private__.buildDocument=function(){De(),Ue(ie),Xe.publish("buildDocument"),Bl(),Fs(),gc(),pc(),u!==null&&Uo(),nn(),Xr();var L=te;return Pu(),oa(),Ce("startxref"),Ce(""+L),Ce("%%EOF"),Ue(pe[Q]),ie.join(`
`)},kl=h.__private__.getBlob=function(L){return new Blob([ct(L)],{type:"application/pdf"})},Ma=h.output=h.__private__.output=si(function(L,se){switch(typeof(se=se||{})=="string"?se={filename:se}:se.filename=se.filename||"generated.pdf",L){case void 0:return Oo();case"save":h.save(se.filename);break;case"arraybuffer":return ct(Oo());case"blob":return kl(Oo());case"bloburi":case"bloburl":if(dr.URL!==void 0&&typeof dr.URL.createObjectURL=="function")return dr.URL&&dr.URL.createObjectURL(kl(Oo()))||void 0;Nn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ie="",Me=Oo();try{Ie=m2(Me)}catch{Ie=m2(unescape(encodeURIComponent(Me)))}return"data:application/pdf;filename="+se.filename+";base64,"+Ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(dr)==="[object Window]"){var Ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ut=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(Ge=se.pdfObjectUrl,ut="");var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ge+'"'+ut+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",Vt=dr.open();return Vt!==null&&Vt.document.write(wt),Vt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(dr)==="[object Window]"){var rr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',hr=dr.open();if(hr!==null){hr.document.write(rr);var fr=this;hr.document.documentElement.querySelector("#pdfViewer").onload=function(){hr.document.title=se.filename,hr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(fr.output("bloburl"))}}return hr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(dr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ir='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',ln=dr.open();if(ln!==null&&(ln.document.write(Ir),ln.document.title=se.filename),ln||typeof safari>"u")return ln;break;case"datauri":case"dataurl":return dr.document.location.href=this.output("datauristring",se);default:return null}}),Qo=function(L){return Array.isArray(Fe)===!0&&Fe.indexOf(L)>-1};switch(s){case"pt":ee=1;break;case"mm":ee=72/25.4;break;case"cm":ee=72/2.54;break;case"in":ee=72;break;case"px":ee=Qo("px_scaling")==1?.75:96/72;break;case"pc":case"em":ee=12;break;case"ex":ee=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);ee=s}var Ms=null;re(),ce();var uf=function(L){return u!==null?Ms.encryptor(L,0):function(se){return se}},uA=h.__private__.getPageInfo=h.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xe[L].objId,pageNumber:L,pageContext:xe[L]}},or=h.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in xe)if(xe[se].objId===L)break;return uA(se)},df=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:xe[Q].objId,pageNumber:Q,pageContext:xe[Q]}};h.addPage=function(){return yt.apply(this,arguments),this},h.setPage=function(){return Ut.apply(this,arguments),Ue.call(this,pe[Q]),this},h.insertPage=function(L){return this.addPage(),this.movePage(Q,L),this},h.movePage=function(L,se){var Ie,Me;if(L>se){Ie=pe[L],Me=xe[L];for(var Ge=L;Ge>se;Ge--)pe[Ge]=pe[Ge-1],xe[Ge]=xe[Ge-1];pe[se]=Ie,xe[se]=Me,this.setPage(se)}else if(L<se){Ie=pe[L],Me=xe[L];for(var ut=L;ut<se;ut++)pe[ut]=pe[ut+1],xe[ut]=xe[ut+1];pe[se]=Ie,xe[se]=Me,this.setPage(se)}return this},h.deletePage=function(){return It.apply(this,arguments),this},h.__private__.text=h.text=function(L,se,Ie,Me,Ge){var ut,wt,Vt,rr,hr,fr,Ir,ln,cn,lr=(Me=Me||{}).scope||this;if(typeof L=="number"&&typeof se=="number"&&(typeof Ie=="string"||Array.isArray(Ie))){var Ds=Ie;Ie=se,se=L,L=Ds}if(arguments[3]instanceof Ft?(U("The transform parameter of text() with a Matrix value"),cn=Ge):(Vt=arguments[4],rr=arguments[5],xn(Ir=arguments[3])==="object"&&Ir!==null||(typeof Vt=="string"&&(rr=Vt,Vt=null),typeof Ir=="string"&&(rr=Ir,Ir=null),typeof Ir=="number"&&(Vt=Ir,Ir=null),Me={flags:Ir,angle:Vt,align:rr})),isNaN(se)||isNaN(Ie)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return lr;var Zn="",Gi=!1,ys=typeof Me.lineHeightFactor=="number"?Me.lineHeightFactor:Oa,as=lr.internal.scaleFactor;function vA(un){return un=un.split("	").join(Array(Me.TabLen||9).join(" ")),oe(un,Ir)}function qi(un){for(var dn,qn=un.concat(),Qn=[],ha=qn.length;ha--;)typeof(dn=qn.shift())=="string"?Qn.push(dn):Array.isArray(un)&&(dn.length===1||dn[1]===void 0&&dn[2]===void 0)?Qn.push(dn[0]):Qn.push([dn[0],dn[1],dn[2]]);return Qn}function En(un,dn){var qn;if(typeof un=="string")qn=dn(un)[0];else if(Array.isArray(un)){for(var Qn,ha,Hu=un.concat(),Wa=[],wA=Hu.length;wA--;)typeof(Qn=Hu.shift())=="string"?Wa.push(dn(Qn)[0]):Array.isArray(Qn)&&typeof Qn[0]=="string"&&(ha=dn(Qn[0],Qn[1],Qn[2]),Wa.push([ha[0],ha[1],ha[2]]));qn=Wa}return qn}var Tl=!1,Kn=!0;if(typeof L=="string")Tl=!0;else if(Array.isArray(L)){var Fl=L.concat();wt=[];for(var Ii,zn=Fl.length;zn--;)(typeof(Ii=Fl.shift())!="string"||Array.isArray(Ii)&&typeof Ii[0]!="string")&&(Kn=!1);Tl=Kn}if(Tl===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Hr=st/lr.internal.scaleFactor,Ll=Hr*(ys-1);switch(Me.baseline){case"bottom":Ie-=Ll;break;case"top":Ie+=Hr-Ll;break;case"hanging":Ie+=Hr-2*Ll;break;case"middle":Ie+=Hr/2-Ll}if((fr=Me.maxWidth||0)>0&&(typeof L=="string"?L=lr.splitTextToSize(L,fr):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(un,dn){return un.concat(lr.splitTextToSize(dn,fr))},[]))),ut={text:L,x:se,y:Ie,options:Me,mutex:{pdfEscape:oe,activeFontKey:J,fonts:$e,activeFontSize:st}},Xe.publish("preProcessText",ut),L=ut.text,Vt=(Me=ut.options).angle,!(cn instanceof Ft)&&Vt&&typeof Vt=="number"){Vt*=Math.PI/180,Me.rotationDirection===0&&(Vt=-Vt),w===j.ADVANCED&&(Vt=-Vt);var Pl=Math.cos(Vt),Cc=Math.sin(Vt);cn=new Ft(Pl,Cc,-Cc,Pl,0,0)}else Vt&&Vt instanceof Ft&&(cn=Vt);w!==j.ADVANCED||cn||(cn=vr),(hr=Me.charSpace||Ei)!==void 0&&(Zn+=T(D(hr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ln=Me.horizontalScale)!==void 0&&(Zn+=T(100*ln)+` Tz
`),Me.lang;var Ks=-1,Nc=Me.renderingMode!==void 0?Me.renderingMode:Me.stroke,Bc=lr.internal.getCurrentPageInfo().pageContext;switch(Nc){case 0:case!1:case"fill":Ks=0;break;case 1:case!0:case"stroke":Ks=1;break;case 2:case"fillThenStroke":Ks=2;break;case 3:case"invisible":Ks=3;break;case 4:case"fillAndAddForClipping":Ks=4;break;case 5:case"strokeAndAddPathForClipping":Ks=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ks=6;break;case 7:case"addToPathForClipping":Ks=7}var _u=Bc.usedRenderingMode!==void 0?Bc.usedRenderingMode:-1;Ks!==-1?Zn+=Ks+` Tr
`:_u!==-1&&(Zn+=`0 Tr
`),Ks!==-1&&(Bc.usedRenderingMode=Ks),rr=Me.align||"left";var Fn,Ti=st*ys,mo=lr.internal.pageSize.getWidth(),Wn=$e[J];hr=Me.charSpace||Ei,fr=Me.maxWidth||0,Ir=Object.assign({autoencode:!0,noBOM:!0},Me.flags);var zs=[],Va=function(un){return lr.getStringUnitWidth(un,{font:Wn,charSpace:hr,fontSize:st,doKerning:!1})*st/as};if(Object.prototype.toString.call(L)==="[object Array]"){var Ws;wt=qi(L),rr!=="left"&&(Fn=wt.map(Va));var Ls,ca=0;if(rr==="right"){se-=Fn[0],L=[],zn=wt.length;for(var ua=0;ua<zn;ua++)ua===0?(Ls=Ho(se),Ws=la(Ie)):(Ls=D(ca-Fn[ua]),Ws=-Ti),L.push([wt[ua],Ls,Ws]),ca=Fn[ua]}else if(rr==="center"){se-=Fn[0]/2,L=[],zn=wt.length;for(var Fi=0;Fi<zn;Fi++)Fi===0?(Ls=Ho(se),Ws=la(Ie)):(Ls=D((ca-Fn[Fi])/2),Ws=-Ti),L.push([wt[Fi],Ls,Ws]),ca=Fn[Fi]}else if(rr==="left"){L=[],zn=wt.length;for(var ai=0;ai<zn;ai++)L.push(wt[ai])}else if(rr==="justify"&&Wn.encoding==="Identity-H"){L=[],zn=wt.length,fr=fr!==0?fr:mo;for(var da=0,Gn=0;Gn<zn;Gn++)if(Ws=Gn===0?la(Ie):-Ti,Ls=Gn===0?Ho(se):da,Gn<zn-1){var Ka=D((fr-Fn[Gn])/(wt[Gn].split(" ").length-1)),Os=wt[Gn].split(" ");L.push([Os[0]+" ",Ls,Ws]),da=0;for(var Xi=1;Xi<Os.length;Xi++){var kc=(Va(Os[Xi-1]+" "+Os[Xi])-Va(Os[Xi]))*as+Ka;Xi==Os.length-1?L.push([Os[Xi],kc,0]):L.push([Os[Xi]+" ",kc,0]),da-=kc}}else L.push([wt[Gn],Ls,Ws]);L.push(["",da,0])}else{if(rr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],zn=wt.length,fr=fr!==0?fr:mo,Gn=0;Gn<zn;Gn++)Ws=Gn===0?la(Ie):-Ti,Ls=Gn===0?Ho(se):0,Gn<zn-1?zs.push(T(D((fr-Fn[Gn])/(wt[Gn].split(" ").length-1)))):zs.push(0),L.push([wt[Gn],Ls,Ws])}}var li=typeof Me.R2L=="boolean"?Me.R2L:St;li===!0&&(L=En(L,function(un,dn,qn){return[un.split("").reverse().join(""),dn,qn]})),ut={text:L,x:se,y:Ie,options:Me,mutex:{pdfEscape:oe,activeFontKey:J,fonts:$e,activeFontSize:st}},Xe.publish("postProcessText",ut),L=ut.text,Gi=ut.mutex.isHex||!1;var Sc=$e[J].encoding;Sc!=="WinAnsiEncoding"&&Sc!=="StandardEncoding"||(L=En(L,function(un,dn,qn){return[vA(un),dn,qn]})),wt=qi(L),L=[];for(var Ul,Rl,po,Ml=0,Dl=1,za=Array.isArray(wt[0])?Dl:Ml,Aa="",Ec=function(un,dn,qn){var Qn="";return qn instanceof Ft?(qn=typeof Me.angle=="number"?Rr(qn,new Ft(1,0,0,1,un,dn)):Rr(new Ft(1,0,0,1,un,dn),qn),w===j.ADVANCED&&(qn=Rr(new Ft(1,0,0,-1,0,0),qn)),Qn=qn.join(" ")+` Tm
`):Qn=T(un)+" "+T(dn)+` Td
`,Qn},Li=0;Li<wt.length;Li++){switch(Aa="",za){case Dl:po=(Gi?"<":"(")+wt[Li][0]+(Gi?">":")"),Ul=parseFloat(wt[Li][1]),Rl=parseFloat(wt[Li][2]);break;case Ml:po=(Gi?"<":"(")+wt[Li]+(Gi?">":")"),Ul=Ho(se),Rl=la(Ie)}zs!==void 0&&zs[Li]!==void 0&&(Aa=zs[Li]+` Tw
`),Li===0?L.push(Aa+Ec(Ul,Rl,cn)+po):za===Ml?L.push(Aa+po):za===Dl&&L.push(Aa+Ec(Ul,Rl,cn)+po)}L=za===Ml?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var Pi=`BT
/`;return Pi+=J+" "+st+` Tf
`,Pi+=T(st*ys)+` TL
`,Pi+=Ha+`
`,Pi+=Zn,Pi+=L,Ce(Pi+="ET"),f[J]=!0,lr};var Af=h.__private__.clip=h.clip=function(L){return Ce(L==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Af("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Ce("n"),this};var _o=h.__private__.isValidStyle=function(L){var se=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(se=!0),se};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(L){return _o(L)&&(d=L),this};var dA=h.__private__.getStyle=h.getStyle=function(L){var se=d;switch(L){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=L}return se},AA=h.close=function(){return Ce("h"),this};h.stroke=function(){return Ce("S"),this},h.fill=function(L){return xc("f",L),this},h.fillEvenOdd=function(L){return xc("f*",L),this},h.fillStroke=function(L){return xc("B",L),this},h.fillStrokeEvenOdd=function(L){return xc("B*",L),this};var xc=function(L,se){xn(se)==="object"?fA(se,L):Ce(L)},ii=function(L){L===null||w===j.ADVANCED&&L===void 0||(L=dA(L),Ce(L))};function hA(L,se,Ie,Me,Ge){var ut=new Sd(se||this.boundingBox,Ie||this.xStep,Me||this.yStep,this.gState,Ge||this.matrix);ut.stream=this.stream;var wt=L+"$$"+this.cloneIndex+++"$$";return Dn(wt,ut),ut}var fA=function(L,se){var Ie=pt[L.key],Me=Te[Ie];if(Me instanceof su)Ce("q"),Ce(mA(se)),Me.gState&&h.setGState(Me.gState),Ce(L.matrix.toString()+" cm"),Ce("/"+Ie+" sh"),Ce("Q");else if(Me instanceof Sd){var Ge=new Ft(1,0,0,-1,0,$a());L.matrix&&(Ge=Ge.multiply(L.matrix||vr),Ie=hA.call(Me,L.key,L.boundingBox,L.xStep,L.yStep,Ge).id),Ce("q"),Ce("/Pattern cs"),Ce("/"+Ie+" scn"),Me.gState&&h.setGState(Me.gState),Ce(se),Ce("Q")}},mA=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Uu=h.moveTo=function(L,se){return Ce(T(D(L))+" "+T(P(se))+" m"),this},Sl=h.lineTo=function(L,se){return Ce(T(D(L))+" "+T(P(se))+" l"),this},Da=h.curveTo=function(L,se,Ie,Me,Ge,ut){return Ce([T(D(L)),T(P(se)),T(D(Ie)),T(P(Me)),T(D(Ge)),T(P(ut)),"c"].join(" ")),this};h.__private__.line=h.line=function(L,se,Ie,Me,Ge){if(isNaN(L)||isNaN(se)||isNaN(Ie)||isNaN(Me)||!_o(Ge))throw new Error("Invalid arguments passed to jsPDF.line");return w===j.COMPAT?this.lines([[Ie-L,Me-se]],L,se,[1,1],Ge||"S"):this.lines([[Ie-L,Me-se]],L,se,[1,1]).stroke()},h.__private__.lines=h.lines=function(L,se,Ie,Me,Ge,ut){var wt,Vt,rr,hr,fr,Ir,ln,cn,lr,Ds,Zn,Gi;if(typeof L=="number"&&(Gi=Ie,Ie=se,se=L,L=Gi),Me=Me||[1,1],ut=ut||!1,isNaN(se)||isNaN(Ie)||!Array.isArray(L)||!Array.isArray(Me)||!_o(Ge)||typeof ut!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Uu(se,Ie),wt=Me[0],Vt=Me[1],hr=L.length,Ds=se,Zn=Ie,rr=0;rr<hr;rr++)(fr=L[rr]).length===2?(Ds=fr[0]*wt+Ds,Zn=fr[1]*Vt+Zn,Sl(Ds,Zn)):(Ir=fr[0]*wt+Ds,ln=fr[1]*Vt+Zn,cn=fr[2]*wt+Ds,lr=fr[3]*Vt+Zn,Ds=fr[4]*wt+Ds,Zn=fr[5]*Vt+Zn,Da(Ir,ln,cn,lr,Ds,Zn));return ut&&AA(),ii(Ge),this},h.path=function(L){for(var se=0;se<L.length;se++){var Ie=L[se],Me=Ie.c;switch(Ie.op){case"m":Uu(Me[0],Me[1]);break;case"l":Sl(Me[0],Me[1]);break;case"c":Da.apply(this,Me);break;case"h":AA()}}return this},h.__private__.rect=h.rect=function(L,se,Ie,Me,Ge){if(isNaN(L)||isNaN(se)||isNaN(Ie)||isNaN(Me)||!_o(Ge))throw new Error("Invalid arguments passed to jsPDF.rect");return w===j.COMPAT&&(Me=-Me),Ce([T(D(L)),T(P(se)),T(D(Ie)),T(D(Me)),"re"].join(" ")),ii(Ge),this},h.__private__.triangle=h.triangle=function(L,se,Ie,Me,Ge,ut,wt){if(isNaN(L)||isNaN(se)||isNaN(Ie)||isNaN(Me)||isNaN(Ge)||isNaN(ut)||!_o(wt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ie-L,Me-se],[Ge-Ie,ut-Me],[L-Ge,se-ut]],L,se,[1,1],wt,!0),this},h.__private__.roundedRect=h.roundedRect=function(L,se,Ie,Me,Ge,ut,wt){if(isNaN(L)||isNaN(se)||isNaN(Ie)||isNaN(Me)||isNaN(Ge)||isNaN(ut)||!_o(wt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Vt=4/3*(Math.SQRT2-1);return Ge=Math.min(Ge,.5*Ie),ut=Math.min(ut,.5*Me),this.lines([[Ie-2*Ge,0],[Ge*Vt,0,Ge,ut-ut*Vt,Ge,ut],[0,Me-2*ut],[0,ut*Vt,-Ge*Vt,ut,-Ge,ut],[2*Ge-Ie,0],[-Ge*Vt,0,-Ge,-ut*Vt,-Ge,-ut],[0,2*ut-Me],[0,-ut*Vt,Ge*Vt,-ut,Ge,-ut]],L+Ge,se,[1,1],wt,!0),this},h.__private__.ellipse=h.ellipse=function(L,se,Ie,Me,Ge){if(isNaN(L)||isNaN(se)||isNaN(Ie)||isNaN(Me)||!_o(Ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ut=4/3*(Math.SQRT2-1)*Ie,wt=4/3*(Math.SQRT2-1)*Me;return Uu(L+Ie,se),Da(L+Ie,se-wt,L+ut,se-Me,L,se-Me),Da(L-ut,se-Me,L-Ie,se-wt,L-Ie,se),Da(L-Ie,se+wt,L-ut,se+Me,L,se+Me),Da(L+ut,se+Me,L+Ie,se+wt,L+Ie,se),ii(Ge),this},h.__private__.circle=h.circle=function(L,se,Ie,Me){if(isNaN(L)||isNaN(se)||isNaN(Ie)||!_o(Me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,se,Ie,Ie,Me)},h.setFont=function(L,se,Ie){return Ie&&(se=F(se,Ie)),J=nr(L,se,{disableWarning:!1}),this};var pA=h.__private__.getFont=h.getFont=function(){return $e[nr.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var L,se,Ie={};for(L in Pe)if(Pe.hasOwnProperty(L))for(se in Ie[L]=[],Pe[L])Pe[L].hasOwnProperty(se)&&Ie[L].push(se);return Ie},h.addFont=function(L,se,Ie,Me,Ge){var ut=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ut.indexOf(arguments[3])!==-1?Ge=arguments[3]:arguments[3]&&ut.indexOf(arguments[3])==-1&&(Ie=F(Ie,Me)),Ge=Ge||"Identity-H",Mo.call(this,L,se,Ie,Ge)};var Oa,yc=e.lineWidth||.200025,bc=h.__private__.getLineWidth=h.getLineWidth=function(){return yc},gA=h.__private__.setLineWidth=h.setLineWidth=function(L){return yc=L,Ce(T(D(L))+" w"),this};h.__private__.setLineDash=ar.API.setLineDash=ar.API.setLineDashPattern=function(L,se){if(L=L||[],se=se||0,isNaN(se)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Ie){return T(D(Ie))}).join(" "),se=T(D(se)),Ce("["+L+"] "+se+" d"),this};var os=h.__private__.getLineHeight=h.getLineHeight=function(){return st*Oa};h.__private__.getLineHeight=h.getLineHeight=function(){return st*Oa};var xA=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(Oa=L),this},aa=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Oa};xA(e.lineHeight);var Ho=h.__private__.getHorizontalCoordinate=function(L){return D(L)},la=h.__private__.getVerticalCoordinate=function(L){return w===j.ADVANCED?L:xe[Q].mediaBox.topRightY-xe[Q].mediaBox.bottomLeftY-D(L)},hf=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(L){return T(Ho(L))},Qa=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(L){return T(la(L))},oi=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return ri(oi)},h.__private__.setStrokeColor=h.setDrawColor=function(L,se,Ie,Me){return oi=ni({ch1:L,ch2:se,ch3:Ie,ch4:Me,pdfColorType:"draw",precision:2}),Ce(oi),this};var _a=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return ri(_a)},h.__private__.setFillColor=h.setFillColor=function(L,se,Ie,Me){return _a=ni({ch1:L,ch2:se,ch3:Ie,ch4:Me,pdfColorType:"fill",precision:2}),Ce(_a),this};var Ha=e.textColor||"0 g",ff=h.__private__.getTextColor=h.getTextColor=function(){return ri(Ha)};h.__private__.setTextColor=h.setTextColor=function(L,se,Ie,Me){return Ha=ni({ch1:L,ch2:se,ch3:Ie,ch4:Me,pdfColorType:"text",precision:3}),this};var Ei=e.charSpace,vc=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Ei||0)};h.__private__.setCharSpace=h.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ei=L,this};var El=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(L){var se=h.CapJoinStyles[L];if(se===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return El=se,Ce(se+" J"),this};var Ru=0;h.__private__.setLineJoin=h.setLineJoin=function(L){var se=h.CapJoinStyles[L];if(se===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ru=se,Ce(se+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ce(T(D(L))+" M"),this},h.GState=ap,h.setGState=function(L){(L=typeof L=="string"?nt[Nt[L]]:yA(null,L)).equals(ht)||(Ce("/"+L.id+" gs"),ht=L)};var yA=function(L,se){if(!L||!Nt[L]){var Ie=!1;for(var Me in nt)if(nt.hasOwnProperty(Me)&&nt[Me].equals(se)){Ie=!0;break}if(Ie)se=nt[Me];else{var Ge="GS"+(Object.keys(nt).length+1).toString(10);nt[Ge]=se,se.id=Ge}return L&&(Nt[L]=se.id),Xe.publish("addGState",se),se}};h.addGState=function(L,se){return yA(L,se),this},h.saveGraphicsState=function(){return Ce("q"),Be.push({key:J,size:st,color:Ha}),this},h.restoreGraphicsState=function(){Ce("Q");var L=Be.pop();return J=L.key,st=L.size,Ha=L.color,ht=null,this},h.setCurrentTransformationMatrix=function(L){return Ce(L.toString()+" cm"),this},h.comment=function(L){return Ce("#"+L),this};var wc=function(L,se){var Ie=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ie},set:function(ut){isNaN(ut)||(Ie=parseFloat(ut))}});var Me=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Me},set:function(ut){isNaN(ut)||(Me=parseFloat(ut))}});var Ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ge},set:function(ut){Ge=ut.toString()}}),this},Mu=function(L,se,Ie,Me){wc.call(this,L,se),this.type="rect";var Ge=Ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ge},set:function(wt){isNaN(wt)||(Ge=parseFloat(wt))}});var ut=Me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ut},set:function(wt){isNaN(wt)||(ut=parseFloat(wt))}}),this},Du=function(){this.page=ft,this.currentPage=Q,this.pages=pe.slice(0),this.pagesContext=xe.slice(0),this.x=ve,this.y=Se,this.matrix=We,this.width=Il(Q),this.height=$a(Q),this.outputDestination=je,this.id="",this.objectNumber=-1};Du.prototype.restore=function(){ft=this.page,Q=this.currentPage,xe=this.pagesContext,pe=this.pages,ve=this.x,Se=this.y,We=this.matrix,Ou(Q,this.width),Qu(Q,this.height),je=this.outputDestination};var bA=function(L,se,Ie,Me,Ge){Qt.push(new Du),ft=Q=0,pe=[],ve=L,Se=se,We=Ge,tt([Ie,Me])},mf=function(L){if(Et[L])Qt.pop().restore();else{var se=new Du,Ie="Xo"+(Object.keys(et).length+1).toString(10);se.id=Ie,Et[L]=Ie,et[Ie]=se,Xe.publish("addFormObject",se),Qt.pop().restore()}};for(var jc in h.beginFormObject=function(L,se,Ie,Me,Ge){return bA(L,se,Ie,Me,Ge),this},h.endFormObject=function(L){return mf(L),this},h.doFormObject=function(L,se){var Ie=et[Et[L]];return Ce("q"),Ce(se.toString()+" cm"),Ce("/"+Ie.id+" Do"),Ce("Q"),this},h.getFormObject=function(L){var se=et[Et[L]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},h.save=function(L,se){return L=L||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,se.returnPromise===!1?(vd(kl(Oo()),L),typeof vd.unload=="function"&&dr.setTimeout&&setTimeout(vd.unload,911),this):new Promise(function(Ie,Me){try{var Ge=vd(kl(Oo()),L);typeof vd.unload=="function"&&dr.setTimeout&&setTimeout(vd.unload,911),Ie(Ge)}catch(ut){Me(ut.message)}})},ar.API)ar.API.hasOwnProperty(jc)&&(jc==="events"&&ar.API.events.length?function(L,se){var Ie,Me,Ge;for(Ge=se.length-1;Ge!==-1;Ge--)Ie=se[Ge][0],Me=se[Ge][1],L.subscribe.apply(L,[Ie].concat(typeof Me=="function"?[Me]:Me))}(Xe,ar.API.events):h[jc]=ar.API[jc]);var Il=h.getPageWidth=function(L){return(xe[L=L||Q].mediaBox.topRightX-xe[L].mediaBox.bottomLeftX)/ee},Ou=h.setPageWidth=function(L,se){xe[L].mediaBox.topRightX=se*ee+xe[L].mediaBox.bottomLeftX},$a=h.getPageHeight=function(L){return(xe[L=L||Q].mediaBox.topRightY-xe[L].mediaBox.bottomLeftY)/ee},Qu=h.setPageHeight=function(L,se){xe[L].mediaBox.topRightY=se*ee+xe[L].mediaBox.bottomLeftY};return h.internal={pdfEscape:oe,getStyle:dA,getFont:pA,getFontSize:qe,getCharSpace:vc,getTextColor:ff,getLineHeight:os,getLineHeightFactor:aa,getLineWidth:bc,write:Ct,getHorizontalCoordinate:Ho,getVerticalCoordinate:la,getCoordinateString:hf,getVerticalCoordinateString:Qa,collections:{},newObject:tr,newAdditionalObject:Ts,newObjectDeferred:an,newObjectDeferredBegin:gs,getFilters:Bi,putStream:xs,events:Xe,scaleFactor:ee,pageSize:{getWidth:function(){return Il(Q)},setWidth:function(L){Ou(Q,L)},getHeight:function(){return $a(Q)},setHeight:function(L){Qu(Q,L)}},encryptionOptions:u,encryption:Ms,getEncryptor:uf,output:Ma,getNumberOfPages:Mt,pages:pe,out:Ce,f2:B,f3:R,getPageInfo:uA,getPageInfoByObjId:or,getCurrentPageInfo:df,getPDFVersion:p,Point:wc,Rectangle:Mu,Matrix:Ft,hasHotfix:Qo},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Il(Q)},set:function(L){Ou(Q,L)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return $a(Q)},set:function(L){Qu(Q,L)},enumerable:!0,configurable:!0}),Do.call(h,rt),J="F1",yt(i,r),Xe.publish("initialized"),h}fh.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},fh.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},fh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},fh.prototype.processOwnerPassword=function(e,t){return g2(p2(t).substr(0,5),e)},fh.prototype.encryptor=function(e,t){var r=p2(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(s){return g2(r,s)}},ap.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||xn(e)!==xn(this))return!1;var s=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;s++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&s--;return s===0},ar.API={events:[]},ar.version="3.0.1";var ss=ar.API,xj=1,aA=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},oh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xr=function(e){return e.toFixed(2)},Gc=function(e){return e.toFixed(5)};ss.__acroform__={};var Ao=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},M4=function(e){return e*xj},sl=function(e){var t=new dL,r=Jt.internal.getHeight(e)||0,s=Jt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(xr(s)),Number(xr(r))],t},Eue=ss.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Iue=ss.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Tue=ss.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ds=ss.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Tue(e,t-1)},As=ss.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Eue(e,t-1)},hs=ss.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Iue(e,t-1)},Fue=ss.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,s=t.internal.getVerticalCoordinate,i=e[0],o=e[1],a=e[2],l=e[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=s(o+l)||0,c.upperRight_X=r(i+a)||0,c.upperRight_Y=s(o)||0,[Number(xr(c.lowerLeft_X)),Number(xr(c.lowerLeft_Y)),Number(xr(c.upperRight_X)),Number(xr(c.upperRight_Y))]},Lue=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,s=x2(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+xr(s.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=sl(e);return o.scope=e.scope,o.stream=t.join(`
`),o}},x2=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,s={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(R){return R.split(`
`)}):i.map(function(R){return[R]});var o=r,a=Jt.internal.getHeight(e)||0;a=a<0?-a:a;var l=Jt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(R,D,H){if(R+1<i.length){var P=D+" "+i[R+1][0];return e0(P,e,H).width<=l-4}return!1};o++;e:for(;o>0;){t="",o--;var d,u,A=e0("3",e,o).height,f=e.multiline?a-o:(a-A)/2,h=f+=2,g=0,p=0,b=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+e0(t,e,o=12).width+", FieldWidth:"+l+`
`;break}for(var x="",j=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var S=!1;if(i[w].length!==1&&b!==i[w].length-1){if((A+2)*(j+2)+2>a)continue e;x+=i[w][b],S=!0,p=w,w--}else{x=(x+=i[w][b]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var I=parseInt(w),F=c(I,x,o),T=w>=i.length-1;if(F&&!T){x+=" ",b=0;continue}if(F||T){if(T)p=I;else if(e.multiline&&(A+2)*(j+2)+2>a)continue e}else{if(!e.multiline||(A+2)*(j+2)+2>a)continue e;p=I}}for(var U="",K=g;K<=p;K++){var B=i[K];if(e.multiline){if(K===p){U+=B[b]+" ",b=(b+1)%B.length;continue}if(K===g){U+=B[B.length-1]+" ";continue}}U+=B[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,u=e0(U,e,o).width,e.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;case"left":default:d=2}t+=xr(d)+" "+xr(h)+` Td
`,t+="("+aA(U)+`) Tj
`,t+=-xr(d)+` 0 Td
`,h=-(o+2),u=0,g=S?p:p+1,j++,x=""}break}return s.text=t,s.fontSize=o,s},e0=function(e,t,r){var s=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Pue={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Uue=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(s){return s.type===r.type&&s.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Rue=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var s=r,i=e[r];t.internal.newObjectDeferredBegin(i.objId,!0),xn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[s]}},Mue=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(La.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Pue)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");xj=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new AL,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];o.objId=void 0,o.hasAnnotation&&Uue(o,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(s,i){var o=!s;for(var a in s||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(a)){var l=s[a],c=[],d=l.Rect;if(l.Rect&&(l.Rect=Fue(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Jt.createDefaultAppearanceStream(l),xn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=Lue(l);c.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var A="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var h=l.appearanceStreamContent[f];if(A+="/"+f+" ",A+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var a in h)if(h.hasOwnProperty(a)){var g=h[a];typeof g=="function"&&(g=g.call(i,l)),A+="/"+a+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(i,l)),A+="/"+a+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);A+=">>"}c.push({key:"AP",value:`<<
`+A+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}o&&Rue(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},uL=ss.__acroform__.arrayToPdfArray=function(e,t,r){var s=function(a){return a};if(Array.isArray(e)){for(var i="[",o=0;o<e.length;o++)switch(o!==0&&(i+=" "),xn(e[o])){case"boolean":case"number":case"object":i+=e[o].toString();break;case"string":e[o].substr(0,1)!=="/"?(t!==void 0&&r&&(s=r.internal.getEncryptor(t)),i+="("+aA(s(e[o].toString()))+")"):i+=e[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},yv=function(e,t,r){var s=function(i){return i};return t!==void 0&&r&&(s=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+aA(s(e))+")"},ml=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ml.prototype.toString=function(){return this.objId+" 0 R"},ml.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ml.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var s=t[r],i=this[s];i&&(Array.isArray(i)?e.push({key:s,value:uL(i,this.objId,this.scope)}):i instanceof ml?(i.scope=this.scope,e.push({key:s,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:s,value:i}))}return e};var dL=function(){ml.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ao(dL,ml);var AL=function(){ml.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(s){return s};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+aA(r(e))+")"}},set:function(r){e=r}})};Ao(AL,ml);var La=function e(){ml.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ds(t,3)},set:function(x){x?this.F=As(t,3):this.F=hs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(x){s=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(x){s[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(x){s[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(x){s[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(x){s[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof kx)return;o="FieldObject"+e.FieldNum++}var x=function(j){return j};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+aA(x(o))+")"},set:function(x){o=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(x){o=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/xj:d},set:function(x){d=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof kx||this instanceof pu))return yv(A,this.objId,this.scope)},set:function(x){x=x.toString(),A=x}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Us?f:yv(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=this instanceof Us?x:x.substr(0,1)==="("?oh(x.substr(1,x.length-2)):oh(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Us?oh(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof Us?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Us?h:yv(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=this instanceof Us?x:x.substr(0,1)==="("?oh(x.substr(1,x.length-2)):oh(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Us?oh(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof Us?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(x){x=!!x,p=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,1)},set:function(x){x?this.Ff=As(this.Ff,1):this.Ff=hs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,2)},set:function(x){x?this.Ff=As(this.Ff,2):this.Ff=hs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,3)},set:function(x){x?this.Ff=As(this.Ff,3):this.Ff=hs(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');b=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(b){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};Ao(La,ml);var _d=function(){La.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return uL(t,this.objId,this.scope)},set:function(r){var s,i;i=[],typeof(s=r)=="string"&&(i=function(o,a,l){l||(l=1);for(var c,d=[];c=a.exec(o);)d.push(c[l]);return d}(s,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,s){for(s=s||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,18)},set:function(r){r?this.Ff=As(this.Ff,18):this.Ff=hs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=As(this.Ff,19):this.Ff=hs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,20)},set:function(r){r?(this.Ff=As(this.Ff,20),t.sort()):this.Ff=hs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,22)},set:function(r){r?this.Ff=As(this.Ff,22):this.Ff=hs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,23)},set:function(r){r?this.Ff=As(this.Ff,23):this.Ff=hs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,27)},set:function(r){r?this.Ff=As(this.Ff,27):this.Ff=hs(this.Ff,27)}}),this.hasAppearanceStream=!1};Ao(_d,La);var Hd=function(){_d.call(this),this.fontName="helvetica",this.combo=!1};Ao(Hd,_d);var $d=function(){Hd.call(this),this.combo=!0};Ao($d,Hd);var Em=function(){$d.call(this),this.edit=!0};Ao(Em,$d);var Us=function(){La.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,15)},set:function(r){r?this.Ff=As(this.Ff,15):this.Ff=hs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,16)},set:function(r){r?this.Ff=As(this.Ff,16):this.Ff=hs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,17)},set:function(r){r?this.Ff=As(this.Ff,17):this.Ff=hs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,26)},set:function(r){r?this.Ff=As(this.Ff,26):this.Ff=hs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var s,i=[];for(s in i.push("<<"),t)i.push("/"+s+" ("+aA(r(t[s]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){xn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ao(Us,La);var Im=function(){Us.call(this),this.pushButton=!0};Ao(Im,Us);var Vd=function(){Us.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ao(Vd,Us);var kx=function(){var e,t;La.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,a=[];for(o in a.push("<<"),s)a.push("/"+o+" ("+aA(i(s[o]))+")");return a.push(">>"),a.join(`
`)},set:function(i){xn(i)==="object"&&(s=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(i){typeof i=="string"&&(s.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ao(kx,La),Vd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Vd.prototype.createOption=function(e){var t=new kx;return t.Parent=this,t.optionName=e,this.Kids.push(t),Due.call(this.scope,t),t};var Tm=function(){Us.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Jt.CheckBox.createAppearanceStream()};Ao(Tm,Us);var pu=function(){La.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,13)},set:function(t){t?this.Ff=As(this.Ff,13):this.Ff=hs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,21)},set:function(t){t?this.Ff=As(this.Ff,21):this.Ff=hs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,23)},set:function(t){t?this.Ff=As(this.Ff,23):this.Ff=hs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,24)},set:function(t){t?this.Ff=As(this.Ff,24):this.Ff=hs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,25)},set:function(t){t?this.Ff=As(this.Ff,25):this.Ff=hs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,26)},set:function(t){t?this.Ff=As(this.Ff,26):this.Ff=hs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ao(pu,La);var Fm=function(){pu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,14)},set:function(e){e?this.Ff=As(this.Ff,14):this.Ff=hs(this.Ff,14)}}),this.password=!0};Ao(Fm,pu);var Jt={CheckBox:{createAppearanceStream:function(){return{N:{On:Jt.CheckBox.YesNormal},D:{On:Jt.CheckBox.YesPushDown,Off:Jt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=sl(e);t.scope=e.scope;var r=[],s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),o=x2(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+xr(Jt.internal.getWidth(e))+" "+xr(Jt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+s+" "+xr(o.fontSize)+" Tf "+i),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=sl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=[],o=Jt.internal.getHeight(e),a=Jt.internal.getWidth(e),l=x2(e,e.caption);return i.push("1 g"),i.push("0 0 "+xr(a)+" "+xr(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+xr(a-1)+" "+xr(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+xr(l.fontSize)+" Tf "+s),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=sl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+xr(Jt.internal.getWidth(e))+" "+xr(Jt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Jt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Jt.RadioButton.Circle.YesNormal,t.D[e]=Jt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=sl(e);t.scope=e.scope;var r=[],s=Jt.internal.getWidth(e)<=Jt.internal.getHeight(e)?Jt.internal.getWidth(e)/4:Jt.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var i=Jt.internal.Bezier_C,o=Number((s*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Gc(Jt.internal.getWidth(e)/2)+" "+Gc(Jt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),r.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),r.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),r.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=sl(e);t.scope=e.scope;var r=[],s=Jt.internal.getWidth(e)<=Jt.internal.getHeight(e)?Jt.internal.getWidth(e)/4:Jt.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var i=Number((2*s).toFixed(5)),o=Number((i*Jt.internal.Bezier_C).toFixed(5)),a=Number((s*Jt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Gc(Jt.internal.getWidth(e)/2)+" "+Gc(Jt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Gc(Jt.internal.getWidth(e)/2)+" "+Gc(Jt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=sl(e);t.scope=e.scope;var r=[],s=Jt.internal.getWidth(e)<=Jt.internal.getHeight(e)?Jt.internal.getWidth(e)/4:Jt.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var i=Number((2*s).toFixed(5)),o=Number((i*Jt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Gc(Jt.internal.getWidth(e)/2)+" "+Gc(Jt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Jt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Jt.RadioButton.Cross.YesNormal,t.D[e]=Jt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=sl(e);t.scope=e.scope;var r=[],s=Jt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+xr(Jt.internal.getWidth(e)-2)+" "+xr(Jt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(xr(s.x1.x)+" "+xr(s.x1.y)+" m"),r.push(xr(s.x2.x)+" "+xr(s.x2.y)+" l"),r.push(xr(s.x4.x)+" "+xr(s.x4.y)+" m"),r.push(xr(s.x3.x)+" "+xr(s.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=sl(e);t.scope=e.scope;var r=Jt.internal.calculateCross(e),s=[];return s.push("0.749023 g"),s.push("0 0 "+xr(Jt.internal.getWidth(e))+" "+xr(Jt.internal.getHeight(e))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+xr(Jt.internal.getWidth(e)-2)+" "+xr(Jt.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(xr(r.x1.x)+" "+xr(r.x1.y)+" m"),s.push(xr(r.x2.x)+" "+xr(r.x2.y)+" l"),s.push(xr(r.x4.x)+" "+xr(r.x4.y)+" m"),s.push(xr(r.x3.x)+" "+xr(r.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=sl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+xr(Jt.internal.getWidth(e))+" "+xr(Jt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Jt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Jt.internal.getWidth(e),r=Jt.internal.getHeight(e),s=Math.min(t,r);return{x1:{x:(t-s)/2,y:(r-s)/2+s},x2:{x:(t-s)/2+s,y:(r-s)/2},x3:{x:(t-s)/2,y:(r-s)/2},x4:{x:(t-s)/2+s,y:(r-s)/2+s}}}},Jt.internal.getWidth=function(e){var t=0;return xn(e)==="object"&&(t=M4(e.Rect[2])),t},Jt.internal.getHeight=function(e){var t=0;return xn(e)==="object"&&(t=M4(e.Rect[3])),t};var Due=ss.addField=function(e){if(Mue(this,e),!(e instanceof La))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ss.AcroFormChoiceField=_d,ss.AcroFormListBox=Hd,ss.AcroFormComboBox=$d,ss.AcroFormEditBox=Em,ss.AcroFormButton=Us,ss.AcroFormPushButton=Im,ss.AcroFormRadioButton=Vd,ss.AcroFormCheckBox=Tm,ss.AcroFormTextField=pu,ss.AcroFormPasswordField=Fm,ss.AcroFormAppearance=Jt,ss.AcroForm={ChoiceField:_d,ListBox:Hd,ComboBox:$d,EditBox:Em,Button:Us,PushButton:Im,RadioButton:Vd,CheckBox:Tm,TextField:pu,PasswordField:Fm,Appearance:Jt},ar.AcroForm={ChoiceField:_d,ListBox:Hd,ComboBox:$d,EditBox:Em,Button:Us,PushButton:Im,RadioButton:Vd,CheckBox:Tm,TextField:pu,PasswordField:Fm,Appearance:Jt};var Oue=ar.AcroForm;function hL(e){return e.reduce(function(t,r,s){return t[r]=s,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(R,D){var H,P,z,G,he,ce=t;if((D=D||t)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(F(R))for(he in r)for(z=r[he],H=0;H<z.length;H+=1){for(G=!0,P=0;P<z[H].length;P+=1)if(z[H][P]!==void 0&&z[H][P]!==R[P]){G=!1;break}if(G===!0){ce=he;break}}else for(he in r)for(z=r[he],H=0;H<z.length;H+=1){for(G=!0,P=0;P<z[H].length;P+=1)if(z[H][P]!==void 0&&z[H][P]!==R.charCodeAt(P)){G=!1;break}if(G===!0){ce=he;break}}return ce===t&&D!==t&&(ce=D),ce},i=function R(D){for(var H=this.internal.write,P=this.internal.putStream,z=(0,this.internal.getFilters)();z.indexOf("FlateEncode")!==-1;)z.splice(z.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var G=[];if(G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Image"}),G.push({key:"Width",value:D.width}),G.push({key:"Height",value:D.height}),D.colorSpace===b.INDEXED?G.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(G.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===b.DEVICE_CMYK&&G.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),G.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&G.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var he="",ce=0,ye=D.transparency.length;ce<ye;ce++)he+=D.transparency[ce]+" "+D.transparency[ce]+" ";G.push({key:"Mask",value:"["+he+"]"})}D.sMask!==void 0&&G.push({key:"SMask",value:D.objectId+1+" 0 R"});var X=D.filter!==void 0?["/"+D.filter]:void 0;if(P({data:D.data,additionalKeyValues:G,alreadyAppliedFilters:X,objectId:D.objectId}),H("endobj"),"sMask"in D&&D.sMask!==void 0){var re="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,_={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:re,data:D.sMask};"filter"in D&&(_.filter=D.filter),R.call(this,_)}if(D.colorSpace===b.INDEXED){var Q=this.internal.newObject();P({data:U(new Uint8Array(D.palette)),objectId:Q}),H("endobj")}},o=function(){var R=this.internal.collections.addImage_images;for(var D in R)i.call(this,R[D])},a=function(){var R,D=this.internal.collections.addImage_images,H=this.internal.write;for(var P in D)H("/I"+(R=D[P]).index,R.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var R=this.internal.collections.addImage_images;return l.call(this),R},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(R){return typeof e["process"+R.toUpperCase()]=="function"},A=function(R){return xn(R)==="object"&&R.nodeType===1},f=function(R,D){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var H=""+R.getAttribute("src");if(H.indexOf("data:image/")===0)return Sm(unescape(H).split("base64,").pop());var P=e.loadFile(H,!0);if(P!==void 0)return P}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var z;switch(D){case"PNG":z="image/png";break;case"WEBP":z="image/webp";break;case"JPEG":case"JPG":default:z="image/jpeg"}return Sm(R.toDataURL(z,1).split("base64,").pop())}},h=function(R){var D=this.internal.collections.addImage_images;if(D){for(var H in D)if(R===D[H].alias)return D[H]}},g=function(R,D,H){return R||D||(R=-96,D=-96),R<0&&(R=-1*H.width*72/R/this.internal.scaleFactor),D<0&&(D=-1*H.height*72/D/this.internal.scaleFactor),R===0&&(R=D*H.width/H.height),D===0&&(D=R*H.height/H.width),[R,D]},p=function(R,D,H,P,z,G){var he=g.call(this,H,P,z),ce=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,X=c.call(this);if(H=he[0],P=he[1],X[z.index]=z,G){G*=Math.PI/180;var re=Math.cos(G),_=Math.sin(G),Q=function(Ae){return Ae.toFixed(4)},Z=[Q(re),Q(_),Q(-1*_),Q(re),0,0,"cm"]}this.internal.write("q"),G?(this.internal.write([1,"0","0",1,ce(R),ye(D+P),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([ce(H),"0","0",ce(P),"0","0","cm"].join(" "))):this.internal.write([ce(H),"0","0",ce(P),ce(R),ye(D+P),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+z.index+" Do"),this.internal.write("Q")},b=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=e.__addimage__.sHashCode=function(R){var D,H,P=0;if(typeof R=="string")for(H=R.length,D=0;D<H;D++)P=(P<<5)-P+R.charCodeAt(D),P|=0;else if(F(R))for(H=R.byteLength/2,D=0;D<H;D++)P=(P<<5)-P+R[D],P|=0;return P},w=e.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var D=!0;return R.length===0&&(D=!1),R.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(D=!1),D},S=e.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var D=R.indexOf(",");return D<0?null:R.substring(0,D).trim().endsWith("base64")?R.substring(D+1):null},I=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(R){return I()&&R instanceof ArrayBuffer};var F=e.__addimage__.isArrayBufferView=function(R){return I()&&typeof Uint32Array<"u"&&(R instanceof Int8Array||R instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(R){for(var D=R.length,H=new Uint8Array(D),P=0;P<D;P++)H[P]=R.charCodeAt(P);return H},U=e.__addimage__.arrayBufferToBinaryString=function(R){for(var D="",H=F(R)?R:new Uint8Array(R),P=0;P<H.length;P+=8192)D+=String.fromCharCode.apply(null,H.subarray(P,P+8192));return D};e.addImage=function(){var R,D,H,P,z,G,he,ce,ye;if(typeof arguments[1]=="number"?(D=t,H=arguments[1],P=arguments[2],z=arguments[3],G=arguments[4],he=arguments[5],ce=arguments[6],ye=arguments[7]):(D=arguments[1],H=arguments[2],P=arguments[3],z=arguments[4],G=arguments[5],he=arguments[6],ce=arguments[7],ye=arguments[8]),xn(R=arguments[0])==="object"&&!A(R)&&"imageData"in R){var X=R;R=X.imageData,D=X.format||D||t,H=X.x||H||0,P=X.y||P||0,z=X.w||X.width||z,G=X.h||X.height||G,he=X.alias||he,ce=X.compression||ce,ye=X.rotation||X.angle||ye}var re=this.internal.getFilters();if(ce===void 0&&re.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(H)||isNaN(P))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var _=K.call(this,R,D,he,ce);return p.call(this,H,P,z,G,_,ye),this};var K=function(R,D,H,P){var z,G,he;if(typeof R=="string"&&s(R)===t){R=unescape(R);var ce=B(R,!1);(ce!==""||(ce=e.loadFile(R,!0))!==void 0)&&(R=ce)}if(A(R)&&(R=f(R,D)),D=s(R,D),!u(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((he=H)==null||he.length===0)&&(H=function(ye){return typeof ye=="string"||F(ye)?j(ye):F(ye.data)?j(ye.data):null}(R)),(z=h.call(this,H))||(I()&&(R instanceof Uint8Array||D==="RGBA"||(G=R,R=T(R))),z=this["process"+D.toUpperCase()](R,d.call(this),H,function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in e.image_compression?ye:x.NONE}(P),G)),!z)throw new Error("An unknown error occurred whilst processing the image.");return z},B=e.__addimage__.convertBase64ToBinaryString=function(R,D){D=typeof D!="boolean"||D;var H,P="";if(typeof R=="string"){var z;H=(z=S(R))!==null&&z!==void 0?z:R;try{P=Sm(H)}catch(G){if(D)throw w(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+G.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return P};e.getImageProperties=function(R){var D,H,P="";if(A(R)&&(R=f(R)),typeof R=="string"&&s(R)===t&&((P=B(R,!1))===""&&(P=e.loadFile(R)||""),R=P),H=s(R),!u(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(!I()||R instanceof Uint8Array||(R=T(R)),!(D=this["process"+H.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=H,D}})(ar.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};ar.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var s,i,o,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,A=0;A<d.length&&!u;A++)switch((s=d[A]).type){case"link":(t(s.options.url)||t(s.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<d.length;f++){s=d[f];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(p.objId),j=s.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(s.bounds.x)+" "+l(s.bounds.y+s.bounds.h)+" "+a(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y)+"] ")+"/Contents ("+h(x(s.contents))+")",o+=" /Popup "+b.objId+" 0 R",o+=" /P "+c.objId+" 0 R",o+=" /T ("+h(x(j))+") >>",p.content=o;var w=p.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(s.bounds.x+30)+" "+l(s.bounds.y+s.bounds.h)+" "+a(s.bounds.x+s.bounds.w+30)+" "+l(s.bounds.y)+"] ")+" /Parent "+w,s.open&&(o+=" /Open true"),o+=" >>",b.content=o,this.internal.write(p.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+a(s.bounds.x)+" "+l(s.bounds.y)+" "+a(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y+s.bounds.h)+"] ";var S=s.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(g(s.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(s.options.name){var I=this.annotations._nameMap[s.options.name];s.options.pageNumber=I.page,s.options.top=I.y}else s.options.top||(s.options.top=0);if(i="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",o="",s.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(s.options.url))+") >>";else if(s.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,o+=" /FitV "+s.options.left+"]";break;case"XYZ":default:var F=l(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),o+=" /XYZ "+s.options.left+" "+F+" "+s.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var s=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":s.pageContext.annotations.push(r)}},e.link=function(r,s,i,o,a){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(s),w:c(r+i),h:d(s+o)},options:a,type:"link"})},e.textWithLink=function(r,s,i,o){var a,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){l=o.maxWidth;var u=this.splitTextToSize(r,l).length;a=Math.ceil(d*u)}else l=c,a=d;return this.text(r,s,i,o),i+=.2*d,o.align==="center"&&(s-=c/2),o.align==="right"&&(s-=c),this.link(s,i-d,l,a,o),c},e.getTextWidth=function(r){var s=this.internal.getFontSize();return this.getStringUnitWidth(r)*s/this.internal.scaleFactor}}(ar.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(p){return t[p.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},l=e.__arabicParser__.isArabicEndLetter=function(p){return a(p)&&o(p)&&t[p.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(p){return a(p)&&i.indexOf(p.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return a(p)&&o(p)&&t[p.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(p){return a(p)&&o(p)&&t[p.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(p){return a(p)&&o(p)&&t[p.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(p){return a(p)&&o(p)&&t[p.charCodeAt(0)].length==4},A=e.__arabicParser__.resolveLigatures=function(p){var b=0,x=r,j="",w=0;for(b=0;b<p.length;b+=1)x[p.charCodeAt(b)]!==void 0?(w++,typeof(x=x[p.charCodeAt(b)])=="number"&&(j+=String.fromCharCode(x),x=r,w=0),b===p.length-1&&(x=r,j+=p.charAt(b-(w-1)),b-=w-1,w=0)):(x=r,j+=p.charAt(b-w),b-=w,w=0);return j};e.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&s[p.charCodeAt(0)]!==void 0};var f=e.__arabicParser__.getCorrectForm=function(p,b,x){return a(p)?o(p)===!1?-1:!d(p)||!a(b)&&!a(x)||!a(x)&&l(b)||l(p)&&!a(b)||l(p)&&c(b)||l(p)&&l(b)?0:u(p)&&a(b)&&!l(b)&&a(x)&&d(x)?3:l(p)||!a(x)?1:2:-1},h=function(p){var b=0,x=0,j=0,w="",S="",I="",F=(p=p||"").split("\\s+"),T=[];for(b=0;b<F.length;b+=1){for(T.push(""),x=0;x<F[b].length;x+=1)w=F[b][x],S=F[b][x-1],I=F[b][x+1],a(w)?(j=f(w,S,I),T[b]+=j!==-1?String.fromCharCode(t[w.charCodeAt(0)][j]):w):T[b]+=w;T[b]=A(T[b])}return T.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var p,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(b)){var j=0;for(x=[],j=0;j<b.length;j+=1)Array.isArray(b[j])?x.push([h(b[j][0]),b[j][1],b[j][2]]):x.push([h(b[j])]);p=x}else p=h(b);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};e.events.push(["preProcessText",g])}(ar.API),ar.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(l){o=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,s){var i;if((r=r||"2d")!=="2d")return null;for(i in s)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=s[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ar.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(p){A=p}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(p){g=p}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return s.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){s.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),A=d.font||this.getFont(),f=d.scaleFactor||this.internal.scaleFactor,h=0,g=0,p=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=d.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,S){return w.concat(b.splitTextToSize(S,x))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)h<(p=this.getStringUnitWidth(c[j],{font:A})*u)&&(h=p);return h!==0&&(g=c.length),{w:h/=f,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},e.cellAddPage=function(){s.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var c;c=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,A=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=A.top,h&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,A,f){if(s.call(this),!u)throw new Error("No data for PDF table.");var h,g,p,b,x=[],j=[],w=[],S={},I={},F=[],T=[],U=(f=f||{}).autoSize||!1,K=f.printHeaders!==!1,B=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,R=f.margins||Object.assign({width:this.getPageWidth()},t),D=typeof f.padding=="number"?f.padding:3,H=f.headerBackgroundColor||"#c8c8c8",P=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=K,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=P,this.setFontSize(B),A==null)j=x=Object.keys(u[0]),w=x.map(function(){return"left"});else if(Array.isArray(A)&&xn(A[0])==="object")for(x=A.map(function(X){return X.name}),j=A.map(function(X){return X.prompt||X.name||""}),w=A.map(function(X){return X.align||"left"}),h=0;h<A.length;h+=1)I[A[h].name]=A[h].width*(19.049976/25.4);else Array.isArray(A)&&typeof A[0]=="string"&&(j=x=A,w=x.map(function(){return"left"}));if(U||Array.isArray(A)&&typeof A[0]=="string")for(h=0;h<x.length;h+=1){for(S[b=x[h]]=u.map(function(X){return X[b]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(j[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=S[b],this.setFont(void 0,"normal"),p=0;p<g.length;p+=1)F.push(this.getTextDimensions(g[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);I[b]=Math.max.apply(null,F)+D+D,F=[]}if(K){var z={};for(h=0;h<x.length;h+=1)z[x[h]]={},z[x[h]].text=j[h],z[x[h]].align=w[h];var G=l.call(this,z,I);T=x.map(function(X){return new o(c,d,I[X],G,z[X].text,void 0,z[X].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var he=A.reduce(function(X,re){return X[re.name]=re.align,X},{});for(h=0;h<u.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:u[h]},this);var ce=l.call(this,u[h],I);for(p=0;p<x.length;p+=1){var ye=u[h][x[p]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:p,data:ye},this),a.call(this,new o(c,d,I[x[p]],ce,ye,h+2,he[x[p]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(h){var g=c[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,d[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*A/f+u+u},this).reduce(function(h,g){return Math.max(h,g)},0)};e.setTableHeaderRow=function(c){s.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(g)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(ar.API);var fL={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mL=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],y2=hL(mL),pL=[100,200,300,400,500,600,700,800,900],Que=hL(pL);function b2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(o){return fL[o=o||"normal"]?o:"normal"}(e.style),s=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(o){return typeof y2[o=o||"normal"]=="number"?o:"normal"}(e.stretch);return{family:t,style:r,weight:s,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,s].join(" ")}}}function D4(e,t,r,s){var i;for(i=r;i>=0&&i<t.length;i+=s)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=s)if(e[t[i]])return e[t[i]]}var _ue={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},O4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Q4(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Hue(e,t,r){for(var s=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},_ue,r.genericFontFamilies||{}),o=null,a=null,l=0;l<t.length;++l)if(i[(o=b2(t[l])).family]&&(o.family=i[o.family]),e.hasOwnProperty(o.family)){a=e[o.family];break}if(!(a=a||e[s]))throw new Error("Could not find a font-family for the rule '"+Q4(o)+"' and default family '"+s+"'.");if(a=function(c,d){if(d[c])return d[c];var u=y2[c],A=u<=y2.normal?-1:1,f=D4(d,mL,u,A);if(!f)throw new Error("Could not find a matching font-stretch value for "+c);return f}(o.stretch,a),a=function(c,d){if(d[c])return d[c];for(var u=fL[c],A=0;A<u.length;++A)if(d[u[A]])return d[u[A]];throw new Error("Could not find a matching font-style for "+c)}(o.style,a),!(a=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var u=Que[c],A=D4(d,pL,u,c<400?-1:1);if(!A)throw new Error("Could not find a matching font-weight for value "+c);return A}(o.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Q4(o)+"'.");return a}function _4(e){return e.trimLeft()}function $ue(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Vue(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var t0,H4,$4,bv=["times"];(function(e){var t,r,s,i,o,a,l,c,d,u=function(_){return _=_||{},this.isStrokeTransparent=_.isStrokeTransparent||!1,this.strokeOpacity=_.strokeOpacity||1,this.strokeStyle=_.strokeStyle||"#000000",this.fillStyle=_.fillStyle||"#000000",this.isFillTransparent=_.isFillTransparent||!1,this.fillOpacity=_.fillOpacity||1,this.font=_.font||"10px sans-serif",this.textBaseline=_.textBaseline||"alphabetic",this.textAlign=_.textAlign||"left",this.lineWidth=_.lineWidth||1,this.lineJoin=_.lineJoin||"miter",this.lineCap=_.lineCap||"butt",this.path=_.path||[],this.transform=_.transform!==void 0?_.transform.clone():new c,this.globalCompositeOperation=_.globalCompositeOperation||"normal",this.globalAlpha=_.globalAlpha||1,this.clip_path=_.clip_path||[],this.currentPoint=_.currentPoint||new a,this.miterLimit=_.miterLimit||10,this.lastPoint=_.lastPoint||new a,this.lineDashOffset=_.lineDashOffset||0,this.lineDash=_.lineDash||[],this.margin=_.margin||[0,0,0,0],this.prevPageLastElemOffset=_.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _.ignoreClearRect!="boolean"||_.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,r=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var A=function(_){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=_;Object.defineProperty(this,"pdf",{get:function(){return Q}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(Ue){Z=!!Ue}});var Ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ae},set:function(Ue){Ae=!!Ue}});var me=0;Object.defineProperty(this,"posX",{get:function(){return me},set:function(Ue){isNaN(Ue)||(me=Ue)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(Ue){isNaN(Ue)||(ae=Ue)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Ue){var Ce;typeof Ue=="number"?Ce=[Ue,Ue,Ue,Ue]:((Ce=new Array(4))[0]=Ue[0],Ce[1]=Ue.length>=2?Ue[1]:Ce[0],Ce[2]=Ue.length>=3?Ue[2]:Ce[0],Ce[3]=Ue.length>=4?Ue[3]:Ce[1]),d.margin=Ce}});var ie=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ie},set:function(Ue){ie=Ue}});var te=0;Object.defineProperty(this,"lastBreak",{get:function(){return te},set:function(Ue){te=Ue}});var fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return fe},set:function(Ue){fe=Ue}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Ue){Ue instanceof u&&(d=Ue)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Ue){d.path=Ue}});var pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return pe},set:function(Ue){pe=Ue}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ue){var Ce;Ce=f(Ue),this.ctx.fillStyle=Ce.style,this.ctx.isFillTransparent=Ce.a===0,this.ctx.fillOpacity=Ce.a,this.pdf.setFillColor(Ce.r,Ce.g,Ce.b,{a:Ce.a}),this.pdf.setTextColor(Ce.r,Ce.g,Ce.b,{a:Ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ue){var Ce=f(Ue);this.ctx.strokeStyle=Ce.style,this.ctx.isStrokeTransparent=Ce.a===0,this.ctx.strokeOpacity=Ce.a,Ce.a===0?this.pdf.setDrawColor(255,255,255):(Ce.a,this.pdf.setDrawColor(Ce.r,Ce.g,Ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ue){["butt","round","square"].indexOf(Ue)!==-1&&(this.ctx.lineCap=Ue,this.pdf.setLineCap(Ue))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ue){isNaN(Ue)||(this.ctx.lineWidth=Ue,this.pdf.setLineWidth(Ue))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ue){["bevel","round","miter"].indexOf(Ue)!==-1&&(this.ctx.lineJoin=Ue,this.pdf.setLineJoin(Ue))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ue){isNaN(Ue)||(this.ctx.miterLimit=Ue,this.pdf.setMiterLimit(Ue))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ue){this.ctx.textBaseline=Ue}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ue){["right","end","center","left","start"].indexOf(Ue)!==-1&&(this.ctx.textAlign=Ue)}});var we=null;function je(Ue,Ce){if(we===null){var Ct=function(ct){var rt=[];return Object.keys(ct).forEach(function(st){ct[st].forEach(function(at){var qe=null;switch(at){case"bold":qe={family:st,weight:"bold"};break;case"italic":qe={family:st,style:"italic"};break;case"bolditalic":qe={family:st,weight:"bold",style:"italic"};break;case"":case"normal":qe={family:st}}qe!==null&&(qe.ref={name:st,style:at},rt.push(qe))})}),rt}(Ue.getFontList());we=function(ct){for(var rt={},st=0;st<ct.length;++st){var at=b2(ct[st]),qe=at.family,St=at.stretch,kt=at.style,He=at.weight;rt[qe]=rt[qe]||{},rt[qe][St]=rt[qe][St]||{},rt[qe][St][kt]=rt[qe][St][kt]||{},rt[qe][St][kt][He]=at}return rt}(Ct.concat(Ce))}return we}var De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(Ue){we=null,De=Ue}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ue){var Ce;if(this.ctx.font=Ue,(Ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ue))!==null){var Ct=Ce[1];Ce[2];var ct=Ce[3],rt=Ce[4];Ce[5];var st=Ce[6],at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(rt)[2];rt=Math.floor(at==="px"?parseFloat(rt)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(rt)*this.pdf.getFontSize():parseFloat(rt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(rt);var qe=function($){var J,ee,ve=[],Se=$.trim();if(Se==="")return bv;if(Se in O4)return[O4[Se]];for(;Se!=="";){switch(ee=null,J=(Se=_4(Se)).charAt(0)){case'"':case"'":ee=$ue(Se.substring(1),J);break;default:ee=Vue(Se)}if(ee===null||(ve.push(ee[0]),(Se=_4(ee[1]))!==""&&Se.charAt(0)!==","))return bv;Se=Se.replace(/^,/,"")}return ve}(st);if(this.fontFaces){var St=Hue(je(this.pdf,this.fontFaces),qe.map(function($){return{family:$,stretch:"normal",weight:ct,style:Ct}}));this.pdf.setFont(St.ref.name,St.ref.style)}else{var kt="";(ct==="bold"||parseInt(ct,10)>=700||Ct==="bold")&&(kt="bold"),Ct==="italic"&&(kt+="italic"),kt.length===0&&(kt="normal");for(var He="",Le={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},q=0;q<qe.length;q++){if(this.pdf.internal.getFont(qe[q],kt,{noFallback:!0,disableWarning:!0})!==void 0){He=qe[q];break}if(kt==="bolditalic"&&this.pdf.internal.getFont(qe[q],"bold",{noFallback:!0,disableWarning:!0})!==void 0)He=qe[q],kt="bold";else if(this.pdf.internal.getFont(qe[q],"normal",{noFallback:!0,disableWarning:!0})!==void 0){He=qe[q],kt="normal";break}}if(He===""){for(var M=0;M<qe.length;M++)if(Le[qe[M]]){He=Le[qe[M]];break}}He=He===""?"Times":He,this.pdf.setFont(He,kt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ue){this.ctx.globalCompositeOperation=Ue}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ue){this.ctx.globalAlpha=Ue}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ue){this.ctx.lineDashOffset=Ue,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ue){this.ctx.lineDash=Ue,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ue){this.ctx.ignoreClearRect=!!Ue}})};A.prototype.setLineDash=function(_){this.lineDash=_},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){S.call(this,"fill",!1)},A.prototype.stroke=function(){S.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(_,Q){if(isNaN(_)||isNaN(Q))throw Nn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new a(_,Q));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new a(_,Q)},A.prototype.closePath=function(){var _=new a(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&xn(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){_=new a(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(_.x,_.y)},A.prototype.lineTo=function(_,Q){if(isNaN(_)||isNaN(Q))throw Nn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new a(_,Q));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new a(Z.x,Z.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},A.prototype.quadraticCurveTo=function(_,Q,Z,Ae){if(isNaN(Z)||isNaN(Ae)||isNaN(_)||isNaN(Q))throw Nn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var me=this.ctx.transform.applyToPoint(new a(Z,Ae)),ae=this.ctx.transform.applyToPoint(new a(_,Q));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:me.x,y:me.y}),this.ctx.lastPoint=new a(me.x,me.y)},A.prototype.bezierCurveTo=function(_,Q,Z,Ae,me,ae){if(isNaN(me)||isNaN(ae)||isNaN(_)||isNaN(Q)||isNaN(Z)||isNaN(Ae))throw Nn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ie=this.ctx.transform.applyToPoint(new a(me,ae)),te=this.ctx.transform.applyToPoint(new a(_,Q)),fe=this.ctx.transform.applyToPoint(new a(Z,Ae));this.path.push({type:"bct",x1:te.x,y1:te.y,x2:fe.x,y2:fe.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new a(ie.x,ie.y)},A.prototype.arc=function(_,Q,Z,Ae,me,ae){if(isNaN(_)||isNaN(Q)||isNaN(Z)||isNaN(Ae)||isNaN(me))throw Nn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var ie=this.ctx.transform.applyToPoint(new a(_,Q));_=ie.x,Q=ie.y;var te=this.ctx.transform.applyToPoint(new a(0,Z)),fe=this.ctx.transform.applyToPoint(new a(0,0));Z=Math.sqrt(Math.pow(te.x-fe.x,2)+Math.pow(te.y-fe.y,2))}Math.abs(me-Ae)>=2*Math.PI&&(Ae=0,me=2*Math.PI),this.path.push({type:"arc",x:_,y:Q,radius:Z,startAngle:Ae,endAngle:me,counterclockwise:ae})},A.prototype.arcTo=function(_,Q,Z,Ae,me){throw new Error("arcTo not implemented.")},A.prototype.rect=function(_,Q,Z,Ae){if(isNaN(_)||isNaN(Q)||isNaN(Z)||isNaN(Ae))throw Nn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_,Q),this.lineTo(_+Z,Q),this.lineTo(_+Z,Q+Ae),this.lineTo(_,Q+Ae),this.lineTo(_,Q),this.lineTo(_+Z,Q),this.lineTo(_,Q)},A.prototype.fillRect=function(_,Q,Z,Ae){if(isNaN(_)||isNaN(Q)||isNaN(Z)||isNaN(Ae))throw Nn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var me={};this.lineCap!=="butt"&&(me.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(me.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_,Q,Z,Ae),this.fill(),me.hasOwnProperty("lineCap")&&(this.lineCap=me.lineCap),me.hasOwnProperty("lineJoin")&&(this.lineJoin=me.lineJoin)}},A.prototype.strokeRect=function(_,Q,Z,Ae){if(isNaN(_)||isNaN(Q)||isNaN(Z)||isNaN(Ae))throw Nn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(_,Q,Z,Ae),this.stroke())},A.prototype.clearRect=function(_,Q,Z,Ae){if(isNaN(_)||isNaN(Q)||isNaN(Z)||isNaN(Ae))throw Nn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_,Q,Z,Ae))},A.prototype.save=function(_){_=typeof _!="boolean"||_;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),_){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ae=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ae}},A.prototype.restore=function(_){_=typeof _!="boolean"||_;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),_&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(_){var Q,Z,Ae,me;if(_.isCanvasGradient===!0&&(_=_.getColor()),!_)return{r:0,g:0,b:0,a:0,style:_};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_))Q=0,Z=0,Ae=0,me=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_);if(ae!==null)Q=parseInt(ae[1]),Z=parseInt(ae[2]),Ae=parseInt(ae[3]),me=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_))!==null)Q=parseInt(ae[1]),Z=parseInt(ae[2]),Ae=parseInt(ae[3]),me=parseFloat(ae[4]);else{if(me=1,typeof _=="string"&&_.charAt(0)!=="#"){var ie=new aL(_);_=ie.ok?ie.toHex():"#000000"}_.length===4?(Q=_.substring(1,2),Q+=Q,Z=_.substring(2,3),Z+=Z,Ae=_.substring(3,4),Ae+=Ae):(Q=_.substring(1,3),Z=_.substring(3,5),Ae=_.substring(5,7)),Q=parseInt(Q,16),Z=parseInt(Z,16),Ae=parseInt(Ae,16)}}return{r:Q,g:Z,b:Ae,a:me,style:_}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(_,Q,Z,Ae){if(isNaN(Q)||isNaN(Z)||typeof _!="string")throw Nn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ae=isNaN(Ae)?void 0:Ae,!h.call(this)){var me=ce(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;D.call(this,{text:_,x:Q,y:Z,scale:ae,angle:me,align:this.textAlign,maxWidth:Ae})}},A.prototype.strokeText=function(_,Q,Z,Ae){if(isNaN(Q)||isNaN(Z)||typeof _!="string")throw Nn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){Ae=isNaN(Ae)?void 0:Ae;var me=ce(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;D.call(this,{text:_,x:Q,y:Z,scale:ae,renderingMode:"stroke",angle:me,align:this.textAlign,maxWidth:Ae})}},A.prototype.measureText=function(_){if(typeof _!="string")throw Nn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,Z=this.pdf.internal.scaleFactor,Ae=Q.internal.getFontSize(),me=Q.getStringUnitWidth(_)*Ae/Q.internal.scaleFactor,ae=function(ie){var te=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return te}}),this};return new ae({width:me*=Math.round(96*Z/72*1e4)/1e4})},A.prototype.scale=function(_,Q){if(isNaN(_)||isNaN(Q))throw Nn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(_,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},A.prototype.rotate=function(_){if(isNaN(_))throw Nn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new c(Math.cos(_),Math.sin(_),-Math.sin(_),Math.cos(_),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},A.prototype.translate=function(_,Q){if(isNaN(_)||isNaN(Q))throw Nn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,_,Q);this.ctx.transform=this.ctx.transform.multiply(Z)},A.prototype.transform=function(_,Q,Z,Ae,me,ae){if(isNaN(_)||isNaN(Q)||isNaN(Z)||isNaN(Ae)||isNaN(me)||isNaN(ae))throw Nn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ie=new c(_,Q,Z,Ae,me,ae);this.ctx.transform=this.ctx.transform.multiply(ie)},A.prototype.setTransform=function(_,Q,Z,Ae,me,ae){_=isNaN(_)?1:_,Q=isNaN(Q)?0:Q,Z=isNaN(Z)?0:Z,Ae=isNaN(Ae)?1:Ae,me=isNaN(me)?0:me,ae=isNaN(ae)?0:ae,this.ctx.transform=new c(_,Q,Z,Ae,me,ae)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(_,Q,Z,Ae,me,ae,ie,te,fe){var pe=this.pdf.getImageProperties(_),we=1,je=1,De=1,Ue=1;Ae!==void 0&&te!==void 0&&(De=te/Ae,Ue=fe/me,we=pe.width/Ae*te/Ae,je=pe.height/me*fe/me),ae===void 0&&(ae=Q,ie=Z,Q=0,Z=0),Ae!==void 0&&te===void 0&&(te=Ae,fe=me),Ae===void 0&&te===void 0&&(te=pe.width,fe=pe.height);for(var Ce,Ct=this.ctx.transform.decompose(),ct=ce(Ct.rotate.shx),rt=new c,st=(rt=(rt=(rt=rt.multiply(Ct.translate)).multiply(Ct.skew)).multiply(Ct.scale)).applyToRectangle(new l(ae-Q*De,ie-Z*Ue,Ae*we,me*je)),at=b.call(this,st),qe=[],St=0;St<at.length;St+=1)qe.indexOf(at[St])===-1&&qe.push(at[St]);if(w(qe),this.autoPaging)for(var kt=qe[0],He=qe[qe.length-1],Le=kt;Le<He+1;Le++){this.pdf.setPage(Le);var q=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],M=Le===1?this.posY+this.margin[0]:this.margin[0],$=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],J=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ee=Le===1?0:$+(Le-2)*J;if(this.ctx.clip_path.length!==0){var ve=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Ce,this.posX+this.margin[3],-ee+M+this.ctx.prevPageLastElemOffset),I.call(this,"fill",!0),this.path=ve}var Se=JSON.parse(JSON.stringify(st));Se=j([Se],this.posX+this.margin[3],-ee+M+this.ctx.prevPageLastElemOffset)[0];var We=(Le>kt||Le<He)&&p.call(this);We&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],q,J,null).clip().discardPath()),this.pdf.addImage(_,"JPEG",Se.x,Se.y,Se.w,Se.h,null,null,ct),We&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(_,"JPEG",st.x,st.y,st.w,st.h,null,null,ct)};var b=function(_,Q,Z){var Ae=[];Q=Q||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var me=this.posY+this.ctx.prevPageLastElemOffset;switch(_.type){default:case"mt":case"lt":Ae.push(Math.floor((_.y+me)/Z)+1);break;case"arc":Ae.push(Math.floor((_.y+me-_.radius)/Z)+1),Ae.push(Math.floor((_.y+me+_.radius)/Z)+1);break;case"qct":var ae=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x,_.y);Ae.push(Math.floor((ae.y+me)/Z)+1),Ae.push(Math.floor((ae.y+ae.h+me)/Z)+1);break;case"bct":var ie=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x2,_.y2,_.x,_.y);Ae.push(Math.floor((ie.y+me)/Z)+1),Ae.push(Math.floor((ie.y+ie.h+me)/Z)+1);break;case"rect":Ae.push(Math.floor((_.y+me)/Z)+1),Ae.push(Math.floor((_.y+_.h+me)/Z)+1)}for(var te=0;te<Ae.length;te+=1)for(;this.pdf.internal.getNumberOfPages()<Ae[te];)x.call(this);return Ae},x=function(){var _=this.fillStyle,Q=this.strokeStyle,Z=this.font,Ae=this.lineCap,me=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=_,this.strokeStyle=Q,this.font=Z,this.lineCap=Ae,this.lineWidth=me,this.lineJoin=ae},j=function(_,Q,Z){for(var Ae=0;Ae<_.length;Ae++)switch(_[Ae].type){case"bct":_[Ae].x2+=Q,_[Ae].y2+=Z;case"qct":_[Ae].x1+=Q,_[Ae].y1+=Z;case"mt":case"lt":case"arc":default:_[Ae].x+=Q,_[Ae].y+=Z}return _},w=function(_){return _.sort(function(Q,Z){return Q-Z})},S=function(_,Q){for(var Z,Ae,me=this.fillStyle,ae=this.strokeStyle,ie=this.lineCap,te=this.lineWidth,fe=Math.abs(te*this.ctx.transform.scaleX),pe=this.lineJoin,we=JSON.parse(JSON.stringify(this.path)),je=JSON.parse(JSON.stringify(this.path)),De=[],Ue=0;Ue<je.length;Ue++)if(je[Ue].x!==void 0)for(var Ce=b.call(this,je[Ue]),Ct=0;Ct<Ce.length;Ct+=1)De.indexOf(Ce[Ct])===-1&&De.push(Ce[Ct]);for(var ct=0;ct<De.length;ct++)for(;this.pdf.internal.getNumberOfPages()<De[ct];)x.call(this);if(w(De),this.autoPaging)for(var rt=De[0],st=De[De.length-1],at=rt;at<st+1;at++){this.pdf.setPage(at),this.fillStyle=me,this.strokeStyle=ae,this.lineCap=ie,this.lineWidth=fe,this.lineJoin=pe;var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=at===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Le=at===1?0:kt+(at-2)*He;if(this.ctx.clip_path.length!==0){var q=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Z,this.posX+this.margin[3],-Le+St+this.ctx.prevPageLastElemOffset),I.call(this,_,!0),this.path=q}if(Ae=JSON.parse(JSON.stringify(we)),this.path=j(Ae,this.posX+this.margin[3],-Le+St+this.ctx.prevPageLastElemOffset),Q===!1||at===0){var M=(at>rt||at<st)&&p.call(this);M&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,He,null).clip().discardPath()),I.call(this,_,Q),M&&this.pdf.restoreGraphicsState()}this.lineWidth=te}else this.lineWidth=fe,I.call(this,_,Q),this.lineWidth=te;this.path=we},I=function(_,Q){if((_!=="stroke"||Q||!g.call(this))&&(_==="stroke"||Q||!h.call(this))){for(var Z,Ae,me=[],ae=this.path,ie=0;ie<ae.length;ie++){var te=ae[ie];switch(te.type){case"begin":me.push({begin:!0});break;case"close":me.push({close:!0});break;case"mt":me.push({start:te,deltas:[],abs:[]});break;case"lt":var fe=me.length;if(ae[ie-1]&&!isNaN(ae[ie-1].x)&&(Z=[te.x-ae[ie-1].x,te.y-ae[ie-1].y],fe>0)){for(;fe>=0;fe--)if(me[fe-1].close!==!0&&me[fe-1].begin!==!0){me[fe-1].deltas.push(Z),me[fe-1].abs.push(te);break}}break;case"bct":Z=[te.x1-ae[ie-1].x,te.y1-ae[ie-1].y,te.x2-ae[ie-1].x,te.y2-ae[ie-1].y,te.x-ae[ie-1].x,te.y-ae[ie-1].y],me[me.length-1].deltas.push(Z);break;case"qct":var pe=ae[ie-1].x+2/3*(te.x1-ae[ie-1].x),we=ae[ie-1].y+2/3*(te.y1-ae[ie-1].y),je=te.x+2/3*(te.x1-te.x),De=te.y+2/3*(te.y1-te.y),Ue=te.x,Ce=te.y;Z=[pe-ae[ie-1].x,we-ae[ie-1].y,je-ae[ie-1].x,De-ae[ie-1].y,Ue-ae[ie-1].x,Ce-ae[ie-1].y],me[me.length-1].deltas.push(Z);break;case"arc":me.push({deltas:[],abs:[],arc:!0}),Array.isArray(me[me.length-1].abs)&&me[me.length-1].abs.push(te)}}Ae=Q?null:_==="stroke"?"stroke":"fill";for(var Ct=!1,ct=0;ct<me.length;ct++)if(me[ct].arc)for(var rt=me[ct].abs,st=0;st<rt.length;st++){var at=rt[st];at.type==="arc"?U.call(this,at.x,at.y,at.radius,at.startAngle,at.endAngle,at.counterclockwise,void 0,Q,!Ct):H.call(this,at.x,at.y),Ct=!0}else if(me[ct].close===!0)this.pdf.internal.out("h"),Ct=!1;else if(me[ct].begin!==!0){var qe=me[ct].start.x,St=me[ct].start.y;P.call(this,me[ct].deltas,qe,St),Ct=!0}Ae&&K.call(this,Ae),Q&&B.call(this)}},F=function(_){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _-Z;case"top":return _+Q-Z;case"hanging":return _+Q-2*Z;case"middle":return _+Q/2-Z;case"ideographic":return _;case"alphabetic":default:return _}},T=function(_){return _+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var _=function(){};return _.colorStops=[],_.addColorStop=function(Q,Z){this.colorStops.push([Q,Z])},_.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_.isCanvasGradient=!0,_},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(_,Q,Z,Ae,me,ae,ie,te,fe){for(var pe=G.call(this,Z,Ae,me,ae),we=0;we<pe.length;we++){var je=pe[we];we===0&&(fe?R.call(this,je.x1+_,je.y1+Q):H.call(this,je.x1+_,je.y1+Q)),z.call(this,_,Q,je.x2,je.y2,je.x3,je.y3,je.x4,je.y4)}te?B.call(this):K.call(this,ie)},K=function(_){switch(_){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(_,Q){this.pdf.internal.out(r(_)+" "+s(Q)+" m")},D=function(_){var Q;switch(_.align){case"right":case"end":Q="right";break;case"center":Q="center";break;case"left":case"start":default:Q="left"}var Z=this.pdf.getTextDimensions(_.text),Ae=F.call(this,_.y),me=T.call(this,Ae)-Z.h,ae=this.ctx.transform.applyToPoint(new a(_.x,Ae)),ie=this.ctx.transform.decompose(),te=new c;te=(te=(te=te.multiply(ie.translate)).multiply(ie.skew)).multiply(ie.scale);for(var fe,pe,we,je=this.ctx.transform.applyToRectangle(new l(_.x,Ae,Z.w,Z.h)),De=te.applyToRectangle(new l(_.x,me,Z.w,Z.h)),Ue=b.call(this,De),Ce=[],Ct=0;Ct<Ue.length;Ct+=1)Ce.indexOf(Ue[Ct])===-1&&Ce.push(Ue[Ct]);if(w(Ce),this.autoPaging)for(var ct=Ce[0],rt=Ce[Ce.length-1],st=ct;st<rt+1;st++){this.pdf.setPage(st);var at=st===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[2],kt=St-this.margin[0],He=this.pdf.internal.pageSize.width-this.margin[1],Le=He-this.margin[3],q=st===1?0:qe+(st-2)*kt;if(this.ctx.clip_path.length!==0){var M=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(fe,this.posX+this.margin[3],-1*q+at),I.call(this,"fill",!0),this.path=M}var $=j([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-q+at+this.ctx.prevPageLastElemOffset)[0];_.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*_.scale),we=this.lineWidth,this.lineWidth=we*_.scale);var J=this.autoPaging!=="text";if(J||$.y+$.h<=St){if(J||$.y>=at&&$.x<=He){var ee=J?_.text:this.pdf.splitTextToSize(_.text,_.maxWidth||He-$.x)[0],ve=j([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-q+at+this.ctx.prevPageLastElemOffset)[0],Se=J&&(st>ct||st<rt)&&p.call(this);Se&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Le,kt,null).clip().discardPath()),this.pdf.text(ee,ve.x,ve.y,{angle:_.angle,align:Q,renderingMode:_.renderingMode}),Se&&this.pdf.restoreGraphicsState()}}else $.y<St&&(this.ctx.prevPageLastElemOffset+=St-$.y);_.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=we)}else _.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*_.scale),we=this.lineWidth,this.lineWidth=we*_.scale),this.pdf.text(_.text,ae.x+this.posX,ae.y+this.posY,{angle:_.angle,align:Q,renderingMode:_.renderingMode,maxWidth:_.maxWidth}),_.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=we)},H=function(_,Q,Z,Ae){Z=Z||0,Ae=Ae||0,this.pdf.internal.out(r(_+Z)+" "+s(Q+Ae)+" l")},P=function(_,Q,Z){return this.pdf.lines(_,Q,Z,null,null)},z=function(_,Q,Z,Ae,me,ae,ie,te){this.pdf.internal.out([t(i(Z+_)),t(o(Ae+Q)),t(i(me+_)),t(o(ae+Q)),t(i(ie+_)),t(o(te+Q)),"c"].join(" "))},G=function(_,Q,Z,Ae){for(var me=2*Math.PI,ae=Math.PI/2;Q>Z;)Q-=me;var ie=Math.abs(Z-Q);ie<me&&Ae&&(ie=me-ie);for(var te=[],fe=Ae?-1:1,pe=Q;ie>1e-5;){var we=pe+fe*Math.min(ie,ae);te.push(he.call(this,_,pe,we)),ie-=Math.abs(we-pe),pe=we}return te},he=function(_,Q,Z){var Ae=(Z-Q)/2,me=_*Math.cos(Ae),ae=_*Math.sin(Ae),ie=me,te=-ae,fe=ie*ie+te*te,pe=fe+ie*me+te*ae,we=4/3*(Math.sqrt(2*fe*pe)-pe)/(ie*ae-te*me),je=ie-we*te,De=te+we*ie,Ue=je,Ce=-De,Ct=Ae+Q,ct=Math.cos(Ct),rt=Math.sin(Ct);return{x1:_*Math.cos(Q),y1:_*Math.sin(Q),x2:je*ct-De*rt,y2:je*rt+De*ct,x3:Ue*ct-Ce*rt,y3:Ue*rt+Ce*ct,x4:_*Math.cos(Z),y4:_*Math.sin(Z)}},ce=function(_){return 180*_/Math.PI},ye=function(_,Q,Z,Ae,me,ae){var ie=_+.5*(Z-_),te=Q+.5*(Ae-Q),fe=me+.5*(Z-me),pe=ae+.5*(Ae-ae),we=Math.min(_,me,ie,fe),je=Math.max(_,me,ie,fe),De=Math.min(Q,ae,te,pe),Ue=Math.max(Q,ae,te,pe);return new l(we,De,je-we,Ue-De)},X=function(_,Q,Z,Ae,me,ae,ie,te){var fe,pe,we,je,De,Ue,Ce,Ct,ct,rt,st,at,qe,St,kt=Z-_,He=Ae-Q,Le=me-Z,q=ae-Ae,M=ie-me,$=te-ae;for(pe=0;pe<41;pe++)ct=(Ce=(we=_+(fe=pe/40)*kt)+fe*((De=Z+fe*Le)-we))+fe*(De+fe*(me+fe*M-De)-Ce),rt=(Ct=(je=Q+fe*He)+fe*((Ue=Ae+fe*q)-je))+fe*(Ue+fe*(ae+fe*$-Ue)-Ct),pe==0?(st=ct,at=rt,qe=ct,St=rt):(st=Math.min(st,ct),at=Math.min(at,rt),qe=Math.max(qe,ct),St=Math.max(St,rt));return new l(Math.round(st),Math.round(at),Math.round(qe-st),Math.round(St-at))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _,Q,Z=(_=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:_,lineDashOffset:Q}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(ar.API),function(e){var t=function(o){var a,l,c,d,u,A,f,h,g,p;for(l=[],c=0,d=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;d>c;c+=4)(u=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(A=(u=((u=((u=((u=(u-(p=u%85))/85)-(g=u%85))/85)-(h=u%85))/85)-(f=u%85))/85)%85,l.push(A+33,f+33,h+33,g+33,p+33)):l.push(122);return function(b,x){for(var j=x;j>0;j--)b.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},r=function(o){var a,l,c,d,u,A=String,f="length",h=255,g="charCodeAt",p="slice",b="replace";for(o[p](-2),o=o[p](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),c=[],d=0,u=(o+=a="uuuuu"[p](o[f]%5||5))[f];u>d;d+=5)l=52200625*(o[g](d)-33)+614125*(o[g](d+1)-33)+7225*(o[g](d+2)-33)+85*(o[g](d+3)-33)+(o[g](d+4)-33),c.push(h&l>>24,h&l>>16,h&l>>8,h&l);return function(x,j){for(var w=j;w>0;w--)x.pop()}(c,a[f]),A.fromCharCode.apply(A,c)},s=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},i=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return o=(a=f2(a)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,a){var l=0,c=o||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=s(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(ar.API),function(e){e.loadFile=function(t,r,s){return function(i,o,a){o=o!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(c,d,u){var A=new XMLHttpRequest,f=0,h=function(g){var p=g.length,b=[],x=String.fromCharCode;for(f=0;f<p;f+=1)b.push(x(255&g.charCodeAt(f)));return b.join("")};if(A.open("GET",c,!d),A.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(A.onload=function(){A.status===200?u(h(this.responseText)):u(void 0)}),A.send(null),d&&A.status===200)return h(A.responseText)}(i,o,a)}catch{}return l}(t,r,s)},e.loadImageFile=e.loadFile}(ar.API),function(e){function t(){return(dr.html2canvas?Promise.resolve(dr.html2canvas):c2(()=>import("./html2canvas-1PQvphRT.js").then(a=>a.h),__vite__mapDeps([0,1]))).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(dr.DOMPurify?Promise.resolve(dr.DOMPurify):c2(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var s=function(a){var l=xn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(s(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,u){for(var A=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),f=d.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||A.appendChild(c(f,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(A.width=d.width,A.height=d.height,A.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(A.value=d.value),A.addEventListener("load",function(){A.scrollTop=d.scrollTop,A.scrollLeft=d.scrollLeft},!0)),A}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var h=d[f],g=h.src.find(function(p){return p.format==="truetype"});g&&c.addFont(g.url,h.ref.name,h.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,c.context2d.save(!0),l(this.prop.container,A)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(s(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(s(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(a=a||ar.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,d){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,d){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(d,u){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(A){return c.updateProgress(null,d),A}).then(d,u).then(function(A){return c.updateProgress(1),A})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),u=c.call(d,a,l);return o.convert(u,this.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ar.getPageSize=function(a,l,c){if(xn(a)==="object"){var d=a;a=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var u,A=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var h,g=0,p=0;if(f.hasOwnProperty(A))g=f[A][1]/u,p=f[A][0]/u;else try{g=c[1],p=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",p>g&&(h=p,p=g,g=h);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",g>p&&(h=p,p=g,g=h)}return{width:p,height:g,unit:l,k:u,orientation:a}},e.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(b2):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(ar.API),ar.API.addJS=function(e){return $4=e,this.internal.events.subscribe("postPutResources",function(){t0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),H4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+$4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t0!==void 0&&H4!==void 0&&this.internal.out("/Names <</JavaScript "+t0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),o=0;o<i.length;o++){var a=i[o],l=s.exec(a);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(o=0;o<d;o++){var A=r.internal.newObject();u.push(A);var f=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<u.length;o++)r.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(s,i,o){var a={title:i,options:o,children:[]};return s==null&&(s=this.root),s.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(s){s.id=r.internal.newObjectDeferred();for(var i=0;i<s.children.length;i++)this.genIds_r(s.children[i])},r.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},r.outline.renderItems=function(s){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<s.children.length;o++){var a=s.children[o];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(s)),o>0&&this.line("/Prev "+this.makeRef(s.children[o-1])),o<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[o+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var c=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},r.outline.line=function(s){this.ctx.val+=s+`\r
`},r.outline.makeRef=function(s){return s.id+" 0 R"},r.outline.makeString=function(s){return"("+r.internal.pdfEscape(s)+")"},r.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(s,i){for(var o=0;o<i.children.length;o++)s.count++,this.count_r(s,i.children[o]);return s.count}}])}(ar.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,s,i,o,a,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(A){for(var f,h=256*A.charCodeAt(4)+A.charCodeAt(5),g=A.length,p={width:0,height:0,numcomponents:1},b=4;b<g;b+=2){if(b+=h,t.indexOf(A.charCodeAt(b+1))!==-1){f=256*A.charCodeAt(b+5)+A.charCodeAt(b+6),p={width:256*A.charCodeAt(b+7)+A.charCodeAt(b+8),height:f,numcomponents:A.charCodeAt(b+9)};break}h=256*A.charCodeAt(b+2)+A.charCodeAt(b+3)}return p}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:s,alias:i}}return u}}(ar.API);var ah,r0,V4,K4,z4,Kue=function(){var e,t,r;function s(o){var a,l,c,d,u,A,f,h,g,p,b,x,j,w;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},A=null;;){switch(a=this.readUInt32(),g=(function(){var S,I;for(I=[],S=0;S<4;++S)I.push(String.fromCharCode(this.data[this.pos++]));return I}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":A&&this.animation.frames.push(A),this.pos+=4,A={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),d=this.readUInt16()||100,A.delay=1e3*u/d,A.disposeOp=this.data[this.pos++],A.blendOp=this.data[this.pos++],A.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,a-=4),o=(A!=null?A.data:void 0)||this.imgData,x=0;0<=a?x<a:x>a;0<=a?++x:--x)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((p=c-this.transparency.indexed.length)>0)for(j=0;0<=p?j<p:j>p;0<=p?++j:--j)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":f=(b=this.read(a)).indexOf(0),h=String.fromCharCode.apply(String,b.slice(0,f)),this.text[h]=String.fromCharCode.apply(String,b.slice(f+1));break;case"IEND":return A&&this.animation.frames.push(A),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}s.prototype.read=function(o){var a,l;for(l=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)l.push(this.data[this.pos++]);return l},s.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.decodePixels=function(o){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),c=0,d=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function u(A,f,h,g){var p,b,x,j,w,S,I,F,T,U,K,B,R,D,H,P,z,G,he,ce,ye,X=Math.ceil((d.width-A)/h),re=Math.ceil((d.height-f)/g),_=d.width==X&&d.height==re;for(D=a*X,B=_?l:new Uint8Array(D*re),S=o.length,R=0,b=0;R<re&&c<S;){switch(o[c++]){case 0:for(j=z=0;z<D;j=z+=1)B[b++]=o[c++];break;case 1:for(j=G=0;G<D;j=G+=1)p=o[c++],w=j<a?0:B[b-a],B[b++]=(p+w)%256;break;case 2:for(j=he=0;he<D;j=he+=1)p=o[c++],x=(j-j%a)/a,H=R&&B[(R-1)*D+x*a+j%a],B[b++]=(H+p)%256;break;case 3:for(j=ce=0;ce<D;j=ce+=1)p=o[c++],x=(j-j%a)/a,w=j<a?0:B[b-a],H=R&&B[(R-1)*D+x*a+j%a],B[b++]=(p+Math.floor((w+H)/2))%256;break;case 4:for(j=ye=0;ye<D;j=ye+=1)p=o[c++],x=(j-j%a)/a,w=j<a?0:B[b-a],R===0?H=P=0:(H=B[(R-1)*D+x*a+j%a],P=x&&B[(R-1)*D+(x-1)*a+j%a]),I=w+H-P,F=Math.abs(I-w),U=Math.abs(I-H),K=Math.abs(I-P),T=F<=U&&F<=K?w:U<=K?H:P,B[b++]=(p+T)%256;break;default:throw new Error("Invalid filter algorithm: "+o[c-1])}if(!_){var Q=((f+R*g)*d.width+A)*a,Z=R*D;for(j=0;j<X;j+=1){for(var Ae=0;Ae<a;Ae+=1)l[Q++]=B[Z++];Q+=(h-1)*a}}R++}}return o=wue(o),d.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),l},s.prototype.decodePalette=function(){var o,a,l,c,d,u,A,f,h;for(l=this.palette,u=this.transparency.indexed||[],d=new Uint8Array((u.length||0)+l.length),c=0,o=0,a=A=0,f=l.length;A<f;a=A+=3)d[c++]=l[a],d[c++]=l[a+1],d[c++]=l[a+2],d[c++]=(h=u[o++])!=null?h:255;return d},s.prototype.copyToImageData=function(o,a){var l,c,d,u,A,f,h,g,p,b,x;if(c=this.colors,p=null,l=this.hasAlphaChannel,this.palette.length&&(p=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,l=!0),g=(d=o.data||o).length,A=p||a,u=f=0,c===1)for(;u<g;)h=p?4*a[u/4]:f,b=A[h++],d[u++]=b,d[u++]=b,d[u++]=b,d[u++]=l?A[h++]:255,f=h;else for(;u<g;)h=p?4*a[u/4]:f,d[u++]=A[h++],d[u++]=A[h++],d[u++]=A[h++],d[u++]=l?A[h++]:255,f=h},s.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(dr)==="[object Window]"){try{t=dr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(o){var a;if(i()===!0)return r.width=o.width,r.height=o.height,r.clearRect(0,0,o.width,o.height),r.putImageData(o,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},s.prototype.decodeFrames=function(o){var a,l,c,d,u,A,f,h;if(this.animation){for(h=[],l=u=0,A=(f=this.animation.frames).length;u<A;l=++u)a=f[l],c=o.createImageData(a.width,a.height),d=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,d),a.imageData=c,h.push(a.image=e(c));return h}},s.prototype.renderFrame=function(o,a){var l,c,d;return l=(c=this.animation.frames)[a],d=c[a-1],a===0&&o.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?o.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&o.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&o.clearRect(l.xOffset,l.yOffset,l.width,l.height),o.drawImage(l.image,l.xOffset,l.yOffset)},s.prototype.animate=function(o){var a,l,c,d,u,A,f=this;return l=0,A=this.animation,d=A.numFrames,c=A.frames,u=A.numPlays,(a=function(){var h,g;if(h=l++%d,g=c[h],f.renderFrame(o,h),d>1&&l/d<u)return f.animation._timeout=setTimeout(a,g.delay)})()},s.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},s.prototype.render=function(o){var a,l;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,a=o.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},s}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function zue(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,s=e[t++]|e[t++]<<8,i=e[t++],o=i>>7,a=1<<(7&i)+1;e[t++],e[t++];var l=null,c=null;o&&(l=t,c=a,t+=3*a);var d=!0,u=[],A=0,f=null,h=0,g=null;for(this.width=r,this.height=s;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var p=e[t++];A=e[t++]|e[t++]<<8,f=e[t++],!(1&p)&&(f=null),h=p>>2&7,t++;break;case 254:for(;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,S=e[t++],I=S>>6&1,F=1<<(7&S)+1,T=l,U=c,K=!1;S>>7&&(K=!0,T=t,U=F,t+=3*F);var B=t;for(t++;;){var R;if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}u.push({x:b,y:x,width:j,height:w,has_local_palette:K,palette_offset:T,palette_size:U,data_offset:B,data_length:t-B,transparent_index:f,interlaced:!!I,delay:A,disposal:h});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(D){if(D<0||D>=u.length)throw new Error("Frame index out of range.");return u[D]},this.decodeAndBlitFrameBGRA=function(D,H){var P=this.frameInfo(D),z=P.width*P.height,G=new Uint8Array(z);W4(e,P.data_offset,G,z);var he=P.palette_offset,ce=P.transparent_index;ce===null&&(ce=256);var ye=P.width,X=r-ye,re=ye,_=4*(P.y*r+P.x),Q=4*((P.y+P.height)*r+P.x),Z=_,Ae=4*X;P.interlaced===!0&&(Ae+=4*r*7);for(var me=8,ae=0,ie=G.length;ae<ie;++ae){var te=G[ae];if(re===0&&(re=ye,(Z+=Ae)>=Q&&(Ae=4*X+4*r*(me-1),Z=_+(ye+X)*(me<<1),me>>=1)),te===ce)Z+=4;else{var fe=e[he+3*te],pe=e[he+3*te+1],we=e[he+3*te+2];H[Z++]=we,H[Z++]=pe,H[Z++]=fe,H[Z++]=255}--re}},this.decodeAndBlitFrameRGBA=function(D,H){var P=this.frameInfo(D),z=P.width*P.height,G=new Uint8Array(z);W4(e,P.data_offset,G,z);var he=P.palette_offset,ce=P.transparent_index;ce===null&&(ce=256);var ye=P.width,X=r-ye,re=ye,_=4*(P.y*r+P.x),Q=4*((P.y+P.height)*r+P.x),Z=_,Ae=4*X;P.interlaced===!0&&(Ae+=4*r*7);for(var me=8,ae=0,ie=G.length;ae<ie;++ae){var te=G[ae];if(re===0&&(re=ye,(Z+=Ae)>=Q&&(Ae=4*X+4*r*(me-1),Z=_+(ye+X)*(me<<1),me>>=1)),te===ce)Z+=4;else{var fe=e[he+3*te],pe=e[he+3*te+1],we=e[he+3*te+2];H[Z++]=fe,H[Z++]=pe,H[Z++]=we,H[Z++]=255}--re}}}function W4(e,t,r,s){for(var i=e[t++],o=1<<i,a=o+1,l=a+1,c=i+1,d=(1<<c)-1,u=0,A=0,f=0,h=e[t++],g=new Int32Array(4096),p=null;;){for(;u<16&&h!==0;)A|=e[t++]<<u,u+=8,h===1?h=e[t++]:--h;if(u<c)break;var b=A&d;if(A>>=c,u-=c,b!==o){if(b===a)break;for(var x=b<l?b:p,j=0,w=x;w>o;)w=g[w]>>8,++j;var S=w;if(f+j+(x!==b?1:0)>s)return void Nn.log("Warning, gif stream longer than expected.");r[f++]=S;var I=f+=j;for(x!==b&&(r[f++]=S),w=x;j--;)w=g[w],r[--I]=255&w,w>>=8;p!==null&&l<4096&&(g[l++]=p<<8|S,l>=d+1&&c<12&&(++c,d=d<<1|1)),p=b}else l=a+1,d=(1<<(c=i+1))-1,p=null}return f!==s&&Nn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function vv(e){var t,r,s,i,o,a=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),A=new Array(65535),f=new Array(65535),h=new Array(64),g=new Array(64),p=[],b=0,x=7,j=new Array(64),w=new Array(64),S=new Array(64),I=new Array(256),F=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function G(_,Q){for(var Z=0,Ae=0,me=new Array,ae=1;ae<=16;ae++){for(var ie=1;ie<=_[ae];ie++)me[Q[Ae]]=[],me[Q[Ae]][0]=Z,me[Q[Ae]][1]=ae,Ae++,Z++;Z*=2}return me}function he(_){for(var Q=_[0],Z=_[1]-1;Z>=0;)Q&1<<Z&&(b|=1<<x),Z--,--x<0&&(b==255?(ce(255),ce(0)):ce(b),x=7,b=0)}function ce(_){p.push(_)}function ye(_){ce(_>>8&255),ce(255&_)}function X(_,Q,Z,Ae,me){for(var ae,ie=me[0],te=me[240],fe=function(rt,st){var at,qe,St,kt,He,Le,q,M,$,J,ee=0;for($=0;$<8;++$){at=rt[ee],qe=rt[ee+1],St=rt[ee+2],kt=rt[ee+3],He=rt[ee+4],Le=rt[ee+5],q=rt[ee+6];var ve=at+(M=rt[ee+7]),Se=at-M,We=qe+q,$e=qe-q,Pe=St+Le,Be=St-Le,Te=kt+He,pt=kt-He,nt=ve+Te,Nt=ve-Te,ht=We+Pe,ft=We-Pe;rt[ee]=nt+ht,rt[ee+4]=nt-ht;var xe=.707106781*(ft+Nt);rt[ee+2]=Nt+xe,rt[ee+6]=Nt-xe;var Xe=.382683433*((nt=pt+Be)-(ft=$e+Se)),Fe=.5411961*nt+Xe,et=1.306562965*ft+Xe,Et=.707106781*(ht=Be+$e),Qt=Se+Et,Ft=Se-Et;rt[ee+5]=Ft+Fe,rt[ee+3]=Ft-Fe,rt[ee+1]=Qt+et,rt[ee+7]=Qt-et,ee+=8}for(ee=0,$=0;$<8;++$){at=rt[ee],qe=rt[ee+8],St=rt[ee+16],kt=rt[ee+24],He=rt[ee+32],Le=rt[ee+40],q=rt[ee+48];var Rr=at+(M=rt[ee+56]),vr=at-M,Dn=qe+q,tr=qe-q,an=St+Le,gs=St-Le,Ts=kt+He,Ni=kt-He,ti=Rr+Ts,ri=Rr-Ts,ni=Dn+an,Bi=Dn-an;rt[ee]=ti+ni,rt[ee+32]=ti-ni;var xs=.707106781*(Bi+ri);rt[ee+16]=ri+xs,rt[ee+48]=ri-xs;var zi=.382683433*((ti=Ni+gs)-(Bi=tr+vr)),Fs=.5411961*ti+zi,zr=1.306562965*Bi+zi,ho=.707106781*(ni=gs+tr),Vs=vr+ho,ki=vr-ho;rt[ee+40]=ki+Fs,rt[ee+24]=ki-Fs,rt[ee+8]=Vs+zr,rt[ee+56]=Vs-zr,ee++}for($=0;$<64;++$)J=rt[$]*st[$],h[$]=J>0?J+.5|0:J-.5|0;return h}(_,Q),pe=0;pe<64;++pe)g[T[pe]]=fe[pe];var we=g[0]-Z;Z=g[0],we==0?he(Ae[0]):(he(Ae[f[ae=32767+we]]),he(A[ae]));for(var je=63;je>0&&g[je]==0;)je--;if(je==0)return he(ie),Z;for(var De,Ue=1;Ue<=je;){for(var Ce=Ue;g[Ue]==0&&Ue<=je;)++Ue;var Ct=Ue-Ce;if(Ct>=16){De=Ct>>4;for(var ct=1;ct<=De;++ct)he(te);Ct&=15}ae=32767+g[Ue],he(me[(Ct<<4)+f[ae]]),he(A[ae]),Ue++}return je!=63&&he(ie),Z}function re(_){_=Math.min(Math.max(_,1),100),o!=_&&(function(Q){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ae=0;Ae<64;Ae++){var me=a((Z[Ae]*Q+50)/100);me=Math.min(Math.max(me,1),255),l[T[Ae]]=me}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ie=0;ie<64;ie++){var te=a((ae[ie]*Q+50)/100);te=Math.min(Math.max(te,1),255),c[T[ie]]=te}for(var fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pe=0,we=0;we<8;we++)for(var je=0;je<8;je++)d[pe]=1/(l[T[pe]]*fe[we]*fe[je]*8),u[pe]=1/(c[T[pe]]*fe[we]*fe[je]*8),pe++}(_<50?Math.floor(5e3/_):Math.floor(200-2*_)),o=_)}this.encode=function(_,Q){Q&&re(Q),p=new Array,b=0,x=7,ye(65496),ye(65504),ye(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),ye(1),ye(1),ce(0),ce(0),function(){ye(65499),ye(132),ce(0);for(var qe=0;qe<64;qe++)ce(l[qe]);ce(1);for(var St=0;St<64;St++)ce(c[St])}(),function(qe,St){ye(65472),ye(17),ce(8),ye(St),ye(qe),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)}(_.width,_.height),function(){ye(65476),ye(418),ce(0);for(var qe=0;qe<16;qe++)ce(U[qe+1]);for(var St=0;St<=11;St++)ce(K[St]);ce(16);for(var kt=0;kt<16;kt++)ce(B[kt+1]);for(var He=0;He<=161;He++)ce(R[He]);ce(1);for(var Le=0;Le<16;Le++)ce(D[Le+1]);for(var q=0;q<=11;q++)ce(H[q]);ce(17);for(var M=0;M<16;M++)ce(P[M+1]);for(var $=0;$<=161;$++)ce(z[$])}(),ye(65498),ye(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var Z=0,Ae=0,me=0;b=0,x=7,this.encode.displayName="_encode_";for(var ae,ie,te,fe,pe,we,je,De,Ue,Ce=_.data,Ct=_.width,ct=_.height,rt=4*Ct,st=0;st<ct;){for(ae=0;ae<rt;){for(pe=rt*st+ae,je=-1,De=0,Ue=0;Ue<64;Ue++)we=pe+(De=Ue>>3)*rt+(je=4*(7&Ue)),st+De>=ct&&(we-=rt*(st+1+De-ct)),ae+je>=rt&&(we-=ae+je-rt+4),ie=Ce[we++],te=Ce[we++],fe=Ce[we++],j[Ue]=(F[ie]+F[te+256>>0]+F[fe+512>>0]>>16)-128,w[Ue]=(F[ie+768>>0]+F[te+1024>>0]+F[fe+1280>>0]>>16)-128,S[Ue]=(F[ie+1280>>0]+F[te+1536>>0]+F[fe+1792>>0]>>16)-128;Z=X(j,d,Z,t,s),Ae=X(w,u,Ae,r,i),me=X(S,u,me,r,i),ae+=32}st+=8}if(x>=0){var at=[];at[1]=x+1,at[0]=(1<<x+1)-1,he(at)}return ye(65497),new Uint8Array(p)},e=e||50,function(){for(var _=String.fromCharCode,Q=0;Q<256;Q++)I[Q]=_(Q)}(),t=G(U,K),r=G(D,H),s=G(B,R),i=G(P,z),function(){for(var _=1,Q=2,Z=1;Z<=15;Z++){for(var Ae=_;Ae<Q;Ae++)f[32767+Ae]=Z,A[32767+Ae]=[],A[32767+Ae][1]=Z,A[32767+Ae][0]=Ae;for(var me=-(Q-1);me<=-_;me++)f[32767+me]=Z,A[32767+me]=[],A[32767+me][1]=Z,A[32767+me][0]=Q-1+me;_<<=1,Q<<=1}}(),function(){for(var _=0;_<256;_++)F[_]=19595*_,F[_+256>>0]=38470*_,F[_+512>>0]=7471*_+32768,F[_+768>>0]=-11059*_,F[_+1024>>0]=-21709*_,F[_+1280>>0]=32768*_+8421375,F[_+1536>>0]=-27439*_,F[_+1792>>0]=-5329*_}(),re(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function xa(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function G4(e){function t(U){if(!U)throw Error("assert :P")}function r(U,K,B){for(var R=0;4>R;R++)if(U[K+R]!=B.charCodeAt(R))return!0;return!1}function s(U,K,B,R,D){for(var H=0;H<D;H++)U[K+H]=B[R+H]}function i(U,K,B,R){for(var D=0;D<R;D++)U[K+D]=B}function o(U){return new Int32Array(U)}function a(U,K){for(var B=[],R=0;R<U;R++)B.push(new K);return B}function l(U,K){var B=[];return function R(D,H,P){for(var z=P[H],G=0;G<z&&(D.push(P.length>H+1?[]:new K),!(P.length<H+1));G++)R(D[G],H+1,P)}(B,0,U),B}var c=function(){var U=this;function K(y,E){for(var O=1<<E-1>>>0;y&O;)O>>>=1;return O?(y&O-1)+O:y}function B(y,E,O,W,ne){t(!(W%O));do y[E+(W-=O)]=ne;while(0<W)}function R(y,E,O,W,ne){if(t(2328>=ne),512>=ne)var le=o(512);else if((le=o(ne))==null)return 0;return function(de,ge,be,Ee,Oe,Ye){var Ze,ze,lt=ge,it=1<<be,Qe=o(16),Ve=o(16);for(t(Oe!=0),t(Ee!=null),t(de!=null),t(0<be),ze=0;ze<Oe;++ze){if(15<Ee[ze])return 0;++Qe[Ee[ze]]}if(Qe[0]==Oe)return 0;for(Ve[1]=0,Ze=1;15>Ze;++Ze){if(Qe[Ze]>1<<Ze)return 0;Ve[Ze+1]=Ve[Ze]+Qe[Ze]}for(ze=0;ze<Oe;++ze)Ze=Ee[ze],0<Ee[ze]&&(Ye[Ve[Ze]++]=ze);if(Ve[15]==1)return(Ee=new D).g=0,Ee.value=Ye[0],B(de,lt,1,it,Ee),it;var mt,bt=-1,gt=it-1,Kt=0,Dt=1,sr=1,_t=1<<be;for(ze=0,Ze=1,Oe=2;Ze<=be;++Ze,Oe<<=1){if(Dt+=sr<<=1,0>(sr-=Qe[Ze]))return 0;for(;0<Qe[Ze];--Qe[Ze])(Ee=new D).g=Ze,Ee.value=Ye[ze++],B(de,lt+Kt,Oe,_t,Ee),Kt=K(Kt,Ze)}for(Ze=be+1,Oe=2;15>=Ze;++Ze,Oe<<=1){if(Dt+=sr<<=1,0>(sr-=Qe[Ze]))return 0;for(;0<Qe[Ze];--Qe[Ze]){if(Ee=new D,(Kt&gt)!=bt){for(lt+=_t,mt=1<<(bt=Ze)-be;15>bt&&!(0>=(mt-=Qe[bt]));)++bt,mt<<=1;it+=_t=1<<(mt=bt-be),de[ge+(bt=Kt&gt)].g=mt+be,de[ge+bt].value=lt-ge-bt}Ee.g=Ze-be,Ee.value=Ye[ze++],B(de,lt+(Kt>>be),Oe,_t,Ee),Kt=K(Kt,Ze)}}return Dt!=2*Ve[15]-1?0:it}(y,E,O,W,ne,le)}function D(){this.value=this.g=0}function H(){this.value=this.g=0}function P(){this.G=a(5,D),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(zn,H)}function z(y,E,O,W){t(y!=null),t(E!=null),t(2147483648>W),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=E,y.pa=O,y.Jd=E,y.Yc=O+W,y.Zc=4<=W?O+W-4+1:O,ae(y)}function G(y,E){for(var O=0;0<E--;)O|=te(y,128)<<E;return O}function he(y,E){var O=G(y,E);return ie(y)?-O:O}function ce(y,E,O,W){var ne,le=0;for(t(y!=null),t(E!=null),t(4294967288>W),y.Sb=W,y.Ra=0,y.u=0,y.h=0,4<W&&(W=4),ne=0;ne<W;++ne)le+=E[O+ne]<<8*ne;y.Ra=le,y.bb=W,y.oa=E,y.pa=O}function ye(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<Pl-8>>>0,++y.bb,y.u-=8;Z(y)&&(y.h=1,y.u=0)}function X(y,E){if(t(0<=E),!y.h&&E<=Ll){var O=Q(y)&Hr[E];return y.u+=E,ye(y),O}return y.h=1,y.u=0}function re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function _(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(y){return y.Ra>>>(y.u&Pl-1)>>>0}function Z(y){return t(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>Pl}function Ae(y,E){y.u=E,y.h=Z(y)}function me(y){y.u>=Cc&&(t(y.u>=Cc),ye(y))}function ae(y){t(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(t(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function ie(y){return G(y,1)}function te(y,E){var O=y.Ca;0>y.b&&ae(y);var W=y.b,ne=O*E>>>8,le=(y.I>>>W>ne)+0;for(le?(O-=ne,y.I-=ne+1<<W>>>0):O=ne+1,W=O,ne=0;256<=W;)ne+=8,W>>=8;return W=7^ne+Ks[W],y.b-=W,y.Ca=(O<<W)-1,le}function fe(y,E,O){y[E+0]=O>>24&255,y[E+1]=O>>16&255,y[E+2]=O>>8&255,y[E+3]=O>>0&255}function pe(y,E){return y[E+0]<<0|y[E+1]<<8}function we(y,E){return pe(y,E)|y[E+2]<<16}function je(y,E){return pe(y,E)|pe(y,E+2)<<16}function De(y,E){var O=1<<E;return t(y!=null),t(0<E),y.X=o(O),y.X==null?0:(y.Mb=32-E,y.Xa=E,1)}function Ue(y,E){t(y!=null),t(E!=null),t(y.Xa==E.Xa),s(E.X,0,y.X,0,1<<E.Xa)}function Ce(){this.X=[],this.Xa=this.Mb=0}function Ct(y,E,O,W){t(O!=null),t(W!=null);var ne=O[0],le=W[0];return ne==0&&(ne=(y*le+E/2)/E),le==0&&(le=(E*ne+y/2)/y),0>=ne||0>=le?0:(O[0]=ne,W[0]=le,1)}function ct(y,E){return y+(1<<E)-1>>>E}function rt(y,E){return((4278255360&y)+(4278255360&E)>>>0&4278255360)+((16711935&y)+(16711935&E)>>>0&16711935)>>>0}function st(y,E){U[E]=function(O,W,ne,le,de,ge,be){var Ee;for(Ee=0;Ee<de;++Ee){var Oe=U[y](ge[be+Ee-1],ne,le+Ee);ge[be+Ee]=rt(O[W+Ee],Oe)}}}function at(){this.ud=this.hd=this.jd=0}function qe(y,E){return((4278124286&(y^E))>>>1)+(y&E)>>>0}function St(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function kt(y,E){return St(y+(y-E+.5>>1))}function He(y,E,O){return Math.abs(E-O)-Math.abs(y-O)}function Le(y,E,O,W,ne,le,de){for(W=le[de-1],O=0;O<ne;++O)le[de+O]=W=rt(y[E+O],W)}function q(y,E,O,W,ne){var le;for(le=0;le<O;++le){var de=y[E+le],ge=de>>8&255,be=16711935&(be=(be=16711935&de)+((ge<<16)+ge));W[ne+le]=(4278255360&de)+be>>>0}}function M(y,E){E.jd=y>>0&255,E.hd=y>>8&255,E.ud=y>>16&255}function $(y,E,O,W,ne,le){var de;for(de=0;de<W;++de){var ge=E[O+de],be=ge>>>8,Ee=ge,Oe=255&(Oe=(Oe=ge>>>16)+((y.jd<<24>>24)*(be<<24>>24)>>>5));Ee=255&(Ee=(Ee=Ee+((y.hd<<24>>24)*(be<<24>>24)>>>5))+((y.ud<<24>>24)*(Oe<<24>>24)>>>5)),ne[le+de]=(4278255360&ge)+(Oe<<16)+Ee}}function J(y,E,O,W,ne){U[E]=function(le,de,ge,be,Ee,Oe,Ye,Ze,ze){for(be=Ye;be<Ze;++be)for(Ye=0;Ye<ze;++Ye)Ee[Oe++]=ne(ge[W(le[de++])])},U[y]=function(le,de,ge,be,Ee,Oe,Ye){var Ze=8>>le.b,ze=le.Ea,lt=le.K[0],it=le.w;if(8>Ze)for(le=(1<<le.b)-1,it=(1<<Ze)-1;de<ge;++de){var Qe,Ve=0;for(Qe=0;Qe<ze;++Qe)Qe&le||(Ve=W(be[Ee++])),Oe[Ye++]=ne(lt[Ve&it]),Ve>>=Ze}else U["VP8LMapColor"+O](be,Ee,lt,it,Oe,Ye,de,ge,ze)}}function ee(y,E,O,W,ne){for(O=E+O;E<O;){var le=y[E++];W[ne++]=le>>16&255,W[ne++]=le>>8&255,W[ne++]=le>>0&255}}function ve(y,E,O,W,ne){for(O=E+O;E<O;){var le=y[E++];W[ne++]=le>>16&255,W[ne++]=le>>8&255,W[ne++]=le>>0&255,W[ne++]=le>>24&255}}function Se(y,E,O,W,ne){for(O=E+O;E<O;){var le=(de=y[E++])>>16&240|de>>12&15,de=de>>0&240|de>>28&15;W[ne++]=le,W[ne++]=de}}function We(y,E,O,W,ne){for(O=E+O;E<O;){var le=(de=y[E++])>>16&248|de>>13&7,de=de>>5&224|de>>3&31;W[ne++]=le,W[ne++]=de}}function $e(y,E,O,W,ne){for(O=E+O;E<O;){var le=y[E++];W[ne++]=le>>0&255,W[ne++]=le>>8&255,W[ne++]=le>>16&255}}function Pe(y,E,O,W,ne,le){if(le==0)for(O=E+O;E<O;)fe(W,((le=y[E++])[0]>>24|le[1]>>8&65280|le[2]<<8&16711680|le[3]<<24)>>>0),ne+=32;else s(W,ne,y,E,O)}function Be(y,E){U[E][0]=U[y+"0"],U[E][1]=U[y+"1"],U[E][2]=U[y+"2"],U[E][3]=U[y+"3"],U[E][4]=U[y+"4"],U[E][5]=U[y+"5"],U[E][6]=U[y+"6"],U[E][7]=U[y+"7"],U[E][8]=U[y+"8"],U[E][9]=U[y+"9"],U[E][10]=U[y+"10"],U[E][11]=U[y+"11"],U[E][12]=U[y+"12"],U[E][13]=U[y+"13"],U[E][14]=U[y+"0"],U[E][15]=U[y+"0"]}function Te(y){return y==pf||y==gf||y==EA||y==Tc}function pt(){this.eb=[],this.size=this.A=this.fb=0}function nt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Nt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new pt,this.f.kb=new nt,this.sd=null}function ht(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ft(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xe(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Xe(y,E){var O=y.T,W=E.ba.f.RGBA,ne=W.eb,le=W.fb+y.ka*W.A,de=Zi[E.ba.S],ge=y.y,be=y.O,Ee=y.f,Oe=y.N,Ye=y.ea,Ze=y.W,ze=E.cc,lt=E.dc,it=E.Mc,Qe=E.Nc,Ve=y.ka,mt=y.ka+y.T,bt=y.U,gt=bt+1>>1;for(Ve==0?de(ge,be,null,null,Ee,Oe,Ye,Ze,Ee,Oe,Ye,Ze,ne,le,null,null,bt):(de(E.ec,E.fc,ge,be,ze,lt,it,Qe,Ee,Oe,Ye,Ze,ne,le-W.A,ne,le,bt),++O);Ve+2<mt;Ve+=2)ze=Ee,lt=Oe,it=Ye,Qe=Ze,Oe+=y.Rc,Ze+=y.Rc,le+=2*W.A,de(ge,(be+=2*y.fa)-y.fa,ge,be,ze,lt,it,Qe,Ee,Oe,Ye,Ze,ne,le-W.A,ne,le,bt);return be+=y.fa,y.j+mt<y.o?(s(E.ec,E.fc,ge,be,bt),s(E.cc,E.dc,Ee,Oe,gt),s(E.Mc,E.Nc,Ye,Ze,gt),O--):1&mt||de(ge,be,null,null,Ee,Oe,Ye,Ze,Ee,Oe,Ye,Ze,ne,le+W.A,null,null,bt),O}function Fe(y,E,O){var W=y.F,ne=[y.J];if(W!=null){var le=y.U,de=E.ba.S,ge=de==SA||de==EA;E=E.ba.f.RGBA;var be=[0],Ee=y.ka;be[0]=y.T,y.Kb&&(Ee==0?--be[0]:(--Ee,ne[0]-=y.width),y.j+y.ka+y.T==y.o&&(be[0]=y.o-y.j-Ee));var Oe=E.eb;Ee=E.fb+Ee*E.A,y=dn(W,ne[0],y.width,le,be,Oe,Ee+(ge?0:3),E.A),t(O==be),y&&Te(de)&&Pi(Oe,Ee,ge,le,be,E.A)}return 0}function et(y){var E=y.ma,O=E.ba.S,W=11>O,ne=O==BA||O==kA||O==SA||O==Ic||O==12||Te(O);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!Kn(E.Oa,y,ne?11:12))return 0;if(ne&&Te(O)&&wt(),y.da)alert("todo:use_scaling");else{if(W){if(E.Ib=xe,y.Kb){if(O=y.U+1>>1,E.memory=o(y.U+2*O),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+y.U,E.Mc=E.cc,E.Nc=E.dc+O,E.Ib=Xe,wt()}}else alert("todo:EmitYUV");ne&&(E.Jb=Fe,W&&Ge())}if(W&&!Yp){for(y=0;256>y;++y)N1[y]=89858*(y-128)+FA>>TA,S1[y]=-22014*(y-128)+FA,k1[y]=-45773*(y-128),B1[y]=113618*(y-128)+FA>>TA;for(y=qa;y<bf;++y)E=76283*(y-16)+FA>>TA,E1[y-qa]=ys(E,255),I1[y-qa]=ys(E+8>>4,15);Yp=1}return 1}function Et(y){var E=y.ma,O=y.U,W=y.T;return t(!(1&y.ka)),0>=O||0>=W?0:(O=E.Ib(y,E),E.Jb!=null&&E.Jb(y,E,O),E.Dc+=O,1)}function Qt(y){y.ma.memory=null}function Ft(y,E,O,W){return X(y,8)!=47?0:(E[0]=X(y,14)+1,O[0]=X(y,14)+1,W[0]=X(y,1),X(y,3)!=0?0:!y.h)}function Rr(y,E){if(4>y)return y+1;var O=y-2>>1;return(2+(1&y)<<O)+X(E,O)+1}function vr(y,E){return 120<E?E-120:1<=(O=((O=A1[E-1])>>4)*y+(8-(15&O)))?O:1;var O}function Dn(y,E,O){var W=Q(O),ne=y[E+=255&W].g-8;return 0<ne&&(Ae(O,O.u+8),W=Q(O),E+=y[E].value,E+=W&(1<<ne)-1),Ae(O,O.u+y[E].g),y[E].value}function tr(y,E,O){return O.g+=y.g,O.value+=y.value<<E>>>0,t(8>=O.g),y.g}function an(y,E,O){var W=y.xc;return t((E=W==0?0:y.vc[y.md*(O>>W)+(E>>W)])<y.Wb),y.Ya[E]}function gs(y,E,O,W){var ne=y.ab,le=y.c*E,de=y.C;E=de+E;var ge=O,be=W;for(W=y.Ta,O=y.Ua;0<ne--;){var Ee=y.gc[ne],Oe=de,Ye=E,Ze=ge,ze=be,lt=(be=W,ge=O,Ee.Ea);switch(t(Oe<Ye),t(Ye<=Ee.nc),Ee.hc){case 2:_u(Ze,ze,(Ye-Oe)*lt,be,ge);break;case 0:var it=Oe,Qe=Ye,Ve=be,mt=ge,bt=(_t=Ee).Ea;it==0&&(Nc(Ze,ze,null,null,1,Ve,mt),Le(Ze,ze+1,0,0,bt-1,Ve,mt+1),ze+=bt,mt+=bt,++it);for(var gt=1<<_t.b,Kt=gt-1,Dt=ct(bt,_t.b),sr=_t.K,_t=_t.w+(it>>_t.b)*Dt;it<Qe;){var $r=sr,Jr=_t,Ur=1;for(Bc(Ze,ze,Ve,mt-bt,1,Ve,mt);Ur<bt;){var vt=(Ur&~Kt)+gt;vt>bt&&(vt=bt),(0,zs[$r[Jr++]>>8&15])(Ze,ze+ +Ur,Ve,mt+Ur-bt,vt-Ur,Ve,mt+Ur),Ur=vt}ze+=bt,mt+=bt,++it&Kt||(_t+=Dt)}Ye!=Ee.nc&&s(be,ge-lt,be,ge+(Ye-Oe-1)*lt,lt);break;case 1:for(lt=Ze,Qe=ze,bt=(Ze=Ee.Ea)-(mt=Ze&~(Ve=(ze=1<<Ee.b)-1)),it=ct(Ze,Ee.b),gt=Ee.K,Ee=Ee.w+(Oe>>Ee.b)*it;Oe<Ye;){for(Kt=gt,Dt=Ee,sr=new at,_t=Qe+mt,$r=Qe+Ze;Qe<_t;)M(Kt[Dt++],sr),Va(sr,lt,Qe,ze,be,ge),Qe+=ze,ge+=ze;Qe<$r&&(M(Kt[Dt++],sr),Va(sr,lt,Qe,bt,be,ge),Qe+=bt,ge+=bt),++Oe&Ve||(Ee+=it)}break;case 3:if(Ze==be&&ze==ge&&0<Ee.b){for(Qe=be,Ze=lt=ge+(Ye-Oe)*lt-(mt=(Ye-Oe)*ct(Ee.Ea,Ee.b)),ze=be,Ve=ge,it=[],mt=(bt=mt)-1;0<=mt;--mt)it[mt]=ze[Ve+mt];for(mt=bt-1;0<=mt;--mt)Qe[Ze+mt]=it[mt];Fn(Ee,Oe,Ye,be,lt,be,ge)}else Fn(Ee,Oe,Ye,Ze,ze,be,ge)}ge=W,be=O}be!=O&&s(W,O,ge,be,le)}function Ts(y,E){var O=y.V,W=y.Ba+y.c*y.C,ne=E-y.C;if(t(E<=y.l.o),t(16>=ne),0<ne){var le=y.l,de=y.Ta,ge=y.Ua,be=le.width;if(gs(y,ne,O,W),ne=ge=[ge],t((O=y.C)<(W=E)),t(le.v<le.va),W>le.o&&(W=le.o),O<le.j){var Ee=le.j-O;O=le.j,ne[0]+=Ee*be}if(O>=W?O=0:(ne[0]+=4*le.v,le.ka=O-le.j,le.U=le.va-le.v,le.T=W-O,O=1),O){if(ge=ge[0],11>(O=y.ca).S){var Oe=O.f.RGBA,Ye=(W=O.S,ne=le.U,le=le.T,Ee=Oe.eb,Oe.A),Ze=le;for(Oe=Oe.fb+y.Ma*Oe.A;0<Ze--;){var ze=de,lt=ge,it=ne,Qe=Ee,Ve=Oe;switch(W){case NA:Ws(ze,lt,it,Qe,Ve);break;case BA:Ls(ze,lt,it,Qe,Ve);break;case pf:Ls(ze,lt,it,Qe,Ve),Pi(Qe,Ve,0,it,1,0);break;case Ol:Fi(ze,lt,it,Qe,Ve);break;case kA:Pe(ze,lt,it,Qe,Ve,1);break;case gf:Pe(ze,lt,it,Qe,Ve,1),Pi(Qe,Ve,0,it,1,0);break;case SA:Pe(ze,lt,it,Qe,Ve,0);break;case EA:Pe(ze,lt,it,Qe,Ve,0),Pi(Qe,Ve,1,it,1,0);break;case Ic:ca(ze,lt,it,Qe,Ve);break;case Tc:ca(ze,lt,it,Qe,Ve),un(Qe,Ve,it,1,0);break;case Kp:ua(ze,lt,it,Qe,Ve);break;default:t(0)}ge+=be,Oe+=Ye}y.Ma+=le}else alert("todo:EmitRescaledRowsYUVA");t(y.Ma<=O.height)}}y.C=E,t(y.C<=y.i)}function Ni(y){var E;if(0<y.ua)return 0;for(E=0;E<y.Wb;++E){var O=y.Ya[E].G,W=y.Ya[E].H;if(0<O[1][W[1]+0].g||0<O[2][W[2]+0].g||0<O[3][W[3]+0].g)return 0}return 1}function ti(y,E,O,W,ne,le){if(y.Z!=0){var de=y.qd,ge=y.rd;for(t(fa[y.Z]!=null);E<O;++E)fa[y.Z](de,ge,W,ne,W,ne,le),de=W,ge=ne,ne+=le;y.qd=de,y.rd=ge}}function ri(y,E){var O=y.l.ma,W=O.Z==0||O.Z==1?y.l.j:y.C;if(W=y.C<W?W:y.C,t(E<=y.l.o),E>W){var ne=y.l.width,le=O.ca,de=O.tb+ne*W,ge=y.V,be=y.Ba+y.c*W,Ee=y.gc;t(y.ab==1),t(Ee[0].hc==3),mo(Ee[0],W,E,ge,be,le,de),ti(O,W,E,le,de,ne)}y.C=y.Ma=E}function ni(y,E,O,W,ne,le,de){var ge=y.$/W,be=y.$%W,Ee=y.m,Oe=y.s,Ye=O+y.$,Ze=Ye;ne=O+W*ne;var ze=O+W*le,lt=280+Oe.ua,it=y.Pb?ge:16777216,Qe=0<Oe.ua?Oe.Wa:null,Ve=Oe.wc,mt=Ye<ze?an(Oe,be,ge):null;t(y.C<le),t(ze<=ne);var bt=!1;e:for(;;){for(;bt||Ye<ze;){var gt=0;if(ge>=it){var Kt=Ye-O;t((it=y).Pb),it.wd=it.m,it.xd=Kt,0<it.s.ua&&Ue(it.s.Wa,it.s.vb),it=ge+f1}if(be&Ve||(mt=an(Oe,be,ge)),t(mt!=null),mt.Qb&&(E[Ye]=mt.qb,bt=!0),!bt)if(me(Ee),mt.jc){gt=Ee,Kt=E;var Dt=Ye,sr=mt.pd[Q(gt)&zn-1];t(mt.jc),256>sr.g?(Ae(gt,gt.u+sr.g),Kt[Dt]=sr.value,gt=0):(Ae(gt,gt.u+sr.g-256),t(256<=sr.value),gt=sr.value),gt==0&&(bt=!0)}else gt=Dn(mt.G[0],mt.H[0],Ee);if(Ee.h)break;if(bt||256>gt){if(!bt)if(mt.nd)E[Ye]=(mt.qb|gt<<8)>>>0;else{if(me(Ee),bt=Dn(mt.G[1],mt.H[1],Ee),me(Ee),Kt=Dn(mt.G[2],mt.H[2],Ee),Dt=Dn(mt.G[3],mt.H[3],Ee),Ee.h)break;E[Ye]=(Dt<<24|bt<<16|gt<<8|Kt)>>>0}if(bt=!1,++Ye,++be>=W&&(be=0,++ge,de!=null&&ge<=le&&!(ge%16)&&de(y,ge),Qe!=null))for(;Ze<Ye;)gt=E[Ze++],Qe.X[(506832829*gt&4294967295)>>>Qe.Mb]=gt}else if(280>gt){if(gt=Rr(gt-256,Ee),Kt=Dn(mt.G[4],mt.H[4],Ee),me(Ee),Kt=vr(W,Kt=Rr(Kt,Ee)),Ee.h)break;if(Ye-O<Kt||ne-Ye<gt)break e;for(Dt=0;Dt<gt;++Dt)E[Ye+Dt]=E[Ye+Dt-Kt];for(Ye+=gt,be+=gt;be>=W;)be-=W,++ge,de!=null&&ge<=le&&!(ge%16)&&de(y,ge);if(t(Ye<=ne),be&Ve&&(mt=an(Oe,be,ge)),Qe!=null)for(;Ze<Ye;)gt=E[Ze++],Qe.X[(506832829*gt&4294967295)>>>Qe.Mb]=gt}else{if(!(gt<lt))break e;for(bt=gt-280,t(Qe!=null);Ze<Ye;)gt=E[Ze++],Qe.X[(506832829*gt&4294967295)>>>Qe.Mb]=gt;gt=Ye,t(!(bt>>>(Kt=Qe).Xa)),E[gt]=Kt.X[bt],bt=!0}bt||t(Ee.h==Z(Ee))}if(y.Pb&&Ee.h&&Ye<ne)t(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Ue(y.s.vb,y.s.Wa);else{if(Ee.h)break e;de!=null&&de(y,ge>le?le:ge),y.a=0,y.$=Ye-O}return 1}return y.a=3,0}function Bi(y){t(y!=null),y.vc=null,y.yc=null,y.Ya=null;var E=y.Wa;E!=null&&(E.X=null),y.vb=null,t(y!=null)}function xs(){var y=new mf;return y==null?null:(y.a=0,y.xb=Gp,Be("Predictor","VP8LPredictors"),Be("Predictor","VP8LPredictors_C"),Be("PredictorAdd","VP8LPredictorsAdd"),Be("PredictorAdd","VP8LPredictorsAdd_C"),_u=q,Va=$,Ws=ee,Ls=ve,ca=Se,ua=We,Fi=$e,U.VP8LMapColor32b=Ti,U.VP8LMapColor8b=Wn,y)}function zi(y,E,O,W,ne){var le=1,de=[y],ge=[E],be=W.m,Ee=W.s,Oe=null,Ye=0;e:for(;;){if(O)for(;le&&X(be,1);){var Ze=de,ze=ge,lt=W,it=1,Qe=lt.m,Ve=lt.gc[lt.ab],mt=X(Qe,2);if(lt.Oc&1<<mt)le=0;else{switch(lt.Oc|=1<<mt,Ve.hc=mt,Ve.Ea=Ze[0],Ve.nc=ze[0],Ve.K=[null],++lt.ab,t(4>=lt.ab),mt){case 0:case 1:Ve.b=X(Qe,3)+2,it=zi(ct(Ve.Ea,Ve.b),ct(Ve.nc,Ve.b),0,lt,Ve.K),Ve.K=Ve.K[0];break;case 3:var bt,gt=X(Qe,8)+1,Kt=16<gt?0:4<gt?1:2<gt?2:3;if(Ze[0]=ct(Ve.Ea,Kt),Ve.b=Kt,bt=it=zi(gt,1,0,lt,Ve.K)){var Dt,sr=gt,_t=Ve,$r=1<<(8>>_t.b),Jr=o($r);if(Jr==null)bt=0;else{var Ur=_t.K[0],vt=_t.w;for(Jr[0]=_t.K[0][0],Dt=1;Dt<1*sr;++Dt)Jr[Dt]=rt(Ur[vt+Dt],Jr[Dt-1]);for(;Dt<4*$r;++Dt)Jr[Dt]=0;_t.K[0]=null,_t.K[0]=Jr,bt=1}}it=bt;break;case 2:break;default:t(0)}le=it}}if(de=de[0],ge=ge[0],le&&X(be,1)&&!(le=1<=(Ye=X(be,4))&&11>=Ye)){W.a=3;break e}var An;if(An=le)t:{var sn,pr,Yr,ci=W,Xn=de,bs=ge,Dr=Ye,Ri=O,Mi=ci.m,vs=ci.s,Ln=[null],Ps=1,ui=0,$o=h1[Dr];r:for(;;){if(Ri&&X(Mi,1)){var ls=X(Mi,3)+2,ma=ct(Xn,ls),pa=ct(bs,ls),Lc=ma*pa;if(!zi(ma,pa,0,ci,Ln))break r;for(Ln=Ln[0],vs.xc=ls,sn=0;sn<Lc;++sn){var Xa=Ln[sn]>>8&65535;Ln[sn]=Xa,Xa>=Ps&&(Ps=Xa+1)}}if(Mi.h)break r;for(pr=0;5>pr;++pr){var _n=zp[pr];!pr&&0<Dr&&(_n+=1<<Dr),ui<_n&&(ui=_n)}var vf=a(Ps*$o,D),rg=Ps,ng=a(rg,P);if(ng==null)var PA=null;else t(65536>=rg),PA=ng;var Ku=o(ui);if(PA==null||Ku==null||vf==null){ci.a=1;break r}var zu=vf;for(sn=Yr=0;sn<Ps;++sn){var xo=PA[sn],Pc=xo.G,Uc=xo.H,wf=0,UA=1,Wu=0;for(pr=0;5>pr;++pr){_n=zp[pr],Pc[pr]=zu,Uc[pr]=Yr,!pr&&0<Dr&&(_n+=1<<Dr);s:{var RA,Gu=_n,Rc=ci,Mc=Ku,sg=zu,F1=Yr,MA=0,Vo=Rc.m,jf=X(Vo,1);if(i(Mc,0,0,Gu),jf){var ig=X(Vo,1)+1,og=X(Vo,1),Cf=X(Vo,og==0?1:8);Mc[Cf]=1,ig==2&&(Mc[Cf=X(Vo,8)]=1);var qu=1}else{var DA=o(19),ag=X(Vo,4)+4;if(19<ag){Rc.a=3;var OA=0;break s}for(RA=0;RA<ag;++RA)DA[IA[RA]]=X(Vo,3);var Nf=void 0,Qs=void 0,QA=Rc,L1=DA,_A=Gu,lg=Mc,Bf=0,Ja=QA.m,cg=8,ug=a(128,D);n:for(;R(ug,0,7,L1,19);){if(X(Ja,1)){var P1=2+2*X(Ja,3);if((Nf=2+X(Ja,P1))>_A)break n}else Nf=_A;for(Qs=0;Qs<_A&&Nf--;){me(Ja);var dg=ug[0+(127&Q(Ja))];Ae(Ja,Ja.u+dg.g);var Ql=dg.value;if(16>Ql)lg[Qs++]=Ql,Ql!=0&&(cg=Ql);else{var U1=Ql==16,HA=Ql-16,Ag=u1[HA],ws=X(Ja,c1[HA])+Ag;if(Qs+ws>_A)break n;for(var Xu=U1?cg:0;0<ws--;)lg[Qs++]=Xu}}Bf=1;break n}Bf||(QA.a=3),qu=Bf}(qu=qu&&!Vo.h)&&(MA=R(sg,F1,8,Mc,Gu)),qu&&MA!=0?OA=MA:(Rc.a=3,OA=0)}if(OA==0)break r;if(UA&&d1[pr]==1&&(UA=zu[Yr].g==0),wf+=zu[Yr].g,Yr+=OA,3>=pr){var Ju,kf=Ku[0];for(Ju=1;Ju<_n;++Ju)Ku[Ju]>kf&&(kf=Ku[Ju]);Wu+=kf}}if(xo.nd=UA,xo.Qb=0,UA&&(xo.qb=(Pc[3][Uc[3]+0].value<<24|Pc[1][Uc[1]+0].value<<16|Pc[2][Uc[2]+0].value)>>>0,wf==0&&256>Pc[0][Uc[0]+0].value&&(xo.Qb=1,xo.qb+=Pc[0][Uc[0]+0].value<<8)),xo.jc=!xo.Qb&&6>Wu,xo.jc){var Yu,yo=xo;for(Yu=0;Yu<zn;++Yu){var Ya=Yu,Za=yo.pd[Ya],$A=yo.G[0][yo.H[0]+Ya];256<=$A.value?(Za.g=$A.g+256,Za.value=$A.value):(Za.g=0,Za.value=0,Ya>>=tr($A,8,Za),Ya>>=tr(yo.G[1][yo.H[1]+Ya],16,Za),Ya>>=tr(yo.G[2][yo.H[2]+Ya],0,Za),tr(yo.G[3][yo.H[3]+Ya],24,Za))}}}vs.vc=Ln,vs.Wb=Ps,vs.Ya=PA,vs.yc=vf,An=1;break t}An=0}if(!(le=An)){W.a=3;break e}if(0<Ye){if(Ee.ua=1<<Ye,!De(Ee.Wa,Ye)){W.a=1,le=0;break e}}else Ee.ua=0;var Sf=W,hg=de,R1=ge,Ef=Sf.s,If=Ef.xc;if(Sf.c=hg,Sf.i=R1,Ef.md=ct(hg,If),Ef.wc=If==0?-1:(1<<If)-1,O){W.xb=v1;break e}if((Oe=o(de*ge))==null){W.a=1,le=0;break e}le=(le=ni(W,Oe,0,de,ge,ge,null))&&!be.h;break e}return le?(ne!=null?ne[0]=Oe:(t(Oe==null),t(O)),W.$=0,O||Bi(Ee)):Bi(Ee),le}function Fs(y,E){var O=y.c*y.i,W=O+E+16*E;return t(y.c<=E),y.V=o(W),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+O+E,1)}function zr(y,E){var O=y.C,W=E-O,ne=y.V,le=y.Ba+y.c*O;for(t(E<=y.l.o);0<W;){var de=16<W?16:W,ge=y.l.ma,be=y.l.width,Ee=be*de,Oe=ge.ca,Ye=ge.tb+be*O,Ze=y.Ta,ze=y.Ua;gs(y,de,ne,le),qn(Ze,ze,Oe,Ye,Ee),ti(ge,O,O+de,Oe,Ye,be),W-=de,ne+=de*y.c,O+=de}t(O==E),y.C=y.Ma=E}function ho(){this.ub=this.yd=this.td=this.Rb=0}function Vs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ki(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function fo(){this.Yb=function(){var y=[];return function E(O,W,ne){for(var le=ne[W],de=0;de<le&&(O.push(ne.length>W+1?[]:0),!(ne.length<W+1));de++)E(O[de],W+1,ne)}(y,0,[3,11]),y}()}function fc(){this.jb=o(3),this.Wc=l([4,8],fo),this.Xc=l([4,17],fo)}function Wr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Si(){this.ld=this.La=this.dd=this.tc=0}function Rs(){this.Na=this.la=0}function Ua(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ra(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Uo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Si),this.Y=0,this.ya=Array(new Ra),this.aa=0,this.l=new Wi}function mc(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Lu(){this.cb=this.a=0,this.sc="",this.m=new re,this.Od=new ho,this.Kc=new Vs,this.ed=new Wr,this.Qa=new ki,this.Ic=this.$c=this.Aa=0,this.D=new Uo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,re),this.ia=0,this.pb=a(4,Ua),this.Pa=new fc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new mc),this.Hd=0,this.rb=Array(new Rs),this.sb=0,this.wa=Array(new Si),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ra),this.L=this.aa=0,this.gd=l([4,2],Si),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ro(){var y=new Lu;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,$u||($u=ia)),y}function Tn(y,E,O){return y.a==0&&(y.a=E,y.sc=O,y.cb=0),0}function pc(y,E,O){return 3<=O&&y[E+0]==157&&y[E+1]==1&&y[E+2]==42}function gc(y,E){if(y==null)return 0;if(y.a=0,y.sc="OK",E==null)return Tn(y,2,"null VP8Io passed to VP8GetHeaders()");var O=E.data,W=E.w,ne=E.ha;if(4>ne)return Tn(y,7,"Truncated header.");var le=O[W+0]|O[W+1]<<8|O[W+2]<<16,de=y.Od;if(de.Rb=!(1&le),de.td=le>>1&7,de.yd=le>>4&1,de.ub=le>>5,3<de.td)return Tn(y,3,"Incorrect keyframe parameters.");if(!de.yd)return Tn(y,4,"Frame not displayable.");W+=3,ne-=3;var ge=y.Kc;if(de.Rb){if(7>ne)return Tn(y,7,"cannot parse picture header");if(!pc(O,W,ne))return Tn(y,3,"Bad code word");ge.c=16383&(O[W+4]<<8|O[W+3]),ge.Td=O[W+4]>>6,ge.i=16383&(O[W+6]<<8|O[W+5]),ge.Ud=O[W+6]>>6,W+=7,ne-=7,y.za=ge.c+15>>4,y.Ub=ge.i+15>>4,E.width=ge.c,E.height=ge.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,i((le=y.Pa).jb,0,255,le.jb.length),t((le=y.Qa)!=null),le.Cb=0,le.Bb=0,le.Fb=1,i(le.Zb,0,0,le.Zb.length),i(le.Lb,0,0,le.Lb)}if(de.ub>ne)return Tn(y,7,"bad partition length");z(le=y.m,O,W,de.ub),W+=de.ub,ne-=de.ub,de.Rb&&(ge.Ld=ie(le),ge.Kd=ie(le)),ge=y.Qa;var be,Ee=y.Pa;if(t(le!=null),t(ge!=null),ge.Cb=ie(le),ge.Cb){if(ge.Bb=ie(le),ie(le)){for(ge.Fb=ie(le),be=0;4>be;++be)ge.Zb[be]=ie(le)?he(le,7):0;for(be=0;4>be;++be)ge.Lb[be]=ie(le)?he(le,6):0}if(ge.Bb)for(be=0;3>be;++be)Ee.jb[be]=ie(le)?G(le,8):255}else ge.Bb=0;if(le.Ka)return Tn(y,3,"cannot parse segment header");if((ge=y.ed).zd=ie(le),ge.Tb=G(le,6),ge.wb=G(le,3),ge.Pc=ie(le),ge.Pc&&ie(le)){for(Ee=0;4>Ee;++Ee)ie(le)&&(ge.vd[Ee]=he(le,6));for(Ee=0;4>Ee;++Ee)ie(le)&&(ge.od[Ee]=he(le,6))}if(y.L=ge.Tb==0?0:ge.zd?1:2,le.Ka)return Tn(y,3,"cannot parse filter header");var Oe=ne;if(ne=be=W,W=be+Oe,ge=Oe,y.Xb=(1<<G(y.m,2))-1,Oe<3*(Ee=y.Xb))O=7;else{for(be+=3*Ee,ge-=3*Ee,Oe=0;Oe<Ee;++Oe){var Ye=O[ne+0]|O[ne+1]<<8|O[ne+2]<<16;Ye>ge&&(Ye=ge),z(y.Jc[+Oe],O,be,Ye),be+=Ye,ge-=Ye,ne+=3}z(y.Jc[+Ee],O,be,ge),O=be<W?0:5}if(O!=0)return Tn(y,O,"cannot parse partitions");for(O=G(be=y.m,7),ne=ie(be)?he(be,4):0,W=ie(be)?he(be,4):0,ge=ie(be)?he(be,4):0,Ee=ie(be)?he(be,4):0,be=ie(be)?he(be,4):0,Oe=y.Qa,Ye=0;4>Ye;++Ye){if(Oe.Cb){var Ze=Oe.Zb[Ye];Oe.Fb||(Ze+=O)}else{if(0<Ye){y.pb[Ye]=y.pb[0];continue}Ze=O}var ze=y.pb[Ye];ze.Sc[0]=xf[ys(Ze+ne,127)],ze.Sc[1]=Fc[ys(Ze+0,127)],ze.Eb[0]=2*xf[ys(Ze+W,127)],ze.Eb[1]=101581*Fc[ys(Ze+ge,127)]>>16,8>ze.Eb[1]&&(ze.Eb[1]=8),ze.Qc[0]=xf[ys(Ze+Ee,117)],ze.Qc[1]=Fc[ys(Ze+be,127)],ze.lc=Ze+be}if(!de.Rb)return Tn(y,4,"Not a key frame.");for(ie(le),de=y.Pa,O=0;4>O;++O){for(ne=0;8>ne;++ne)for(W=0;3>W;++W)for(ge=0;11>ge;++ge)Ee=te(le,y1[O][ne][W][ge])?G(le,8):g1[O][ne][W][ge],de.Wc[O][ne].Yb[W][ge]=Ee;for(ne=0;17>ne;++ne)de.Xc[O][ne]=de.Wc[O][b1[ne]]}return y.kc=ie(le),y.kc&&(y.Bd=G(le,8)),y.cb=1}function ia(y,E,O,W,ne,le,de){var ge=E[ne].Yb[O];for(O=0;16>ne;++ne){if(!te(y,ge[O+0]))return ne;for(;!te(y,ge[O+1]);)if(ge=E[++ne].Yb[0],O=0,ne==16)return 16;var be=E[ne+1].Yb;if(te(y,ge[O+2])){var Ee=y,Oe=0;if(te(Ee,(Ze=ge)[(Ye=O)+3]))if(te(Ee,Ze[Ye+6])){for(ge=0,Ye=2*(Oe=te(Ee,Ze[Ye+8]))+(Ze=te(Ee,Ze[Ye+9+Oe])),Oe=0,Ze=m1[Ye];Ze[ge];++ge)Oe+=Oe+te(Ee,Ze[ge]);Oe+=3+(8<<Ye)}else te(Ee,Ze[Ye+7])?(Oe=7+2*te(Ee,165),Oe+=te(Ee,145)):Oe=5+te(Ee,159);else Oe=te(Ee,Ze[Ye+4])?3+te(Ee,Ze[Ye+5]):2;ge=be[2]}else Oe=1,ge=be[1];be=de+p1[ne],0>(Ee=y).b&&ae(Ee);var Ye,Ze=Ee.b,ze=(Ye=Ee.Ca>>1)-(Ee.I>>Ze)>>31;--Ee.b,Ee.Ca+=ze,Ee.Ca|=1,Ee.I-=(Ye+1&ze)<<Ze,le[be]=((Oe^ze)-ze)*W[(0<ne)+0]}return 16}function Mo(y){var E=y.rb[y.sb-1];E.la=0,E.Na=0,i(y.zc,0,0,y.zc.length),y.ja=0}function Do(y,E){if(y==null)return 0;if(E==null)return Tn(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!gc(y,E))return 0;if(t(y.cb),E.ac==null||E.ac(E)){E.ob&&(y.L=0);var O=LA[y.L];if(y.L==2?(y.yb=0,y.zb=0):(y.yb=E.v-O>>4,y.zb=E.j-O>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=E.o+15+O>>4,y.Hb=E.va+15+O>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var W=y.ed;for(O=0;4>O;++O){var ne;if(y.Qa.Cb){var le=y.Qa.Lb[O];y.Qa.Fb||(le+=W.Tb)}else le=W.Tb;for(ne=0;1>=ne;++ne){var de=y.gd[O][ne],ge=le;if(W.Pc&&(ge+=W.vd[0],ne&&(ge+=W.od[0])),0<(ge=0>ge?0:63<ge?63:ge)){var be=ge;0<W.wb&&(be=4<W.wb?be>>2:be>>1)>9-W.wb&&(be=9-W.wb),1>be&&(be=1),de.dd=be,de.tc=2*ge+be,de.ld=40<=ge?2:15<=ge?1:0}else de.tc=0;de.La=ne}}}O=0}else Tn(y,6,"Frame setup failed"),O=y.a;if(O=O==0){if(O){y.$c=0,0<y.Aa||(y.Ic=eg);e:{O=y.Ic,W=4*(be=y.za);var Ee=32*be,Oe=be+1,Ye=0<y.L?be*(0<y.Aa?2:1):0,Ze=(y.Aa==2?2:1)*be;if((de=W+832+(ne=3*(16*O+LA[y.L])/2*Ee)+(le=y.Fa!=null&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=de)O=0;else{if(de>y.Vb){if(y.Vb=0,y.Ec=o(de),y.Fc=0,y.Ec==null){O=Tn(y,1,"no memory during frame initialization.");break e}y.Vb=de}de=y.Ec,ge=y.Fc,y.Ac=de,y.Bc=ge,ge+=W,y.Gd=a(Ee,mc),y.Hd=0,y.rb=a(Oe+1,Rs),y.sb=1,y.wa=Ye?a(Ye,Si):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=be),t(!0),y.oc=de,y.pc=ge,ge+=832,y.ya=a(Ze,Ra),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,y.Aa==2&&(y.D.aa+=be),y.R=16*be,y.B=8*be,be=(Ee=LA[y.L])*y.R,Ee=Ee/2*y.B,y.sa=de,y.ta=ge+be,y.qa=y.sa,y.ra=y.ta+16*O*y.R+Ee,y.Ha=y.qa,y.Ia=y.ra+8*O*y.B+Ee,y.$c=0,ge+=ne,y.mb=le?de:null,y.nb=le?ge:null,t(ge+le<=y.Fc+y.Vb),Mo(y),i(y.Ac,y.Bc,0,W),O=1}}if(O){if(E.ka=0,E.y=y.sa,E.O=y.ta,E.f=y.qa,E.N=y.ra,E.ea=y.Ha,E.Vd=y.Ia,E.fa=y.R,E.Rc=y.B,E.F=null,E.J=0,!wA){for(O=-255;255>=O;++O)Qn[255+O]=0>O?-O:O;for(O=-1020;1020>=O;++O)ha[1020+O]=-128>O?-128:127<O?127:O;for(O=-112;112>=O;++O)Hu[112+O]=-16>O?-16:15<O?15:O;for(O=-255;510>=O;++O)Wa[255+O]=0>O?0:255<O?255:O;wA=1}ai=nn,da=It,Ka=Ut,Os=Mt,Xi=nr,Gn=yt,kc=_a,li=Ha,Sc=vc,Ul=El,Rl=ff,po=Ei,Ml=Ru,Dl=yA,za=aa,Aa=Ho,Ec=la,Li=hf,go[0]=_o,go[1]=oa,go[2]=df,go[3]=Af,go[4]=dA,go[5]=xc,go[6]=AA,go[7]=ii,go[8]=fA,go[9]=hA,Ga[0]=Qo,Ga[1]=Pu,Ga[2]=Oo,Ga[3]=kl,Ga[4]=Ms,Ga[5]=uf,Ga[6]=uA,Yi[0]=Da,Yi[1]=Bl,Yi[2]=mA,Yi[3]=Uu,Yi[4]=Oa,Yi[5]=pA,Yi[6]=yc,O=1}else O=0}O&&(O=function(ze,lt){for(ze.M=0;ze.M<ze.Va;++ze.M){var it,Qe=ze.Jc[ze.M&ze.Xb],Ve=ze.m,mt=ze;for(it=0;it<mt.za;++it){var bt=Ve,gt=mt,Kt=gt.Ac,Dt=gt.Bc+4*it,sr=gt.zc,_t=gt.ya[gt.aa+it];if(gt.Qa.Bb?_t.$b=te(bt,gt.Pa.jb[0])?2+te(bt,gt.Pa.jb[2]):te(bt,gt.Pa.jb[1]):_t.$b=0,gt.kc&&(_t.Ad=te(bt,gt.Bd)),_t.Za=!te(bt,145)+0,_t.Za){var $r=_t.Ob,Jr=0;for(gt=0;4>gt;++gt){var Ur,vt=sr[0+gt];for(Ur=0;4>Ur;++Ur){vt=x1[Kt[Dt+Ur]][vt];for(var An=Wp[te(bt,vt[0])];0<An;)An=Wp[2*An+te(bt,vt[An])];vt=-An,Kt[Dt+Ur]=vt}s($r,Jr,Kt,Dt,4),Jr+=4,sr[0+gt]=vt}}else vt=te(bt,156)?te(bt,128)?1:3:te(bt,163)?2:0,_t.Ob[0]=vt,i(Kt,Dt,vt,4),i(sr,0,vt,4);_t.Dd=te(bt,142)?te(bt,114)?te(bt,183)?1:3:2:0}if(mt.m.Ka)return Tn(ze,7,"Premature end-of-partition0 encountered.");for(;ze.ja<ze.za;++ze.ja){if(mt=Qe,bt=(Ve=ze).rb[Ve.sb-1],Kt=Ve.rb[Ve.sb+Ve.ja],it=Ve.ya[Ve.aa+Ve.ja],Dt=Ve.kc?it.Ad:0)bt.la=Kt.la=0,it.Za||(bt.Na=Kt.Na=0),it.Hc=0,it.Gc=0,it.ia=0;else{var sn,pr;if(bt=Kt,Kt=mt,Dt=Ve.Pa.Xc,sr=Ve.ya[Ve.aa+Ve.ja],_t=Ve.pb[sr.$b],gt=sr.ad,$r=0,Jr=Ve.rb[Ve.sb-1],vt=Ur=0,i(gt,$r,0,384),sr.Za)var Yr=0,ci=Dt[3];else{An=o(16);var Xn=bt.Na+Jr.Na;if(Xn=$u(Kt,Dt[1],Xn,_t.Eb,0,An,0),bt.Na=Jr.Na=(0<Xn)+0,1<Xn)ai(An,0,gt,$r);else{var bs=An[0]+3>>3;for(An=0;256>An;An+=16)gt[$r+An]=bs}Yr=1,ci=Dt[0]}var Dr=15&bt.la,Ri=15&Jr.la;for(An=0;4>An;++An){var Mi=1&Ri;for(bs=pr=0;4>bs;++bs)Dr=Dr>>1|(Mi=(Xn=$u(Kt,ci,Xn=Mi+(1&Dr),_t.Sc,Yr,gt,$r))>Yr)<<7,pr=pr<<2|(3<Xn?3:1<Xn?2:gt[$r+0]!=0),$r+=16;Dr>>=4,Ri=Ri>>1|Mi<<7,Ur=(Ur<<8|pr)>>>0}for(ci=Dr,Yr=Ri>>4,sn=0;4>sn;sn+=2){for(pr=0,Dr=bt.la>>4+sn,Ri=Jr.la>>4+sn,An=0;2>An;++An){for(Mi=1&Ri,bs=0;2>bs;++bs)Xn=Mi+(1&Dr),Dr=Dr>>1|(Mi=0<(Xn=$u(Kt,Dt[2],Xn,_t.Qc,0,gt,$r)))<<3,pr=pr<<2|(3<Xn?3:1<Xn?2:gt[$r+0]!=0),$r+=16;Dr>>=2,Ri=Ri>>1|Mi<<5}vt|=pr<<4*sn,ci|=Dr<<4<<sn,Yr|=(240&Ri)<<sn}bt.la=ci,Jr.la=Yr,sr.Hc=Ur,sr.Gc=vt,sr.ia=43690&vt?0:_t.ia,Dt=!(Ur|vt)}if(0<Ve.L&&(Ve.wa[Ve.Y+Ve.ja]=Ve.gd[it.$b][it.Za],Ve.wa[Ve.Y+Ve.ja].La|=!Dt),mt.Ka)return Tn(ze,7,"Premature end-of-file encountered.")}if(Mo(ze),Ve=lt,mt=1,it=(Qe=ze).D,bt=0<Qe.L&&Qe.M>=Qe.zb&&Qe.M<=Qe.Va,Qe.Aa==0)e:{if(it.M=Qe.M,it.uc=bt,En(Qe,it),mt=1,it=(pr=Qe.D).Nb,bt=(vt=LA[Qe.L])*Qe.R,Kt=vt/2*Qe.B,An=16*it*Qe.R,bs=8*it*Qe.B,Dt=Qe.sa,sr=Qe.ta-bt+An,_t=Qe.qa,gt=Qe.ra-Kt+bs,$r=Qe.Ha,Jr=Qe.Ia-Kt+bs,Ri=(Dr=pr.M)==0,Ur=Dr>=Qe.Va-1,Qe.Aa==2&&En(Qe,pr),pr.uc)for(Mi=(Xn=Qe).D.M,t(Xn.D.uc),pr=Xn.yb;pr<Xn.Hb;++pr){Yr=pr,ci=Mi;var vs=(Ln=(_n=Xn).D).Nb;sn=_n.R;var Ln=Ln.wa[Ln.Y+Yr],Ps=_n.sa,ui=_n.ta+16*vs*sn+16*Yr,$o=Ln.dd,ls=Ln.tc;if(ls!=0)if(t(3<=ls),_n.L==1)0<Yr&&Aa(Ps,ui,sn,ls+4),Ln.La&&Li(Ps,ui,sn,ls),0<ci&&za(Ps,ui,sn,ls+4),Ln.La&&Ec(Ps,ui,sn,ls);else{var ma=_n.B,pa=_n.qa,Lc=_n.ra+8*vs*ma+8*Yr,Xa=_n.Ha,_n=_n.Ia+8*vs*ma+8*Yr;vs=Ln.ld,0<Yr&&(li(Ps,ui,sn,ls+4,$o,vs),Ul(pa,Lc,Xa,_n,ma,ls+4,$o,vs)),Ln.La&&(po(Ps,ui,sn,ls,$o,vs),Dl(pa,Lc,Xa,_n,ma,ls,$o,vs)),0<ci&&(kc(Ps,ui,sn,ls+4,$o,vs),Sc(pa,Lc,Xa,_n,ma,ls+4,$o,vs)),Ln.La&&(Rl(Ps,ui,sn,ls,$o,vs),Ml(pa,Lc,Xa,_n,ma,ls,$o,vs))}}if(Qe.ia&&alert("todo:DitherRow"),Ve.put!=null){if(pr=16*Dr,Dr=16*(Dr+1),Ri?(Ve.y=Qe.sa,Ve.O=Qe.ta+An,Ve.f=Qe.qa,Ve.N=Qe.ra+bs,Ve.ea=Qe.Ha,Ve.W=Qe.Ia+bs):(pr-=vt,Ve.y=Dt,Ve.O=sr,Ve.f=_t,Ve.N=gt,Ve.ea=$r,Ve.W=Jr),Ur||(Dr-=vt),Dr>Ve.o&&(Dr=Ve.o),Ve.F=null,Ve.J=null,Qe.Fa!=null&&0<Qe.Fa.length&&pr<Dr&&(Ve.J=Qu(Qe,Ve,pr,Dr-pr),Ve.F=Qe.mb,Ve.F==null&&Ve.F.length==0)){mt=Tn(Qe,3,"Could not decode alpha data.");break e}pr<Ve.j&&(vt=Ve.j-pr,pr=Ve.j,t(!(1&vt)),Ve.O+=Qe.R*vt,Ve.N+=Qe.B*(vt>>1),Ve.W+=Qe.B*(vt>>1),Ve.F!=null&&(Ve.J+=Ve.width*vt)),pr<Dr&&(Ve.O+=Ve.v,Ve.N+=Ve.v>>1,Ve.W+=Ve.v>>1,Ve.F!=null&&(Ve.J+=Ve.v),Ve.ka=pr-Ve.j,Ve.U=Ve.va-Ve.v,Ve.T=Dr-pr,mt=Ve.put(Ve))}it+1!=Qe.Ic||Ur||(s(Qe.sa,Qe.ta-bt,Dt,sr+16*Qe.R,bt),s(Qe.qa,Qe.ra-Kt,_t,gt+8*Qe.B,Kt),s(Qe.Ha,Qe.Ia-Kt,$r,Jr+8*Qe.B,Kt))}if(!mt)return Tn(ze,6,"Output aborted.")}return 1}(y,E)),E.bc!=null&&E.bc(E),O&=1}return O?(y.cb=0,O):0}function si(y,E,O,W,ne){ne=y[E+O+32*W]+(ne>>3),y[E+O+32*W]=-256&ne?0>ne?0:255:ne}function On(y,E,O,W,ne,le){si(y,E,0,O,W+ne),si(y,E,1,O,W+le),si(y,E,2,O,W-le),si(y,E,3,O,W-ne)}function oe(y){return(20091*y>>16)+y}function tt(y,E,O,W){var ne,le=0,de=o(16);for(ne=0;4>ne;++ne){var ge=y[E+0]+y[E+8],be=y[E+0]-y[E+8],Ee=(35468*y[E+4]>>16)-oe(y[E+12]),Oe=oe(y[E+4])+(35468*y[E+12]>>16);de[le+0]=ge+Oe,de[le+1]=be+Ee,de[le+2]=be-Ee,de[le+3]=ge-Oe,le+=4,E++}for(ne=le=0;4>ne;++ne)ge=(y=de[le+0]+4)+de[le+8],be=y-de[le+8],Ee=(35468*de[le+4]>>16)-oe(de[le+12]),si(O,W,0,0,ge+(Oe=oe(de[le+4])+(35468*de[le+12]>>16))),si(O,W,1,0,be+Ee),si(O,W,2,0,be-Ee),si(O,W,3,0,ge-Oe),le++,W+=32}function yt(y,E,O,W){var ne=y[E+0]+4,le=35468*y[E+4]>>16,de=oe(y[E+4]),ge=35468*y[E+1]>>16;On(O,W,0,ne+de,y=oe(y[E+1]),ge),On(O,W,1,ne+le,y,ge),On(O,W,2,ne-le,y,ge),On(O,W,3,ne-de,y,ge)}function It(y,E,O,W,ne){tt(y,E,O,W),ne&&tt(y,E+16,O,W+4)}function Ut(y,E,O,W){da(y,E+0,O,W,1),da(y,E+32,O,W+128,1)}function Mt(y,E,O,W){var ne;for(y=y[E+0]+4,ne=0;4>ne;++ne)for(E=0;4>E;++E)si(O,W,E,ne,y)}function nr(y,E,O,W){y[E+0]&&Os(y,E+0,O,W),y[E+16]&&Os(y,E+16,O,W+4),y[E+32]&&Os(y,E+32,O,W+128),y[E+48]&&Os(y,E+48,O,W+128+4)}function nn(y,E,O,W){var ne,le=o(16);for(ne=0;4>ne;++ne){var de=y[E+0+ne]+y[E+12+ne],ge=y[E+4+ne]+y[E+8+ne],be=y[E+4+ne]-y[E+8+ne],Ee=y[E+0+ne]-y[E+12+ne];le[0+ne]=de+ge,le[8+ne]=de-ge,le[4+ne]=Ee+be,le[12+ne]=Ee-be}for(ne=0;4>ne;++ne)de=(y=le[0+4*ne]+3)+le[3+4*ne],ge=le[1+4*ne]+le[2+4*ne],be=le[1+4*ne]-le[2+4*ne],Ee=y-le[3+4*ne],O[W+0]=de+ge>>3,O[W+16]=Ee+be>>3,O[W+32]=de-ge>>3,O[W+48]=Ee-be>>3,W+=64}function Xr(y,E,O){var W,ne=E-32,le=Ui,de=255-y[ne-1];for(W=0;W<O;++W){var ge,be=le,Ee=de+y[E-1];for(ge=0;ge<O;++ge)y[E+ge]=be[Ee+y[ne+ge]];E+=32}}function oa(y,E){Xr(y,E,4)}function Bl(y,E){Xr(y,E,8)}function Pu(y,E){Xr(y,E,16)}function Oo(y,E){var O;for(O=0;16>O;++O)s(y,E+32*O,y,E-32,16)}function kl(y,E){var O;for(O=16;0<O;--O)i(y,E,y[E-1],16),E+=32}function Ma(y,E,O){var W;for(W=0;16>W;++W)i(E,O+32*W,y,16)}function Qo(y,E){var O,W=16;for(O=0;16>O;++O)W+=y[E-1+32*O]+y[E+O-32];Ma(W>>5,y,E)}function Ms(y,E){var O,W=8;for(O=0;16>O;++O)W+=y[E-1+32*O];Ma(W>>4,y,E)}function uf(y,E){var O,W=8;for(O=0;16>O;++O)W+=y[E+O-32];Ma(W>>4,y,E)}function uA(y,E){Ma(128,y,E)}function or(y,E,O){return y+2*E+O+2>>2}function df(y,E){var O,W=E-32;for(W=new Uint8Array([or(y[W-1],y[W+0],y[W+1]),or(y[W+0],y[W+1],y[W+2]),or(y[W+1],y[W+2],y[W+3]),or(y[W+2],y[W+3],y[W+4])]),O=0;4>O;++O)s(y,E+32*O,W,0,W.length)}function Af(y,E){var O=y[E-1],W=y[E-1+32],ne=y[E-1+64],le=y[E-1+96];fe(y,E+0,16843009*or(y[E-1-32],O,W)),fe(y,E+32,16843009*or(O,W,ne)),fe(y,E+64,16843009*or(W,ne,le)),fe(y,E+96,16843009*or(ne,le,le))}function _o(y,E){var O,W=4;for(O=0;4>O;++O)W+=y[E+O-32]+y[E-1+32*O];for(W>>=3,O=0;4>O;++O)i(y,E+32*O,W,4)}function dA(y,E){var O=y[E-1+0],W=y[E-1+32],ne=y[E-1+64],le=y[E-1-32],de=y[E+0-32],ge=y[E+1-32],be=y[E+2-32],Ee=y[E+3-32];y[E+0+96]=or(W,ne,y[E-1+96]),y[E+1+96]=y[E+0+64]=or(O,W,ne),y[E+2+96]=y[E+1+64]=y[E+0+32]=or(le,O,W),y[E+3+96]=y[E+2+64]=y[E+1+32]=y[E+0+0]=or(de,le,O),y[E+3+64]=y[E+2+32]=y[E+1+0]=or(ge,de,le),y[E+3+32]=y[E+2+0]=or(be,ge,de),y[E+3+0]=or(Ee,be,ge)}function AA(y,E){var O=y[E+1-32],W=y[E+2-32],ne=y[E+3-32],le=y[E+4-32],de=y[E+5-32],ge=y[E+6-32],be=y[E+7-32];y[E+0+0]=or(y[E+0-32],O,W),y[E+1+0]=y[E+0+32]=or(O,W,ne),y[E+2+0]=y[E+1+32]=y[E+0+64]=or(W,ne,le),y[E+3+0]=y[E+2+32]=y[E+1+64]=y[E+0+96]=or(ne,le,de),y[E+3+32]=y[E+2+64]=y[E+1+96]=or(le,de,ge),y[E+3+64]=y[E+2+96]=or(de,ge,be),y[E+3+96]=or(ge,be,be)}function xc(y,E){var O=y[E-1+0],W=y[E-1+32],ne=y[E-1+64],le=y[E-1-32],de=y[E+0-32],ge=y[E+1-32],be=y[E+2-32],Ee=y[E+3-32];y[E+0+0]=y[E+1+64]=le+de+1>>1,y[E+1+0]=y[E+2+64]=de+ge+1>>1,y[E+2+0]=y[E+3+64]=ge+be+1>>1,y[E+3+0]=be+Ee+1>>1,y[E+0+96]=or(ne,W,O),y[E+0+64]=or(W,O,le),y[E+0+32]=y[E+1+96]=or(O,le,de),y[E+1+32]=y[E+2+96]=or(le,de,ge),y[E+2+32]=y[E+3+96]=or(de,ge,be),y[E+3+32]=or(ge,be,Ee)}function ii(y,E){var O=y[E+0-32],W=y[E+1-32],ne=y[E+2-32],le=y[E+3-32],de=y[E+4-32],ge=y[E+5-32],be=y[E+6-32],Ee=y[E+7-32];y[E+0+0]=O+W+1>>1,y[E+1+0]=y[E+0+64]=W+ne+1>>1,y[E+2+0]=y[E+1+64]=ne+le+1>>1,y[E+3+0]=y[E+2+64]=le+de+1>>1,y[E+0+32]=or(O,W,ne),y[E+1+32]=y[E+0+96]=or(W,ne,le),y[E+2+32]=y[E+1+96]=or(ne,le,de),y[E+3+32]=y[E+2+96]=or(le,de,ge),y[E+3+64]=or(de,ge,be),y[E+3+96]=or(ge,be,Ee)}function hA(y,E){var O=y[E-1+0],W=y[E-1+32],ne=y[E-1+64],le=y[E-1+96];y[E+0+0]=O+W+1>>1,y[E+2+0]=y[E+0+32]=W+ne+1>>1,y[E+2+32]=y[E+0+64]=ne+le+1>>1,y[E+1+0]=or(O,W,ne),y[E+3+0]=y[E+1+32]=or(W,ne,le),y[E+3+32]=y[E+1+64]=or(ne,le,le),y[E+3+64]=y[E+2+64]=y[E+0+96]=y[E+1+96]=y[E+2+96]=y[E+3+96]=le}function fA(y,E){var O=y[E-1+0],W=y[E-1+32],ne=y[E-1+64],le=y[E-1+96],de=y[E-1-32],ge=y[E+0-32],be=y[E+1-32],Ee=y[E+2-32];y[E+0+0]=y[E+2+32]=O+de+1>>1,y[E+0+32]=y[E+2+64]=W+O+1>>1,y[E+0+64]=y[E+2+96]=ne+W+1>>1,y[E+0+96]=le+ne+1>>1,y[E+3+0]=or(ge,be,Ee),y[E+2+0]=or(de,ge,be),y[E+1+0]=y[E+3+32]=or(O,de,ge),y[E+1+32]=y[E+3+64]=or(W,O,de),y[E+1+64]=y[E+3+96]=or(ne,W,O),y[E+1+96]=or(le,ne,W)}function mA(y,E){var O;for(O=0;8>O;++O)s(y,E+32*O,y,E-32,8)}function Uu(y,E){var O;for(O=0;8>O;++O)i(y,E,y[E-1],8),E+=32}function Sl(y,E,O){var W;for(W=0;8>W;++W)i(E,O+32*W,y,8)}function Da(y,E){var O,W=8;for(O=0;8>O;++O)W+=y[E+O-32]+y[E-1+32*O];Sl(W>>4,y,E)}function pA(y,E){var O,W=4;for(O=0;8>O;++O)W+=y[E+O-32];Sl(W>>3,y,E)}function Oa(y,E){var O,W=4;for(O=0;8>O;++O)W+=y[E-1+32*O];Sl(W>>3,y,E)}function yc(y,E){Sl(128,y,E)}function bc(y,E,O){var W=y[E-O],ne=y[E+0],le=3*(ne-W)+jA[1020+y[E-2*O]-y[E+O]],de=CA[112+(le+4>>3)];y[E-O]=Ui[255+W+CA[112+(le+3>>3)]],y[E+0]=Ui[255+ne-de]}function gA(y,E,O,W){var ne=y[E+0],le=y[E+O];return Ji[255+y[E-2*O]-y[E-O]]>W||Ji[255+le-ne]>W}function os(y,E,O,W){return 4*Ji[255+y[E-O]-y[E+0]]+Ji[255+y[E-2*O]-y[E+O]]<=W}function xA(y,E,O,W,ne){var le=y[E-3*O],de=y[E-2*O],ge=y[E-O],be=y[E+0],Ee=y[E+O],Oe=y[E+2*O],Ye=y[E+3*O];return 4*Ji[255+ge-be]+Ji[255+de-Ee]>W?0:Ji[255+y[E-4*O]-le]<=ne&&Ji[255+le-de]<=ne&&Ji[255+de-ge]<=ne&&Ji[255+Ye-Oe]<=ne&&Ji[255+Oe-Ee]<=ne&&Ji[255+Ee-be]<=ne}function aa(y,E,O,W){var ne=2*W+1;for(W=0;16>W;++W)os(y,E+W,O,ne)&&bc(y,E+W,O)}function Ho(y,E,O,W){var ne=2*W+1;for(W=0;16>W;++W)os(y,E+W*O,1,ne)&&bc(y,E+W*O,1)}function la(y,E,O,W){var ne;for(ne=3;0<ne;--ne)aa(y,E+=4*O,O,W)}function hf(y,E,O,W){var ne;for(ne=3;0<ne;--ne)Ho(y,E+=4,O,W)}function Qa(y,E,O,W,ne,le,de,ge){for(le=2*le+1;0<ne--;){if(xA(y,E,O,le,de))if(gA(y,E,O,ge))bc(y,E,O);else{var be=y,Ee=E,Oe=O,Ye=be[Ee-2*Oe],Ze=be[Ee-Oe],ze=be[Ee+0],lt=be[Ee+Oe],it=be[Ee+2*Oe],Qe=27*(mt=jA[1020+3*(ze-Ze)+jA[1020+Ye-lt]])+63>>7,Ve=18*mt+63>>7,mt=9*mt+63>>7;be[Ee-3*Oe]=Ui[255+be[Ee-3*Oe]+mt],be[Ee-2*Oe]=Ui[255+Ye+Ve],be[Ee-Oe]=Ui[255+Ze+Qe],be[Ee+0]=Ui[255+ze-Qe],be[Ee+Oe]=Ui[255+lt-Ve],be[Ee+2*Oe]=Ui[255+it-mt]}E+=W}}function oi(y,E,O,W,ne,le,de,ge){for(le=2*le+1;0<ne--;){if(xA(y,E,O,le,de))if(gA(y,E,O,ge))bc(y,E,O);else{var be=y,Ee=E,Oe=O,Ye=be[Ee-Oe],Ze=be[Ee+0],ze=be[Ee+Oe],lt=CA[112+((it=3*(Ze-Ye))+4>>3)],it=CA[112+(it+3>>3)],Qe=lt+1>>1;be[Ee-2*Oe]=Ui[255+be[Ee-2*Oe]+Qe],be[Ee-Oe]=Ui[255+Ye+it],be[Ee+0]=Ui[255+Ze-lt],be[Ee+Oe]=Ui[255+ze-Qe]}E+=W}}function _a(y,E,O,W,ne,le){Qa(y,E,O,1,16,W,ne,le)}function Ha(y,E,O,W,ne,le){Qa(y,E,1,O,16,W,ne,le)}function ff(y,E,O,W,ne,le){var de;for(de=3;0<de;--de)oi(y,E+=4*O,O,1,16,W,ne,le)}function Ei(y,E,O,W,ne,le){var de;for(de=3;0<de;--de)oi(y,E+=4,1,O,16,W,ne,le)}function vc(y,E,O,W,ne,le,de,ge){Qa(y,E,ne,1,8,le,de,ge),Qa(O,W,ne,1,8,le,de,ge)}function El(y,E,O,W,ne,le,de,ge){Qa(y,E,1,ne,8,le,de,ge),Qa(O,W,1,ne,8,le,de,ge)}function Ru(y,E,O,W,ne,le,de,ge){oi(y,E+4*ne,ne,1,8,le,de,ge),oi(O,W+4*ne,ne,1,8,le,de,ge)}function yA(y,E,O,W,ne,le,de,ge){oi(y,E+4,1,ne,8,le,de,ge),oi(O,W+4,1,ne,8,le,de,ge)}function wc(){this.ba=new Nt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ft,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Mu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Du(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bA(){this.ua=0,this.Wa=new Ce,this.vb=new Ce,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new P,this.yc=new D}function mf(){this.xb=this.a=0,this.l=new Wi,this.ca=new Nt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new _,this.Pb=0,this.wd=new _,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bA,this.ab=0,this.gc=a(4,Du),this.Oc=0}function jc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Wi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Il(y,E,O,W,ne,le,de){for(y=y==null?0:y[E+0],E=0;E<de;++E)ne[le+E]=y+O[W+E]&255,y=ne[le+E]}function Ou(y,E,O,W,ne,le,de){var ge;if(y==null)Il(null,null,O,W,ne,le,de);else for(ge=0;ge<de;++ge)ne[le+ge]=y[E+ge]+O[W+ge]&255}function $a(y,E,O,W,ne,le,de){if(y==null)Il(null,null,O,W,ne,le,de);else{var ge,be=y[E+0],Ee=be,Oe=be;for(ge=0;ge<de;++ge)Ee=Oe+(be=y[E+ge])-Ee,Oe=O[W+ge]+(-256&Ee?0>Ee?0:255:Ee)&255,Ee=be,ne[le+ge]=Oe}}function Qu(y,E,O,W){var ne=E.width,le=E.o;if(t(y!=null&&E!=null),0>O||0>=W||O+W>le)return null;if(!y.Cc){if(y.ga==null){var de;if(y.ga=new jc,(de=y.ga==null)||(de=E.width*E.o,t(y.Gb.length==0),y.Gb=o(de),y.Uc=0,y.Gb==null?de=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,de=1),de=!de),!de){de=y.ga;var ge=y.Fa,be=y.P,Ee=y.qc,Oe=y.mb,Ye=y.nb,Ze=be+1,ze=Ee-1,lt=de.l;if(t(ge!=null&&Oe!=null&&E!=null),fa[0]=null,fa[1]=Il,fa[2]=Ou,fa[3]=$a,de.ca=Oe,de.tb=Ye,de.c=E.width,de.i=E.height,t(0<de.c&&0<de.i),1>=Ee)E=0;else if(de.$a=ge[be+0]>>0&3,de.Z=ge[be+0]>>2&3,de.Lc=ge[be+0]>>4&3,be=ge[be+0]>>6&3,0>de.$a||1<de.$a||4<=de.Z||1<de.Lc||be)E=0;else if(lt.put=Et,lt.ac=et,lt.bc=Qt,lt.ma=de,lt.width=E.width,lt.height=E.height,lt.Da=E.Da,lt.v=E.v,lt.va=E.va,lt.j=E.j,lt.o=E.o,de.$a)e:{t(de.$a==1),E=xs();t:for(;;){if(E==null){E=0;break e}if(t(de!=null),de.mc=E,E.c=de.c,E.i=de.i,E.l=de.l,E.l.ma=de,E.l.width=de.c,E.l.height=de.i,E.a=0,ce(E.m,ge,Ze,ze),!zi(de.c,de.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&Ni(E.s)?(de.ic=1,ge=E.c*E.i,E.Ta=null,E.Ua=0,E.V=o(ge),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(de.ic=0,E=Fs(E,de.c)),!E))break t;E=1;break e}de.mc=null,E=0}else E=ze>=de.c*de.i;de=!E}if(de)return null;y.ga.Lc!=1?y.Ga=0:W=le-O}t(y.ga!=null),t(O+W<=le);e:{if(E=(ge=y.ga).c,le=ge.l.o,ge.$a==0){if(Ze=y.rc,ze=y.Vc,lt=y.Fa,be=y.P+1+O*E,Ee=y.mb,Oe=y.nb+O*E,t(be<=y.P+y.qc),ge.Z!=0)for(t(fa[ge.Z]!=null),de=0;de<W;++de)fa[ge.Z](Ze,ze,lt,be,Ee,Oe,E),Ze=Ee,ze=Oe,Oe+=E,be+=E;else for(de=0;de<W;++de)s(Ee,Oe,lt,be,E),Ze=Ee,ze=Oe,Oe+=E,be+=E;y.rc=Ze,y.Vc=ze}else{if(t(ge.mc!=null),E=O+W,t((de=ge.mc)!=null),t(E<=de.i),de.C>=E)E=1;else if(ge.ic||Ge(),ge.ic){ge=de.V,Ze=de.Ba,ze=de.c;var it=de.i,Qe=(lt=1,be=de.$/ze,Ee=de.$%ze,Oe=de.m,Ye=de.s,de.$),Ve=ze*it,mt=ze*E,bt=Ye.wc,gt=Qe<mt?an(Ye,Ee,be):null;t(Qe<=Ve),t(E<=it),t(Ni(Ye));t:for(;;){for(;!Oe.h&&Qe<mt;){if(Ee&bt||(gt=an(Ye,Ee,be)),t(gt!=null),me(Oe),256>(it=Dn(gt.G[0],gt.H[0],Oe)))ge[Ze+Qe]=it,++Qe,++Ee>=ze&&(Ee=0,++be<=E&&!(be%16)&&ri(de,be));else{if(!(280>it)){lt=0;break t}it=Rr(it-256,Oe);var Kt,Dt=Dn(gt.G[4],gt.H[4],Oe);if(me(Oe),!(Qe>=(Dt=vr(ze,Dt=Rr(Dt,Oe)))&&Ve-Qe>=it)){lt=0;break t}for(Kt=0;Kt<it;++Kt)ge[Ze+Qe+Kt]=ge[Ze+Qe+Kt-Dt];for(Qe+=it,Ee+=it;Ee>=ze;)Ee-=ze,++be<=E&&!(be%16)&&ri(de,be);Qe<mt&&Ee&bt&&(gt=an(Ye,Ee,be))}t(Oe.h==Z(Oe))}ri(de,be>E?E:be);break t}!lt||Oe.h&&Qe<Ve?(lt=0,de.a=Oe.h?5:3):de.$=Qe,E=lt}else E=ni(de,de.V,de.Ba,de.c,de.i,E,zr);if(!E){W=0;break e}}O+W>=le&&(y.Cc=1),W=1}if(!W)return null;if(y.Cc&&((W=y.ga)!=null&&(W.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+O*ne}function L(y,E,O,W,ne,le){for(;0<ne--;){var de,ge=y,be=E+(O?1:0),Ee=y,Oe=E+(O?0:3);for(de=0;de<W;++de){var Ye=Ee[Oe+4*de];Ye!=255&&(Ye*=32897,ge[be+4*de+0]=ge[be+4*de+0]*Ye>>23,ge[be+4*de+1]=ge[be+4*de+1]*Ye>>23,ge[be+4*de+2]=ge[be+4*de+2]*Ye>>23)}E+=le}}function se(y,E,O,W,ne){for(;0<W--;){var le;for(le=0;le<O;++le){var de=y[E+2*le+0],ge=15&(Ee=y[E+2*le+1]),be=4369*ge,Ee=(240&Ee|Ee>>4)*be>>16;y[E+2*le+0]=(240&de|de>>4)*be>>16&240|(15&de|de<<4)*be>>16>>4&15,y[E+2*le+1]=240&Ee|ge}E+=ne}}function Ie(y,E,O,W,ne,le,de,ge){var be,Ee,Oe=255;for(Ee=0;Ee<ne;++Ee){for(be=0;be<W;++be){var Ye=y[E+be];le[de+4*be]=Ye,Oe&=Ye}E+=O,de+=ge}return Oe!=255}function Me(y,E,O,W,ne){var le;for(le=0;le<ne;++le)O[W+le]=y[E+le]>>8}function Ge(){Pi=L,un=se,dn=Ie,qn=Me}function ut(y,E,O){U[y]=function(W,ne,le,de,ge,be,Ee,Oe,Ye,Ze,ze,lt,it,Qe,Ve,mt,bt){var gt,Kt=bt-1>>1,Dt=ge[be+0]|Ee[Oe+0]<<16,sr=Ye[Ze+0]|ze[lt+0]<<16;t(W!=null);var _t=3*Dt+sr+131074>>2;for(E(W[ne+0],255&_t,_t>>16,it,Qe),le!=null&&(_t=3*sr+Dt+131074>>2,E(le[de+0],255&_t,_t>>16,Ve,mt)),gt=1;gt<=Kt;++gt){var $r=ge[be+gt]|Ee[Oe+gt]<<16,Jr=Ye[Ze+gt]|ze[lt+gt]<<16,Ur=Dt+$r+sr+Jr+524296,vt=Ur+2*($r+sr)>>3;_t=vt+Dt>>1,Dt=(Ur=Ur+2*(Dt+Jr)>>3)+$r>>1,E(W[ne+2*gt-1],255&_t,_t>>16,it,Qe+(2*gt-1)*O),E(W[ne+2*gt-0],255&Dt,Dt>>16,it,Qe+(2*gt-0)*O),le!=null&&(_t=Ur+sr>>1,Dt=vt+Jr>>1,E(le[de+2*gt-1],255&_t,_t>>16,Ve,mt+(2*gt-1)*O),E(le[de+2*gt+0],255&Dt,Dt>>16,Ve,mt+(2*gt+0)*O)),Dt=$r,sr=Jr}1&bt||(_t=3*Dt+sr+131074>>2,E(W[ne+bt-1],255&_t,_t>>16,it,Qe+(bt-1)*O),le!=null&&(_t=3*sr+Dt+131074>>2,E(le[de+bt-1],255&_t,_t>>16,Ve,mt+(bt-1)*O)))}}function wt(){Zi[NA]=w1,Zi[BA]=Vu,Zi[Ol]=yf,Zi[kA]=qp,Zi[SA]=Xp,Zi[Ic]=Jp,Zi[Kp]=j1,Zi[pf]=Vu,Zi[gf]=qp,Zi[EA]=Xp,Zi[Tc]=Jp}function Vt(y){return y&-16384?0>y?0:255:y>>C1}function rr(y,E){return Vt((19077*y>>8)+(26149*E>>8)-14234)}function hr(y,E,O){return Vt((19077*y>>8)-(6419*E>>8)-(13320*O>>8)+8708)}function fr(y,E){return Vt((19077*y>>8)+(33050*E>>8)-17685)}function Ir(y,E,O,W,ne){W[ne+0]=rr(y,O),W[ne+1]=hr(y,E,O),W[ne+2]=fr(y,E)}function ln(y,E,O,W,ne){W[ne+0]=fr(y,E),W[ne+1]=hr(y,E,O),W[ne+2]=rr(y,O)}function cn(y,E,O,W,ne){var le=hr(y,E,O);E=le<<3&224|fr(y,E)>>3,W[ne+0]=248&rr(y,O)|le>>5,W[ne+1]=E}function lr(y,E,O,W,ne){var le=240&fr(y,E)|15;W[ne+0]=240&rr(y,O)|hr(y,E,O)>>4,W[ne+1]=le}function Ds(y,E,O,W,ne){W[ne+0]=255,Ir(y,E,O,W,ne+1)}function Zn(y,E,O,W,ne){ln(y,E,O,W,ne),W[ne+3]=255}function Gi(y,E,O,W,ne){Ir(y,E,O,W,ne),W[ne+3]=255}function ys(y,E){return 0>y?0:y>E?E:y}function as(y,E,O){U[y]=function(W,ne,le,de,ge,be,Ee,Oe,Ye){for(var Ze=Oe+(-2&Ye)*O;Oe!=Ze;)E(W[ne+0],le[de+0],ge[be+0],Ee,Oe),E(W[ne+1],le[de+0],ge[be+0],Ee,Oe+O),ne+=2,++de,++be,Oe+=2*O;1&Ye&&E(W[ne+0],le[de+0],ge[be+0],Ee,Oe)}}function vA(y,E,O){return O==0?y==0?E==0?6:5:E==0?4:0:O}function qi(y,E,O,W,ne){switch(y>>>30){case 3:da(E,O,W,ne,0);break;case 2:Gn(E,O,W,ne);break;case 1:Os(E,O,W,ne)}}function En(y,E){var O,W,ne=E.M,le=E.Nb,de=y.oc,ge=y.pc+40,be=y.oc,Ee=y.pc+584,Oe=y.oc,Ye=y.pc+600;for(O=0;16>O;++O)de[ge+32*O-1]=129;for(O=0;8>O;++O)be[Ee+32*O-1]=129,Oe[Ye+32*O-1]=129;for(0<ne?de[ge-1-32]=be[Ee-1-32]=Oe[Ye-1-32]=129:(i(de,ge-32-1,127,21),i(be,Ee-32-1,127,9),i(Oe,Ye-32-1,127,9)),W=0;W<y.za;++W){var Ze=E.ya[E.aa+W];if(0<W){for(O=-1;16>O;++O)s(de,ge+32*O-4,de,ge+32*O+12,4);for(O=-1;8>O;++O)s(be,Ee+32*O-4,be,Ee+32*O+4,4),s(Oe,Ye+32*O-4,Oe,Ye+32*O+4,4)}var ze=y.Gd,lt=y.Hd+W,it=Ze.ad,Qe=Ze.Hc;if(0<ne&&(s(de,ge-32,ze[lt].y,0,16),s(be,Ee-32,ze[lt].f,0,8),s(Oe,Ye-32,ze[lt].ea,0,8)),Ze.Za){var Ve=de,mt=ge-32+16;for(0<ne&&(W>=y.za-1?i(Ve,mt,ze[lt].y[15],4):s(Ve,mt,ze[lt+1].y,0,4)),O=0;4>O;O++)Ve[mt+128+O]=Ve[mt+256+O]=Ve[mt+384+O]=Ve[mt+0+O];for(O=0;16>O;++O,Qe<<=2)Ve=de,mt=ge+Zp[O],go[Ze.Ob[O]](Ve,mt),qi(Qe,it,16*+O,Ve,mt)}else if(Ve=vA(W,ne,Ze.Ob[0]),Ga[Ve](de,ge),Qe!=0)for(O=0;16>O;++O,Qe<<=2)qi(Qe,it,16*+O,de,ge+Zp[O]);for(O=Ze.Gc,Ve=vA(W,ne,Ze.Dd),Yi[Ve](be,Ee),Yi[Ve](Oe,Ye),Qe=it,Ve=be,mt=Ee,255&(Ze=O>>0)&&(170&Ze?Ka(Qe,256,Ve,mt):Xi(Qe,256,Ve,mt)),Ze=Oe,Qe=Ye,255&(O>>=8)&&(170&O?Ka(it,320,Ze,Qe):Xi(it,320,Ze,Qe)),ne<y.Ub-1&&(s(ze[lt].y,0,de,ge+480,16),s(ze[lt].f,0,be,Ee+224,8),s(ze[lt].ea,0,Oe,Ye+224,8)),O=8*le*y.B,ze=y.sa,lt=y.ta+16*W+16*le*y.R,it=y.qa,Ze=y.ra+8*W+O,Qe=y.Ha,Ve=y.Ia+8*W+O,O=0;16>O;++O)s(ze,lt+O*y.R,de,ge+32*O,16);for(O=0;8>O;++O)s(it,Ze+O*y.B,be,Ee+32*O,8),s(Qe,Ve+O*y.B,Oe,Ye+32*O,8)}}function Tl(y,E,O,W,ne,le,de,ge,be){var Ee=[0],Oe=[0],Ye=0,Ze=be!=null?be.kd:0,ze=be??new Mu;if(y==null||12>O)return 7;ze.data=y,ze.w=E,ze.ha=O,E=[E],O=[O],ze.gb=[ze.gb];e:{var lt=E,it=O,Qe=ze.gb;if(t(y!=null),t(it!=null),t(Qe!=null),Qe[0]=0,12<=it[0]&&!r(y,lt[0],"RIFF")){if(r(y,lt[0]+8,"WEBP")){Qe=3;break e}var Ve=je(y,lt[0]+4);if(12>Ve||4294967286<Ve){Qe=3;break e}if(Ze&&Ve>it[0]-8){Qe=7;break e}Qe[0]=Ve,lt[0]+=12,it[0]-=12}Qe=0}if(Qe!=0)return Qe;for(Ve=0<ze.gb[0],O=O[0];;){e:{var mt=y;it=E,Qe=O;var bt=Ee,gt=Oe,Kt=lt=[0];if((_t=Ye=[Ye])[0]=0,8>Qe[0])Qe=7;else{if(!r(mt,it[0],"VP8X")){if(je(mt,it[0]+4)!=10){Qe=3;break e}if(18>Qe[0]){Qe=7;break e}var Dt=je(mt,it[0]+8),sr=1+we(mt,it[0]+12);if(2147483648<=sr*(mt=1+we(mt,it[0]+15))){Qe=3;break e}Kt!=null&&(Kt[0]=Dt),bt!=null&&(bt[0]=sr),gt!=null&&(gt[0]=mt),it[0]+=18,Qe[0]-=18,_t[0]=1}Qe=0}}if(Ye=Ye[0],lt=lt[0],Qe!=0)return Qe;if(it=!!(2&lt),!Ve&&Ye)return 3;if(le!=null&&(le[0]=!!(16&lt)),de!=null&&(de[0]=it),ge!=null&&(ge[0]=0),de=Ee[0],lt=Oe[0],Ye&&it&&be==null){Qe=0;break}if(4>O){Qe=7;break}if(Ve&&Ye||!Ve&&!Ye&&!r(y,E[0],"ALPH")){O=[O],ze.na=[ze.na],ze.P=[ze.P],ze.Sa=[ze.Sa];e:{Dt=y,Qe=E,Ve=O;var _t=ze.gb;bt=ze.na,gt=ze.P,Kt=ze.Sa,sr=22,t(Dt!=null),t(Ve!=null),mt=Qe[0];var $r=Ve[0];for(t(bt!=null),t(Kt!=null),bt[0]=null,gt[0]=null,Kt[0]=0;;){if(Qe[0]=mt,Ve[0]=$r,8>$r){Qe=7;break e}var Jr=je(Dt,mt+4);if(4294967286<Jr){Qe=3;break e}var Ur=8+Jr+1&-2;if(sr+=Ur,0<_t&&sr>_t){Qe=3;break e}if(!r(Dt,mt,"VP8 ")||!r(Dt,mt,"VP8L")){Qe=0;break e}if($r[0]<Ur){Qe=7;break e}r(Dt,mt,"ALPH")||(bt[0]=Dt,gt[0]=mt+8,Kt[0]=Jr),mt+=Ur,$r-=Ur}}if(O=O[0],ze.na=ze.na[0],ze.P=ze.P[0],ze.Sa=ze.Sa[0],Qe!=0)break}O=[O],ze.Ja=[ze.Ja],ze.xa=[ze.xa];e:if(_t=y,Qe=E,Ve=O,bt=ze.gb[0],gt=ze.Ja,Kt=ze.xa,Dt=Qe[0],mt=!r(_t,Dt,"VP8 "),sr=!r(_t,Dt,"VP8L"),t(_t!=null),t(Ve!=null),t(gt!=null),t(Kt!=null),8>Ve[0])Qe=7;else{if(mt||sr){if(_t=je(_t,Dt+4),12<=bt&&_t>bt-12){Qe=3;break e}if(Ze&&_t>Ve[0]-8){Qe=7;break e}gt[0]=_t,Qe[0]+=8,Ve[0]-=8,Kt[0]=sr}else Kt[0]=5<=Ve[0]&&_t[Dt+0]==47&&!(_t[Dt+4]>>5),gt[0]=Ve[0];Qe=0}if(O=O[0],ze.Ja=ze.Ja[0],ze.xa=ze.xa[0],E=E[0],Qe!=0)break;if(4294967286<ze.Ja)return 3;if(ge==null||it||(ge[0]=ze.xa?2:1),de=[de],lt=[lt],ze.xa){if(5>O){Qe=7;break}ge=de,Ze=lt,it=le,y==null||5>O?y=0:5<=O&&y[E+0]==47&&!(y[E+4]>>5)?(Ve=[0],_t=[0],bt=[0],ce(gt=new _,y,E,O),Ft(gt,Ve,_t,bt)?(ge!=null&&(ge[0]=Ve[0]),Ze!=null&&(Ze[0]=_t[0]),it!=null&&(it[0]=bt[0]),y=1):y=0):y=0}else{if(10>O){Qe=7;break}ge=lt,y==null||10>O||!pc(y,E+3,O-3)?y=0:(Ze=y[E+0]|y[E+1]<<8|y[E+2]<<16,it=16383&(y[E+7]<<8|y[E+6]),y=16383&(y[E+9]<<8|y[E+8]),1&Ze||3<(Ze>>1&7)||!(Ze>>4&1)||Ze>>5>=ze.Ja||!it||!y?y=0:(de&&(de[0]=it),ge&&(ge[0]=y),y=1))}if(!y||(de=de[0],lt=lt[0],Ye&&(Ee[0]!=de||Oe[0]!=lt)))return 3;be!=null&&(be[0]=ze,be.offset=E-be.w,t(4294967286>E-be.w),t(be.offset==be.ha-O));break}return Qe==0||Qe==7&&Ye&&be==null?(le!=null&&(le[0]|=ze.na!=null&&0<ze.na.length),W!=null&&(W[0]=de),ne!=null&&(ne[0]=lt),0):Qe}function Kn(y,E,O){var W=E.width,ne=E.height,le=0,de=0,ge=W,be=ne;if(E.Da=y!=null&&0<y.Da,E.Da&&(ge=y.cd,be=y.bd,le=y.v,de=y.j,11>O||(le&=-2,de&=-2),0>le||0>de||0>=ge||0>=be||le+ge>W||de+be>ne))return 0;if(E.v=le,E.j=de,E.va=le+ge,E.o=de+be,E.U=ge,E.T=be,E.da=y!=null&&0<y.da,E.da){if(!Ct(ge,be,O=[y.ib],le=[y.hb]))return 0;E.ib=O[0],E.hb=le[0]}return E.ob=y!=null&&y.ob,E.Kb=y==null||!y.Sd,E.da&&(E.ob=E.ib<3*W/4&&E.hb<3*ne/4,E.Kb=0),1}function Fl(y){if(y==null)return 2;if(11>y.S){var E=y.f.RGBA;E.fb+=(y.height-1)*E.A,E.A=-E.A}else E=y.f.kb,y=y.height,E.O+=(y-1)*E.fa,E.fa=-E.fa,E.N+=(y-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(y-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(y-1)*E.lb,E.lb=-E.lb);return 0}function Ii(y,E,O,W){if(W==null||0>=y||0>=E)return 2;if(O!=null){if(O.Da){var ne=O.cd,le=O.bd,de=-2&O.v,ge=-2&O.j;if(0>de||0>ge||0>=ne||0>=le||de+ne>y||ge+le>E)return 2;y=ne,E=le}if(O.da){if(!Ct(y,E,ne=[O.ib],le=[O.hb]))return 2;y=ne[0],E=le[0]}}W.width=y,W.height=E;e:{var be=W.width,Ee=W.height;if(y=W.S,0>=be||0>=Ee||!(y>=NA&&13>y))y=2;else{if(0>=W.Rd&&W.sd==null){de=le=ne=E=0;var Oe=(ge=be*tg[y])*Ee;if(11>y||(le=(Ee+1)/2*(E=(be+1)/2),y==12&&(de=(ne=be)*Ee)),(Ee=o(Oe+2*le+de))==null){y=1;break e}W.sd=Ee,11>y?((be=W.f.RGBA).eb=Ee,be.fb=0,be.A=ge,be.size=Oe):((be=W.f.kb).y=Ee,be.O=0,be.fa=ge,be.Fd=Oe,be.f=Ee,be.N=0+Oe,be.Ab=E,be.Cd=le,be.ea=Ee,be.W=0+Oe+le,be.Db=E,be.Ed=le,y==12&&(be.F=Ee,be.J=0+Oe+2*le),be.Tc=de,be.lb=ne)}if(E=1,ne=W.S,le=W.width,de=W.height,ne>=NA&&13>ne)if(11>ne)y=W.f.RGBA,E&=(ge=Math.abs(y.A))*(de-1)+le<=y.size,E&=ge>=le*tg[ne],E&=y.eb!=null;else{y=W.f.kb,ge=(le+1)/2,Oe=(de+1)/2,be=Math.abs(y.fa),Ee=Math.abs(y.Ab);var Ye=Math.abs(y.Db),Ze=Math.abs(y.lb),ze=Ze*(de-1)+le;E&=be*(de-1)+le<=y.Fd,E&=Ee*(Oe-1)+ge<=y.Cd,E=(E&=Ye*(Oe-1)+ge<=y.Ed)&be>=le&Ee>=ge&Ye>=ge,E&=y.y!=null,E&=y.f!=null,E&=y.ea!=null,ne==12&&(E&=Ze>=le,E&=ze<=y.Tc,E&=y.F!=null)}else E=0;y=E?0:2}}return y!=0||O!=null&&O.fd&&(y=Fl(W)),y}var zn=64,Hr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ll=24,Pl=32,Cc=8,Ks=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];st("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(y){return y},U.Predictor2=function(y,E,O){return E[O+0]},U.Predictor3=function(y,E,O){return E[O+1]},U.Predictor4=function(y,E,O){return E[O-1]},U.Predictor5=function(y,E,O){return qe(qe(y,E[O+1]),E[O+0])},U.Predictor6=function(y,E,O){return qe(y,E[O-1])},U.Predictor7=function(y,E,O){return qe(y,E[O+0])},U.Predictor8=function(y,E,O){return qe(E[O-1],E[O+0])},U.Predictor9=function(y,E,O){return qe(E[O+0],E[O+1])},U.Predictor10=function(y,E,O){return qe(qe(y,E[O-1]),qe(E[O+0],E[O+1]))},U.Predictor11=function(y,E,O){var W=E[O+0];return 0>=He(W>>24&255,y>>24&255,(E=E[O-1])>>24&255)+He(W>>16&255,y>>16&255,E>>16&255)+He(W>>8&255,y>>8&255,E>>8&255)+He(255&W,255&y,255&E)?W:y},U.Predictor12=function(y,E,O){var W=E[O+0];return(St((y>>24&255)+(W>>24&255)-((E=E[O-1])>>24&255))<<24|St((y>>16&255)+(W>>16&255)-(E>>16&255))<<16|St((y>>8&255)+(W>>8&255)-(E>>8&255))<<8|St((255&y)+(255&W)-(255&E)))>>>0},U.Predictor13=function(y,E,O){var W=E[O-1];return(kt((y=qe(y,E[O+0]))>>24&255,W>>24&255)<<24|kt(y>>16&255,W>>16&255)<<16|kt(y>>8&255,W>>8&255)<<8|kt(y>>0&255,W>>0&255))>>>0};var Nc=U.PredictorAdd0;U.PredictorAdd1=Le,st("Predictor2","PredictorAdd2"),st("Predictor3","PredictorAdd3"),st("Predictor4","PredictorAdd4"),st("Predictor5","PredictorAdd5"),st("Predictor6","PredictorAdd6"),st("Predictor7","PredictorAdd7"),st("Predictor8","PredictorAdd8"),st("Predictor9","PredictorAdd9"),st("Predictor10","PredictorAdd10"),st("Predictor11","PredictorAdd11"),st("Predictor12","PredictorAdd12"),st("Predictor13","PredictorAdd13");var Bc=U.PredictorAdd2;J("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),J("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var _u,Fn=U.ColorIndexInverseTransform,Ti=U.MapARGB,mo=U.VP8LColorIndexInverseTransformAlpha,Wn=U.MapAlpha,zs=U.VP8LPredictorsAdd=[];zs.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var Va,Ws,Ls,ca,ua,Fi,ai,da,Gn,Ka,Os,Xi,kc,li,Sc,Ul,Rl,po,Ml,Dl,za,Aa,Ec,Li,Pi,un,dn,qn,Qn=o(511),ha=o(2041),Hu=o(225),Wa=o(767),wA=0,jA=ha,CA=Hu,Ui=Wa,Ji=Qn,NA=0,BA=1,Ol=2,kA=3,SA=4,Ic=5,Kp=6,pf=7,gf=8,EA=9,Tc=10,c1=[2,3,7],u1=[3,3,11],zp=[280,256,256,256,40],d1=[0,1,1,1,0],IA=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],A1=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],h1=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],f1=8,xf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],$u=null,m1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],p1=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Wp=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],g1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],x1=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],y1=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],b1=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ga=[],go=[],Yi=[],v1=1,Gp=2,fa=[],Zi=[];ut("UpsampleRgbLinePair",Ir,3),ut("UpsampleBgrLinePair",ln,3),ut("UpsampleRgbaLinePair",Gi,4),ut("UpsampleBgraLinePair",Zn,4),ut("UpsampleArgbLinePair",Ds,4),ut("UpsampleRgba4444LinePair",lr,2),ut("UpsampleRgb565LinePair",cn,2);var w1=U.UpsampleRgbLinePair,yf=U.UpsampleBgrLinePair,Vu=U.UpsampleRgbaLinePair,qp=U.UpsampleBgraLinePair,Xp=U.UpsampleArgbLinePair,Jp=U.UpsampleRgba4444LinePair,j1=U.UpsampleRgb565LinePair,TA=16,FA=1<<TA-1,qa=-227,bf=482,C1=6,Yp=0,N1=o(256),B1=o(256),k1=o(256),S1=o(256),E1=o(bf-qa),I1=o(bf-qa);as("YuvToRgbRow",Ir,3),as("YuvToBgrRow",ln,3),as("YuvToRgbaRow",Gi,4),as("YuvToBgraRow",Zn,4),as("YuvToArgbRow",Ds,4),as("YuvToRgba4444Row",lr,2),as("YuvToRgb565Row",cn,2);var Zp=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],LA=[0,2,8],T1=[8,7,6,4,4,2,2,2,1,1,1,1],eg=1;this.WebPDecodeRGBA=function(y,E,O,W,ne){var le=BA,de=new wc,ge=new Nt;de.ba=ge,ge.S=le,ge.width=[ge.width],ge.height=[ge.height];var be=ge.width,Ee=ge.height,Oe=new ht;if(Oe==null||y==null)var Ye=2;else t(Oe!=null),Ye=Tl(y,E,O,Oe.width,Oe.height,Oe.Pd,Oe.Qd,Oe.format,null);if(Ye!=0?be=0:(be!=null&&(be[0]=Oe.width[0]),Ee!=null&&(Ee[0]=Oe.height[0]),be=1),be){ge.width=ge.width[0],ge.height=ge.height[0],W!=null&&(W[0]=ge.width),ne!=null&&(ne[0]=ge.height);e:{if(W=new Wi,(ne=new Mu).data=y,ne.w=E,ne.ha=O,ne.kd=1,E=[0],t(ne!=null),((y=Tl(ne.data,ne.w,ne.ha,null,null,null,E,null,ne))==0||y==7)&&E[0]&&(y=4),(E=y)==0){if(t(de!=null),W.data=ne.data,W.w=ne.w+ne.offset,W.ha=ne.ha-ne.offset,W.put=Et,W.ac=et,W.bc=Qt,W.ma=de,ne.xa){if((y=xs())==null){de=1;break e}if(function(Ze,ze){var lt=[0],it=[0],Qe=[0];t:for(;;){if(Ze==null)return 0;if(ze==null)return Ze.a=2,0;if(Ze.l=ze,Ze.a=0,ce(Ze.m,ze.data,ze.w,ze.ha),!Ft(Ze.m,lt,it,Qe)){Ze.a=3;break t}if(Ze.xb=Gp,ze.width=lt[0],ze.height=it[0],!zi(lt[0],it[0],1,Ze,null))break t;return 1}return t(Ze.a!=0),0}(y,W)){if(W=(E=Ii(W.width,W.height,de.Oa,de.ba))==0){t:{W=y;r:for(;;){if(W==null){W=0;break t}if(t(W.s.yc!=null),t(W.s.Ya!=null),t(0<W.s.Wb),t((O=W.l)!=null),t((ne=O.ma)!=null),W.xb!=0){if(W.ca=ne.ba,W.tb=ne.tb,t(W.ca!=null),!Kn(ne.Oa,O,kA)){W.a=2;break r}if(!Fs(W,O.width)||O.da)break r;if((O.da||Te(W.ca.S))&&Ge(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&Ge()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!De(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!ni(W,W.V,W.Ba,W.c,W.i,O.o,Ts))break r;ne.Dc=W.Ma,W=1;break t}t(W.a!=0),W=0}W=!W}W&&(E=y.a)}else E=y.a}else{if((y=new Ro)==null){de=1;break e}if(y.Fa=ne.na,y.P=ne.P,y.qc=ne.Sa,gc(y,W)){if((E=Ii(W.width,W.height,de.Oa,de.ba))==0){if(y.Aa=0,O=de.Oa,t((ne=y)!=null),O!=null){if(0<(be=0>(be=O.Md)?0:100<be?255:255*be/100)){for(Ee=Oe=0;4>Ee;++Ee)12>(Ye=ne.pb[Ee]).lc&&(Ye.ia=be*T1[0>Ye.lc?0:Ye.lc]>>3),Oe|=Ye.ia;Oe&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=O.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}Do(y,W)||(E=y.a)}}else E=y.a}E==0&&de.Oa!=null&&de.Oa.fd&&(E=Fl(de.ba))}de=E}le=de!=0?null:11>le?ge.f.RGBA.eb:ge.f.kb.y}else le=null;return le};var tg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(U,K){for(var B="",R=0;R<4;R++)B+=String.fromCharCode(U[K++]);return B}function u(U,K){return(U[K+0]<<0|U[K+1]<<8|U[K+2]<<16)>>>0}function A(U,K){return(U[K+0]<<0|U[K+1]<<8|U[K+2]<<16|U[K+3]<<24)>>>0}new c;var f=[0],h=[0],g=[],p=new c,b=e,x=function(U,K){var B={},R=0,D=!1,H=0,P=0;if(B.frames=[],!function(Q,Z,Ae,me){for(var ae=0;ae<me;ae++)if(Q[Z+ae]!=Ae.charCodeAt(ae))return!0;return!1}(U,K,"RIFF",4)){for(A(U,K+=4),K+=8;K<U.length;){var z=d(U,K),G=A(U,K+=4);K+=4;var he=G+(1&G);switch(z){case"VP8 ":case"VP8L":B.frames[R]===void 0&&(B.frames[R]={}),(X=B.frames[R]).src_off=D?P:K-8,X.src_size=H+G+8,R++,D&&(D=!1,H=0,P=0);break;case"VP8X":(X=B.header={}).feature_flags=U[K];var ce=K+4;X.canvas_width=1+u(U,ce),ce+=3,X.canvas_height=1+u(U,ce),ce+=3;break;case"ALPH":D=!0,H=he+8,P=K-8;break;case"ANIM":(X=B.header).bgcolor=A(U,K),ce=K+4,X.loop_count=(re=U)[(_=ce)+0]<<0|re[_+1]<<8,ce+=2;break;case"ANMF":var ye,X;(X=B.frames[R]={}).offset_x=2*u(U,K),K+=3,X.offset_y=2*u(U,K),K+=3,X.width=1+u(U,K),K+=3,X.height=1+u(U,K),K+=3,X.duration=u(U,K),K+=3,ye=U[K++],X.dispose=1&ye,X.blend=ye>>1&1}z!="ANMF"&&(K+=he)}var re,_;return B}}(b,0);x.response=b,x.rgbaoutput=!0,x.dataurl=!1;var j=x.header?x.header:null,w=x.frames?x.frames:null;if(j){j.loop_counter=j.loop_count,f=[j.canvas_height],h=[j.canvas_width];for(var S=0;S<w.length&&w[S].blend!=0;S++);}var I=w[0],F=p.WebPDecodeRGBA(b,I.src_off,I.src_size,h,f);I.rgba=F,I.imgwidth=h[0],I.imgheight=f[0];for(var T=0;T<h[0]*f[0]*4;T++)g[T]=F[T];return this.width=h,this.height=f,this.data=g,this}(function(e){var t=function(){return typeof f2=="function"},r=function(f,h,g,p){var b=4,x=a;switch(p){case e.image_compression.FAST:b=1,x=o;break;case e.image_compression.MEDIUM:b=6,x=l;break;case e.image_compression.SLOW:b=9,x=c}f=s(f,h,g,x);var j=f2(f,{level:b});return e.__addimage__.arrayBufferToBinaryString(j)},s=function(f,h,g,p){for(var b,x,j,w=f.length/h,S=new Uint8Array(f.length+w),I=u(),F=0;F<w;F+=1){if(j=F*h,b=f.subarray(j,j+h),p)S.set(p(b,g,x),j+F);else{for(var T,U=I.length,K=[];T<U;T+=1)K[T]=I[T](b,g,x);var B=A(K.concat());S.set(K[B],j+F)}x=b}return S},i=function(f){var h=Array.apply([],f);return h.unshift(0),h},o=function(f,h){var g,p=[],b=f.length;p[0]=1;for(var x=0;x<b;x+=1)g=f[x-h]||0,p[x+1]=f[x]-g+256&255;return p},a=function(f,h,g){var p,b=[],x=f.length;b[0]=2;for(var j=0;j<x;j+=1)p=g&&g[j]||0,b[j+1]=f[j]-p+256&255;return b},l=function(f,h,g){var p,b,x=[],j=f.length;x[0]=3;for(var w=0;w<j;w+=1)p=f[w-h]||0,b=g&&g[w]||0,x[w+1]=f[w]+256-(p+b>>>1)&255;return x},c=function(f,h,g){var p,b,x,j,w=[],S=f.length;w[0]=4;for(var I=0;I<S;I+=1)p=f[I-h]||0,b=g&&g[I]||0,x=g&&g[I-h]||0,j=d(p,b,x),w[I+1]=f[I]-j+256&255;return w},d=function(f,h,g){if(f===h&&h===g)return f;var p=Math.abs(h-g),b=Math.abs(f-g),x=Math.abs(f+h-g-g);return p<=b&&p<=x?f:b<=x?h:g},u=function(){return[i,o,a,l,c]},A=function(f){var h=f.map(function(g){return g.reduce(function(p,b){return p+Math.abs(b)},0)});return h.indexOf(Math.min.apply(null,h))};e.processPNG=function(f,h,g,p){var b,x,j,w,S,I,F,T,U,K,B,R,D,H,P,z=this.decode.FLATE_DECODE,G="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(j=new Kue(f)).imgData,x=j.bits,b=j.colorSpace,S=j.colors,[4,6].indexOf(j.colorType)!==-1){if(j.bits===8){U=(T=j.pixelBitlength==32?new Uint32Array(j.decodePixels().buffer):j.pixelBitlength==16?new Uint16Array(j.decodePixels().buffer):new Uint8Array(j.decodePixels().buffer)).length,B=new Uint8Array(U*j.colors),K=new Uint8Array(U);var he,ce=j.pixelBitlength-j.bits;for(H=0,P=0;H<U;H++){for(D=T[H],he=0;he<ce;)B[P++]=D>>>he&255,he+=j.bits;K[H]=D>>>he&255}}if(j.bits===16){U=(T=new Uint32Array(j.decodePixels().buffer)).length,B=new Uint8Array(U*(32/j.pixelBitlength)*j.colors),K=new Uint8Array(U*(32/j.pixelBitlength)),R=j.colors>1,H=0,P=0;for(var ye=0;H<U;)D=T[H++],B[P++]=D>>>0&255,R&&(B[P++]=D>>>16&255,D=T[H++],B[P++]=D>>>0&255),K[ye++]=D>>>16&255;x=8}p!==e.image_compression.NONE&&t()?(f=r(B,j.width*j.colors,j.colors,p),F=r(K,j.width,1,p)):(f=B,F=K,z=void 0)}if(j.colorType===3&&(b=this.color_spaces.INDEXED,I=j.palette,j.transparency.indexed)){var X=j.transparency.indexed,re=0;for(H=0,U=X.length;H<U;++H)re+=X[H];if((re/=255)===U-1&&X.indexOf(0)!==-1)w=[X.indexOf(0)];else if(re!==U){for(T=j.decodePixels(),K=new Uint8Array(T.length),H=0,U=T.length;H<U;H++)K[H]=X[T[H]];F=r(K,j.width,1)}}var _=function(Q){var Z;switch(Q){case e.image_compression.FAST:Z=11;break;case e.image_compression.MEDIUM:Z=13;break;case e.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(p);return z===this.decode.FLATE_DECODE&&(G="/Predictor "+_+" "),G+="/Colors "+S+" /BitsPerComponent "+x+" /Columns "+j.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(F&&this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F))&&(F=this.__addimage__.arrayBufferToBinaryString(F)),{alias:g,data:f,index:h,filter:z,decodeParameters:G,transparency:w,palette:I,sMask:F,predictor:_,width:j.width,height:j.height,bitsPerComponent:x,colorSpace:b}}}})(ar.API),function(e){e.processGIF89A=function(t,r,s,i){var o=new zue(t),a=o.width,l=o.height,c=[];o.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:a,height:l},u=new vv(100).encode(d,100);return e.processJPEG.call(this,u,r,s,i)},e.processGIF87A=e.processGIF89A}(ar.API),xa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:s,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xa.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Nn.log("bit decode error:"+r)}},xa.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),a=s*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[o>>7-l&1];this.data[a+4*l]=c.blue,this.data[a+4*l+1]=c.green,this.data[a+4*l+2]=c.red,this.data[a+4*l+3]=255}r!==0&&(this.pos+=4-r)}},xa.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var o=this.datav.getUint8(this.pos++,!0),a=s*this.width*4+2*i*4,l=o>>4,c=15&o,d=this.palette[l];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},xa.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*s;if(i<this.palette.length){var a=this.palette[i];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}e!==0&&(this.pos+=4-e)}},xa.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&t)/t*255|0,c=(o>>10&t)/t*255|0,d=o>>15?255:0,u=s*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=d}this.pos+=e}},xa.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var i=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,c=(a>>5&r)/r*255|0,d=(a>>11)/t*255|0,u=i*this.width*4+4*o;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},xa.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=s,this.data[a+3]=255}this.pos+=this.width%4}},xa.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=o,this.data[l+1]=i,this.data[l+2]=s,this.data[l+3]=a}},xa.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,s,i){var o=new xa(t,!1),a=o.width,l=o.height,c={data:o.getData(),width:a,height:l},d=new vv(100).encode(c,100);return e.processJPEG.call(this,d,r,s,i)}}(ar.API),G4.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,s,i){var o=new G4(t),a=o.width,l=o.height,c={data:o.getData(),width:a,height:l},d=new vv(100).encode(c,100);return e.processJPEG.call(this,d,r,s,i)}}(ar.API),ar.API.processRGBA=function(e,t,r){for(var s=e.data,i=s.length,o=new Uint8Array(i/4*3),a=new Uint8Array(i/4),l=0,c=0,d=0;d<i;d+=4){var u=s[d],A=s[d+1],f=s[d+2],h=s[d+3];o[l++]=u,o[l++]=A,o[l++]=f,a[c++]=h}var g=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ar.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ah=ar.API,r0=ah.getCharWidthsArray=function(e,t){var r,s,i=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=d.fof?d.fof:1,A=t.doKerning!==!1,f=0,h=e.length,g=0,p=l[0]||c,b=[];for(r=0;r<h;r++)s=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(s))+a*(1e3/o)||0)/1e3):(f=A&&xn(d[s])==="object"&&!isNaN(parseInt(d[s][g],10))?d[s][g]/u:0,b.push((l[s]||p)/c+f)),g=s;return b},V4=ah.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),s=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return ah.processArabic&&(e=ah.processArabic(e)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(e,r,i)/r:r0.apply(this,arguments).reduce(function(o,a){return o+a},0)},K4=function(e,t,r,s){for(var i=[],o=0,a=e.length,l=0;o!==a&&l+t[o]<r;)l+=t[o],o++;i.push(e.slice(0,o));var c=o;for(l=0;o!==a;)l+t[o]>s&&(i.push(e.slice(c,o)),l=0,c=o),l+=t[o],o++;return c!==o&&i.push(e.slice(c,o)),i},z4=function(e,t,r){r||(r={});var s,i,o,a,l,c,d,u=[],A=[u],f=r.textIndent||0,h=0,g=0,p=e.split(" "),b=r0.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?p[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),j=[];p.map(function(S){(S=S.split(/\s*\n/)).length>1?j=j.concat(S.map(function(I,F){return(F&&I.length?`
`:"")+I})):j.push(S[0])}),p=j,c=V4.apply(this,[x,r])}for(o=0,a=p.length;o<a;o++){var w=0;if(s=p[o],c&&s[0]==`
`&&(s=s.substr(1),w=1),f+h+(g=(i=r0.apply(this,[s,r])).reduce(function(S,I){return S+I},0))>t||w){if(g>t){for(l=K4.apply(this,[s,i,t-(f+h),t]),u.push(l.shift()),u=[l.pop()];l.length;)A.push([l.shift()]);g=i.slice(s.length-(u[0]?u[0].length:0)).reduce(function(S,I){return S+I},0)}else u=[s];A.push(u),f=g+c,h=b}else u.push(s),f+=h+g,h=b}return d=c?function(S,I){return(I?x:"")+S.join(" ")}:function(S){return S.join(" ")},A.map(d)},ah.splitTextToSize=function(e,t,r){var s,i=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var A=this.internal.getFont(u.fontName,u.fontStyle);return A.metadata.Unicode?{widths:A.metadata.Unicode.widths||{0:1},kerning:A.metadata.Unicode.kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);s=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=s.length;l<c;l++)d=d.concat(z4.apply(this,[s[l],a,o]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},s={},i=0;i<t.length;i++)r[t[i]]="0123456789abcdef"[i],s["0123456789abcdef"[i]]=t[i];var o=function(A){return"0x"+parseInt(A,10).toString(16)},a=e.__fontmetrics__.compress=function(A){var f,h,g,p,b=["{"];for(var x in A){if(f=A[x],isNaN(parseInt(x,10))?h="'"+x+"'":(x=parseInt(x,10),h=(h=o(x).slice(2)).slice(0,-1)+s[h.slice(-1)]),typeof f=="number")f<0?(g=o(f).slice(3),p="-"):(g=o(f).slice(2),p=""),g=p+g.slice(0,-1)+s[g.slice(-1)];else{if(xn(f)!=="object")throw new Error("Don't know what to do with value type "+xn(f)+".");g=a(f)}b.push(h+g)}return b.push("}"),b.join("")},l=e.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,h,g,p,b={},x=1,j=b,w=[],S="",I="",F=A.length-1,T=1;T<F;T+=1)(p=A[T])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(p):p=="{"?(w.push([j,g]),j={},g=void 0):p=="}"?((h=w.pop())[0][h[1]]=j,g=void 0,j=h[0]):p=="-"?x=-1:g===void 0?r.hasOwnProperty(p)?(S+=r[p],g=parseInt(S,16)*x,x=1,S=""):S+=p:r.hasOwnProperty(p)?(I+=r[p],j[g]=parseInt(I,16)*x,x=1,g=void 0,I=""):I+=p;return b},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(A){var f=A.font,h=u.Unicode[f.postScriptName];h&&(f.metadata.Unicode={},f.metadata.Unicode.widths=h.widths,f.metadata.Unicode.kerning=h.kerning);var g=d.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(ar.API),function(e){var t=function(r){for(var s=r.length,i=new Uint8Array(s),o=0;o<s;o++)i[o]=r.charCodeAt(o);return i};e.API.events.push(["addFont",function(r){var s=void 0,i=r.font,o=r.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(s=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Sm(l)),a.metadata=e.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,s)}}])}(ar),function(e){function t(){return(dr.canvg?Promise.resolve(dr.canvg):c2(()=>import("./index.es-BoHqLB3V.js"),__vite__mapDeps([2,1]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}ar.API.addSvgAsImage=function(r,s,i,o,a,l,c,d){if(isNaN(s)||isNaN(i))throw Nn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(a))throw Nn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=o,u.height=a;var A=u.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(g){return g.fromString(A,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){h.addImage(u.toDataURL("image/jpeg",1),s,i,o,a,c,d)})}}(),ar.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var i=0;i<this.internal.pages[s].length;i++)this.internal.pages[s][i]=this.internal.pages[s][i].replace(t,r);return this},ar.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var s,i,o,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),c=[],d=0,u=0,A=0;function f(g,p){var b,x=!1;for(b=0;b<g.length;b+=1)g[b]===p&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=l.length;for(A=0;A<h;A+=1)r[l[A]].value=r[l[A]].defaultValue,r[l[A]].explicitSet=!1}if(xn(e)==="object"){for(i in e)if(o=e[i],f(l,i)&&o!==void 0){if(r[i].type==="boolean"&&typeof o=="boolean")r[i].value=o;else if(r[i].type==="name"&&f(r[i].valueSet,o))r[i].value=o;else if(r[i].type==="integer"&&Number.isInteger(o))r[i].value=o;else if(r[i].type==="array"){for(d=0;d<o.length;d+=1)if(s=!0,o[d].length===1&&typeof o[d][0]=="number")c.push(String(o[d]-1));else if(o[d].length>1){for(u=0;u<o[d].length;u+=1)typeof o[d][u]!="number"&&(s=!1);s===!0&&c.push([o[d][0]-1,o[d][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,p=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?p.push("/"+g+" /"+r[g].value):p.push("/"+g+" "+r[g].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(s)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+a.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+o+a+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(s,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(ar.API),function(e){var t=e.API,r=t.pdfEscape16=function(o,a){for(var l,c=a.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],A=0,f=o.length;A<f;++A){if(l=a.metadata.characterToGlyph(o.charCodeAt(A)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=o.charCodeAt(A),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},s=function(o){var a,l,c,d,u,A,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],A=0,f=(l=Object.keys(o).sort(function(h,g){return h-g})).length;A<f;A++)a=l[A],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),o[a]!==void 0&&o[a]!==null&&typeof o[a].toString=="function"&&(d=("0000"+o[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(a){var l=a.font,c=a.out,d=a.newObject,u=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var A=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",g=0;g<f.length;g++)h+=String.fromCharCode(f[g]);var p=d();u({data:h,addLength1:!0,objectId:p}),c("endobj");var b=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var x=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+mh(l.fontName)),c("/FontFile2 "+p+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var j=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+mh(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+e.API.PDFObject.convert(A)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+mh(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(a){var l=a.font,c=a.out,d=a.newObject,u=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var A=l.metadata.rawData,f="",h=0;h<A.length;h++)f+=String.fromCharCode(A[h]);var g=d();u({data:f,addLength1:!0,objectId:g}),c("endobj");var p=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var b=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+mh(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+mh(l.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(o)}]);var i=function(o){var a,l=o.text||"",c=o.x,d=o.y,u=o.options||{},A=o.mutex||{},f=A.pdfEscape,h=A.activeFontKey,g=A.fonts,p=h,b="",x=0,j="",w=g[p].encoding;if(g[p].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:A};for(j=l,p=h,Array.isArray(l)&&(j=l[0]),x=0;x<j.length;x+=1)g[p].metadata.hasOwnProperty("cmap")&&(a=g[p].metadata.cmap.unicode.codeMap[j[x].charCodeAt(0)]),a||j[x].charCodeAt(0)<256&&g[p].metadata.hasOwnProperty("Unicode")?b+=j[x]:b+="";var S="";return parseInt(p.slice(1))<14||w==="WinAnsiEncoding"?S=f(b,p).split("").map(function(I){return I.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(S=r(b,g[p])),A.isHex=!0,{text:S,x:c,y:d,options:u,mutex:A}};t.events.push(["postProcessText",function(o){var a=o.text||"",l=[],c={text:a,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?l.push([i(Object.assign({},c,{text:a[d][0]})).text,a[d][1],a[d][2]]):l.push(i(Object.assign({},c,{text:a[d]})).text);o.text=l}else o.text=i(Object.assign({},c,{text:a})).text}])}(ar),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,s){return t.call(this),this.internal.vFS[r]=s,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ar.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(s){var i,o,a,l,c,d,u,A=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,w=0;this.__bidiEngine__={};var S=function(R){var D=R.charCodeAt(),H=D>>8,P=p[H];return P!==void 0?A[256*P+(255&D)]:H===252||H===253?"AL":x.test(H)?"L":H===8?"R":"N"},I=function(R){for(var D,H=0;H<R.length;H++){if((D=S(R.charAt(H)))==="L")return!1;if(D==="R")return!0}return!1},F=function(R,D,H,P){var z,G,he,ce,ye=D[P];switch(ye){case"L":case"R":j=!1;break;case"N":case"AN":break;case"EN":j&&(ye="AN");break;case"AL":j=!0,ye="R";break;case"WS":ye="N";break;case"CS":P<1||P+1>=D.length||(z=H[P-1])!=="EN"&&z!=="AN"||(G=D[P+1])!=="EN"&&G!=="AN"?ye="N":j&&(G="AN"),ye=G===z?G:"N";break;case"ES":ye=(z=P>0?H[P-1]:"B")==="EN"&&P+1<D.length&&D[P+1]==="EN"?"EN":"N";break;case"ET":if(P>0&&H[P-1]==="EN"){ye="EN";break}if(j){ye="N";break}for(he=P+1,ce=D.length;he<ce&&D[he]==="ET";)he++;ye=he<ce&&D[he]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(ce=D.length,he=P+1;he<ce&&D[he]==="NSM";)he++;if(he<ce){var X=R[P],re=X>=1425&&X<=2303||X===64286;if(z=D[he],re&&(z==="R"||z==="AL")){ye="R";break}}}ye=P<1||(z=D[P-1])==="B"?"N":H[P-1];break;case"B":j=!1,i=!0,ye=w;break;case"S":o=!0,ye="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"BN":ye="N"}return ye},T=function(R,D,H){var P=R.split("");return H&&U(P,H,{hiLevel:w}),P.reverse(),D&&D.reverse(),P.join("")},U=function(R,D,H){var P,z,G,he,ce,ye=-1,X=R.length,re=0,_=[],Q=w?h:f,Z=[];for(j=!1,i=!1,o=!1,z=0;z<X;z++)Z[z]=S(R[z]);for(G=0;G<X;G++){if(ce=re,_[G]=F(R,Z,_,G),P=240&(re=Q[ce][g[_[G]]]),re&=15,D[G]=he=Q[re][5],P>0)if(P===16){for(z=ye;z<G;z++)D[z]=1;ye=-1}else ye=-1;if(Q[re][6])ye===-1&&(ye=G);else if(ye>-1){for(z=ye;z<G;z++)D[z]=he;ye=-1}Z[G]==="B"&&(D[G]=0),H.hiLevel|=he}o&&function(Ae,me,ae){for(var ie=0;ie<ae;ie++)if(Ae[ie]==="S"){me[ie]=w;for(var te=ie-1;te>=0&&Ae[te]==="WS";te--)me[te]=w}}(Z,D,X)},K=function(R,D,H,P,z){if(!(z.hiLevel<R)){if(R===1&&w===1&&!i)return D.reverse(),void(H&&H.reverse());for(var G,he,ce,ye,X=D.length,re=0;re<X;){if(P[re]>=R){for(ce=re+1;ce<X&&P[ce]>=R;)ce++;for(ye=re,he=ce-1;ye<he;ye++,he--)G=D[ye],D[ye]=D[he],D[he]=G,H&&(G=H[ye],H[ye]=H[he],H[he]=G);re=ce}re++}}},B=function(R,D,H){var P=R.split(""),z={hiLevel:w};return H||(H=[]),U(P,H,z),function(G,he,ce){if(ce.hiLevel!==0&&u)for(var ye,X=0;X<G.length;X++)he[X]===1&&(ye=b.indexOf(G[X]))>=0&&(G[X]=b[ye+1])}(P,H,z),K(2,P,D,H,z),K(1,P,D,H,z),P.join("")};return this.__bidiEngine__.doBidiReorder=function(R,D,H){if(function(z,G){if(G)for(var he=0;he<z.length;he++)G[he]=he;l===void 0&&(l=I(z)),d===void 0&&(d=I(z))}(R,D),a||!c||d)if(a&&c&&l^d)w=l?1:0,R=T(R,D,H);else if(!a&&c&&d)w=l?1:0,R=B(R,D,H),R=T(R,D);else if(!a||l||c||d){if(a&&!c&&l^d)R=T(R,D),l?(w=0,R=B(R,D,H)):(w=1,R=B(R,D,H),R=T(R,D));else if(a&&l&&!c&&d)w=1,R=B(R,D,H),R=T(R,D);else if(!a&&!c&&l^d){var P=u;l?(w=1,R=B(R,D,H),w=0,u=!1,R=B(R,D,H),u=P):(w=0,R=B(R,D,H),R=T(R,D),w=1,u=!1,R=B(R,D,H),u=P,R=T(R,D))}}else w=0,R=B(R,D,H);else w=l?1:0,R=B(R,D,H);return R},this.__bidiEngine__.setOptions=function(R){R&&(a=R.isInputVisual,c=R.isOutputVisual,l=R.isInputRtl,d=R.isOutputRtl,u=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(s){var i=s.text;s.x,s.y;var o=s.options||{};s.mutex,o.lang;var a=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(a=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?a.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):a.push([r.doBidiReorder(i[l])]);s.text=a}else s.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(ar),ar.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Su(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new ade(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Wue(this.contents),this.head=new que(this),this.name=new ede(this),this.cmap=new gL(this),this.toUnicode={},this.hhea=new Xue(this),this.maxp=new tde(this),this.hmtx=new rde(this),this.post=new Yue(this),this.os2=new Jue(this),this.loca=new ode(this),this.glyf=new nde(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,s,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,c,d;for(d=[],a=0,l=(c=this.bbox).length;a<l;a++)t=c[a],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(s=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,s){var i,o,a,l;for(a=0,o=0,l=(t=""+t).length;0<=l?o<l:o>l;o=0<=l?++o:--o)i=t.charCodeAt(o),a+=this.widthOfGlyph(this.characterToGlyph(i))+s*(1e3/r)||0;return a*(r/1e3)},e.prototype.lineHeight=function(t,r){var s;return r==null&&(r=!1),s=r?this.lineGap:0,(this.ascender+s-this.decender)/1e3*t},e}();var Pa,Su=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,s;for(s=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)s[r]=String.fromCharCode(this.readByte());return s.join("")},e.prototype.writeString=function(t){var r,s,i;for(i=[],r=0,s=t.length;0<=s?r<s:r>s;r=0<=s?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,s,i,o,a,l,c;return t=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^s)+4294967296*(255^i)+16777216*(255^o)+65536*(255^a)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*s+4294967296*i+16777216*o+65536*a+256*l+c},e.prototype.writeLongLong=function(t){var r,s;return r=Math.floor(t/4294967296),s=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,s;for(r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push(this.readByte());return r},e.prototype.write=function(t){var r,s,i,o;for(o=[],s=0,i=t.length;s<i;s++)r=t[s],o.push(this.writeByte(r));return o},e}(),Wue=function(){var e;function t(r){var s,i,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)s={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[s.tag]=s}return t.prototype.encode=function(r){var s,i,o,a,l,c,d,u,A,f,h,g,p;for(p in h=Object.keys(r).length,c=Math.log(2),A=16*Math.floor(Math.log(h)/c),a=Math.floor(A/c),u=16*h-A,(i=new Su).writeInt(this.scalarType),i.writeShort(h),i.writeShort(A),i.writeShort(a),i.writeShort(u),o=16*h,d=i.pos+o,l=null,g=[],r)for(f=r[p],i.writeString(p),i.writeInt(e(f)),i.writeInt(d),i.writeInt(f.length),g=g.concat(f),p==="head"&&(l=d),d+=f.length;d%4;)g.push(0),d++;return i.write(g),s=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(s),i.data},e=function(r){var s,i,o,a;for(r=xL.call(r);r.length%4;)r.push(0);for(o=new Su(r),i=0,s=0,a=r.length;s<a;s=s+=4)i+=o.readUInt32();return 4294967295&i},t}(),Gue={}.hasOwnProperty,Nl=function(e,t){for(var r in t)Gue.call(t,r)&&(e[r]=t[r]);function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};Pa=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var que=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Nl(t,Pa),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var s;return(s=new Su).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(r),s.writeShort(this.glyphDataFormat),s.data},t}(),q4=function(){function e(t,r){var s,i,o,a,l,c,d,u,A,f,h,g,p,b,x,j,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),A=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),f=h/2,t.pos+=6,o=function(){var S,I;for(I=[],c=S=0;0<=f?S<f:S>f;c=0<=f?++S:--S)I.push(t.readUInt16());return I}(),t.pos+=2,p=function(){var S,I;for(I=[],c=S=0;0<=f?S<f:S>f;c=0<=f?++S:--S)I.push(t.readUInt16());return I}(),d=function(){var S,I;for(I=[],c=S=0;0<=f?S<f:S>f;c=0<=f?++S:--S)I.push(t.readUInt16());return I}(),u=function(){var S,I;for(I=[],c=S=0;0<=f?S<f:S>f;c=0<=f?++S:--S)I.push(t.readUInt16());return I}(),i=(this.length-t.pos+this.offset)/2,l=function(){var S,I;for(I=[],c=S=0;0<=i?S<i:S>i;c=0<=i?++S:--S)I.push(t.readUInt16());return I}(),c=x=0,w=o.length;x<w;c=++x)for(b=o[c],s=j=g=p[c];g<=b?j<=b:j>=b;s=g<=b?++j:--j)u[c]===0?a=s+d[c]:(a=l[u[c]/2+(s-g)-(f-c)]||0)!==0&&(a+=d[c]),this.codeMap[s]=65535&a}t.pos=A}return e.encode=function(t,r){var s,i,o,a,l,c,d,u,A,f,h,g,p,b,x,j,w,S,I,F,T,U,K,B,R,D,H,P,z,G,he,ce,ye,X,re,_,Q,Z,Ae,me,ae,ie,te,fe,pe,we;switch(P=new Su,a=Object.keys(t).sort(function(je,De){return je-De}),r){case"macroman":for(p=0,b=function(){var je=[];for(g=0;g<256;++g)je.push(0);return je}(),j={0:0},o={},z=0,ye=a.length;z<ye;z++)j[te=t[i=a[z]]]==null&&(j[te]=++p),o[i]={old:t[i],new:j[t[i]]},b[i]=j[t[i]];return P.writeUInt16(1),P.writeUInt16(0),P.writeUInt32(12),P.writeUInt16(0),P.writeUInt16(262),P.writeUInt16(0),P.write(b),{charMap:o,subtable:P.data,maxGlyphID:p+1};case"unicode":for(D=[],A=[],w=0,j={},s={},x=d=null,G=0,X=a.length;G<X;G++)j[I=t[i=a[G]]]==null&&(j[I]=++w),s[i]={old:I,new:j[I]},l=j[I]-i,x!=null&&l===d||(x&&A.push(x),D.push(i),d=l),x=i;for(x&&A.push(x),A.push(65535),D.push(65535),B=2*(K=D.length),U=2*Math.pow(Math.log(K)/Math.LN2,2),f=Math.log(U/2)/Math.LN2,T=2*K-U,c=[],F=[],h=[],g=he=0,re=D.length;he<re;g=++he){if(R=D[g],u=A[g],R===65535){c.push(0),F.push(0);break}if(R-(H=s[R].new)>=32768)for(c.push(0),F.push(2*(h.length+K-g)),i=ce=R;R<=u?ce<=u:ce>=u;i=R<=u?++ce:--ce)h.push(s[i].new);else c.push(H-R),F.push(0)}for(P.writeUInt16(3),P.writeUInt16(1),P.writeUInt32(12),P.writeUInt16(4),P.writeUInt16(16+8*K+2*h.length),P.writeUInt16(0),P.writeUInt16(B),P.writeUInt16(U),P.writeUInt16(f),P.writeUInt16(T),ae=0,_=A.length;ae<_;ae++)i=A[ae],P.writeUInt16(i);for(P.writeUInt16(0),ie=0,Q=D.length;ie<Q;ie++)i=D[ie],P.writeUInt16(i);for(fe=0,Z=c.length;fe<Z;fe++)l=c[fe],P.writeUInt16(l);for(pe=0,Ae=F.length;pe<Ae;pe++)S=F[pe],P.writeUInt16(S);for(we=0,me=h.length;we<me;we++)p=h[we],P.writeUInt16(p);return{charMap:s,subtable:P.data,maxGlyphID:w+1}}},e}(),gL=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Nl(t,Pa),t.prototype.tag="cmap",t.prototype.parse=function(r){var s,i,o;for(r.pos=this.offset,this.version=r.readUInt16(),o=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)s=new q4(r,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},t.encode=function(r,s){var i,o;return s==null&&(s="macroman"),i=q4.encode(r,s),(o=new Su).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},t}(),Xue=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Nl(t,Pa),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Jue=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Nl(t,Pa),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var s,i;for(i=[],s=0;s<10;++s)i.push(r.readByte());return i}(),this.charRange=function(){var s,i;for(i=[],s=0;s<4;++s)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var s,i;for(i=[],s=0;s<2;s=++s)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Yue=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Nl(t,Pa),t.prototype.tag="post",t.prototype.parse=function(r){var s,i,o;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(i=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],o=[];r.pos<this.offset+this.length;)s=r.readByte(),o.push(this.names.push(r.readString(s)));return o;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],a=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;a=0<=c?++l:--l)d.push(r.readUInt32());return d}).call(this)}},t}(),Zue=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},ede=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Nl(t,Pa),t.prototype.tag="name",t.prototype.parse=function(r){var s,i,o,a,l,c,d,u,A,f,h;for(r.pos=this.offset,r.readShort(),s=r.readShort(),c=r.readShort(),i=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(d={},a=A=0,f=i.length;A<f;a=++A)o=i[a],r.pos=o.offset,u=r.readString(o.length),l=new Zue(u,o),d[h=o.nameID]==null&&(d[h]=[]),d[o.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),tde=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Nl(t,Pa),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),rde=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Nl(t,Pa),t.prototype.tag="hmtx",t.prototype.parse=function(r){var s,i,o,a,l,c,d;for(r.pos=this.offset,this.metrics=[],s=0,c=this.file.hhea.numberOfMetrics;0<=c?s<c:s>c;s=0<=c?++s:--s)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,A;for(A=[],s=u=0;0<=o?u<o:u>o;s=0<=o?++u:--u)A.push(r.readInt16());return A}(),this.widths=(function(){var u,A,f,h;for(h=[],u=0,A=(f=this.metrics).length;u<A;u++)a=f[u],h.push(a.advance);return h}).call(this),i=this.widths[this.widths.length-1],d=[],s=l=0;0<=o?l<o:l>o;s=0<=o?++l:--l)d.push(this.widths.push(i));return d},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),xL=[].slice,nde=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Nl(t,Pa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var s,i,o,a,l,c,d,u,A,f;return r in this.cache?this.cache[r]:(a=this.file.loca,s=this.file.contents,i=a.indexOf(r),(o=a.lengthOf(r))===0?this.cache[r]=null:(s.pos=this.offset+i,l=(c=new Su(s.read(o))).readShort(),u=c.readShort(),f=c.readShort(),d=c.readShort(),A=c.readShort(),this.cache[r]=l===-1?new ide(c,u,f,d,A):new sde(c,l,u,f,d,A),this.cache[r]))},t.prototype.encode=function(r,s,i){var o,a,l,c,d;for(l=[],a=[],c=0,d=s.length;c<d;c++)o=r[s[c]],a.push(l.length),o&&(l=l.concat(o.encode(i)));return a.push(l.length),{table:l,offsets:a}},t}(),sde=function(){function e(t,r,s,i,o,a){this.raw=t,this.numberOfContours=r,this.xMin=s,this.yMin=i,this.xMax=o,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),ide=function(){function e(t,r,s,i,o){var a,l;for(this.raw=t,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return e.prototype.encode=function(){var t,r,s;for(r=new Su(xL.call(this.raw.data)),t=0,s=this.glyphIDs.length;t<s;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),ode=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Nl(t,Pa),t.prototype.tag="loca",t.prototype.parse=function(r){var s,i;return r.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var o,a;for(a=[],i=0,o=this.length;i<o;i+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var o,a;for(a=[],i=0,o=this.length;i<o;i+=4)a.push(r.readUInt32());return a}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,s){for(var i=new Uint32Array(this.offsets.length),o=0,a=0,l=0;l<i.length;++l)if(i[l]=o,a<s.length&&s[a]==l){++a,i[l]=o;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(o+=d)}for(var u=new Array(4*i.length),A=0;A<i.length;++A)u[4*A+3]=255&i[A],u[4*A+2]=(65280&i[A])>>8,u[4*A+1]=(16711680&i[A])>>16,u[4*A]=(4278190080&i[A])>>24;return u},t}(),ade=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,s,i,o;for(r in i=this.font.cmap.tables[0].codeMap,t={},o=this.subset)s=o[r],t[r]=i[s];return t},e.prototype.glyphsFor=function(t){var r,s,i,o,a,l,c;for(i={},a=0,l=t.length;a<l;a++)i[o=t[a]]=this.font.glyf.glyphFor(o);for(o in r=[],i)(s=i[o])!=null&&s.compound&&r.push.apply(r,s.glyphIDs);if(r.length>0)for(o in c=this.glyphsFor(r))s=c[o],i[o]=s;return i},e.prototype.encode=function(t,r){var s,i,o,a,l,c,d,u,A,f,h,g,p,b,x;for(i in s=gL.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),h={0:0},x=s.charMap)h[(c=x[i]).old]=c.new;for(g in f=s.maxGlyphID,a)g in h||(h[g]=f++);return u=function(j){var w,S;for(w in S={},j)S[j[w]]=w;return S}(h),A=Object.keys(u).sort(function(j,w){return j-w}),p=function(){var j,w,S;for(S=[],j=0,w=A.length;j<w;j++)l=A[j],S.push(u[l]);return S}(),o=this.font.glyf.encode(a,p,h),d=this.font.loca.encode(o.offsets,p),b={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e}();ar.API.PDFObject=function(){var e;function t(){}return e=function(r,s){return(Array(s+1).join("0")+r).slice(-s)},t.convert=function(r){var s,i,o,a;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)s=r[l],d.push(t.convert(s));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in o=["<<"],r)a=r[i],o.push("/"+i+" "+t.convert(a));return o.push(">>"),o.join(`
`)}return""+r},t}();const lde=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Oue,AcroFormAppearance:Jt,AcroFormButton:Us,AcroFormCheckBox:Tm,AcroFormChoiceField:_d,AcroFormComboBox:$d,AcroFormEditBox:Em,AcroFormListBox:Hd,AcroFormPasswordField:Fm,AcroFormPushButton:Im,AcroFormRadioButton:Vd,AcroFormTextField:pu,GState:ap,ShadingPattern:su,TilingPattern:Sd,default:ar,jsPDF:ar},Symbol.toStringTag,{value:"Module"})),cde=aP(lde);var wv={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var X4;function ude(){return X4||(X4=1,function(e,t){(function(r,s){e.exports=s()})(Rm,function(){/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var r=function(C,v){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var V in N)Object.prototype.hasOwnProperty.call(N,V)&&(k[V]=N[V])},r(C,v)};function s(C,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");r(C,v);function k(){this.constructor=C}C.prototype=v===null?Object.create(v):(k.prototype=v.prototype,new k)}var i=function(){return i=Object.assign||function(v){for(var k,N=1,V=arguments.length;N<V;N++){k=arguments[N];for(var Y in k)Object.prototype.hasOwnProperty.call(k,Y)&&(v[Y]=k[Y])}return v},i.apply(this,arguments)};function o(C,v,k,N){function V(Y){return Y instanceof k?Y:new k(function(ue){ue(Y)})}return new(k||(k=Promise))(function(Y,ue){function ke(Ke){try{_e(N.next(Ke))}catch(Je){ue(Je)}}function Ne(Ke){try{_e(N.throw(Ke))}catch(Je){ue(Je)}}function _e(Ke){Ke.done?Y(Ke.value):V(Ke.value).then(ke,Ne)}_e((N=N.apply(C,[])).next())})}function a(C,v){var k={label:0,sent:function(){if(Y[0]&1)throw Y[1];return Y[1]},trys:[],ops:[]},N,V,Y,ue;return ue={next:ke(0),throw:ke(1),return:ke(2)},typeof Symbol=="function"&&(ue[Symbol.iterator]=function(){return this}),ue;function ke(_e){return function(Ke){return Ne([_e,Ke])}}function Ne(_e){if(N)throw new TypeError("Generator is already executing.");for(;k;)try{if(N=1,V&&(Y=_e[0]&2?V.return:_e[0]?V.throw||((Y=V.return)&&Y.call(V),0):V.next)&&!(Y=Y.call(V,_e[1])).done)return Y;switch(V=0,Y&&(_e=[_e[0]&2,Y.value]),_e[0]){case 0:case 1:Y=_e;break;case 4:return k.label++,{value:_e[1],done:!1};case 5:k.label++,V=_e[1],_e=[0];continue;case 7:_e=k.ops.pop(),k.trys.pop();continue;default:if(Y=k.trys,!(Y=Y.length>0&&Y[Y.length-1])&&(_e[0]===6||_e[0]===2)){k=0;continue}if(_e[0]===3&&(!Y||_e[1]>Y[0]&&_e[1]<Y[3])){k.label=_e[1];break}if(_e[0]===6&&k.label<Y[1]){k.label=Y[1],Y=_e;break}if(Y&&k.label<Y[2]){k.label=Y[2],k.ops.push(_e);break}Y[2]&&k.ops.pop(),k.trys.pop();continue}_e=v.call(C,k)}catch(Ke){_e=[6,Ke],V=0}finally{N=Y=0}if(_e[0]&5)throw _e[1];return{value:_e[0]?_e[1]:void 0,done:!0}}}function l(C,v,k){if(arguments.length===2)for(var N=0,V=v.length,Y;N<V;N++)(Y||!(N in v))&&(Y||(Y=Array.prototype.slice.call(v,0,N)),Y[N]=v[N]);return C.concat(Y||v)}for(var c=function(){function C(v,k,N,V){this.left=v,this.top=k,this.width=N,this.height=V}return C.prototype.add=function(v,k,N,V){return new C(this.left+v,this.top+k,this.width+N,this.height+V)},C.fromClientRect=function(v,k){return new C(k.left+v.windowBounds.left,k.top+v.windowBounds.top,k.width,k.height)},C.fromDOMRectList=function(v,k){var N=Array.from(k).find(function(V){return V.width!==0});return N?new C(N.left+v.windowBounds.left,N.top+v.windowBounds.top,N.width,N.height):C.EMPTY},C.EMPTY=new C(0,0,0,0),C}(),d=function(C,v){return c.fromClientRect(C,v.getBoundingClientRect())},u=function(C){var v=C.body,k=C.documentElement;if(!v||!k)throw new Error("Unable to get document size");var N=Math.max(Math.max(v.scrollWidth,k.scrollWidth),Math.max(v.offsetWidth,k.offsetWidth),Math.max(v.clientWidth,k.clientWidth)),V=Math.max(Math.max(v.scrollHeight,k.scrollHeight),Math.max(v.offsetHeight,k.offsetHeight),Math.max(v.clientHeight,k.clientHeight));return new c(0,0,N,V)},A=function(C){for(var v=[],k=0,N=C.length;k<N;){var V=C.charCodeAt(k++);if(V>=55296&&V<=56319&&k<N){var Y=C.charCodeAt(k++);(Y&64512)===56320?v.push(((V&1023)<<10)+(Y&1023)+65536):(v.push(V),k--)}else v.push(V)}return v},f=function(){for(var C=[],v=0;v<arguments.length;v++)C[v]=arguments[v];if(String.fromCodePoint)return String.fromCodePoint.apply(String,C);var k=C.length;if(!k)return"";for(var N=[],V=-1,Y="";++V<k;){var ue=C[V];ue<=65535?N.push(ue):(ue-=65536,N.push((ue>>10)+55296,ue%1024+56320)),(V+1===k||N.length>16384)&&(Y+=String.fromCharCode.apply(String,N),N.length=0)}return Y},h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=typeof Uint8Array>"u"?[]:new Uint8Array(256),p=0;p<h.length;p++)g[h.charCodeAt(p)]=p;for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=typeof Uint8Array>"u"?[]:new Uint8Array(256),j=0;j<b.length;j++)x[b.charCodeAt(j)]=j;for(var w=function(C){var v=C.length*.75,k=C.length,N,V=0,Y,ue,ke,Ne;C[C.length-1]==="="&&(v--,C[C.length-2]==="="&&v--);var _e=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(v):new Array(v),Ke=Array.isArray(_e)?_e:new Uint8Array(_e);for(N=0;N<k;N+=4)Y=x[C.charCodeAt(N)],ue=x[C.charCodeAt(N+1)],ke=x[C.charCodeAt(N+2)],Ne=x[C.charCodeAt(N+3)],Ke[V++]=Y<<2|ue>>4,Ke[V++]=(ue&15)<<4|ke>>2,Ke[V++]=(ke&3)<<6|Ne&63;return _e},S=function(C){for(var v=C.length,k=[],N=0;N<v;N+=2)k.push(C[N+1]<<8|C[N]);return k},I=function(C){for(var v=C.length,k=[],N=0;N<v;N+=4)k.push(C[N+3]<<24|C[N+2]<<16|C[N+1]<<8|C[N]);return k},F=5,T=11,U=2,K=T-F,B=65536>>F,R=1<<F,D=R-1,H=1024>>F,P=B+H,z=P,G=32,he=z+G,ce=65536>>T,ye=1<<K,X=ye-1,re=function(C,v,k){return C.slice?C.slice(v,k):new Uint16Array(Array.prototype.slice.call(C,v,k))},_=function(C,v,k){return C.slice?C.slice(v,k):new Uint32Array(Array.prototype.slice.call(C,v,k))},Q=function(C,v){var k=w(C),N=Array.isArray(k)?I(k):new Uint32Array(k),V=Array.isArray(k)?S(k):new Uint16Array(k),Y=24,ue=re(V,Y/2,N[4]/2),ke=N[5]===2?re(V,(Y+N[4])/2):_(N,Math.ceil((Y+N[4])/4));return new Z(N[0],N[1],N[2],N[3],ue,ke)},Z=function(){function C(v,k,N,V,Y,ue){this.initialValue=v,this.errorValue=k,this.highStart=N,this.highValueIndex=V,this.index=Y,this.data=ue}return C.prototype.get=function(v){var k;if(v>=0){if(v<55296||v>56319&&v<=65535)return k=this.index[v>>F],k=(k<<U)+(v&D),this.data[k];if(v<=65535)return k=this.index[B+(v-55296>>F)],k=(k<<U)+(v&D),this.data[k];if(v<this.highStart)return k=he-ce+(v>>T),k=this.index[k],k+=v>>F&X,k=this.index[k],k=(k<<U)+(v&D),this.data[k];if(v<=1114111)return this.data[this.highValueIndex]}return this.errorValue},C}(),Ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",me=typeof Uint8Array>"u"?[]:new Uint8Array(256),ae=0;ae<Ae.length;ae++)me[Ae.charCodeAt(ae)]=ae;var ie="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",te=50,fe=1,pe=2,we=3,je=4,De=5,Ue=7,Ce=8,Ct=9,ct=10,rt=11,st=12,at=13,qe=14,St=15,kt=16,He=17,Le=18,q=19,M=20,$=21,J=22,ee=23,ve=24,Se=25,We=26,$e=27,Pe=28,Be=29,Te=30,pt=31,nt=32,Nt=33,ht=34,ft=35,xe=36,Xe=37,Fe=38,et=39,Et=40,Qt=41,Ft=42,Rr=43,vr=[9001,65288],Dn="!",tr="",an="",gs=Q(ie),Ts=[Te,xe],Ni=[fe,pe,we,De],ti=[ct,Ce],ri=[$e,We],ni=Ni.concat(ti),Bi=[Fe,et,Et,ht,ft],xs=[St,at],zi=function(C,v){v===void 0&&(v="strict");var k=[],N=[],V=[];return C.forEach(function(Y,ue){var ke=gs.get(Y);if(ke>te?(V.push(!0),ke-=te):V.push(!1),["normal","auto","loose"].indexOf(v)!==-1&&[8208,8211,12316,12448].indexOf(Y)!==-1)return N.push(ue),k.push(kt);if(ke===je||ke===rt){if(ue===0)return N.push(ue),k.push(Te);var Ne=k[ue-1];return ni.indexOf(Ne)===-1?(N.push(N[ue-1]),k.push(Ne)):(N.push(ue),k.push(Te))}if(N.push(ue),ke===pt)return k.push(v==="strict"?$:Xe);if(ke===Ft||ke===Be)return k.push(Te);if(ke===Rr)return Y>=131072&&Y<=196605||Y>=196608&&Y<=262141?k.push(Xe):k.push(Te);k.push(ke)}),[N,k,V]},Fs=function(C,v,k,N){var V=N[k];if(Array.isArray(C)?C.indexOf(V)!==-1:C===V)for(var Y=k;Y<=N.length;){Y++;var ue=N[Y];if(ue===v)return!0;if(ue!==ct)break}if(V===ct)for(var Y=k;Y>0;){Y--;var ke=N[Y];if(Array.isArray(C)?C.indexOf(ke)!==-1:C===ke)for(var Ne=k;Ne<=N.length;){Ne++;var ue=N[Ne];if(ue===v)return!0;if(ue!==ct)break}if(ke!==ct)break}return!1},zr=function(C,v){for(var k=C;k>=0;){var N=v[k];if(N===ct)k--;else return N}return 0},ho=function(C,v,k,N,V){if(k[N]===0)return tr;var Y=N-1;if(Array.isArray(V)&&V[Y]===!0)return tr;var ue=Y-1,ke=Y+1,Ne=v[Y],_e=ue>=0?v[ue]:0,Ke=v[ke];if(Ne===pe&&Ke===we)return tr;if(Ni.indexOf(Ne)!==-1)return Dn;if(Ni.indexOf(Ke)!==-1||ti.indexOf(Ke)!==-1)return tr;if(zr(Y,v)===Ce)return an;if(gs.get(C[Y])===rt||(Ne===nt||Ne===Nt)&&gs.get(C[ke])===rt||Ne===Ue||Ke===Ue||Ne===Ct||[ct,at,St].indexOf(Ne)===-1&&Ke===Ct||[He,Le,q,ve,Pe].indexOf(Ke)!==-1||zr(Y,v)===J||Fs(ee,J,Y,v)||Fs([He,Le],$,Y,v)||Fs(st,st,Y,v))return tr;if(Ne===ct)return an;if(Ne===ee||Ke===ee)return tr;if(Ke===kt||Ne===kt)return an;if([at,St,$].indexOf(Ke)!==-1||Ne===qe||_e===xe&&xs.indexOf(Ne)!==-1||Ne===Pe&&Ke===xe||Ke===M||Ts.indexOf(Ke)!==-1&&Ne===Se||Ts.indexOf(Ne)!==-1&&Ke===Se||Ne===$e&&[Xe,nt,Nt].indexOf(Ke)!==-1||[Xe,nt,Nt].indexOf(Ne)!==-1&&Ke===We||Ts.indexOf(Ne)!==-1&&ri.indexOf(Ke)!==-1||ri.indexOf(Ne)!==-1&&Ts.indexOf(Ke)!==-1||[$e,We].indexOf(Ne)!==-1&&(Ke===Se||[J,St].indexOf(Ke)!==-1&&v[ke+1]===Se)||[J,St].indexOf(Ne)!==-1&&Ke===Se||Ne===Se&&[Se,Pe,ve].indexOf(Ke)!==-1)return tr;if([Se,Pe,ve,He,Le].indexOf(Ke)!==-1)for(var Je=Y;Je>=0;){var dt=v[Je];if(dt===Se)return tr;if([Pe,ve].indexOf(dt)!==-1)Je--;else break}if([$e,We].indexOf(Ke)!==-1)for(var Je=[He,Le].indexOf(Ne)!==-1?ue:Y;Je>=0;){var dt=v[Je];if(dt===Se)return tr;if([Pe,ve].indexOf(dt)!==-1)Je--;else break}if(Fe===Ne&&[Fe,et,ht,ft].indexOf(Ke)!==-1||[et,ht].indexOf(Ne)!==-1&&[et,Et].indexOf(Ke)!==-1||[Et,ft].indexOf(Ne)!==-1&&Ke===Et||Bi.indexOf(Ne)!==-1&&[M,We].indexOf(Ke)!==-1||Bi.indexOf(Ke)!==-1&&Ne===$e||Ts.indexOf(Ne)!==-1&&Ts.indexOf(Ke)!==-1||Ne===ve&&Ts.indexOf(Ke)!==-1||Ts.concat(Se).indexOf(Ne)!==-1&&Ke===J&&vr.indexOf(C[ke])===-1||Ts.concat(Se).indexOf(Ke)!==-1&&Ne===Le)return tr;if(Ne===Qt&&Ke===Qt){for(var Gt=k[Y],Rt=1;Gt>0&&(Gt--,v[Gt]===Qt);)Rt++;if(Rt%2!==0)return tr}return Ne===nt&&Ke===Nt?tr:an},Vs=function(C,v){v||(v={lineBreak:"normal",wordBreak:"normal"});var k=zi(C,v.lineBreak),N=k[0],V=k[1],Y=k[2];(v.wordBreak==="break-all"||v.wordBreak==="break-word")&&(V=V.map(function(ke){return[Se,Te,Ft].indexOf(ke)!==-1?Xe:ke}));var ue=v.wordBreak==="keep-all"?Y.map(function(ke,Ne){return ke&&C[Ne]>=19968&&C[Ne]<=40959}):void 0;return[N,V,ue]},ki=function(){function C(v,k,N,V){this.codePoints=v,this.required=k===Dn,this.start=N,this.end=V}return C.prototype.slice=function(){return f.apply(void 0,this.codePoints.slice(this.start,this.end))},C}(),fo=function(C,v){var k=A(C),N=Vs(k,v),V=N[0],Y=N[1],ue=N[2],ke=k.length,Ne=0,_e=0;return{next:function(){if(_e>=ke)return{done:!0,value:null};for(var Ke=tr;_e<ke&&(Ke=ho(k,Y,V,++_e,ue))===tr;);if(Ke!==tr||_e===ke){var Je=new ki(k,Ke,Ne,_e);return Ne=_e,{value:Je,done:!1}}return{done:!0,value:null}}}},fc=1,Wr=2,Si=4,Rs=8,Ua=10,Ra=47,Uo=92,mc=9,Lu=32,Wi=34,Ro=61,Tn=35,pc=36,gc=37,ia=39,Mo=40,Do=41,si=95,On=45,oe=33,tt=60,yt=62,It=64,Ut=91,Mt=93,nr=61,nn=123,Xr=63,oa=125,Bl=124,Pu=126,Oo=128,kl=65533,Ma=42,Qo=43,Ms=44,uf=58,uA=59,or=46,df=0,Af=8,_o=11,dA=14,AA=31,xc=127,ii=-1,hA=48,fA=97,mA=101,Uu=102,Sl=117,Da=122,pA=65,Oa=69,yc=70,bc=85,gA=90,os=function(C){return C>=hA&&C<=57},xA=function(C){return C>=55296&&C<=57343},aa=function(C){return os(C)||C>=pA&&C<=yc||C>=fA&&C<=Uu},Ho=function(C){return C>=fA&&C<=Da},la=function(C){return C>=pA&&C<=gA},hf=function(C){return Ho(C)||la(C)},Qa=function(C){return C>=Oo},oi=function(C){return C===Ua||C===mc||C===Lu},_a=function(C){return hf(C)||Qa(C)||C===si},Ha=function(C){return _a(C)||os(C)||C===On},ff=function(C){return C>=df&&C<=Af||C===_o||C>=dA&&C<=AA||C===xc},Ei=function(C,v){return C!==Uo?!1:v!==Ua},vc=function(C,v,k){return C===On?_a(v)||Ei(v,k):_a(C)?!0:!!(C===Uo&&Ei(C,v))},El=function(C,v,k){return C===Qo||C===On?os(v)?!0:v===or&&os(k):os(C===or?v:C)},Ru=function(C){var v=0,k=1;(C[v]===Qo||C[v]===On)&&(C[v]===On&&(k=-1),v++);for(var N=[];os(C[v]);)N.push(C[v++]);var V=N.length?parseInt(f.apply(void 0,N),10):0;C[v]===or&&v++;for(var Y=[];os(C[v]);)Y.push(C[v++]);var ue=Y.length,ke=ue?parseInt(f.apply(void 0,Y),10):0;(C[v]===Oa||C[v]===mA)&&v++;var Ne=1;(C[v]===Qo||C[v]===On)&&(C[v]===On&&(Ne=-1),v++);for(var _e=[];os(C[v]);)_e.push(C[v++]);var Ke=_e.length?parseInt(f.apply(void 0,_e),10):0;return k*(V+ke*Math.pow(10,-ue))*Math.pow(10,Ne*Ke)},yA={type:2},wc={type:3},Mu={type:4},Du={type:13},bA={type:8},mf={type:21},jc={type:9},Il={type:10},Ou={type:11},$a={type:12},Qu={type:14},L={type:23},se={type:1},Ie={type:25},Me={type:24},Ge={type:26},ut={type:27},wt={type:28},Vt={type:29},rr={type:31},hr={type:32},fr=function(){function C(){this._value=[]}return C.prototype.write=function(v){this._value=this._value.concat(A(v))},C.prototype.read=function(){for(var v=[],k=this.consumeToken();k!==hr;)v.push(k),k=this.consumeToken();return v},C.prototype.consumeToken=function(){var v=this.consumeCodePoint();switch(v){case Wi:return this.consumeStringToken(Wi);case Tn:var k=this.peekCodePoint(0),N=this.peekCodePoint(1),V=this.peekCodePoint(2);if(Ha(k)||Ei(N,V)){var Y=vc(k,N,V)?Wr:fc,ue=this.consumeName();return{type:5,value:ue,flags:Y}}break;case pc:if(this.peekCodePoint(0)===Ro)return this.consumeCodePoint(),Du;break;case ia:return this.consumeStringToken(ia);case Mo:return yA;case Do:return wc;case Ma:if(this.peekCodePoint(0)===Ro)return this.consumeCodePoint(),Qu;break;case Qo:if(El(v,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(v),this.consumeNumericToken();break;case Ms:return Mu;case On:var ke=v,Ne=this.peekCodePoint(0),_e=this.peekCodePoint(1);if(El(ke,Ne,_e))return this.reconsumeCodePoint(v),this.consumeNumericToken();if(vc(ke,Ne,_e))return this.reconsumeCodePoint(v),this.consumeIdentLikeToken();if(Ne===On&&_e===yt)return this.consumeCodePoint(),this.consumeCodePoint(),Me;break;case or:if(El(v,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(v),this.consumeNumericToken();break;case Ra:if(this.peekCodePoint(0)===Ma)for(this.consumeCodePoint();;){var Ke=this.consumeCodePoint();if(Ke===Ma&&(Ke=this.consumeCodePoint(),Ke===Ra))return this.consumeToken();if(Ke===ii)return this.consumeToken()}break;case uf:return Ge;case uA:return ut;case tt:if(this.peekCodePoint(0)===oe&&this.peekCodePoint(1)===On&&this.peekCodePoint(2)===On)return this.consumeCodePoint(),this.consumeCodePoint(),Ie;break;case It:var Je=this.peekCodePoint(0),dt=this.peekCodePoint(1),Gt=this.peekCodePoint(2);if(vc(Je,dt,Gt)){var ue=this.consumeName();return{type:7,value:ue}}break;case Ut:return wt;case Uo:if(Ei(v,this.peekCodePoint(0)))return this.reconsumeCodePoint(v),this.consumeIdentLikeToken();break;case Mt:return Vt;case nr:if(this.peekCodePoint(0)===Ro)return this.consumeCodePoint(),bA;break;case nn:return Ou;case oa:return $a;case Sl:case bc:var Rt=this.peekCodePoint(0),$t=this.peekCodePoint(1);return Rt===Qo&&(aa($t)||$t===Xr)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(v),this.consumeIdentLikeToken();case Bl:if(this.peekCodePoint(0)===Ro)return this.consumeCodePoint(),jc;if(this.peekCodePoint(0)===Bl)return this.consumeCodePoint(),mf;break;case Pu:if(this.peekCodePoint(0)===Ro)return this.consumeCodePoint(),Il;break;case ii:return hr}return oi(v)?(this.consumeWhiteSpace(),rr):os(v)?(this.reconsumeCodePoint(v),this.consumeNumericToken()):_a(v)?(this.reconsumeCodePoint(v),this.consumeIdentLikeToken()):{type:6,value:f(v)}},C.prototype.consumeCodePoint=function(){var v=this._value.shift();return typeof v>"u"?-1:v},C.prototype.reconsumeCodePoint=function(v){this._value.unshift(v)},C.prototype.peekCodePoint=function(v){return v>=this._value.length?-1:this._value[v]},C.prototype.consumeUnicodeRangeToken=function(){for(var v=[],k=this.consumeCodePoint();aa(k)&&v.length<6;)v.push(k),k=this.consumeCodePoint();for(var N=!1;k===Xr&&v.length<6;)v.push(k),k=this.consumeCodePoint(),N=!0;if(N){var V=parseInt(f.apply(void 0,v.map(function(Ne){return Ne===Xr?hA:Ne})),16),Y=parseInt(f.apply(void 0,v.map(function(Ne){return Ne===Xr?yc:Ne})),16);return{type:30,start:V,end:Y}}var ue=parseInt(f.apply(void 0,v),16);if(this.peekCodePoint(0)===On&&aa(this.peekCodePoint(1))){this.consumeCodePoint(),k=this.consumeCodePoint();for(var ke=[];aa(k)&&ke.length<6;)ke.push(k),k=this.consumeCodePoint();var Y=parseInt(f.apply(void 0,ke),16);return{type:30,start:ue,end:Y}}else return{type:30,start:ue,end:ue}},C.prototype.consumeIdentLikeToken=function(){var v=this.consumeName();return v.toLowerCase()==="url"&&this.peekCodePoint(0)===Mo?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Mo?(this.consumeCodePoint(),{type:19,value:v}):{type:20,value:v}},C.prototype.consumeUrlToken=function(){var v=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ii)return{type:22,value:""};var k=this.peekCodePoint(0);if(k===ia||k===Wi){var N=this.consumeStringToken(this.consumeCodePoint());return N.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ii||this.peekCodePoint(0)===Do)?(this.consumeCodePoint(),{type:22,value:N.value}):(this.consumeBadUrlRemnants(),L)}for(;;){var V=this.consumeCodePoint();if(V===ii||V===Do)return{type:22,value:f.apply(void 0,v)};if(oi(V))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ii||this.peekCodePoint(0)===Do?(this.consumeCodePoint(),{type:22,value:f.apply(void 0,v)}):(this.consumeBadUrlRemnants(),L);if(V===Wi||V===ia||V===Mo||ff(V))return this.consumeBadUrlRemnants(),L;if(V===Uo)if(Ei(V,this.peekCodePoint(0)))v.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),L;else v.push(V)}},C.prototype.consumeWhiteSpace=function(){for(;oi(this.peekCodePoint(0));)this.consumeCodePoint()},C.prototype.consumeBadUrlRemnants=function(){for(;;){var v=this.consumeCodePoint();if(v===Do||v===ii)return;Ei(v,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},C.prototype.consumeStringSlice=function(v){for(var k=5e4,N="";v>0;){var V=Math.min(k,v);N+=f.apply(void 0,this._value.splice(0,V)),v-=V}return this._value.shift(),N},C.prototype.consumeStringToken=function(v){var k="",N=0;do{var V=this._value[N];if(V===ii||V===void 0||V===v)return k+=this.consumeStringSlice(N),{type:0,value:k};if(V===Ua)return this._value.splice(0,N),se;if(V===Uo){var Y=this._value[N+1];Y!==ii&&Y!==void 0&&(Y===Ua?(k+=this.consumeStringSlice(N),N=-1,this._value.shift()):Ei(V,Y)&&(k+=this.consumeStringSlice(N),k+=f(this.consumeEscapedCodePoint()),N=-1))}N++}while(!0)},C.prototype.consumeNumber=function(){var v=[],k=Si,N=this.peekCodePoint(0);for((N===Qo||N===On)&&v.push(this.consumeCodePoint());os(this.peekCodePoint(0));)v.push(this.consumeCodePoint());N=this.peekCodePoint(0);var V=this.peekCodePoint(1);if(N===or&&os(V))for(v.push(this.consumeCodePoint(),this.consumeCodePoint()),k=Rs;os(this.peekCodePoint(0));)v.push(this.consumeCodePoint());N=this.peekCodePoint(0),V=this.peekCodePoint(1);var Y=this.peekCodePoint(2);if((N===Oa||N===mA)&&((V===Qo||V===On)&&os(Y)||os(V)))for(v.push(this.consumeCodePoint(),this.consumeCodePoint()),k=Rs;os(this.peekCodePoint(0));)v.push(this.consumeCodePoint());return[Ru(v),k]},C.prototype.consumeNumericToken=function(){var v=this.consumeNumber(),k=v[0],N=v[1],V=this.peekCodePoint(0),Y=this.peekCodePoint(1),ue=this.peekCodePoint(2);if(vc(V,Y,ue)){var ke=this.consumeName();return{type:15,number:k,flags:N,unit:ke}}return V===gc?(this.consumeCodePoint(),{type:16,number:k,flags:N}):{type:17,number:k,flags:N}},C.prototype.consumeEscapedCodePoint=function(){var v=this.consumeCodePoint();if(aa(v)){for(var k=f(v);aa(this.peekCodePoint(0))&&k.length<6;)k+=f(this.consumeCodePoint());oi(this.peekCodePoint(0))&&this.consumeCodePoint();var N=parseInt(k,16);return N===0||xA(N)||N>1114111?kl:N}return v===ii?kl:v},C.prototype.consumeName=function(){for(var v="";;){var k=this.consumeCodePoint();if(Ha(k))v+=f(k);else if(Ei(k,this.peekCodePoint(0)))v+=f(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(k),v}},C}(),Ir=function(){function C(v){this._tokens=v}return C.create=function(v){var k=new fr;return k.write(v),new C(k.read())},C.parseValue=function(v){return C.create(v).parseComponentValue()},C.parseValues=function(v){return C.create(v).parseComponentValues()},C.prototype.parseComponentValue=function(){for(var v=this.consumeToken();v.type===31;)v=this.consumeToken();if(v.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(v);var k=this.consumeComponentValue();do v=this.consumeToken();while(v.type===31);if(v.type===32)return k;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},C.prototype.parseComponentValues=function(){for(var v=[];;){var k=this.consumeComponentValue();if(k.type===32)return v;v.push(k),v.push()}},C.prototype.consumeComponentValue=function(){var v=this.consumeToken();switch(v.type){case 11:case 28:case 2:return this.consumeSimpleBlock(v.type);case 19:return this.consumeFunction(v)}return v},C.prototype.consumeSimpleBlock=function(v){for(var k={type:v,values:[]},N=this.consumeToken();;){if(N.type===32||vA(N,v))return k;this.reconsumeToken(N),k.values.push(this.consumeComponentValue()),N=this.consumeToken()}},C.prototype.consumeFunction=function(v){for(var k={name:v.value,values:[],type:18};;){var N=this.consumeToken();if(N.type===32||N.type===3)return k;this.reconsumeToken(N),k.values.push(this.consumeComponentValue())}},C.prototype.consumeToken=function(){var v=this._tokens.shift();return typeof v>"u"?hr:v},C.prototype.reconsumeToken=function(v){this._tokens.unshift(v)},C}(),ln=function(C){return C.type===15},cn=function(C){return C.type===17},lr=function(C){return C.type===20},Ds=function(C){return C.type===0},Zn=function(C,v){return lr(C)&&C.value===v},Gi=function(C){return C.type!==31},ys=function(C){return C.type!==31&&C.type!==4},as=function(C){var v=[],k=[];return C.forEach(function(N){if(N.type===4){if(k.length===0)throw new Error("Error parsing function args, zero tokens for arg");v.push(k),k=[];return}N.type!==31&&k.push(N)}),k.length&&v.push(k),v},vA=function(C,v){return v===11&&C.type===12||v===28&&C.type===29?!0:v===2&&C.type===3},qi=function(C){return C.type===17||C.type===15},En=function(C){return C.type===16||qi(C)},Tl=function(C){return C.length>1?[C[0],C[1]]:[C[0]]},Kn={type:17,number:0,flags:Si},Fl={type:16,number:50,flags:Si},Ii={type:16,number:100,flags:Si},zn=function(C,v,k){var N=C[0],V=C[1];return[Hr(N,v),Hr(typeof V<"u"?V:N,k)]},Hr=function(C,v){if(C.type===16)return C.number/100*v;if(ln(C))switch(C.unit){case"rem":case"em":return 16*C.number;case"px":default:return C.number}return C.number},Ll="deg",Pl="grad",Cc="rad",Ks="turn",Nc={name:"angle",parse:function(C,v){if(v.type===15)switch(v.unit){case Ll:return Math.PI*v.number/180;case Pl:return Math.PI/200*v.number;case Cc:return v.number;case Ks:return Math.PI*2*v.number}throw new Error("Unsupported angle type")}},Bc=function(C){return C.type===15&&(C.unit===Ll||C.unit===Pl||C.unit===Cc||C.unit===Ks)},_u=function(C){var v=C.filter(lr).map(function(k){return k.value}).join(" ");switch(v){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Kn,Kn];case"to top":case"bottom":return Fn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Kn,Ii];case"to right":case"left":return Fn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ii,Ii];case"to bottom":case"top":return Fn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ii,Kn];case"to left":case"right":return Fn(270)}return 0},Fn=function(C){return Math.PI*C/180},Ti={name:"color",parse:function(C,v){if(v.type===18){var k=ua[v.name];if(typeof k>"u")throw new Error('Attempting to parse an unsupported color function "'+v.name+'"');return k(C,v.values)}if(v.type===5){if(v.value.length===3){var N=v.value.substring(0,1),V=v.value.substring(1,2),Y=v.value.substring(2,3);return zs(parseInt(N+N,16),parseInt(V+V,16),parseInt(Y+Y,16),1)}if(v.value.length===4){var N=v.value.substring(0,1),V=v.value.substring(1,2),Y=v.value.substring(2,3),ue=v.value.substring(3,4);return zs(parseInt(N+N,16),parseInt(V+V,16),parseInt(Y+Y,16),parseInt(ue+ue,16)/255)}if(v.value.length===6){var N=v.value.substring(0,2),V=v.value.substring(2,4),Y=v.value.substring(4,6);return zs(parseInt(N,16),parseInt(V,16),parseInt(Y,16),1)}if(v.value.length===8){var N=v.value.substring(0,2),V=v.value.substring(2,4),Y=v.value.substring(4,6),ue=v.value.substring(6,8);return zs(parseInt(N,16),parseInt(V,16),parseInt(Y,16),parseInt(ue,16)/255)}}if(v.type===20){var ke=ai[v.value.toUpperCase()];if(typeof ke<"u")return ke}return ai.TRANSPARENT}},mo=function(C){return(255&C)===0},Wn=function(C){var v=255&C,k=255&C>>8,N=255&C>>16,V=255&C>>24;return v<255?"rgba("+V+","+N+","+k+","+v/255+")":"rgb("+V+","+N+","+k+")"},zs=function(C,v,k,N){return(C<<24|v<<16|k<<8|Math.round(N*255)<<0)>>>0},Va=function(C,v){if(C.type===17)return C.number;if(C.type===16){var k=v===3?1:255;return v===3?C.number/100*k:Math.round(C.number/100*k)}return 0},Ws=function(C,v){var k=v.filter(ys);if(k.length===3){var N=k.map(Va),V=N[0],Y=N[1],ue=N[2];return zs(V,Y,ue,1)}if(k.length===4){var ke=k.map(Va),V=ke[0],Y=ke[1],ue=ke[2],Ne=ke[3];return zs(V,Y,ue,Ne)}return 0};function Ls(C,v,k){return k<0&&(k+=1),k>=1&&(k-=1),k<1/6?(v-C)*k*6+C:k<1/2?v:k<2/3?(v-C)*6*(2/3-k)+C:C}var ca=function(C,v){var k=v.filter(ys),N=k[0],V=k[1],Y=k[2],ue=k[3],ke=(N.type===17?Fn(N.number):Nc.parse(C,N))/(Math.PI*2),Ne=En(V)?V.number/100:0,_e=En(Y)?Y.number/100:0,Ke=typeof ue<"u"&&En(ue)?Hr(ue,1):1;if(Ne===0)return zs(_e*255,_e*255,_e*255,1);var Je=_e<=.5?_e*(Ne+1):_e+Ne-_e*Ne,dt=_e*2-Je,Gt=Ls(dt,Je,ke+1/3),Rt=Ls(dt,Je,ke),$t=Ls(dt,Je,ke-1/3);return zs(Gt*255,Rt*255,$t*255,Ke)},ua={hsl:ca,hsla:ca,rgb:Ws,rgba:Ws},Fi=function(C,v){return Ti.parse(C,Ir.create(v).parseComponentValue())},ai={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},da={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(C,v){return v.map(function(k){if(lr(k))switch(k.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Gn={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ka=function(C,v){var k=Ti.parse(C,v[0]),N=v[1];return N&&En(N)?{color:k,stop:N}:{color:k,stop:null}},Os=function(C,v){var k=C[0],N=C[C.length-1];k.stop===null&&(k.stop=Kn),N.stop===null&&(N.stop=Ii);for(var V=[],Y=0,ue=0;ue<C.length;ue++){var ke=C[ue].stop;if(ke!==null){var Ne=Hr(ke,v);Ne>Y?V.push(Ne):V.push(Y),Y=Ne}else V.push(null)}for(var _e=null,ue=0;ue<V.length;ue++){var Ke=V[ue];if(Ke===null)_e===null&&(_e=ue);else if(_e!==null){for(var Je=ue-_e,dt=V[_e-1],Gt=(Ke-dt)/(Je+1),Rt=1;Rt<=Je;Rt++)V[_e+Rt-1]=Gt*Rt;_e=null}}return C.map(function($t,Br){var er=$t.color;return{color:er,stop:Math.max(Math.min(1,V[Br]/v),0)}})},Xi=function(C,v,k){var N=v/2,V=k/2,Y=Hr(C[0],v)-N,ue=V-Hr(C[1],k);return(Math.atan2(ue,Y)+Math.PI*2)%(Math.PI*2)},kc=function(C,v,k){var N=typeof C=="number"?C:Xi(C,v,k),V=Math.abs(v*Math.sin(N))+Math.abs(k*Math.cos(N)),Y=v/2,ue=k/2,ke=V/2,Ne=Math.sin(N-Math.PI/2)*ke,_e=Math.cos(N-Math.PI/2)*ke;return[V,Y-_e,Y+_e,ue-Ne,ue+Ne]},li=function(C,v){return Math.sqrt(C*C+v*v)},Sc=function(C,v,k,N,V){var Y=[[0,0],[0,v],[C,0],[C,v]];return Y.reduce(function(ue,ke){var Ne=ke[0],_e=ke[1],Ke=li(k-Ne,N-_e);return(V?Ke<ue.optimumDistance:Ke>ue.optimumDistance)?{optimumCorner:ke,optimumDistance:Ke}:ue},{optimumDistance:V?1/0:-1/0,optimumCorner:null}).optimumCorner},Ul=function(C,v,k,N,V){var Y=0,ue=0;switch(C.size){case 0:C.shape===0?Y=ue=Math.min(Math.abs(v),Math.abs(v-N),Math.abs(k),Math.abs(k-V)):C.shape===1&&(Y=Math.min(Math.abs(v),Math.abs(v-N)),ue=Math.min(Math.abs(k),Math.abs(k-V)));break;case 2:if(C.shape===0)Y=ue=Math.min(li(v,k),li(v,k-V),li(v-N,k),li(v-N,k-V));else if(C.shape===1){var ke=Math.min(Math.abs(k),Math.abs(k-V))/Math.min(Math.abs(v),Math.abs(v-N)),Ne=Sc(N,V,v,k,!0),_e=Ne[0],Ke=Ne[1];Y=li(_e-v,(Ke-k)/ke),ue=ke*Y}break;case 1:C.shape===0?Y=ue=Math.max(Math.abs(v),Math.abs(v-N),Math.abs(k),Math.abs(k-V)):C.shape===1&&(Y=Math.max(Math.abs(v),Math.abs(v-N)),ue=Math.max(Math.abs(k),Math.abs(k-V)));break;case 3:if(C.shape===0)Y=ue=Math.max(li(v,k),li(v,k-V),li(v-N,k),li(v-N,k-V));else if(C.shape===1){var ke=Math.max(Math.abs(k),Math.abs(k-V))/Math.max(Math.abs(v),Math.abs(v-N)),Je=Sc(N,V,v,k,!1),_e=Je[0],Ke=Je[1];Y=li(_e-v,(Ke-k)/ke),ue=ke*Y}break}return Array.isArray(C.size)&&(Y=Hr(C.size[0],N),ue=C.size.length===2?Hr(C.size[1],V):Y),[Y,ue]},Rl=function(C,v){var k=Fn(180),N=[];return as(v).forEach(function(V,Y){if(Y===0){var ue=V[0];if(ue.type===20&&ue.value==="to"){k=_u(V);return}else if(Bc(ue)){k=Nc.parse(C,ue);return}}var ke=Ka(C,V);N.push(ke)}),{angle:k,stops:N,type:1}},po=function(C,v){var k=Fn(180),N=[];return as(v).forEach(function(V,Y){if(Y===0){var ue=V[0];if(ue.type===20&&["top","left","right","bottom"].indexOf(ue.value)!==-1){k=_u(V);return}else if(Bc(ue)){k=(Nc.parse(C,ue)+Fn(270))%Fn(360);return}}var ke=Ka(C,V);N.push(ke)}),{angle:k,stops:N,type:1}},Ml=function(C,v){var k=Fn(180),N=[],V=1,Y=0,ue=3,ke=[];return as(v).forEach(function(Ne,_e){var Ke=Ne[0];if(_e===0){if(lr(Ke)&&Ke.value==="linear"){V=1;return}else if(lr(Ke)&&Ke.value==="radial"){V=2;return}}if(Ke.type===18){if(Ke.name==="from"){var Je=Ti.parse(C,Ke.values[0]);N.push({stop:Kn,color:Je})}else if(Ke.name==="to"){var Je=Ti.parse(C,Ke.values[0]);N.push({stop:Ii,color:Je})}else if(Ke.name==="color-stop"){var dt=Ke.values.filter(ys);if(dt.length===2){var Je=Ti.parse(C,dt[1]),Gt=dt[0];cn(Gt)&&N.push({stop:{type:16,number:Gt.number*100,flags:Gt.flags},color:Je})}}}}),V===1?{angle:(k+Fn(180))%Fn(360),stops:N,type:V}:{size:ue,shape:Y,stops:N,position:ke,type:V}},Dl="closest-side",za="farthest-side",Aa="closest-corner",Ec="farthest-corner",Li="circle",Pi="ellipse",un="cover",dn="contain",qn=function(C,v){var k=0,N=3,V=[],Y=[];return as(v).forEach(function(ue,ke){var Ne=!0;if(ke===0){var _e=!1;Ne=ue.reduce(function(Je,dt){if(_e)if(lr(dt))switch(dt.value){case"center":return Y.push(Fl),Je;case"top":case"left":return Y.push(Kn),Je;case"right":case"bottom":return Y.push(Ii),Je}else(En(dt)||qi(dt))&&Y.push(dt);else if(lr(dt))switch(dt.value){case Li:return k=0,!1;case Pi:return k=1,!1;case"at":return _e=!0,!1;case Dl:return N=0,!1;case un:case za:return N=1,!1;case dn:case Aa:return N=2,!1;case Ec:return N=3,!1}else if(qi(dt)||En(dt))return Array.isArray(N)||(N=[]),N.push(dt),!1;return Je},Ne)}if(Ne){var Ke=Ka(C,ue);V.push(Ke)}}),{size:N,shape:k,stops:V,position:Y,type:2}},Qn=function(C,v){var k=0,N=3,V=[],Y=[];return as(v).forEach(function(ue,ke){var Ne=!0;if(ke===0?Ne=ue.reduce(function(Ke,Je){if(lr(Je))switch(Je.value){case"center":return Y.push(Fl),!1;case"top":case"left":return Y.push(Kn),!1;case"right":case"bottom":return Y.push(Ii),!1}else if(En(Je)||qi(Je))return Y.push(Je),!1;return Ke},Ne):ke===1&&(Ne=ue.reduce(function(Ke,Je){if(lr(Je))switch(Je.value){case Li:return k=0,!1;case Pi:return k=1,!1;case dn:case Dl:return N=0,!1;case za:return N=1,!1;case Aa:return N=2,!1;case un:case Ec:return N=3,!1}else if(qi(Je)||En(Je))return Array.isArray(N)||(N=[]),N.push(Je),!1;return Ke},Ne)),Ne){var _e=Ka(C,ue);V.push(_e)}}),{size:N,shape:k,stops:V,position:Y,type:2}},ha=function(C){return C.type===1},Hu=function(C){return C.type===2},Wa={name:"image",parse:function(C,v){if(v.type===22){var k={url:v.value,type:0};return C.cache.addImage(v.value),k}if(v.type===18){var N=jA[v.name];if(typeof N>"u")throw new Error('Attempting to parse an unsupported image function "'+v.name+'"');return N(C,v.values)}throw new Error("Unsupported image type "+v.type)}};function wA(C){return!(C.type===20&&C.value==="none")&&(C.type!==18||!!jA[C.name])}var jA={"linear-gradient":Rl,"-moz-linear-gradient":po,"-ms-linear-gradient":po,"-o-linear-gradient":po,"-webkit-linear-gradient":po,"radial-gradient":qn,"-moz-radial-gradient":Qn,"-ms-radial-gradient":Qn,"-o-radial-gradient":Qn,"-webkit-radial-gradient":Qn,"-webkit-gradient":Ml},CA={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(C,v){if(v.length===0)return[];var k=v[0];return k.type===20&&k.value==="none"?[]:v.filter(function(N){return ys(N)&&wA(N)}).map(function(N){return Wa.parse(C,N)})}},Ui={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(C,v){return v.map(function(k){if(lr(k))switch(k.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ji={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(C,v){return as(v).map(function(k){return k.filter(En)}).map(Tl)}},NA={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(C,v){return as(v).map(function(k){return k.filter(lr).map(function(N){return N.value}).join(" ")}).map(BA)}},BA=function(C){switch(C){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ol;(function(C){C.AUTO="auto",C.CONTAIN="contain",C.COVER="cover"})(Ol||(Ol={}));var kA={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(C,v){return as(v).map(function(k){return k.filter(SA)})}},SA=function(C){return lr(C)||En(C)},Ic=function(C){return{name:"border-"+C+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Kp=Ic("top"),pf=Ic("right"),gf=Ic("bottom"),EA=Ic("left"),Tc=function(C){return{name:"border-radius-"+C,initialValue:"0 0",prefix:!1,type:1,parse:function(v,k){return Tl(k.filter(En))}}},c1=Tc("top-left"),u1=Tc("top-right"),zp=Tc("bottom-right"),d1=Tc("bottom-left"),IA=function(C){return{name:"border-"+C+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(v,k){switch(k){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},A1=IA("top"),h1=IA("right"),f1=IA("bottom"),xf=IA("left"),Fc=function(C){return{name:"border-"+C+"-width",initialValue:"0",type:0,prefix:!1,parse:function(v,k){return ln(k)?k.number:0}}},$u=Fc("top"),m1=Fc("right"),p1=Fc("bottom"),Wp=Fc("left"),g1={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},x1={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(C,v){switch(v){case"rtl":return 1;case"ltr":default:return 0}}},y1={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(C,v){return v.filter(lr).reduce(function(k,N){return k|b1(N.value)},0)}},b1=function(C){switch(C){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Ga={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(C,v){switch(v){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},go={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(C,v){return v.type===20&&v.value==="normal"?0:v.type===17||v.type===15?v.number:0}},Yi;(function(C){C.NORMAL="normal",C.STRICT="strict"})(Yi||(Yi={}));var v1={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(C,v){switch(v){case"strict":return Yi.STRICT;case"normal":default:return Yi.NORMAL}}},Gp={name:"line-height",initialValue:"normal",prefix:!1,type:4},fa=function(C,v){return lr(C)&&C.value==="normal"?1.2*v:C.type===17?v*C.number:En(C)?Hr(C,v):v},Zi={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(C,v){return v.type===20&&v.value==="none"?null:Wa.parse(C,v)}},w1={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(C,v){switch(v){case"inside":return 0;case"outside":default:return 1}}},yf={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(C,v){switch(v){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Vu=function(C){return{name:"margin-"+C,initialValue:"0",prefix:!1,type:4}},qp=Vu("top"),Xp=Vu("right"),Jp=Vu("bottom"),j1=Vu("left"),TA={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(C,v){return v.filter(lr).map(function(k){switch(k.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},FA={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(C,v){switch(v){case"break-word":return"break-word";case"normal":default:return"normal"}}},qa=function(C){return{name:"padding-"+C,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},bf=qa("top"),C1=qa("right"),Yp=qa("bottom"),N1=qa("left"),B1={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(C,v){switch(v){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},k1={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(C,v){switch(v){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},S1={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(C,v){return v.length===1&&Zn(v[0],"none")?[]:as(v).map(function(k){for(var N={color:ai.TRANSPARENT,offsetX:Kn,offsetY:Kn,blur:Kn},V=0,Y=0;Y<k.length;Y++){var ue=k[Y];qi(ue)?(V===0?N.offsetX=ue:V===1?N.offsetY=ue:N.blur=ue,V++):N.color=Ti.parse(C,ue)}return N})}},E1={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(C,v){switch(v){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},I1={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(C,v){if(v.type===20&&v.value==="none")return null;if(v.type===18){var k=T1[v.name];if(typeof k>"u")throw new Error('Attempting to parse an unsupported transform function "'+v.name+'"');return k(v.values)}return null}},Zp=function(C){var v=C.filter(function(k){return k.type===17}).map(function(k){return k.number});return v.length===6?v:null},LA=function(C){var v=C.filter(function(Ne){return Ne.type===17}).map(function(Ne){return Ne.number}),k=v[0],N=v[1];v[2],v[3];var V=v[4],Y=v[5];v[6],v[7],v[8],v[9],v[10],v[11];var ue=v[12],ke=v[13];return v[14],v[15],v.length===16?[k,N,V,Y,ue,ke]:null},T1={matrix:Zp,matrix3d:LA},eg={type:16,number:50,flags:Si},tg=[eg,eg],y={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(C,v){var k=v.filter(En);return k.length!==2?tg:[k[0],k[1]]}},E={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(C,v){switch(v){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},O;(function(C){C.NORMAL="normal",C.BREAK_ALL="break-all",C.KEEP_ALL="keep-all"})(O||(O={}));for(var W={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(C,v){switch(v){case"break-all":return O.BREAK_ALL;case"keep-all":return O.KEEP_ALL;case"normal":default:return O.NORMAL}}},ne={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(C,v){if(v.type===20)return{auto:!0,order:0};if(cn(v))return{auto:!1,order:v.number};throw new Error("Invalid z-index number parsed")}},le={name:"time",parse:function(C,v){if(v.type===15)switch(v.unit.toLowerCase()){case"s":return 1e3*v.number;case"ms":return v.number}throw new Error("Unsupported time type")}},de={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(C,v){return cn(v)?v.number:1}},ge={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},be={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(C,v){return v.filter(lr).map(function(k){switch(k.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(k){return k!==0})}},Ee={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(C,v){var k=[],N=[];return v.forEach(function(V){switch(V.type){case 20:case 0:k.push(V.value);break;case 17:k.push(V.number.toString());break;case 4:N.push(k.join(" ")),k.length=0;break}}),k.length&&N.push(k.join(" ")),N.map(function(V){return V.indexOf(" ")===-1?V:"'"+V+"'"})}},Oe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Ye={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(C,v){if(cn(v))return v.number;if(lr(v))switch(v.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ze={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(C,v){return v.filter(lr).map(function(k){return k.value})}},ze={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(C,v){switch(v){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},lt=function(C,v){return(C&v)!==0},it={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(C,v){if(v.length===0)return[];var k=v[0];return k.type===20&&k.value==="none"?[]:v}},Qe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(C,v){if(v.length===0)return null;var k=v[0];if(k.type===20&&k.value==="none")return null;for(var N=[],V=v.filter(Gi),Y=0;Y<V.length;Y++){var ue=V[Y],ke=V[Y+1];if(ue.type===20){var Ne=ke&&cn(ke)?ke.number:1;N.push({counter:ue.value,increment:Ne})}}return N}},Ve={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(C,v){if(v.length===0)return[];for(var k=[],N=v.filter(Gi),V=0;V<N.length;V++){var Y=N[V],ue=N[V+1];if(lr(Y)&&Y.value!=="none"){var ke=ue&&cn(ue)?ue.number:0;k.push({counter:Y.value,reset:ke})}}return k}},mt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(C,v){return v.filter(ln).map(function(k){return le.parse(C,k)})}},bt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(C,v){if(v.length===0)return null;var k=v[0];if(k.type===20&&k.value==="none")return null;var N=[],V=v.filter(Ds);if(V.length%2!==0)return null;for(var Y=0;Y<V.length;Y+=2){var ue=V[Y].value,ke=V[Y+1].value;N.push({open:ue,close:ke})}return N}},gt=function(C,v,k){if(!C)return"";var N=C[Math.min(v,C.length-1)];return N?k?N.open:N.close:""},Kt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(C,v){return v.length===1&&Zn(v[0],"none")?[]:as(v).map(function(k){for(var N={color:255,offsetX:Kn,offsetY:Kn,blur:Kn,spread:Kn,inset:!1},V=0,Y=0;Y<k.length;Y++){var ue=k[Y];Zn(ue,"inset")?N.inset=!0:qi(ue)?(V===0?N.offsetX=ue:V===1?N.offsetY=ue:V===2?N.blur=ue:N.spread=ue,V++):N.color=Ti.parse(C,ue)}return N})}},Dt={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(C,v){var k=[0,1,2],N=[];return v.filter(lr).forEach(function(V){switch(V.value){case"stroke":N.push(1);break;case"fill":N.push(0);break;case"markers":N.push(2);break}}),k.forEach(function(V){N.indexOf(V)===-1&&N.push(V)}),N}},sr={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},_t={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(C,v){return ln(v)?v.number:0}},$r=function(){function C(v,k){var N,V;this.animationDuration=vt(v,mt,k.animationDuration),this.backgroundClip=vt(v,da,k.backgroundClip),this.backgroundColor=vt(v,Gn,k.backgroundColor),this.backgroundImage=vt(v,CA,k.backgroundImage),this.backgroundOrigin=vt(v,Ui,k.backgroundOrigin),this.backgroundPosition=vt(v,Ji,k.backgroundPosition),this.backgroundRepeat=vt(v,NA,k.backgroundRepeat),this.backgroundSize=vt(v,kA,k.backgroundSize),this.borderTopColor=vt(v,Kp,k.borderTopColor),this.borderRightColor=vt(v,pf,k.borderRightColor),this.borderBottomColor=vt(v,gf,k.borderBottomColor),this.borderLeftColor=vt(v,EA,k.borderLeftColor),this.borderTopLeftRadius=vt(v,c1,k.borderTopLeftRadius),this.borderTopRightRadius=vt(v,u1,k.borderTopRightRadius),this.borderBottomRightRadius=vt(v,zp,k.borderBottomRightRadius),this.borderBottomLeftRadius=vt(v,d1,k.borderBottomLeftRadius),this.borderTopStyle=vt(v,A1,k.borderTopStyle),this.borderRightStyle=vt(v,h1,k.borderRightStyle),this.borderBottomStyle=vt(v,f1,k.borderBottomStyle),this.borderLeftStyle=vt(v,xf,k.borderLeftStyle),this.borderTopWidth=vt(v,$u,k.borderTopWidth),this.borderRightWidth=vt(v,m1,k.borderRightWidth),this.borderBottomWidth=vt(v,p1,k.borderBottomWidth),this.borderLeftWidth=vt(v,Wp,k.borderLeftWidth),this.boxShadow=vt(v,Kt,k.boxShadow),this.color=vt(v,g1,k.color),this.direction=vt(v,x1,k.direction),this.display=vt(v,y1,k.display),this.float=vt(v,Ga,k.cssFloat),this.fontFamily=vt(v,Ee,k.fontFamily),this.fontSize=vt(v,Oe,k.fontSize),this.fontStyle=vt(v,ze,k.fontStyle),this.fontVariant=vt(v,Ze,k.fontVariant),this.fontWeight=vt(v,Ye,k.fontWeight),this.letterSpacing=vt(v,go,k.letterSpacing),this.lineBreak=vt(v,v1,k.lineBreak),this.lineHeight=vt(v,Gp,k.lineHeight),this.listStyleImage=vt(v,Zi,k.listStyleImage),this.listStylePosition=vt(v,w1,k.listStylePosition),this.listStyleType=vt(v,yf,k.listStyleType),this.marginTop=vt(v,qp,k.marginTop),this.marginRight=vt(v,Xp,k.marginRight),this.marginBottom=vt(v,Jp,k.marginBottom),this.marginLeft=vt(v,j1,k.marginLeft),this.opacity=vt(v,de,k.opacity);var Y=vt(v,TA,k.overflow);this.overflowX=Y[0],this.overflowY=Y[Y.length>1?1:0],this.overflowWrap=vt(v,FA,k.overflowWrap),this.paddingTop=vt(v,bf,k.paddingTop),this.paddingRight=vt(v,C1,k.paddingRight),this.paddingBottom=vt(v,Yp,k.paddingBottom),this.paddingLeft=vt(v,N1,k.paddingLeft),this.paintOrder=vt(v,Dt,k.paintOrder),this.position=vt(v,k1,k.position),this.textAlign=vt(v,B1,k.textAlign),this.textDecorationColor=vt(v,ge,(N=k.textDecorationColor)!==null&&N!==void 0?N:k.color),this.textDecorationLine=vt(v,be,(V=k.textDecorationLine)!==null&&V!==void 0?V:k.textDecoration),this.textShadow=vt(v,S1,k.textShadow),this.textTransform=vt(v,E1,k.textTransform),this.transform=vt(v,I1,k.transform),this.transformOrigin=vt(v,y,k.transformOrigin),this.visibility=vt(v,E,k.visibility),this.webkitTextStrokeColor=vt(v,sr,k.webkitTextStrokeColor),this.webkitTextStrokeWidth=vt(v,_t,k.webkitTextStrokeWidth),this.wordBreak=vt(v,W,k.wordBreak),this.zIndex=vt(v,ne,k.zIndex)}return C.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},C.prototype.isTransparent=function(){return mo(this.backgroundColor)},C.prototype.isTransformed=function(){return this.transform!==null},C.prototype.isPositioned=function(){return this.position!==0},C.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},C.prototype.isFloating=function(){return this.float!==0},C.prototype.isInlineLevel=function(){return lt(this.display,4)||lt(this.display,33554432)||lt(this.display,268435456)||lt(this.display,536870912)||lt(this.display,67108864)||lt(this.display,134217728)},C}(),Jr=function(){function C(v,k){this.content=vt(v,it,k.content),this.quotes=vt(v,bt,k.quotes)}return C}(),Ur=function(){function C(v,k){this.counterIncrement=vt(v,Qe,k.counterIncrement),this.counterReset=vt(v,Ve,k.counterReset)}return C}(),vt=function(C,v,k){var N=new fr,V=k!==null&&typeof k<"u"?k.toString():v.initialValue;N.write(V);var Y=new Ir(N.read());switch(v.type){case 2:var ue=Y.parseComponentValue();return v.parse(C,lr(ue)?ue.value:v.initialValue);case 0:return v.parse(C,Y.parseComponentValue());case 1:return v.parse(C,Y.parseComponentValues());case 4:return Y.parseComponentValue();case 3:switch(v.format){case"angle":return Nc.parse(C,Y.parseComponentValue());case"color":return Ti.parse(C,Y.parseComponentValue());case"image":return Wa.parse(C,Y.parseComponentValue());case"length":var ke=Y.parseComponentValue();return qi(ke)?ke:Kn;case"length-percentage":var Ne=Y.parseComponentValue();return En(Ne)?Ne:Kn;case"time":return le.parse(C,Y.parseComponentValue())}break}},An="data-html2canvas-debug",sn=function(C){var v=C.getAttribute(An);switch(v){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},pr=function(C,v){var k=sn(C);return k===1||v===k},Yr=function(){function C(v,k){if(this.context=v,this.textNodes=[],this.elements=[],this.flags=0,pr(k,3))debugger;this.styles=new $r(v,window.getComputedStyle(k,null)),O1(k)&&(this.styles.animationDuration.some(function(N){return N>0})&&(k.style.animationDuration="0s"),this.styles.transform!==null&&(k.style.transform="none")),this.bounds=d(this.context,k),pr(k,4)&&(this.flags|=16)}return C}(),ci="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Xn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bs=typeof Uint8Array>"u"?[]:new Uint8Array(256),Dr=0;Dr<Xn.length;Dr++)bs[Xn.charCodeAt(Dr)]=Dr;for(var Ri=function(C){var v=C.length*.75,k=C.length,N,V=0,Y,ue,ke,Ne;C[C.length-1]==="="&&(v--,C[C.length-2]==="="&&v--);var _e=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(v):new Array(v),Ke=Array.isArray(_e)?_e:new Uint8Array(_e);for(N=0;N<k;N+=4)Y=bs[C.charCodeAt(N)],ue=bs[C.charCodeAt(N+1)],ke=bs[C.charCodeAt(N+2)],Ne=bs[C.charCodeAt(N+3)],Ke[V++]=Y<<2|ue>>4,Ke[V++]=(ue&15)<<4|ke>>2,Ke[V++]=(ke&3)<<6|Ne&63;return _e},Mi=function(C){for(var v=C.length,k=[],N=0;N<v;N+=2)k.push(C[N+1]<<8|C[N]);return k},vs=function(C){for(var v=C.length,k=[],N=0;N<v;N+=4)k.push(C[N+3]<<24|C[N+2]<<16|C[N+1]<<8|C[N]);return k},Ln=5,Ps=11,ui=2,$o=Ps-Ln,ls=65536>>Ln,ma=1<<Ln,pa=ma-1,Lc=1024>>Ln,Xa=ls+Lc,_n=Xa,vf=32,rg=_n+vf,ng=65536>>Ps,PA=1<<$o,Ku=PA-1,zu=function(C,v,k){return C.slice?C.slice(v,k):new Uint16Array(Array.prototype.slice.call(C,v,k))},xo=function(C,v,k){return C.slice?C.slice(v,k):new Uint32Array(Array.prototype.slice.call(C,v,k))},Pc=function(C,v){var k=Ri(C),N=Array.isArray(k)?vs(k):new Uint32Array(k),V=Array.isArray(k)?Mi(k):new Uint16Array(k),Y=24,ue=zu(V,Y/2,N[4]/2),ke=N[5]===2?zu(V,(Y+N[4])/2):xo(N,Math.ceil((Y+N[4])/4));return new Uc(N[0],N[1],N[2],N[3],ue,ke)},Uc=function(){function C(v,k,N,V,Y,ue){this.initialValue=v,this.errorValue=k,this.highStart=N,this.highValueIndex=V,this.index=Y,this.data=ue}return C.prototype.get=function(v){var k;if(v>=0){if(v<55296||v>56319&&v<=65535)return k=this.index[v>>Ln],k=(k<<ui)+(v&pa),this.data[k];if(v<=65535)return k=this.index[ls+(v-55296>>Ln)],k=(k<<ui)+(v&pa),this.data[k];if(v<this.highStart)return k=rg-ng+(v>>Ps),k=this.index[k],k+=v>>Ln&Ku,k=this.index[k],k=(k<<ui)+(v&pa),this.data[k];if(v<=1114111)return this.data[this.highValueIndex]}return this.errorValue},C}(),wf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",UA=typeof Uint8Array>"u"?[]:new Uint8Array(256),Wu=0;Wu<wf.length;Wu++)UA[wf.charCodeAt(Wu)]=Wu;var RA=1,Gu=2,Rc=3,Mc=4,sg=5,F1=7,MA=8,Vo=9,jf=10,ig=11,og=12,Cf=13,qu=14,DA=15,ag=function(C){for(var v=[],k=0,N=C.length;k<N;){var V=C.charCodeAt(k++);if(V>=55296&&V<=56319&&k<N){var Y=C.charCodeAt(k++);(Y&64512)===56320?v.push(((V&1023)<<10)+(Y&1023)+65536):(v.push(V),k--)}else v.push(V)}return v},OA=function(){for(var C=[],v=0;v<arguments.length;v++)C[v]=arguments[v];if(String.fromCodePoint)return String.fromCodePoint.apply(String,C);var k=C.length;if(!k)return"";for(var N=[],V=-1,Y="";++V<k;){var ue=C[V];ue<=65535?N.push(ue):(ue-=65536,N.push((ue>>10)+55296,ue%1024+56320)),(V+1===k||N.length>16384)&&(Y+=String.fromCharCode.apply(String,N),N.length=0)}return Y},Nf=Pc(ci),Qs="",QA="",L1=function(C){return Nf.get(C)},_A=function(C,v,k){var N=k-2,V=v[N],Y=v[k-1],ue=v[k];if(Y===Gu&&ue===Rc)return Qs;if(Y===Gu||Y===Rc||Y===Mc||ue===Gu||ue===Rc||ue===Mc)return QA;if(Y===MA&&[MA,Vo,ig,og].indexOf(ue)!==-1||(Y===ig||Y===Vo)&&(ue===Vo||ue===jf)||(Y===og||Y===jf)&&ue===jf||ue===Cf||ue===sg||ue===F1||Y===RA)return Qs;if(Y===Cf&&ue===qu){for(;V===sg;)V=v[--N];if(V===qu)return Qs}if(Y===DA&&ue===DA){for(var ke=0;V===DA;)ke++,V=v[--N];if(ke%2===0)return Qs}return QA},lg=function(C){var v=ag(C),k=v.length,N=0,V=0,Y=v.map(L1);return{next:function(){if(N>=k)return{done:!0,value:null};for(var ue=Qs;N<k&&(ue=_A(v,Y,++N))===Qs;);if(ue!==Qs||N===k){var ke=OA.apply(null,v.slice(V,N));return V=N,{value:ke,done:!1}}return{done:!0,value:null}}}},Bf=function(C){for(var v=lg(C),k=[],N;!(N=v.next()).done;)N.value&&k.push(N.value.slice());return k},Ja=function(C){var v=123;if(C.createRange){var k=C.createRange();if(k.getBoundingClientRect){var N=C.createElement("boundtest");N.style.height=v+"px",N.style.display="block",C.body.appendChild(N),k.selectNode(N);var V=k.getBoundingClientRect(),Y=Math.round(V.height);if(C.body.removeChild(N),Y===v)return!0}}return!1},cg=function(C){var v=C.createElement("boundtest");v.style.width="50px",v.style.display="block",v.style.fontSize="12px",v.style.letterSpacing="0px",v.style.wordSpacing="0px",C.body.appendChild(v);var k=C.createRange();v.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var N=v.firstChild,V=A(N.data).map(function(Ne){return f(Ne)}),Y=0,ue={},ke=V.every(function(Ne,_e){k.setStart(N,Y),k.setEnd(N,Y+Ne.length);var Ke=k.getBoundingClientRect();Y+=Ne.length;var Je=Ke.x>ue.x||Ke.y>ue.y;return ue=Ke,_e===0?!0:Je});return C.body.removeChild(v),ke},ug=function(){return typeof new Image().crossOrigin<"u"},P1=function(){return typeof new XMLHttpRequest().responseType=="string"},dg=function(C){var v=new Image,k=C.createElement("canvas"),N=k.getContext("2d");if(!N)return!1;v.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{N.drawImage(v,0,0),k.toDataURL()}catch{return!1}return!0},Ql=function(C){return C[0]===0&&C[1]===255&&C[2]===0&&C[3]===255},U1=function(C){var v=C.createElement("canvas"),k=100;v.width=k,v.height=k;var N=v.getContext("2d");if(!N)return Promise.reject(!1);N.fillStyle="rgb(0, 255, 0)",N.fillRect(0,0,k,k);var V=new Image,Y=v.toDataURL();V.src=Y;var ue=HA(k,k,0,0,V);return N.fillStyle="red",N.fillRect(0,0,k,k),Ag(ue).then(function(ke){N.drawImage(ke,0,0);var Ne=N.getImageData(0,0,k,k).data;N.fillStyle="red",N.fillRect(0,0,k,k);var _e=C.createElement("div");return _e.style.backgroundImage="url("+Y+")",_e.style.height=k+"px",Ql(Ne)?Ag(HA(k,k,0,0,_e)):Promise.reject(!1)}).then(function(ke){return N.drawImage(ke,0,0),Ql(N.getImageData(0,0,k,k).data)}).catch(function(){return!1})},HA=function(C,v,k,N,V){var Y="http://www.w3.org/2000/svg",ue=document.createElementNS(Y,"svg"),ke=document.createElementNS(Y,"foreignObject");return ue.setAttributeNS(null,"width",C.toString()),ue.setAttributeNS(null,"height",v.toString()),ke.setAttributeNS(null,"width","100%"),ke.setAttributeNS(null,"height","100%"),ke.setAttributeNS(null,"x",k.toString()),ke.setAttributeNS(null,"y",N.toString()),ke.setAttributeNS(null,"externalResourcesRequired","true"),ue.appendChild(ke),ke.appendChild(V),ue},Ag=function(C){return new Promise(function(v,k){var N=new Image;N.onload=function(){return v(N)},N.onerror=k,N.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(C))})},ws={get SUPPORT_RANGE_BOUNDS(){var C=Ja(document);return Object.defineProperty(ws,"SUPPORT_RANGE_BOUNDS",{value:C}),C},get SUPPORT_WORD_BREAKING(){var C=ws.SUPPORT_RANGE_BOUNDS&&cg(document);return Object.defineProperty(ws,"SUPPORT_WORD_BREAKING",{value:C}),C},get SUPPORT_SVG_DRAWING(){var C=dg(document);return Object.defineProperty(ws,"SUPPORT_SVG_DRAWING",{value:C}),C},get SUPPORT_FOREIGNOBJECT_DRAWING(){var C=typeof Array.from=="function"&&typeof window.fetch=="function"?U1(document):Promise.resolve(!1);return Object.defineProperty(ws,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:C}),C},get SUPPORT_CORS_IMAGES(){var C=ug();return Object.defineProperty(ws,"SUPPORT_CORS_IMAGES",{value:C}),C},get SUPPORT_RESPONSE_TYPE(){var C=P1();return Object.defineProperty(ws,"SUPPORT_RESPONSE_TYPE",{value:C}),C},get SUPPORT_CORS_XHR(){var C="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ws,"SUPPORT_CORS_XHR",{value:C}),C},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var C=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ws,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:C}),C}},Xu=function(){function C(v,k){this.text=v,this.bounds=k}return C}(),Ju=function(C,v,k,N){var V=Za(v,k),Y=[],ue=0;return V.forEach(function(ke){if(k.textDecorationLine.length||ke.trim().length>0)if(ws.SUPPORT_RANGE_BOUNDS){var Ne=Yu(N,ue,ke.length).getClientRects();if(Ne.length>1){var _e=yo(ke),Ke=0;_e.forEach(function(dt){Y.push(new Xu(dt,c.fromDOMRectList(C,Yu(N,Ke+ue,dt.length).getClientRects()))),Ke+=dt.length})}else Y.push(new Xu(ke,c.fromDOMRectList(C,Ne)))}else{var Je=N.splitText(ke.length);Y.push(new Xu(ke,kf(C,N))),N=Je}else ws.SUPPORT_RANGE_BOUNDS||(N=N.splitText(ke.length));ue+=ke.length}),Y},kf=function(C,v){var k=v.ownerDocument;if(k){var N=k.createElement("html2canvaswrapper");N.appendChild(v.cloneNode(!0));var V=v.parentNode;if(V){V.replaceChild(N,v);var Y=d(C,N);return N.firstChild&&V.replaceChild(N.firstChild,N),Y}}return c.EMPTY},Yu=function(C,v,k){var N=C.ownerDocument;if(!N)throw new Error("Node has no owner document");var V=N.createRange();return V.setStart(C,v),V.setEnd(C,v+k),V},yo=function(C){if(ws.SUPPORT_NATIVE_TEXT_SEGMENTATION){var v=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(v.segment(C)).map(function(k){return k.segment})}return Bf(C)},Ya=function(C,v){if(ws.SUPPORT_NATIVE_TEXT_SEGMENTATION){var k=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(k.segment(C)).map(function(N){return N.segment})}return Sf(C,v)},Za=function(C,v){return v.letterSpacing!==0?yo(C):Ya(C,v)},$A=[32,160,4961,65792,65793,4153,4241],Sf=function(C,v){for(var k=fo(C,{lineBreak:v.lineBreak,wordBreak:v.overflowWrap==="break-word"?"break-word":v.wordBreak}),N=[],V,Y=function(){if(V.value){var ue=V.value.slice(),ke=A(ue),Ne="";ke.forEach(function(_e){$A.indexOf(_e)===-1?Ne+=f(_e):(Ne.length&&N.push(Ne),N.push(f(_e)),Ne="")}),Ne.length&&N.push(Ne)}};!(V=k.next()).done;)Y();return N},hg=function(){function C(v,k,N){this.text=R1(k.data,N.textTransform),this.textBounds=Ju(v,this.text,N,k)}return C}(),R1=function(C,v){switch(v){case 1:return C.toLowerCase();case 3:return C.replace(Ef,If);case 2:return C.toUpperCase();default:return C}},Ef=/(^|\s|:|-|\(|\))([a-z])/g,If=function(C,v,k){return C.length>0?v+k.toUpperCase():C},vj=function(C){s(v,C);function v(k,N){var V=C.call(this,k,N)||this;return V.src=N.currentSrc||N.src,V.intrinsicWidth=N.naturalWidth,V.intrinsicHeight=N.naturalHeight,V.context.cache.addImage(V.src),V}return v}(Yr),wj=function(C){s(v,C);function v(k,N){var V=C.call(this,k,N)||this;return V.canvas=N,V.intrinsicWidth=N.width,V.intrinsicHeight=N.height,V}return v}(Yr),jj=function(C){s(v,C);function v(k,N){var V=C.call(this,k,N)||this,Y=new XMLSerializer,ue=d(k,N);return N.setAttribute("width",ue.width+"px"),N.setAttribute("height",ue.height+"px"),V.svg="data:image/svg+xml,"+encodeURIComponent(Y.serializeToString(N)),V.intrinsicWidth=N.width.baseVal.value,V.intrinsicHeight=N.height.baseVal.value,V.context.cache.addImage(V.svg),V}return v}(Yr),Cj=function(C){s(v,C);function v(k,N){var V=C.call(this,k,N)||this;return V.value=N.value,V}return v}(Yr),M1=function(C){s(v,C);function v(k,N){var V=C.call(this,k,N)||this;return V.start=N.start,V.reversed=typeof N.reversed=="boolean"&&N.reversed===!0,V}return v}(Yr),WL=[{type:15,flags:0,unit:"px",number:3}],GL=[{type:16,flags:0,number:50}],qL=function(C){return C.width>C.height?new c(C.left+(C.width-C.height)/2,C.top,C.height,C.height):C.width<C.height?new c(C.left,C.top+(C.height-C.width)/2,C.width,C.width):C},XL=function(C){var v=C.type===JL?new Array(C.value.length+1).join(""):C.value;return v.length===0?C.placeholder||"":v},fg="checkbox",mg="radio",JL="password",Nj=707406591,D1=function(C){s(v,C);function v(k,N){var V=C.call(this,k,N)||this;switch(V.type=N.type.toLowerCase(),V.checked=N.checked,V.value=XL(N),(V.type===fg||V.type===mg)&&(V.styles.backgroundColor=3739148031,V.styles.borderTopColor=V.styles.borderRightColor=V.styles.borderBottomColor=V.styles.borderLeftColor=2779096575,V.styles.borderTopWidth=V.styles.borderRightWidth=V.styles.borderBottomWidth=V.styles.borderLeftWidth=1,V.styles.borderTopStyle=V.styles.borderRightStyle=V.styles.borderBottomStyle=V.styles.borderLeftStyle=1,V.styles.backgroundClip=[0],V.styles.backgroundOrigin=[0],V.bounds=qL(V.bounds)),V.type){case fg:V.styles.borderTopRightRadius=V.styles.borderTopLeftRadius=V.styles.borderBottomRightRadius=V.styles.borderBottomLeftRadius=WL;break;case mg:V.styles.borderTopRightRadius=V.styles.borderTopLeftRadius=V.styles.borderBottomRightRadius=V.styles.borderBottomLeftRadius=GL;break}return V}return v}(Yr),Bj=function(C){s(v,C);function v(k,N){var V=C.call(this,k,N)||this,Y=N.options[N.selectedIndex||0];return V.value=Y&&Y.text||"",V}return v}(Yr),kj=function(C){s(v,C);function v(k,N){var V=C.call(this,k,N)||this;return V.value=N.value,V}return v}(Yr),Sj=function(C){s(v,C);function v(k,N){var V=C.call(this,k,N)||this;V.src=N.src,V.width=parseInt(N.width,10)||0,V.height=parseInt(N.height,10)||0,V.backgroundColor=V.styles.backgroundColor;try{if(N.contentWindow&&N.contentWindow.document&&N.contentWindow.document.documentElement){V.tree=Ij(k,N.contentWindow.document.documentElement);var Y=N.contentWindow.document.documentElement?Fi(k,getComputedStyle(N.contentWindow.document.documentElement).backgroundColor):ai.TRANSPARENT,ue=N.contentWindow.document.body?Fi(k,getComputedStyle(N.contentWindow.document.body).backgroundColor):ai.TRANSPARENT;V.backgroundColor=mo(Y)?mo(ue)?V.styles.backgroundColor:ue:Y}}catch{}return V}return v}(Yr),YL=["OL","UL","MENU"],pg=function(C,v,k,N){for(var V=v.firstChild,Y=void 0;V;V=Y)if(Y=V.nextSibling,Tj(V)&&V.data.trim().length>0)k.textNodes.push(new hg(C,V,k.styles));else if(VA(V))if(Mj(V)&&V.assignedNodes)V.assignedNodes().forEach(function(ke){return pg(C,ke,k,N)});else{var ue=Ej(C,V);ue.styles.isVisible()&&(ZL(V,ue,N)?ue.flags|=4:e7(ue.styles)&&(ue.flags|=2),YL.indexOf(V.tagName)!==-1&&(ue.flags|=8),k.elements.push(ue),V.slot,V.shadowRoot?pg(C,V.shadowRoot,ue,N):!xg(V)&&!Fj(V)&&!yg(V)&&pg(C,V,ue,N))}},Ej=function(C,v){return _1(v)?new vj(C,v):Lj(v)?new wj(C,v):Fj(v)?new jj(C,v):t7(v)?new Cj(C,v):r7(v)?new M1(C,v):n7(v)?new D1(C,v):yg(v)?new Bj(C,v):xg(v)?new kj(C,v):Uj(v)?new Sj(C,v):new Yr(C,v)},Ij=function(C,v){var k=Ej(C,v);return k.flags|=4,pg(C,v,k,k),k},ZL=function(C,v,k){return v.styles.isPositionedWithZIndex()||v.styles.opacity<1||v.styles.isTransformed()||Q1(C)&&k.styles.isTransparent()},e7=function(C){return C.isPositioned()||C.isFloating()},Tj=function(C){return C.nodeType===Node.TEXT_NODE},VA=function(C){return C.nodeType===Node.ELEMENT_NODE},O1=function(C){return VA(C)&&typeof C.style<"u"&&!gg(C)},gg=function(C){return typeof C.className=="object"},t7=function(C){return C.tagName==="LI"},r7=function(C){return C.tagName==="OL"},n7=function(C){return C.tagName==="INPUT"},s7=function(C){return C.tagName==="HTML"},Fj=function(C){return C.tagName==="svg"},Q1=function(C){return C.tagName==="BODY"},Lj=function(C){return C.tagName==="CANVAS"},Pj=function(C){return C.tagName==="VIDEO"},_1=function(C){return C.tagName==="IMG"},Uj=function(C){return C.tagName==="IFRAME"},Rj=function(C){return C.tagName==="STYLE"},i7=function(C){return C.tagName==="SCRIPT"},xg=function(C){return C.tagName==="TEXTAREA"},yg=function(C){return C.tagName==="SELECT"},Mj=function(C){return C.tagName==="SLOT"},Dj=function(C){return C.tagName.indexOf("-")>0},o7=function(){function C(){this.counters={}}return C.prototype.getCounterValue=function(v){var k=this.counters[v];return k&&k.length?k[k.length-1]:1},C.prototype.getCounterValues=function(v){var k=this.counters[v];return k||[]},C.prototype.pop=function(v){var k=this;v.forEach(function(N){return k.counters[N].pop()})},C.prototype.parse=function(v){var k=this,N=v.counterIncrement,V=v.counterReset,Y=!0;N!==null&&N.forEach(function(ke){var Ne=k.counters[ke.counter];Ne&&ke.increment!==0&&(Y=!1,Ne.length||Ne.push(1),Ne[Math.max(0,Ne.length-1)]+=ke.increment)});var ue=[];return Y&&V.forEach(function(ke){var Ne=k.counters[ke.counter];ue.push(ke.counter),Ne||(Ne=k.counters[ke.counter]=[]),Ne.push(ke.reset)}),ue},C}(),Oj={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Qj={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},a7={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},l7={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},KA=function(C,v,k,N,V,Y){return C<v||C>k?Ff(C,V,Y.length>0):N.integers.reduce(function(ue,ke,Ne){for(;C>=ke;)C-=ke,ue+=N.values[Ne];return ue},"")+Y},_j=function(C,v,k,N){var V="";do k||C--,V=N(C)+V,C/=v;while(C*v>=v);return V},cs=function(C,v,k,N,V){var Y=k-v+1;return(C<0?"-":"")+(_j(Math.abs(C),Y,N,function(ue){return f(Math.floor(ue%Y)+v)})+V)},Zu=function(C,v,k){k===void 0&&(k=". ");var N=v.length;return _j(Math.abs(C),N,!1,function(V){return v[Math.floor(V%N)]})+k},zA=1,Dc=2,Oc=4,Tf=8,_l=function(C,v,k,N,V,Y){if(C<-9999||C>9999)return Ff(C,4,V.length>0);var ue=Math.abs(C),ke=V;if(ue===0)return v[0]+ke;for(var Ne=0;ue>0&&Ne<=4;Ne++){var _e=ue%10;_e===0&&lt(Y,zA)&&ke!==""?ke=v[_e]+ke:_e>1||_e===1&&Ne===0||_e===1&&Ne===1&&lt(Y,Dc)||_e===1&&Ne===1&&lt(Y,Oc)&&C>100||_e===1&&Ne>1&&lt(Y,Tf)?ke=v[_e]+(Ne>0?k[Ne-1]:"")+ke:_e===1&&Ne>0&&(ke=k[Ne-1]+ke),ue=Math.floor(ue/10)}return(C<0?N:"")+ke},Hj="",$j="",Vj="",H1="",Ff=function(C,v,k){var N=k?". ":"",V=k?"":"",Y=k?", ":"",ue=k?" ":"";switch(v){case 0:return""+ue;case 1:return""+ue;case 2:return""+ue;case 5:var ke=cs(C,48,57,!0,N);return ke.length<4?"0"+ke:ke;case 4:return Zu(C,"",V);case 6:return KA(C,1,3999,Oj,3,N).toLowerCase();case 7:return KA(C,1,3999,Oj,3,N);case 8:return cs(C,945,969,!1,N);case 9:return cs(C,97,122,!1,N);case 10:return cs(C,65,90,!1,N);case 11:return cs(C,1632,1641,!0,N);case 12:case 49:return KA(C,1,9999,Qj,3,N);case 35:return KA(C,1,9999,Qj,3,N).toLowerCase();case 13:return cs(C,2534,2543,!0,N);case 14:case 30:return cs(C,6112,6121,!0,N);case 15:return Zu(C,"",V);case 16:return Zu(C,"",V);case 17:case 48:return _l(C,"",Hj,"",V,Dc|Oc|Tf);case 47:return _l(C,"",$j,"",V,zA|Dc|Oc|Tf);case 42:return _l(C,"",Hj,"",V,Dc|Oc|Tf);case 41:return _l(C,"",$j,"",V,zA|Dc|Oc|Tf);case 26:return _l(C,"","",Vj,V,0);case 25:return _l(C,"","",Vj,V,zA|Dc|Oc);case 31:return _l(C,"","",H1,Y,zA|Dc|Oc);case 33:return _l(C,"","",H1,Y,0);case 32:return _l(C,"","",H1,Y,zA|Dc|Oc);case 18:return cs(C,2406,2415,!0,N);case 20:return KA(C,1,19999,l7,3,N);case 21:return cs(C,2790,2799,!0,N);case 22:return cs(C,2662,2671,!0,N);case 22:return KA(C,1,10999,a7,3,N);case 23:return Zu(C,"");case 24:return Zu(C,"");case 27:return cs(C,3302,3311,!0,N);case 28:return Zu(C,"",V);case 29:return Zu(C,"",V);case 34:return cs(C,3792,3801,!0,N);case 37:return cs(C,6160,6169,!0,N);case 38:return cs(C,4160,4169,!0,N);case 39:return cs(C,2918,2927,!0,N);case 40:return cs(C,1776,1785,!0,N);case 43:return cs(C,3046,3055,!0,N);case 44:return cs(C,3174,3183,!0,N);case 45:return cs(C,3664,3673,!0,N);case 46:return cs(C,3872,3881,!0,N);case 3:default:return cs(C,48,57,!0,N)}},Kj="data-html2canvas-ignore",zj=function(){function C(v,k,N){if(this.context=v,this.options=N,this.scrolledElements=[],this.referenceElement=k,this.counters=new o7,this.quoteDepth=0,!k.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(k.ownerDocument.documentElement,!1)}return C.prototype.toIFrame=function(v,k){var N=this,V=c7(v,k);if(!V.contentWindow)return Promise.reject("Unable to find iframe window");var Y=v.defaultView.pageXOffset,ue=v.defaultView.pageYOffset,ke=V.contentWindow,Ne=ke.document,_e=A7(V).then(function(){return o(N,void 0,void 0,function(){var Ke,Je;return a(this,function(dt){switch(dt.label){case 0:return this.scrolledElements.forEach(p7),ke&&(ke.scrollTo(k.left,k.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ke.scrollY!==k.top||ke.scrollX!==k.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ke.scrollX-k.left,ke.scrollY-k.top,0,0))),Ke=this.options.onclone,Je=this.clonedReferenceElement,typeof Je>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Ne.fonts&&Ne.fonts.ready?[4,Ne.fonts.ready]:[3,2];case 1:dt.sent(),dt.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,d7(Ne)]:[3,4];case 3:dt.sent(),dt.label=4;case 4:return typeof Ke=="function"?[2,Promise.resolve().then(function(){return Ke(Ne,Je)}).then(function(){return V})]:[2,V]}})})});return Ne.open(),Ne.write(f7(document.doctype)+"<html></html>"),m7(this.referenceElement.ownerDocument,Y,ue),Ne.replaceChild(Ne.adoptNode(this.documentElement),Ne.documentElement),Ne.close(),_e},C.prototype.createElementClone=function(v){if(pr(v,2))debugger;if(Lj(v))return this.createCanvasClone(v);if(Pj(v))return this.createVideoClone(v);if(Rj(v))return this.createStyleClone(v);var k=v.cloneNode(!1);return _1(k)&&(_1(v)&&v.currentSrc&&v.currentSrc!==v.src&&(k.src=v.currentSrc,k.srcset=""),k.loading==="lazy"&&(k.loading="eager")),Dj(k)?this.createCustomElementClone(k):k},C.prototype.createCustomElementClone=function(v){var k=document.createElement("html2canvascustomelement");return $1(v.style,k),k},C.prototype.createStyleClone=function(v){try{var k=v.sheet;if(k&&k.cssRules){var N=[].slice.call(k.cssRules,0).reduce(function(Y,ue){return ue&&typeof ue.cssText=="string"?Y+ue.cssText:Y},""),V=v.cloneNode(!1);return V.textContent=N,V}}catch(Y){if(this.context.logger.error("Unable to access cssRules property",Y),Y.name!=="SecurityError")throw Y}return v.cloneNode(!1)},C.prototype.createCanvasClone=function(v){var k;if(this.options.inlineImages&&v.ownerDocument){var N=v.ownerDocument.createElement("img");try{return N.src=v.toDataURL(),N}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",v)}}var V=v.cloneNode(!1);try{V.width=v.width,V.height=v.height;var Y=v.getContext("2d"),ue=V.getContext("2d");if(ue)if(!this.options.allowTaint&&Y)ue.putImageData(Y.getImageData(0,0,v.width,v.height),0,0);else{var ke=(k=v.getContext("webgl2"))!==null&&k!==void 0?k:v.getContext("webgl");if(ke){var Ne=ke.getContextAttributes();(Ne==null?void 0:Ne.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",v)}ue.drawImage(v,0,0)}return V}catch{this.context.logger.info("Unable to clone canvas as it is tainted",v)}return V},C.prototype.createVideoClone=function(v){var k=v.ownerDocument.createElement("canvas");k.width=v.offsetWidth,k.height=v.offsetHeight;var N=k.getContext("2d");try{return N&&(N.drawImage(v,0,0,k.width,k.height),this.options.allowTaint||N.getImageData(0,0,k.width,k.height)),k}catch{this.context.logger.info("Unable to clone video as it is tainted",v)}var V=v.ownerDocument.createElement("canvas");return V.width=v.offsetWidth,V.height=v.offsetHeight,V},C.prototype.appendChildNode=function(v,k,N){(!VA(k)||!i7(k)&&!k.hasAttribute(Kj)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(k)))&&(!this.options.copyStyles||!VA(k)||!Rj(k))&&v.appendChild(this.cloneNode(k,N))},C.prototype.cloneChildNodes=function(v,k,N){for(var V=this,Y=v.shadowRoot?v.shadowRoot.firstChild:v.firstChild;Y;Y=Y.nextSibling)if(VA(Y)&&Mj(Y)&&typeof Y.assignedNodes=="function"){var ue=Y.assignedNodes();ue.length&&ue.forEach(function(ke){return V.appendChildNode(k,ke,N)})}else this.appendChildNode(k,Y,N)},C.prototype.cloneNode=function(v,k){if(Tj(v))return document.createTextNode(v.data);if(!v.ownerDocument)return v.cloneNode(!1);var N=v.ownerDocument.defaultView;if(N&&VA(v)&&(O1(v)||gg(v))){var V=this.createElementClone(v);V.style.transitionProperty="none";var Y=N.getComputedStyle(v),ue=N.getComputedStyle(v,":before"),ke=N.getComputedStyle(v,":after");this.referenceElement===v&&O1(V)&&(this.clonedReferenceElement=V),Q1(V)&&y7(V);var Ne=this.counters.parse(new Ur(this.context,Y)),_e=this.resolvePseudoContent(v,V,ue,Lf.BEFORE);Dj(v)&&(k=!0),Pj(v)||this.cloneChildNodes(v,V,k),_e&&V.insertBefore(_e,V.firstChild);var Ke=this.resolvePseudoContent(v,V,ke,Lf.AFTER);return Ke&&V.appendChild(Ke),this.counters.pop(Ne),(Y&&(this.options.copyStyles||gg(v))&&!Uj(v)||k)&&$1(Y,V),(v.scrollTop!==0||v.scrollLeft!==0)&&this.scrolledElements.push([V,v.scrollLeft,v.scrollTop]),(xg(v)||yg(v))&&(xg(V)||yg(V))&&(V.value=v.value),V}return v.cloneNode(!1)},C.prototype.resolvePseudoContent=function(v,k,N,V){var Y=this;if(N){var ue=N.content,ke=k.ownerDocument;if(!(!ke||!ue||ue==="none"||ue==="-moz-alt-content"||N.display==="none")){this.counters.parse(new Ur(this.context,N));var Ne=new Jr(this.context,N),_e=ke.createElement("html2canvaspseudoelement");$1(N,_e),Ne.content.forEach(function(Je){if(Je.type===0)_e.appendChild(ke.createTextNode(Je.value));else if(Je.type===22){var dt=ke.createElement("img");dt.src=Je.value,dt.style.opacity="1",_e.appendChild(dt)}else if(Je.type===18){if(Je.name==="attr"){var Gt=Je.values.filter(lr);Gt.length&&_e.appendChild(ke.createTextNode(v.getAttribute(Gt[0].value)||""))}else if(Je.name==="counter"){var Rt=Je.values.filter(ys),$t=Rt[0],Br=Rt[1];if($t&&lr($t)){var er=Y.counters.getCounterValue($t.value),Yt=Br&&lr(Br)?yf.parse(Y.context,Br.value):3;_e.appendChild(ke.createTextNode(Ff(er,Yt,!1)))}}else if(Je.name==="counters"){var Gr=Je.values.filter(ys),$t=Gr[0],Sr=Gr[1],Br=Gr[2];if($t&&lr($t)){var mr=Y.counters.getCounterValues($t.value),Wt=Br&&lr(Br)?yf.parse(Y.context,Br.value):3,Or=Sr&&Sr.type===0?Sr.value:"",Qr=mr.map(function(eo){return Ff(eo,Wt,!1)}).join(Or);_e.appendChild(ke.createTextNode(Qr))}}}else if(Je.type===20)switch(Je.value){case"open-quote":_e.appendChild(ke.createTextNode(gt(Ne.quotes,Y.quoteDepth++,!0)));break;case"close-quote":_e.appendChild(ke.createTextNode(gt(Ne.quotes,--Y.quoteDepth,!1)));break;default:_e.appendChild(ke.createTextNode(Je.value))}}),_e.className=V1+" "+K1;var Ke=V===Lf.BEFORE?" "+V1:" "+K1;return gg(k)?k.className.baseValue+=Ke:k.className+=Ke,_e}}},C.destroy=function(v){return v.parentNode?(v.parentNode.removeChild(v),!0):!1},C}(),Lf;(function(C){C[C.BEFORE=0]="BEFORE",C[C.AFTER=1]="AFTER"})(Lf||(Lf={}));var c7=function(C,v){var k=C.createElement("iframe");return k.className="html2canvas-container",k.style.visibility="hidden",k.style.position="fixed",k.style.left="-10000px",k.style.top="0px",k.style.border="0",k.width=v.width.toString(),k.height=v.height.toString(),k.scrolling="no",k.setAttribute(Kj,"true"),C.body.appendChild(k),k},u7=function(C){return new Promise(function(v){if(C.complete){v();return}if(!C.src){v();return}C.onload=v,C.onerror=v})},d7=function(C){return Promise.all([].slice.call(C.images,0).map(u7))},A7=function(C){return new Promise(function(v,k){var N=C.contentWindow;if(!N)return k("No window assigned for iframe");var V=N.document;N.onload=C.onload=function(){N.onload=C.onload=null;var Y=setInterval(function(){V.body.childNodes.length>0&&V.readyState==="complete"&&(clearInterval(Y),v(C))},50)}})},h7=["all","d","content"],$1=function(C,v){for(var k=C.length-1;k>=0;k--){var N=C.item(k);h7.indexOf(N)===-1&&v.style.setProperty(N,C.getPropertyValue(N))}return v},f7=function(C){var v="";return C&&(v+="<!DOCTYPE ",C.name&&(v+=C.name),C.internalSubset&&(v+=C.internalSubset),C.publicId&&(v+='"'+C.publicId+'"'),C.systemId&&(v+='"'+C.systemId+'"'),v+=">"),v},m7=function(C,v,k){C&&C.defaultView&&(v!==C.defaultView.pageXOffset||k!==C.defaultView.pageYOffset)&&C.defaultView.scrollTo(v,k)},p7=function(C){var v=C[0],k=C[1],N=C[2];v.scrollLeft=k,v.scrollTop=N},g7=":before",x7=":after",V1="___html2canvas___pseudoelement_before",K1="___html2canvas___pseudoelement_after",Wj=`{
    content: "" !important;
    display: none !important;
}`,y7=function(C){b7(C,"."+V1+g7+Wj+`
         .`+K1+x7+Wj)},b7=function(C,v){var k=C.ownerDocument;if(k){var N=k.createElement("style");N.textContent=v,C.appendChild(N)}},Gj=function(){function C(){}return C.getOrigin=function(v){var k=C._link;return k?(k.href=v,k.href=k.href,k.protocol+k.hostname+k.port):"about:blank"},C.isSameOrigin=function(v){return C.getOrigin(v)===C._origin},C.setContext=function(v){C._link=v.document.createElement("a"),C._origin=C.getOrigin(v.location.href)},C._origin="about:blank",C}(),v7=function(){function C(v,k){this.context=v,this._options=k,this._cache={}}return C.prototype.addImage=function(v){var k=Promise.resolve();return this.has(v)||(W1(v)||N7(v))&&(this._cache[v]=this.loadImage(v)).catch(function(){}),k},C.prototype.match=function(v){return this._cache[v]},C.prototype.loadImage=function(v){return o(this,void 0,void 0,function(){var k,N,V,Y,ue=this;return a(this,function(ke){switch(ke.label){case 0:return k=Gj.isSameOrigin(v),N=!z1(v)&&this._options.useCORS===!0&&ws.SUPPORT_CORS_IMAGES&&!k,V=!z1(v)&&!k&&!W1(v)&&typeof this._options.proxy=="string"&&ws.SUPPORT_CORS_XHR&&!N,!k&&this._options.allowTaint===!1&&!z1(v)&&!W1(v)&&!V&&!N?[2]:(Y=v,V?[4,this.proxy(Y)]:[3,2]);case 1:Y=ke.sent(),ke.label=2;case 2:return this.context.logger.debug("Added image "+v.substring(0,256)),[4,new Promise(function(Ne,_e){var Ke=new Image;Ke.onload=function(){return Ne(Ke)},Ke.onerror=_e,(B7(Y)||N)&&(Ke.crossOrigin="anonymous"),Ke.src=Y,Ke.complete===!0&&setTimeout(function(){return Ne(Ke)},500),ue._options.imageTimeout>0&&setTimeout(function(){return _e("Timed out ("+ue._options.imageTimeout+"ms) loading image")},ue._options.imageTimeout)})];case 3:return[2,ke.sent()]}})})},C.prototype.has=function(v){return typeof this._cache[v]<"u"},C.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},C.prototype.proxy=function(v){var k=this,N=this._options.proxy;if(!N)throw new Error("No proxy defined");var V=v.substring(0,256);return new Promise(function(Y,ue){var ke=ws.SUPPORT_RESPONSE_TYPE?"blob":"text",Ne=new XMLHttpRequest;Ne.onload=function(){if(Ne.status===200)if(ke==="text")Y(Ne.response);else{var Je=new FileReader;Je.addEventListener("load",function(){return Y(Je.result)},!1),Je.addEventListener("error",function(dt){return ue(dt)},!1),Je.readAsDataURL(Ne.response)}else ue("Failed to proxy resource "+V+" with status code "+Ne.status)},Ne.onerror=ue;var _e=N.indexOf("?")>-1?"&":"?";if(Ne.open("GET",""+N+_e+"url="+encodeURIComponent(v)+"&responseType="+ke),ke!=="text"&&Ne instanceof XMLHttpRequest&&(Ne.responseType=ke),k._options.imageTimeout){var Ke=k._options.imageTimeout;Ne.timeout=Ke,Ne.ontimeout=function(){return ue("Timed out ("+Ke+"ms) proxying "+V)}}Ne.send()})},C}(),w7=/^data:image\/svg\+xml/i,j7=/^data:image\/.*;base64,/i,C7=/^data:image\/.*/i,N7=function(C){return ws.SUPPORT_SVG_DRAWING||!k7(C)},z1=function(C){return C7.test(C)},B7=function(C){return j7.test(C)},W1=function(C){return C.substr(0,4)==="blob"},k7=function(C){return C.substr(-3).toLowerCase()==="svg"||w7.test(C)},zt=function(){function C(v,k){this.type=0,this.x=v,this.y=k}return C.prototype.add=function(v,k){return new C(this.x+v,this.y+k)},C}(),WA=function(C,v,k){return new zt(C.x+(v.x-C.x)*k,C.y+(v.y-C.y)*k)},bg=function(){function C(v,k,N,V){this.type=1,this.start=v,this.startControl=k,this.endControl=N,this.end=V}return C.prototype.subdivide=function(v,k){var N=WA(this.start,this.startControl,v),V=WA(this.startControl,this.endControl,v),Y=WA(this.endControl,this.end,v),ue=WA(N,V,v),ke=WA(V,Y,v),Ne=WA(ue,ke,v);return k?new C(this.start,N,ue,Ne):new C(Ne,ke,Y,this.end)},C.prototype.add=function(v,k){return new C(this.start.add(v,k),this.startControl.add(v,k),this.endControl.add(v,k),this.end.add(v,k))},C.prototype.reverse=function(){return new C(this.end,this.endControl,this.startControl,this.start)},C}(),Ko=function(C){return C.type===1},S7=function(){function C(v){var k=v.styles,N=v.bounds,V=zn(k.borderTopLeftRadius,N.width,N.height),Y=V[0],ue=V[1],ke=zn(k.borderTopRightRadius,N.width,N.height),Ne=ke[0],_e=ke[1],Ke=zn(k.borderBottomRightRadius,N.width,N.height),Je=Ke[0],dt=Ke[1],Gt=zn(k.borderBottomLeftRadius,N.width,N.height),Rt=Gt[0],$t=Gt[1],Br=[];Br.push((Y+Ne)/N.width),Br.push((Rt+Je)/N.width),Br.push((ue+$t)/N.height),Br.push((_e+dt)/N.height);var er=Math.max.apply(Math,Br);er>1&&(Y/=er,ue/=er,Ne/=er,_e/=er,Je/=er,dt/=er,Rt/=er,$t/=er);var Yt=N.width-Ne,Gr=N.height-dt,Sr=N.width-Je,mr=N.height-$t,Wt=k.borderTopWidth,Or=k.borderRightWidth,Qr=k.borderBottomWidth,gr=k.borderLeftWidth,js=Hr(k.paddingTop,v.bounds.width),eo=Hr(k.paddingRight,v.bounds.width),bo=Hr(k.paddingBottom,v.bounds.width),bn=Hr(k.paddingLeft,v.bounds.width);this.topLeftBorderDoubleOuterBox=Y>0||ue>0?Hn(N.left+gr/3,N.top+Wt/3,Y-gr/3,ue-Wt/3,on.TOP_LEFT):new zt(N.left+gr/3,N.top+Wt/3),this.topRightBorderDoubleOuterBox=Y>0||ue>0?Hn(N.left+Yt,N.top+Wt/3,Ne-Or/3,_e-Wt/3,on.TOP_RIGHT):new zt(N.left+N.width-Or/3,N.top+Wt/3),this.bottomRightBorderDoubleOuterBox=Je>0||dt>0?Hn(N.left+Sr,N.top+Gr,Je-Or/3,dt-Qr/3,on.BOTTOM_RIGHT):new zt(N.left+N.width-Or/3,N.top+N.height-Qr/3),this.bottomLeftBorderDoubleOuterBox=Rt>0||$t>0?Hn(N.left+gr/3,N.top+mr,Rt-gr/3,$t-Qr/3,on.BOTTOM_LEFT):new zt(N.left+gr/3,N.top+N.height-Qr/3),this.topLeftBorderDoubleInnerBox=Y>0||ue>0?Hn(N.left+gr*2/3,N.top+Wt*2/3,Y-gr*2/3,ue-Wt*2/3,on.TOP_LEFT):new zt(N.left+gr*2/3,N.top+Wt*2/3),this.topRightBorderDoubleInnerBox=Y>0||ue>0?Hn(N.left+Yt,N.top+Wt*2/3,Ne-Or*2/3,_e-Wt*2/3,on.TOP_RIGHT):new zt(N.left+N.width-Or*2/3,N.top+Wt*2/3),this.bottomRightBorderDoubleInnerBox=Je>0||dt>0?Hn(N.left+Sr,N.top+Gr,Je-Or*2/3,dt-Qr*2/3,on.BOTTOM_RIGHT):new zt(N.left+N.width-Or*2/3,N.top+N.height-Qr*2/3),this.bottomLeftBorderDoubleInnerBox=Rt>0||$t>0?Hn(N.left+gr*2/3,N.top+mr,Rt-gr*2/3,$t-Qr*2/3,on.BOTTOM_LEFT):new zt(N.left+gr*2/3,N.top+N.height-Qr*2/3),this.topLeftBorderStroke=Y>0||ue>0?Hn(N.left+gr/2,N.top+Wt/2,Y-gr/2,ue-Wt/2,on.TOP_LEFT):new zt(N.left+gr/2,N.top+Wt/2),this.topRightBorderStroke=Y>0||ue>0?Hn(N.left+Yt,N.top+Wt/2,Ne-Or/2,_e-Wt/2,on.TOP_RIGHT):new zt(N.left+N.width-Or/2,N.top+Wt/2),this.bottomRightBorderStroke=Je>0||dt>0?Hn(N.left+Sr,N.top+Gr,Je-Or/2,dt-Qr/2,on.BOTTOM_RIGHT):new zt(N.left+N.width-Or/2,N.top+N.height-Qr/2),this.bottomLeftBorderStroke=Rt>0||$t>0?Hn(N.left+gr/2,N.top+mr,Rt-gr/2,$t-Qr/2,on.BOTTOM_LEFT):new zt(N.left+gr/2,N.top+N.height-Qr/2),this.topLeftBorderBox=Y>0||ue>0?Hn(N.left,N.top,Y,ue,on.TOP_LEFT):new zt(N.left,N.top),this.topRightBorderBox=Ne>0||_e>0?Hn(N.left+Yt,N.top,Ne,_e,on.TOP_RIGHT):new zt(N.left+N.width,N.top),this.bottomRightBorderBox=Je>0||dt>0?Hn(N.left+Sr,N.top+Gr,Je,dt,on.BOTTOM_RIGHT):new zt(N.left+N.width,N.top+N.height),this.bottomLeftBorderBox=Rt>0||$t>0?Hn(N.left,N.top+mr,Rt,$t,on.BOTTOM_LEFT):new zt(N.left,N.top+N.height),this.topLeftPaddingBox=Y>0||ue>0?Hn(N.left+gr,N.top+Wt,Math.max(0,Y-gr),Math.max(0,ue-Wt),on.TOP_LEFT):new zt(N.left+gr,N.top+Wt),this.topRightPaddingBox=Ne>0||_e>0?Hn(N.left+Math.min(Yt,N.width-Or),N.top+Wt,Yt>N.width+Or?0:Math.max(0,Ne-Or),Math.max(0,_e-Wt),on.TOP_RIGHT):new zt(N.left+N.width-Or,N.top+Wt),this.bottomRightPaddingBox=Je>0||dt>0?Hn(N.left+Math.min(Sr,N.width-gr),N.top+Math.min(Gr,N.height-Qr),Math.max(0,Je-Or),Math.max(0,dt-Qr),on.BOTTOM_RIGHT):new zt(N.left+N.width-Or,N.top+N.height-Qr),this.bottomLeftPaddingBox=Rt>0||$t>0?Hn(N.left+gr,N.top+Math.min(mr,N.height-Qr),Math.max(0,Rt-gr),Math.max(0,$t-Qr),on.BOTTOM_LEFT):new zt(N.left+gr,N.top+N.height-Qr),this.topLeftContentBox=Y>0||ue>0?Hn(N.left+gr+bn,N.top+Wt+js,Math.max(0,Y-(gr+bn)),Math.max(0,ue-(Wt+js)),on.TOP_LEFT):new zt(N.left+gr+bn,N.top+Wt+js),this.topRightContentBox=Ne>0||_e>0?Hn(N.left+Math.min(Yt,N.width+gr+bn),N.top+Wt+js,Yt>N.width+gr+bn?0:Ne-gr+bn,_e-(Wt+js),on.TOP_RIGHT):new zt(N.left+N.width-(Or+eo),N.top+Wt+js),this.bottomRightContentBox=Je>0||dt>0?Hn(N.left+Math.min(Sr,N.width-(gr+bn)),N.top+Math.min(Gr,N.height+Wt+js),Math.max(0,Je-(Or+eo)),dt-(Qr+bo),on.BOTTOM_RIGHT):new zt(N.left+N.width-(Or+eo),N.top+N.height-(Qr+bo)),this.bottomLeftContentBox=Rt>0||$t>0?Hn(N.left+gr+bn,N.top+mr,Math.max(0,Rt-(gr+bn)),$t-(Qr+bo),on.BOTTOM_LEFT):new zt(N.left+gr+bn,N.top+N.height-(Qr+bo))}return C}(),on;(function(C){C[C.TOP_LEFT=0]="TOP_LEFT",C[C.TOP_RIGHT=1]="TOP_RIGHT",C[C.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",C[C.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(on||(on={}));var Hn=function(C,v,k,N,V){var Y=4*((Math.sqrt(2)-1)/3),ue=k*Y,ke=N*Y,Ne=C+k,_e=v+N;switch(V){case on.TOP_LEFT:return new bg(new zt(C,_e),new zt(C,_e-ke),new zt(Ne-ue,v),new zt(Ne,v));case on.TOP_RIGHT:return new bg(new zt(C,v),new zt(C+ue,v),new zt(Ne,_e-ke),new zt(Ne,_e));case on.BOTTOM_RIGHT:return new bg(new zt(Ne,v),new zt(Ne,v+ke),new zt(C+ue,_e),new zt(C,_e));case on.BOTTOM_LEFT:default:return new bg(new zt(Ne,_e),new zt(Ne-ue,_e),new zt(C,v+ke),new zt(C,v))}},vg=function(C){return[C.topLeftBorderBox,C.topRightBorderBox,C.bottomRightBorderBox,C.bottomLeftBorderBox]},E7=function(C){return[C.topLeftContentBox,C.topRightContentBox,C.bottomRightContentBox,C.bottomLeftContentBox]},wg=function(C){return[C.topLeftPaddingBox,C.topRightPaddingBox,C.bottomRightPaddingBox,C.bottomLeftPaddingBox]},I7=function(){function C(v,k,N){this.offsetX=v,this.offsetY=k,this.matrix=N,this.type=0,this.target=6}return C}(),jg=function(){function C(v,k){this.path=v,this.target=k,this.type=1}return C}(),T7=function(){function C(v){this.opacity=v,this.type=2,this.target=6}return C}(),F7=function(C){return C.type===0},qj=function(C){return C.type===1},L7=function(C){return C.type===2},Xj=function(C,v){return C.length===v.length?C.some(function(k,N){return k===v[N]}):!1},P7=function(C,v,k,N,V){return C.map(function(Y,ue){switch(ue){case 0:return Y.add(v,k);case 1:return Y.add(v+N,k);case 2:return Y.add(v+N,k+V);case 3:return Y.add(v,k+V)}return Y})},Jj=function(){function C(v){this.element=v,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return C}(),Yj=function(){function C(v,k){if(this.container=v,this.parent=k,this.effects=[],this.curves=new S7(this.container),this.container.styles.opacity<1&&this.effects.push(new T7(this.container.styles.opacity)),this.container.styles.transform!==null){var N=this.container.bounds.left+this.container.styles.transformOrigin[0].number,V=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Y=this.container.styles.transform;this.effects.push(new I7(N,V,Y))}if(this.container.styles.overflowX!==0){var ue=vg(this.curves),ke=wg(this.curves);Xj(ue,ke)?this.effects.push(new jg(ue,6)):(this.effects.push(new jg(ue,2)),this.effects.push(new jg(ke,4)))}}return C.prototype.getEffects=function(v){for(var k=[2,3].indexOf(this.container.styles.position)===-1,N=this.parent,V=this.effects.slice(0);N;){var Y=N.effects.filter(function(Ne){return!qj(Ne)});if(k||N.container.styles.position!==0||!N.parent){if(V.unshift.apply(V,Y),k=[2,3].indexOf(N.container.styles.position)===-1,N.container.styles.overflowX!==0){var ue=vg(N.curves),ke=wg(N.curves);Xj(ue,ke)||V.unshift(new jg(ke,6))}}else V.unshift.apply(V,Y);N=N.parent}return V.filter(function(Ne){return lt(Ne.target,v)})},C}(),G1=function(C,v,k,N){C.container.elements.forEach(function(V){var Y=lt(V.flags,4),ue=lt(V.flags,2),ke=new Yj(V,C);lt(V.styles.display,2048)&&N.push(ke);var Ne=lt(V.flags,8)?[]:N;if(Y||ue){var _e=Y||V.styles.isPositioned()?k:v,Ke=new Jj(ke);if(V.styles.isPositioned()||V.styles.opacity<1||V.styles.isTransformed()){var Je=V.styles.zIndex.order;if(Je<0){var dt=0;_e.negativeZIndex.some(function(Rt,$t){return Je>Rt.element.container.styles.zIndex.order?(dt=$t,!1):dt>0}),_e.negativeZIndex.splice(dt,0,Ke)}else if(Je>0){var Gt=0;_e.positiveZIndex.some(function(Rt,$t){return Je>=Rt.element.container.styles.zIndex.order?(Gt=$t+1,!1):Gt>0}),_e.positiveZIndex.splice(Gt,0,Ke)}else _e.zeroOrAutoZIndexOrTransformedOrOpacity.push(Ke)}else V.styles.isFloating()?_e.nonPositionedFloats.push(Ke):_e.nonPositionedInlineLevel.push(Ke);G1(ke,Ke,Y?Ke:k,Ne)}else V.styles.isInlineLevel()?v.inlineLevel.push(ke):v.nonInlineLevel.push(ke),G1(ke,v,k,Ne);lt(V.flags,8)&&Zj(V,Ne)})},Zj=function(C,v){for(var k=C instanceof M1?C.start:1,N=C instanceof M1?C.reversed:!1,V=0;V<v.length;V++){var Y=v[V];Y.container instanceof Cj&&typeof Y.container.value=="number"&&Y.container.value!==0&&(k=Y.container.value),Y.listValue=Ff(k,Y.container.styles.listStyleType,!0),k+=N?-1:1}},U7=function(C){var v=new Yj(C,null),k=new Jj(v),N=[];return G1(v,k,k,N),Zj(v.container,N),k},eC=function(C,v){switch(v){case 0:return zo(C.topLeftBorderBox,C.topLeftPaddingBox,C.topRightBorderBox,C.topRightPaddingBox);case 1:return zo(C.topRightBorderBox,C.topRightPaddingBox,C.bottomRightBorderBox,C.bottomRightPaddingBox);case 2:return zo(C.bottomRightBorderBox,C.bottomRightPaddingBox,C.bottomLeftBorderBox,C.bottomLeftPaddingBox);case 3:default:return zo(C.bottomLeftBorderBox,C.bottomLeftPaddingBox,C.topLeftBorderBox,C.topLeftPaddingBox)}},R7=function(C,v){switch(v){case 0:return zo(C.topLeftBorderBox,C.topLeftBorderDoubleOuterBox,C.topRightBorderBox,C.topRightBorderDoubleOuterBox);case 1:return zo(C.topRightBorderBox,C.topRightBorderDoubleOuterBox,C.bottomRightBorderBox,C.bottomRightBorderDoubleOuterBox);case 2:return zo(C.bottomRightBorderBox,C.bottomRightBorderDoubleOuterBox,C.bottomLeftBorderBox,C.bottomLeftBorderDoubleOuterBox);case 3:default:return zo(C.bottomLeftBorderBox,C.bottomLeftBorderDoubleOuterBox,C.topLeftBorderBox,C.topLeftBorderDoubleOuterBox)}},M7=function(C,v){switch(v){case 0:return zo(C.topLeftBorderDoubleInnerBox,C.topLeftPaddingBox,C.topRightBorderDoubleInnerBox,C.topRightPaddingBox);case 1:return zo(C.topRightBorderDoubleInnerBox,C.topRightPaddingBox,C.bottomRightBorderDoubleInnerBox,C.bottomRightPaddingBox);case 2:return zo(C.bottomRightBorderDoubleInnerBox,C.bottomRightPaddingBox,C.bottomLeftBorderDoubleInnerBox,C.bottomLeftPaddingBox);case 3:default:return zo(C.bottomLeftBorderDoubleInnerBox,C.bottomLeftPaddingBox,C.topLeftBorderDoubleInnerBox,C.topLeftPaddingBox)}},D7=function(C,v){switch(v){case 0:return Cg(C.topLeftBorderStroke,C.topRightBorderStroke);case 1:return Cg(C.topRightBorderStroke,C.bottomRightBorderStroke);case 2:return Cg(C.bottomRightBorderStroke,C.bottomLeftBorderStroke);case 3:default:return Cg(C.bottomLeftBorderStroke,C.topLeftBorderStroke)}},Cg=function(C,v){var k=[];return Ko(C)?k.push(C.subdivide(.5,!1)):k.push(C),Ko(v)?k.push(v.subdivide(.5,!0)):k.push(v),k},zo=function(C,v,k,N){var V=[];return Ko(C)?V.push(C.subdivide(.5,!1)):V.push(C),Ko(k)?V.push(k.subdivide(.5,!0)):V.push(k),Ko(N)?V.push(N.subdivide(.5,!0).reverse()):V.push(N),Ko(v)?V.push(v.subdivide(.5,!1).reverse()):V.push(v),V},tC=function(C){var v=C.bounds,k=C.styles;return v.add(k.borderLeftWidth,k.borderTopWidth,-(k.borderRightWidth+k.borderLeftWidth),-(k.borderTopWidth+k.borderBottomWidth))},Ng=function(C){var v=C.styles,k=C.bounds,N=Hr(v.paddingLeft,k.width),V=Hr(v.paddingRight,k.width),Y=Hr(v.paddingTop,k.width),ue=Hr(v.paddingBottom,k.width);return k.add(N+v.borderLeftWidth,Y+v.borderTopWidth,-(v.borderRightWidth+v.borderLeftWidth+N+V),-(v.borderTopWidth+v.borderBottomWidth+Y+ue))},O7=function(C,v){return C===0?v.bounds:C===2?Ng(v):tC(v)},Q7=function(C,v){return C===0?v.bounds:C===2?Ng(v):tC(v)},q1=function(C,v,k){var N=O7(qA(C.styles.backgroundOrigin,v),C),V=Q7(qA(C.styles.backgroundClip,v),C),Y=_7(qA(C.styles.backgroundSize,v),k,N),ue=Y[0],ke=Y[1],Ne=zn(qA(C.styles.backgroundPosition,v),N.width-ue,N.height-ke),_e=H7(qA(C.styles.backgroundRepeat,v),Ne,Y,N,V),Ke=Math.round(N.left+Ne[0]),Je=Math.round(N.top+Ne[1]);return[_e,Ke,Je,ue,ke]},GA=function(C){return lr(C)&&C.value===Ol.AUTO},Bg=function(C){return typeof C=="number"},_7=function(C,v,k){var N=v[0],V=v[1],Y=v[2],ue=C[0],ke=C[1];if(!ue)return[0,0];if(En(ue)&&ke&&En(ke))return[Hr(ue,k.width),Hr(ke,k.height)];var Ne=Bg(Y);if(lr(ue)&&(ue.value===Ol.CONTAIN||ue.value===Ol.COVER)){if(Bg(Y)){var _e=k.width/k.height;return _e<Y!=(ue.value===Ol.COVER)?[k.width,k.width/Y]:[k.height*Y,k.height]}return[k.width,k.height]}var Ke=Bg(N),Je=Bg(V),dt=Ke||Je;if(GA(ue)&&(!ke||GA(ke))){if(Ke&&Je)return[N,V];if(!Ne&&!dt)return[k.width,k.height];if(dt&&Ne){var Gt=Ke?N:V*Y,Rt=Je?V:N/Y;return[Gt,Rt]}var $t=Ke?N:k.width,Br=Je?V:k.height;return[$t,Br]}if(Ne){var er=0,Yt=0;return En(ue)?er=Hr(ue,k.width):En(ke)&&(Yt=Hr(ke,k.height)),GA(ue)?er=Yt*Y:(!ke||GA(ke))&&(Yt=er/Y),[er,Yt]}var Gr=null,Sr=null;if(En(ue)?Gr=Hr(ue,k.width):ke&&En(ke)&&(Sr=Hr(ke,k.height)),Gr!==null&&(!ke||GA(ke))&&(Sr=Ke&&Je?Gr/N*V:k.height),Sr!==null&&GA(ue)&&(Gr=Ke&&Je?Sr/V*N:k.width),Gr!==null&&Sr!==null)return[Gr,Sr];throw new Error("Unable to calculate background-size for element")},qA=function(C,v){var k=C[v];return typeof k>"u"?C[0]:k},H7=function(C,v,k,N,V){var Y=v[0],ue=v[1],ke=k[0],Ne=k[1];switch(C){case 2:return[new zt(Math.round(N.left),Math.round(N.top+ue)),new zt(Math.round(N.left+N.width),Math.round(N.top+ue)),new zt(Math.round(N.left+N.width),Math.round(Ne+N.top+ue)),new zt(Math.round(N.left),Math.round(Ne+N.top+ue))];case 3:return[new zt(Math.round(N.left+Y),Math.round(N.top)),new zt(Math.round(N.left+Y+ke),Math.round(N.top)),new zt(Math.round(N.left+Y+ke),Math.round(N.height+N.top)),new zt(Math.round(N.left+Y),Math.round(N.height+N.top))];case 1:return[new zt(Math.round(N.left+Y),Math.round(N.top+ue)),new zt(Math.round(N.left+Y+ke),Math.round(N.top+ue)),new zt(Math.round(N.left+Y+ke),Math.round(N.top+ue+Ne)),new zt(Math.round(N.left+Y),Math.round(N.top+ue+Ne))];default:return[new zt(Math.round(V.left),Math.round(V.top)),new zt(Math.round(V.left+V.width),Math.round(V.top)),new zt(Math.round(V.left+V.width),Math.round(V.height+V.top)),new zt(Math.round(V.left),Math.round(V.height+V.top))]}},$7="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",rC="Hidden Text",V7=function(){function C(v){this._data={},this._document=v}return C.prototype.parseMetrics=function(v,k){var N=this._document.createElement("div"),V=this._document.createElement("img"),Y=this._document.createElement("span"),ue=this._document.body;N.style.visibility="hidden",N.style.fontFamily=v,N.style.fontSize=k,N.style.margin="0",N.style.padding="0",N.style.whiteSpace="nowrap",ue.appendChild(N),V.src=$7,V.width=1,V.height=1,V.style.margin="0",V.style.padding="0",V.style.verticalAlign="baseline",Y.style.fontFamily=v,Y.style.fontSize=k,Y.style.margin="0",Y.style.padding="0",Y.appendChild(this._document.createTextNode(rC)),N.appendChild(Y),N.appendChild(V);var ke=V.offsetTop-Y.offsetTop+2;N.removeChild(Y),N.appendChild(this._document.createTextNode(rC)),N.style.lineHeight="normal",V.style.verticalAlign="super";var Ne=V.offsetTop-N.offsetTop+2;return ue.removeChild(N),{baseline:ke,middle:Ne}},C.prototype.getMetrics=function(v,k){var N=v+" "+k;return typeof this._data[N]>"u"&&(this._data[N]=this.parseMetrics(v,k)),this._data[N]},C}(),nC=function(){function C(v,k){this.context=v,this.options=k}return C}(),K7=1e4,z7=function(C){s(v,C);function v(k,N){var V=C.call(this,k,N)||this;return V._activeEffects=[],V.canvas=N.canvas?N.canvas:document.createElement("canvas"),V.ctx=V.canvas.getContext("2d"),N.canvas||(V.canvas.width=Math.floor(N.width*N.scale),V.canvas.height=Math.floor(N.height*N.scale),V.canvas.style.width=N.width+"px",V.canvas.style.height=N.height+"px"),V.fontMetrics=new V7(document),V.ctx.scale(V.options.scale,V.options.scale),V.ctx.translate(-N.x,-N.y),V.ctx.textBaseline="bottom",V._activeEffects=[],V.context.logger.debug("Canvas renderer initialized ("+N.width+"x"+N.height+") with scale "+N.scale),V}return v.prototype.applyEffects=function(k){for(var N=this;this._activeEffects.length;)this.popEffect();k.forEach(function(V){return N.applyEffect(V)})},v.prototype.applyEffect=function(k){this.ctx.save(),L7(k)&&(this.ctx.globalAlpha=k.opacity),F7(k)&&(this.ctx.translate(k.offsetX,k.offsetY),this.ctx.transform(k.matrix[0],k.matrix[1],k.matrix[2],k.matrix[3],k.matrix[4],k.matrix[5]),this.ctx.translate(-k.offsetX,-k.offsetY)),qj(k)&&(this.path(k.path),this.ctx.clip()),this._activeEffects.push(k)},v.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},v.prototype.renderStack=function(k){return o(this,void 0,void 0,function(){var N;return a(this,function(V){switch(V.label){case 0:return N=k.element.container.styles,N.isVisible()?[4,this.renderStackContent(k)]:[3,2];case 1:V.sent(),V.label=2;case 2:return[2]}})})},v.prototype.renderNode=function(k){return o(this,void 0,void 0,function(){return a(this,function(N){switch(N.label){case 0:if(lt(k.container.flags,16))debugger;return k.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(k)]:[3,3];case 1:return N.sent(),[4,this.renderNodeContent(k)];case 2:N.sent(),N.label=3;case 3:return[2]}})})},v.prototype.renderTextWithLetterSpacing=function(k,N,V){var Y=this;if(N===0)this.ctx.fillText(k.text,k.bounds.left,k.bounds.top+V);else{var ue=yo(k.text);ue.reduce(function(ke,Ne){return Y.ctx.fillText(Ne,ke,k.bounds.top+V),ke+Y.ctx.measureText(Ne).width},k.bounds.left)}},v.prototype.createFontStyle=function(k){var N=k.fontVariant.filter(function(ue){return ue==="normal"||ue==="small-caps"}).join(""),V=J7(k.fontFamily).join(", "),Y=ln(k.fontSize)?""+k.fontSize.number+k.fontSize.unit:k.fontSize.number+"px";return[[k.fontStyle,N,k.fontWeight,Y,V].join(" "),V,Y]},v.prototype.renderTextNode=function(k,N){return o(this,void 0,void 0,function(){var V,Y,ue,ke,Ne,_e,Ke,Je,dt=this;return a(this,function(Gt){return V=this.createFontStyle(N),Y=V[0],ue=V[1],ke=V[2],this.ctx.font=Y,this.ctx.direction=N.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Ne=this.fontMetrics.getMetrics(ue,ke),_e=Ne.baseline,Ke=Ne.middle,Je=N.paintOrder,k.textBounds.forEach(function(Rt){Je.forEach(function($t){switch($t){case 0:dt.ctx.fillStyle=Wn(N.color),dt.renderTextWithLetterSpacing(Rt,N.letterSpacing,_e);var Br=N.textShadow;Br.length&&Rt.text.trim().length&&(Br.slice(0).reverse().forEach(function(er){dt.ctx.shadowColor=Wn(er.color),dt.ctx.shadowOffsetX=er.offsetX.number*dt.options.scale,dt.ctx.shadowOffsetY=er.offsetY.number*dt.options.scale,dt.ctx.shadowBlur=er.blur.number,dt.renderTextWithLetterSpacing(Rt,N.letterSpacing,_e)}),dt.ctx.shadowColor="",dt.ctx.shadowOffsetX=0,dt.ctx.shadowOffsetY=0,dt.ctx.shadowBlur=0),N.textDecorationLine.length&&(dt.ctx.fillStyle=Wn(N.textDecorationColor||N.color),N.textDecorationLine.forEach(function(er){switch(er){case 1:dt.ctx.fillRect(Rt.bounds.left,Math.round(Rt.bounds.top+_e),Rt.bounds.width,1);break;case 2:dt.ctx.fillRect(Rt.bounds.left,Math.round(Rt.bounds.top),Rt.bounds.width,1);break;case 3:dt.ctx.fillRect(Rt.bounds.left,Math.ceil(Rt.bounds.top+Ke),Rt.bounds.width,1);break}}));break;case 1:N.webkitTextStrokeWidth&&Rt.text.trim().length&&(dt.ctx.strokeStyle=Wn(N.webkitTextStrokeColor),dt.ctx.lineWidth=N.webkitTextStrokeWidth,dt.ctx.lineJoin=window.chrome?"miter":"round",dt.ctx.strokeText(Rt.text,Rt.bounds.left,Rt.bounds.top+_e)),dt.ctx.strokeStyle="",dt.ctx.lineWidth=0,dt.ctx.lineJoin="miter";break}})}),[2]})})},v.prototype.renderReplacedElement=function(k,N,V){if(V&&k.intrinsicWidth>0&&k.intrinsicHeight>0){var Y=Ng(k),ue=wg(N);this.path(ue),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(V,0,0,k.intrinsicWidth,k.intrinsicHeight,Y.left,Y.top,Y.width,Y.height),this.ctx.restore()}},v.prototype.renderNodeContent=function(k){return o(this,void 0,void 0,function(){var N,V,Y,ue,ke,Ne,Yt,Yt,_e,Ke,Je,dt,Sr,Gt,Rt,mr,$t,Br,er,Yt,Gr,Sr,mr;return a(this,function(Wt){switch(Wt.label){case 0:this.applyEffects(k.getEffects(4)),N=k.container,V=k.curves,Y=N.styles,ue=0,ke=N.textNodes,Wt.label=1;case 1:return ue<ke.length?(Ne=ke[ue],[4,this.renderTextNode(Ne,Y)]):[3,4];case 2:Wt.sent(),Wt.label=3;case 3:return ue++,[3,1];case 4:if(!(N instanceof vj))return[3,8];Wt.label=5;case 5:return Wt.trys.push([5,7,,8]),[4,this.context.cache.match(N.src)];case 6:return Yt=Wt.sent(),this.renderReplacedElement(N,V,Yt),[3,8];case 7:return Wt.sent(),this.context.logger.error("Error loading image "+N.src),[3,8];case 8:if(N instanceof wj&&this.renderReplacedElement(N,V,N.canvas),!(N instanceof jj))return[3,12];Wt.label=9;case 9:return Wt.trys.push([9,11,,12]),[4,this.context.cache.match(N.svg)];case 10:return Yt=Wt.sent(),this.renderReplacedElement(N,V,Yt),[3,12];case 11:return Wt.sent(),this.context.logger.error("Error loading svg "+N.svg.substring(0,255)),[3,12];case 12:return N instanceof Sj&&N.tree?(_e=new v(this.context,{scale:this.options.scale,backgroundColor:N.backgroundColor,x:0,y:0,width:N.width,height:N.height}),[4,_e.render(N.tree)]):[3,14];case 13:Ke=Wt.sent(),N.width&&N.height&&this.ctx.drawImage(Ke,0,0,N.width,N.height,N.bounds.left,N.bounds.top,N.bounds.width,N.bounds.height),Wt.label=14;case 14:if(N instanceof D1&&(Je=Math.min(N.bounds.width,N.bounds.height),N.type===fg?N.checked&&(this.ctx.save(),this.path([new zt(N.bounds.left+Je*.39363,N.bounds.top+Je*.79),new zt(N.bounds.left+Je*.16,N.bounds.top+Je*.5549),new zt(N.bounds.left+Je*.27347,N.bounds.top+Je*.44071),new zt(N.bounds.left+Je*.39694,N.bounds.top+Je*.5649),new zt(N.bounds.left+Je*.72983,N.bounds.top+Je*.23),new zt(N.bounds.left+Je*.84,N.bounds.top+Je*.34085),new zt(N.bounds.left+Je*.39363,N.bounds.top+Je*.79)]),this.ctx.fillStyle=Wn(Nj),this.ctx.fill(),this.ctx.restore()):N.type===mg&&N.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(N.bounds.left+Je/2,N.bounds.top+Je/2,Je/4,0,Math.PI*2,!0),this.ctx.fillStyle=Wn(Nj),this.ctx.fill(),this.ctx.restore())),W7(N)&&N.value.length){switch(dt=this.createFontStyle(Y),Sr=dt[0],Gt=dt[1],Rt=this.fontMetrics.getMetrics(Sr,Gt).baseline,this.ctx.font=Sr,this.ctx.fillStyle=Wn(Y.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=q7(N.styles.textAlign),mr=Ng(N),$t=0,N.styles.textAlign){case 1:$t+=mr.width/2;break;case 2:$t+=mr.width;break}Br=mr.add($t,0,0,-mr.height/2+1),this.ctx.save(),this.path([new zt(mr.left,mr.top),new zt(mr.left+mr.width,mr.top),new zt(mr.left+mr.width,mr.top+mr.height),new zt(mr.left,mr.top+mr.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Xu(N.value,Br),Y.letterSpacing,Rt),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!lt(N.styles.display,2048))return[3,20];if(N.styles.listStyleImage===null)return[3,19];if(er=N.styles.listStyleImage,er.type!==0)return[3,18];Yt=void 0,Gr=er.url,Wt.label=15;case 15:return Wt.trys.push([15,17,,18]),[4,this.context.cache.match(Gr)];case 16:return Yt=Wt.sent(),this.ctx.drawImage(Yt,N.bounds.left-(Yt.width+10),N.bounds.top),[3,18];case 17:return Wt.sent(),this.context.logger.error("Error loading list-style-image "+Gr),[3,18];case 18:return[3,20];case 19:k.listValue&&N.styles.listStyleType!==-1&&(Sr=this.createFontStyle(Y)[0],this.ctx.font=Sr,this.ctx.fillStyle=Wn(Y.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",mr=new c(N.bounds.left,N.bounds.top+Hr(N.styles.paddingTop,N.bounds.width),N.bounds.width,fa(Y.lineHeight,Y.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Xu(k.listValue,mr),Y.letterSpacing,fa(Y.lineHeight,Y.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Wt.label=20;case 20:return[2]}})})},v.prototype.renderStackContent=function(k){return o(this,void 0,void 0,function(){var N,V,er,Y,ue,er,ke,Ne,er,_e,Ke,er,Je,dt,er,Gt,Rt,er,$t,Br,er;return a(this,function(Yt){switch(Yt.label){case 0:if(lt(k.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(k.element)];case 1:Yt.sent(),N=0,V=k.negativeZIndex,Yt.label=2;case 2:return N<V.length?(er=V[N],[4,this.renderStack(er)]):[3,5];case 3:Yt.sent(),Yt.label=4;case 4:return N++,[3,2];case 5:return[4,this.renderNodeContent(k.element)];case 6:Yt.sent(),Y=0,ue=k.nonInlineLevel,Yt.label=7;case 7:return Y<ue.length?(er=ue[Y],[4,this.renderNode(er)]):[3,10];case 8:Yt.sent(),Yt.label=9;case 9:return Y++,[3,7];case 10:ke=0,Ne=k.nonPositionedFloats,Yt.label=11;case 11:return ke<Ne.length?(er=Ne[ke],[4,this.renderStack(er)]):[3,14];case 12:Yt.sent(),Yt.label=13;case 13:return ke++,[3,11];case 14:_e=0,Ke=k.nonPositionedInlineLevel,Yt.label=15;case 15:return _e<Ke.length?(er=Ke[_e],[4,this.renderStack(er)]):[3,18];case 16:Yt.sent(),Yt.label=17;case 17:return _e++,[3,15];case 18:Je=0,dt=k.inlineLevel,Yt.label=19;case 19:return Je<dt.length?(er=dt[Je],[4,this.renderNode(er)]):[3,22];case 20:Yt.sent(),Yt.label=21;case 21:return Je++,[3,19];case 22:Gt=0,Rt=k.zeroOrAutoZIndexOrTransformedOrOpacity,Yt.label=23;case 23:return Gt<Rt.length?(er=Rt[Gt],[4,this.renderStack(er)]):[3,26];case 24:Yt.sent(),Yt.label=25;case 25:return Gt++,[3,23];case 26:$t=0,Br=k.positiveZIndex,Yt.label=27;case 27:return $t<Br.length?(er=Br[$t],[4,this.renderStack(er)]):[3,30];case 28:Yt.sent(),Yt.label=29;case 29:return $t++,[3,27];case 30:return[2]}})})},v.prototype.mask=function(k){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(k.slice(0).reverse()),this.ctx.closePath()},v.prototype.path=function(k){this.ctx.beginPath(),this.formatPath(k),this.ctx.closePath()},v.prototype.formatPath=function(k){var N=this;k.forEach(function(V,Y){var ue=Ko(V)?V.start:V;Y===0?N.ctx.moveTo(ue.x,ue.y):N.ctx.lineTo(ue.x,ue.y),Ko(V)&&N.ctx.bezierCurveTo(V.startControl.x,V.startControl.y,V.endControl.x,V.endControl.y,V.end.x,V.end.y)})},v.prototype.renderRepeat=function(k,N,V,Y){this.path(k),this.ctx.fillStyle=N,this.ctx.translate(V,Y),this.ctx.fill(),this.ctx.translate(-V,-Y)},v.prototype.resizeImage=function(k,N,V){var Y;if(k.width===N&&k.height===V)return k;var ue=(Y=this.canvas.ownerDocument)!==null&&Y!==void 0?Y:document,ke=ue.createElement("canvas");ke.width=Math.max(1,N),ke.height=Math.max(1,V);var Ne=ke.getContext("2d");return Ne.drawImage(k,0,0,k.width,k.height,0,0,N,V),ke},v.prototype.renderBackgroundImage=function(k){return o(this,void 0,void 0,function(){var N,V,Y,ue,ke,Ne;return a(this,function(_e){switch(_e.label){case 0:N=k.styles.backgroundImage.length-1,V=function(Ke){var Je,dt,Gt,js,to,ro,bn,Gs,Qr,Rt,js,to,ro,bn,Gs,$t,Br,er,Yt,Gr,Sr,mr,Wt,Or,Qr,gr,js,eo,bo,bn,Gs,Qc,to,ro,ed,el,_c,td,rd,Hl,nd,$l;return a(this,function(XA){switch(XA.label){case 0:if(Ke.type!==0)return[3,5];Je=void 0,dt=Ke.url,XA.label=1;case 1:return XA.trys.push([1,3,,4]),[4,Y.context.cache.match(dt)];case 2:return Je=XA.sent(),[3,4];case 3:return XA.sent(),Y.context.logger.error("Error loading background-image "+dt),[3,4];case 4:return Je&&(Gt=q1(k,N,[Je.width,Je.height,Je.width/Je.height]),js=Gt[0],to=Gt[1],ro=Gt[2],bn=Gt[3],Gs=Gt[4],Qr=Y.ctx.createPattern(Y.resizeImage(Je,bn,Gs),"repeat"),Y.renderRepeat(js,Qr,to,ro)),[3,6];case 5:ha(Ke)?(Rt=q1(k,N,[null,null,null]),js=Rt[0],to=Rt[1],ro=Rt[2],bn=Rt[3],Gs=Rt[4],$t=kc(Ke.angle,bn,Gs),Br=$t[0],er=$t[1],Yt=$t[2],Gr=$t[3],Sr=$t[4],mr=document.createElement("canvas"),mr.width=bn,mr.height=Gs,Wt=mr.getContext("2d"),Or=Wt.createLinearGradient(er,Gr,Yt,Sr),Os(Ke.stops,Br).forEach(function(Pf){return Or.addColorStop(Pf.stop,Wn(Pf.color))}),Wt.fillStyle=Or,Wt.fillRect(0,0,bn,Gs),bn>0&&Gs>0&&(Qr=Y.ctx.createPattern(mr,"repeat"),Y.renderRepeat(js,Qr,to,ro))):Hu(Ke)&&(gr=q1(k,N,[null,null,null]),js=gr[0],eo=gr[1],bo=gr[2],bn=gr[3],Gs=gr[4],Qc=Ke.position.length===0?[Fl]:Ke.position,to=Hr(Qc[0],bn),ro=Hr(Qc[Qc.length-1],Gs),ed=Ul(Ke,to,ro,bn,Gs),el=ed[0],_c=ed[1],el>0&&_c>0&&(td=Y.ctx.createRadialGradient(eo+to,bo+ro,0,eo+to,bo+ro,el),Os(Ke.stops,el*2).forEach(function(Pf){return td.addColorStop(Pf.stop,Wn(Pf.color))}),Y.path(js),Y.ctx.fillStyle=td,el!==_c?(rd=k.bounds.left+.5*k.bounds.width,Hl=k.bounds.top+.5*k.bounds.height,nd=_c/el,$l=1/nd,Y.ctx.save(),Y.ctx.translate(rd,Hl),Y.ctx.transform(1,0,0,nd,0,0),Y.ctx.translate(-rd,-Hl),Y.ctx.fillRect(eo,$l*(bo-Hl)+Hl,bn,Gs*$l),Y.ctx.restore()):Y.ctx.fill())),XA.label=6;case 6:return N--,[2]}})},Y=this,ue=0,ke=k.styles.backgroundImage.slice(0).reverse(),_e.label=1;case 1:return ue<ke.length?(Ne=ke[ue],[5,V(Ne)]):[3,4];case 2:_e.sent(),_e.label=3;case 3:return ue++,[3,1];case 4:return[2]}})})},v.prototype.renderSolidBorder=function(k,N,V){return o(this,void 0,void 0,function(){return a(this,function(Y){return this.path(eC(V,N)),this.ctx.fillStyle=Wn(k),this.ctx.fill(),[2]})})},v.prototype.renderDoubleBorder=function(k,N,V,Y){return o(this,void 0,void 0,function(){var ue,ke;return a(this,function(Ne){switch(Ne.label){case 0:return N<3?[4,this.renderSolidBorder(k,V,Y)]:[3,2];case 1:return Ne.sent(),[2];case 2:return ue=R7(Y,V),this.path(ue),this.ctx.fillStyle=Wn(k),this.ctx.fill(),ke=M7(Y,V),this.path(ke),this.ctx.fill(),[2]}})})},v.prototype.renderNodeBackgroundAndBorders=function(k){return o(this,void 0,void 0,function(){var N,V,Y,ue,ke,Ne,_e,Ke,Je=this;return a(this,function(dt){switch(dt.label){case 0:return this.applyEffects(k.getEffects(2)),N=k.container.styles,V=!mo(N.backgroundColor)||N.backgroundImage.length,Y=[{style:N.borderTopStyle,color:N.borderTopColor,width:N.borderTopWidth},{style:N.borderRightStyle,color:N.borderRightColor,width:N.borderRightWidth},{style:N.borderBottomStyle,color:N.borderBottomColor,width:N.borderBottomWidth},{style:N.borderLeftStyle,color:N.borderLeftColor,width:N.borderLeftWidth}],ue=G7(qA(N.backgroundClip,0),k.curves),V||N.boxShadow.length?(this.ctx.save(),this.path(ue),this.ctx.clip(),mo(N.backgroundColor)||(this.ctx.fillStyle=Wn(N.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(k.container)]):[3,2];case 1:dt.sent(),this.ctx.restore(),N.boxShadow.slice(0).reverse().forEach(function(Gt){Je.ctx.save();var Rt=vg(k.curves),$t=Gt.inset?0:K7,Br=P7(Rt,-$t+(Gt.inset?1:-1)*Gt.spread.number,(Gt.inset?1:-1)*Gt.spread.number,Gt.spread.number*(Gt.inset?-2:2),Gt.spread.number*(Gt.inset?-2:2));Gt.inset?(Je.path(Rt),Je.ctx.clip(),Je.mask(Br)):(Je.mask(Rt),Je.ctx.clip(),Je.path(Br)),Je.ctx.shadowOffsetX=Gt.offsetX.number+$t,Je.ctx.shadowOffsetY=Gt.offsetY.number,Je.ctx.shadowColor=Wn(Gt.color),Je.ctx.shadowBlur=Gt.blur.number,Je.ctx.fillStyle=Gt.inset?Wn(Gt.color):"rgba(0,0,0,1)",Je.ctx.fill(),Je.ctx.restore()}),dt.label=2;case 2:ke=0,Ne=0,_e=Y,dt.label=3;case 3:return Ne<_e.length?(Ke=_e[Ne],Ke.style!==0&&!mo(Ke.color)&&Ke.width>0?Ke.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Ke.color,Ke.width,ke,k.curves,2)]:[3,11]):[3,13];case 4:return dt.sent(),[3,11];case 5:return Ke.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Ke.color,Ke.width,ke,k.curves,3)];case 6:return dt.sent(),[3,11];case 7:return Ke.style!==4?[3,9]:[4,this.renderDoubleBorder(Ke.color,Ke.width,ke,k.curves)];case 8:return dt.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Ke.color,ke,k.curves)];case 10:dt.sent(),dt.label=11;case 11:ke++,dt.label=12;case 12:return Ne++,[3,3];case 13:return[2]}})})},v.prototype.renderDashedDottedBorder=function(k,N,V,Y,ue){return o(this,void 0,void 0,function(){var ke,Ne,_e,Ke,Je,dt,Gt,Rt,$t,Br,er,Yt,Gr,Sr,mr,Wt,mr,Wt;return a(this,function(Or){return this.ctx.save(),ke=D7(Y,V),Ne=eC(Y,V),ue===2&&(this.path(Ne),this.ctx.clip()),Ko(Ne[0])?(_e=Ne[0].start.x,Ke=Ne[0].start.y):(_e=Ne[0].x,Ke=Ne[0].y),Ko(Ne[1])?(Je=Ne[1].end.x,dt=Ne[1].end.y):(Je=Ne[1].x,dt=Ne[1].y),V===0||V===2?Gt=Math.abs(_e-Je):Gt=Math.abs(Ke-dt),this.ctx.beginPath(),ue===3?this.formatPath(ke):this.formatPath(Ne.slice(0,2)),Rt=N<3?N*3:N*2,$t=N<3?N*2:N,ue===3&&(Rt=N,$t=N),Br=!0,Gt<=Rt*2?Br=!1:Gt<=Rt*2+$t?(er=Gt/(2*Rt+$t),Rt*=er,$t*=er):(Yt=Math.floor((Gt+$t)/(Rt+$t)),Gr=(Gt-Yt*Rt)/(Yt-1),Sr=(Gt-(Yt+1)*Rt)/Yt,$t=Sr<=0||Math.abs($t-Gr)<Math.abs($t-Sr)?Gr:Sr),Br&&(ue===3?this.ctx.setLineDash([0,Rt+$t]):this.ctx.setLineDash([Rt,$t])),ue===3?(this.ctx.lineCap="round",this.ctx.lineWidth=N):this.ctx.lineWidth=N*2+1.1,this.ctx.strokeStyle=Wn(k),this.ctx.stroke(),this.ctx.setLineDash([]),ue===2&&(Ko(Ne[0])&&(mr=Ne[3],Wt=Ne[0],this.ctx.beginPath(),this.formatPath([new zt(mr.end.x,mr.end.y),new zt(Wt.start.x,Wt.start.y)]),this.ctx.stroke()),Ko(Ne[1])&&(mr=Ne[1],Wt=Ne[2],this.ctx.beginPath(),this.formatPath([new zt(mr.end.x,mr.end.y),new zt(Wt.start.x,Wt.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},v.prototype.render=function(k){return o(this,void 0,void 0,function(){var N;return a(this,function(V){switch(V.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Wn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),N=U7(k),[4,this.renderStack(N)];case 1:return V.sent(),this.applyEffects([]),[2,this.canvas]}})})},v}(nC),W7=function(C){return C instanceof kj||C instanceof Bj?!0:C instanceof D1&&C.type!==mg&&C.type!==fg},G7=function(C,v){switch(C){case 0:return vg(v);case 2:return E7(v);case 1:default:return wg(v)}},q7=function(C){switch(C){case 1:return"center";case 2:return"right";case 0:default:return"left"}},X7=["-apple-system","system-ui"],J7=function(C){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?C.filter(function(v){return X7.indexOf(v)===-1}):C},Y7=function(C){s(v,C);function v(k,N){var V=C.call(this,k,N)||this;return V.canvas=N.canvas?N.canvas:document.createElement("canvas"),V.ctx=V.canvas.getContext("2d"),V.options=N,V.canvas.width=Math.floor(N.width*N.scale),V.canvas.height=Math.floor(N.height*N.scale),V.canvas.style.width=N.width+"px",V.canvas.style.height=N.height+"px",V.ctx.scale(V.options.scale,V.options.scale),V.ctx.translate(-N.x,-N.y),V.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+N.width+"x"+N.height+" at "+N.x+","+N.y+") with scale "+N.scale),V}return v.prototype.render=function(k){return o(this,void 0,void 0,function(){var N,V;return a(this,function(Y){switch(Y.label){case 0:return N=HA(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,k),[4,Z7(N)];case 1:return V=Y.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Wn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(V,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},v}(nC),Z7=function(C){return new Promise(function(v,k){var N=new Image;N.onload=function(){v(N)},N.onerror=k,N.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(C))})},eP=function(){function C(v){var k=v.id,N=v.enabled;this.id=k,this.enabled=N,this.start=Date.now()}return C.prototype.debug=function(){for(var v=[],k=0;k<arguments.length;k++)v[k]=arguments[k];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,l([this.id,this.getTime()+"ms"],v)):this.info.apply(this,v))},C.prototype.getTime=function(){return Date.now()-this.start},C.prototype.info=function(){for(var v=[],k=0;k<arguments.length;k++)v[k]=arguments[k];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,l([this.id,this.getTime()+"ms"],v))},C.prototype.warn=function(){for(var v=[],k=0;k<arguments.length;k++)v[k]=arguments[k];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,l([this.id,this.getTime()+"ms"],v)):this.info.apply(this,v))},C.prototype.error=function(){for(var v=[],k=0;k<arguments.length;k++)v[k]=arguments[k];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,l([this.id,this.getTime()+"ms"],v)):this.info.apply(this,v))},C.instances={},C}(),tP=function(){function C(v,k){var N;this.windowBounds=k,this.instanceName="#"+C.instanceCount++,this.logger=new eP({id:this.instanceName,enabled:v.logging}),this.cache=(N=v.cache)!==null&&N!==void 0?N:new v7(this,v)}return C.instanceCount=1,C}(),rP=function(C,v){return v===void 0&&(v={}),nP(C,v)};typeof window<"u"&&Gj.setContext(window);var nP=function(C,v){return o(void 0,void 0,void 0,function(){var k,N,V,Y,ue,ke,Ne,_e,Ke,Je,dt,Gt,Rt,$t,Br,er,Yt,Gr,Sr,mr,Or,Wt,Or,Qr,gr,js,eo,bo,bn,Gs,Qc,to,ro,ed,el,_c,td,rd,Hl,nd;return a(this,function($l){switch($l.label){case 0:if(!C||typeof C!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(k=C.ownerDocument,!k)throw new Error("Element is not attached to a Document");if(N=k.defaultView,!N)throw new Error("Document is not attached to a Window");return V={allowTaint:(Qr=v.allowTaint)!==null&&Qr!==void 0?Qr:!1,imageTimeout:(gr=v.imageTimeout)!==null&&gr!==void 0?gr:15e3,proxy:v.proxy,useCORS:(js=v.useCORS)!==null&&js!==void 0?js:!1},Y=i({logging:(eo=v.logging)!==null&&eo!==void 0?eo:!0,cache:v.cache},V),ue={windowWidth:(bo=v.windowWidth)!==null&&bo!==void 0?bo:N.innerWidth,windowHeight:(bn=v.windowHeight)!==null&&bn!==void 0?bn:N.innerHeight,scrollX:(Gs=v.scrollX)!==null&&Gs!==void 0?Gs:N.pageXOffset,scrollY:(Qc=v.scrollY)!==null&&Qc!==void 0?Qc:N.pageYOffset},ke=new c(ue.scrollX,ue.scrollY,ue.windowWidth,ue.windowHeight),Ne=new tP(Y,ke),_e=(to=v.foreignObjectRendering)!==null&&to!==void 0?to:!1,Ke={allowTaint:(ro=v.allowTaint)!==null&&ro!==void 0?ro:!1,onclone:v.onclone,ignoreElements:v.ignoreElements,inlineImages:_e,copyStyles:_e},Ne.logger.debug("Starting document clone with size "+ke.width+"x"+ke.height+" scrolled to "+-ke.left+","+-ke.top),Je=new zj(Ne,C,Ke),dt=Je.clonedReferenceElement,dt?[4,Je.toIFrame(k,ke)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Gt=$l.sent(),Rt=Q1(dt)||s7(dt)?u(dt.ownerDocument):d(Ne,dt),$t=Rt.width,Br=Rt.height,er=Rt.left,Yt=Rt.top,Gr=sP(Ne,dt,v.backgroundColor),Sr={canvas:v.canvas,backgroundColor:Gr,scale:(el=(ed=v.scale)!==null&&ed!==void 0?ed:N.devicePixelRatio)!==null&&el!==void 0?el:1,x:((_c=v.x)!==null&&_c!==void 0?_c:0)+er,y:((td=v.y)!==null&&td!==void 0?td:0)+Yt,width:(rd=v.width)!==null&&rd!==void 0?rd:Math.ceil($t),height:(Hl=v.height)!==null&&Hl!==void 0?Hl:Math.ceil(Br)},_e?(Ne.logger.debug("Document cloned, using foreign object rendering"),Or=new Y7(Ne,Sr),[4,Or.render(dt)]):[3,3];case 2:return mr=$l.sent(),[3,5];case 3:return Ne.logger.debug("Document cloned, element located at "+er+","+Yt+" with size "+$t+"x"+Br+" using computed rendering"),Ne.logger.debug("Starting DOM parsing"),Wt=Ij(Ne,dt),Gr===Wt.styles.backgroundColor&&(Wt.styles.backgroundColor=ai.TRANSPARENT),Ne.logger.debug("Starting renderer for element at "+Sr.x+","+Sr.y+" with size "+Sr.width+"x"+Sr.height),Or=new z7(Ne,Sr),[4,Or.render(Wt)];case 4:mr=$l.sent(),$l.label=5;case 5:return(!((nd=v.removeContainer)!==null&&nd!==void 0)||nd)&&(zj.destroy(Gt)||Ne.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Ne.logger.debug("Finished rendering"),[2,mr]}})})},sP=function(C,v,k){var N=v.ownerDocument,V=N.documentElement?Fi(C,getComputedStyle(N.documentElement).backgroundColor):ai.TRANSPARENT,Y=N.body?Fi(C,getComputedStyle(N.body).backgroundColor):ai.TRANSPARENT,ue=typeof k=="string"?Fi(C,k):k===null?ai.TRANSPARENT:4294967295;return v===N.documentElement?mo(V)?mo(Y)?ue:Y:V:ue};return rP})}(wv)),wv.exports}/*!
 * html2pdf.js v0.10.3
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */(function(e,t){(function(s,i){e.exports=i(cde,ude())})(self,function(r,s){return function(){var i={"./src/plugin/hyperlinks.js":function(c,d,u){u.r(d),u("./node_modules/core-js/modules/web.dom-collections.for-each.js"),u("./node_modules/core-js/modules/es.string.link.js");var A=u("./src/worker.js"),f=u("./src/utils.js"),h=[],g={toContainer:A.default.prototype.toContainer,toPdf:A.default.prototype.toPdf};A.default.prototype.toContainer=function(){return g.toContainer.call(this).then(function(){if(this.opt.enableLinks){var x=this.prop.container,j=x.querySelectorAll("a"),w=(0,f.unitConvert)(x.getBoundingClientRect(),this.prop.pageSize.k);h=[],Array.prototype.forEach.call(j,function(S){for(var I=S.getClientRects(),F=0;F<I.length;F++){var T=(0,f.unitConvert)(I[F],this.prop.pageSize.k);T.left-=w.left,T.top-=w.top;var U=Math.floor(T.top/this.prop.pageSize.inner.height)+1,K=this.opt.margin[0]+T.top%this.prop.pageSize.inner.height,B=this.opt.margin[1]+T.left;h.push({page:U,top:K,left:B,clientRect:T,link:S})}},this)}})},A.default.prototype.toPdf=function(){return g.toPdf.call(this).then(function(){if(this.opt.enableLinks){h.forEach(function(j){this.prop.pdf.setPage(j.page),this.prop.pdf.link(j.left,j.top,j.clientRect.width,j.clientRect.height,{url:j.link.href})},this);var x=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(x)}})}},"./src/plugin/jspdf-plugin.js":function(c,d,u){u.r(d),u("./node_modules/core-js/modules/es.symbol.js"),u("./node_modules/core-js/modules/es.symbol.description.js"),u("./node_modules/core-js/modules/es.object.to-string.js"),u("./node_modules/core-js/modules/es.symbol.iterator.js"),u("./node_modules/core-js/modules/es.array.iterator.js"),u("./node_modules/core-js/modules/es.string.iterator.js"),u("./node_modules/core-js/modules/web.dom-collections.iterator.js");var A=u("jspdf");function f(h){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(p){return typeof p}:f=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},f(h)}A.jsPDF.getPageSize=function(h,g,p){if(f(h)==="object"){var b=h;h=b.orientation,g=b.unit||g,p=b.format||p}g=g||"mm",p=p||"a4",h=(""+(h||"P")).toLowerCase();var x=(""+p).toLowerCase(),j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(g){case"pt":var w=1;break;case"mm":var w=72/25.4;break;case"cm":var w=72/2.54;break;case"in":var w=72;break;case"px":var w=72/96;break;case"pc":var w=12;break;case"em":var w=12;break;case"ex":var w=6;break;default:throw"Invalid unit: "+g}if(j.hasOwnProperty(x))var S=j[x][1]/w,I=j[x][0]/w;else try{var S=p[1],I=p[0]}catch{throw new Error("Invalid format: "+p)}if(h==="p"||h==="portrait"){if(h="p",I>S){var F=I;I=S,S=F}}else if(h==="l"||h==="landscape"){if(h="l",S>I){var F=I;I=S,S=F}}else throw"Invalid orientation: "+h;var T={width:I,height:S,unit:g,k:w};return T},d.default=A.jsPDF},"./src/plugin/pagebreaks.js":function(c,d,u){u.r(d),u("./node_modules/core-js/modules/es.array.concat.js"),u("./node_modules/core-js/modules/es.array.slice.js"),u("./node_modules/core-js/modules/es.array.join.js"),u("./node_modules/core-js/modules/web.dom-collections.for-each.js"),u("./node_modules/core-js/modules/es.object.keys.js");var A=u("./src/worker.js"),f=u("./src/utils.js"),h={toContainer:A.default.prototype.toContainer};A.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},A.default.prototype.toContainer=function(){return h.toContainer.call(this).then(function(){var b=this.prop.container,x=this.prop.pageSize.inner.px.height,j=[].concat(this.opt.pagebreak.mode),w={avoidAll:j.indexOf("avoid-all")!==-1,css:j.indexOf("css")!==-1,legacy:j.indexOf("legacy")!==-1},S={},I=this;["before","after","avoid"].forEach(function(U){var K=w.avoidAll&&U==="avoid";S[U]=K?[]:[].concat(I.opt.pagebreak[U]||[]),S[U].length>0&&(S[U]=Array.prototype.slice.call(b.querySelectorAll(S[U].join(", "))))});var F=b.querySelectorAll(".html2pdf__page-break");F=Array.prototype.slice.call(F);var T=b.querySelectorAll("*");Array.prototype.forEach.call(T,function(K){var B={before:!1,after:w.legacy&&F.indexOf(K)!==-1,avoid:w.avoidAll};if(w.css){var R=window.getComputedStyle(K),D=["always","page","left","right"],H=["avoid","avoid-page"];B={before:B.before||D.indexOf(R.breakBefore||R.pageBreakBefore)!==-1,after:B.after||D.indexOf(R.breakAfter||R.pageBreakAfter)!==-1,avoid:B.avoid||H.indexOf(R.breakInside||R.pageBreakInside)!==-1}}Object.keys(B).forEach(function(ye){B[ye]=B[ye]||S[ye].indexOf(K)!==-1});var P=K.getBoundingClientRect();if(B.avoid&&!B.before){var z=Math.floor(P.top/x),G=Math.floor(P.bottom/x),he=Math.abs(P.bottom-P.top)/x;G!==z&&he<=1&&(B.before=!0)}if(B.before){var ce=(0,f.createElement)("div",{style:{display:"block",height:x-P.top%x+"px"}});K.parentNode.insertBefore(ce,K)}if(B.after){var ce=(0,f.createElement)("div",{style:{display:"block",height:x-P.bottom%x+"px"}});K.parentNode.insertBefore(ce,K.nextSibling)}})})}},"./src/utils.js":function(c,d,u){u.r(d),u.d(d,{objType:function(){return f},createElement:function(){return h},cloneNode:function(){return g},unitConvert:function(){return p},toPx:function(){return b}}),u("./node_modules/core-js/modules/es.number.constructor.js"),u("./node_modules/core-js/modules/es.symbol.js"),u("./node_modules/core-js/modules/es.symbol.description.js"),u("./node_modules/core-js/modules/es.object.to-string.js"),u("./node_modules/core-js/modules/es.symbol.iterator.js"),u("./node_modules/core-js/modules/es.array.iterator.js"),u("./node_modules/core-js/modules/es.string.iterator.js"),u("./node_modules/core-js/modules/web.dom-collections.iterator.js");function A(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(w){return typeof w}:A=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},A(x)}var f=function(j){var w=A(j);return w==="undefined"?"undefined":w==="string"||j instanceof String?"string":w==="number"||j instanceof Number?"number":w==="function"||j instanceof Function?"function":j&&j.constructor===Array?"array":j&&j.nodeType===1?"element":w==="object"?"object":"unknown"},h=function(j,w){var S=document.createElement(j);if(w.className&&(S.className=w.className),w.innerHTML){S.innerHTML=w.innerHTML;for(var I=S.getElementsByTagName("script"),F=I.length;F-- >0;null)I[F].parentNode.removeChild(I[F])}for(var T in w.style)S.style[T]=w.style[T];return S},g=function x(j,w){for(var S=j.nodeType===3?document.createTextNode(j.nodeValue):j.cloneNode(!1),I=j.firstChild;I;I=I.nextSibling)(w===!0||I.nodeType!==1||I.nodeName!=="SCRIPT")&&S.appendChild(x(I,w));return j.nodeType===1&&(j.nodeName==="CANVAS"?(S.width=j.width,S.height=j.height,S.getContext("2d").drawImage(j,0,0)):(j.nodeName==="TEXTAREA"||j.nodeName==="SELECT")&&(S.value=j.value),S.addEventListener("load",function(){S.scrollTop=j.scrollTop,S.scrollLeft=j.scrollLeft},!0)),S},p=function(j,w){if(f(j)==="number")return j*72/96/w;var S={};for(var I in j)S[I]=j[I]*72/96/w;return S},b=function(j,w){return Math.floor(j*w/72*96)}},"./src/worker.js":function(c,d,u){u.r(d),u("./node_modules/core-js/modules/es.object.assign.js"),u("./node_modules/core-js/modules/es.array.map.js"),u("./node_modules/core-js/modules/es.object.keys.js"),u("./node_modules/core-js/modules/es.array.concat.js"),u("./node_modules/core-js/modules/es.object.to-string.js"),u("./node_modules/core-js/modules/es.regexp.to-string.js"),u("./node_modules/core-js/modules/es.function.name.js"),u("./node_modules/core-js/modules/web.dom-collections.for-each.js");var A=u("jspdf"),f=u("html2canvas"),h=u("./src/utils.js"),g=u("./node_modules/es6-promise/dist/es6-promise.js"),p=u.n(g),b=p().Promise,x=function j(w){var S=Object.assign(j.convert(b.resolve()),JSON.parse(JSON.stringify(j.template))),I=j.convert(b.resolve(),S);return I=I.setProgress(1,j,1,[j]),I=I.set(w),I};x.prototype=Object.create(b.prototype),x.prototype.constructor=x,x.convert=function(w,S){return w.__proto__=S||x.prototype,w},x.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},x.prototype.from=function(w,S){function I(F){switch((0,h.objType)(F)){case"string":return"string";case"element":return F.nodeName.toLowerCase&&F.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(S=S||I(w),S){case"string":return this.set({src:(0,h.createElement)("div",{innerHTML:w})});case"element":return this.set({src:w});case"canvas":return this.set({canvas:w});case"img":return this.set({img:w});default:return this.error("Unknown source type.")}})},x.prototype.to=function(w){switch(w){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},x.prototype.toContainer=function(){var w=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(w).then(function(){var I={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},F={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};I.opacity=0;var T=(0,h.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,h.createElement)("div",{className:"html2pdf__overlay",style:I}),this.prop.container=(0,h.createElement)("div",{className:"html2pdf__container",style:F}),this.prop.container.appendChild(T),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},x.prototype.toCanvas=function(){var w=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(w).then(function(){var I=Object.assign({},this.opt.html2canvas);return delete I.onrendered,f(this.prop.container,I)}).then(function(I){var F=this.opt.html2canvas.onrendered||function(){};F(I),this.prop.canvas=I,document.body.removeChild(this.prop.overlay)})},x.prototype.toImg=function(){var w=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(w).then(function(){var I=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=I})},x.prototype.toPdf=function(){var w=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(w).then(function(){var I=this.prop.canvas,F=this.opt,T=I.height,U=Math.floor(I.width*this.prop.pageSize.inner.ratio),K=Math.ceil(T/U),B=this.prop.pageSize.inner.height,R=document.createElement("canvas"),D=R.getContext("2d");R.width=I.width,R.height=U,this.prop.pdf=this.prop.pdf||new A.jsPDF(F.jsPDF);for(var H=0;H<K;H++){H===K-1&&T%U!==0&&(R.height=T%U,B=R.height*this.prop.pageSize.inner.width/R.width);var P=R.width,z=R.height;D.fillStyle="white",D.fillRect(0,0,P,z),D.drawImage(I,0,H*U,P,z,0,0,P,z),H&&this.prop.pdf.addPage();var G=R.toDataURL("image/"+F.image.type,F.image.quality);this.prop.pdf.addImage(G,F.image.type,F.margin[1],F.margin[0],this.prop.pageSize.inner.width,B)}})},x.prototype.output=function(w,S,I){return I=I||"pdf",I.toLowerCase()==="img"||I.toLowerCase()==="image"?this.outputImg(w,S):this.outputPdf(w,S)},x.prototype.outputPdf=function(w,S){var I=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(I).then(function(){return this.prop.pdf.output(w,S)})},x.prototype.outputImg=function(w,S){var I=[function(){return this.prop.img||this.toImg()}];return this.thenList(I).then(function(){switch(w){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+w+'" is not supported.'}})},x.prototype.save=function(w){var S=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(S).set(w?{filename:w}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},x.prototype.set=function(w){if((0,h.objType)(w)!=="object")return this;var S=Object.keys(w||{}).map(function(I){switch(I){case"margin":return this.setMargin.bind(this,w.margin);case"jsPDF":return function(){return this.opt.jsPDF=w.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,w.pageSize);default:return I in x.template.prop?function(){this.prop[I]=w[I]}:function(){this.opt[I]=w[I]}}},this);return this.then(function(){return this.thenList(S)})},x.prototype.get=function(w,S){return this.then(function(){var F=w in x.template.prop?this.prop[w]:this.opt[w];return S?S(F):F})},x.prototype.setMargin=function(w){return this.then(function(){switch((0,h.objType)(w)){case"number":w=[w,w,w,w];case"array":if(w.length===2&&(w=[w[0],w[1],w[0],w[1]]),w.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=w}).then(this.setPageSize)},x.prototype.setPageSize=function(w){return this.then(function(){w=w||A.jsPDF.getPageSize(this.opt.jsPDF),w.hasOwnProperty("inner")||(w.inner={width:w.width-this.opt.margin[1]-this.opt.margin[3],height:w.height-this.opt.margin[0]-this.opt.margin[2]},w.inner.px={width:(0,h.toPx)(w.inner.width,w.k),height:(0,h.toPx)(w.inner.height,w.k)},w.inner.ratio=w.inner.height/w.inner.width),this.prop.pageSize=w})},x.prototype.setProgress=function(w,S,I,F){return w!=null&&(this.progress.val=w),S!=null&&(this.progress.state=S),I!=null&&(this.progress.n=I),F!=null&&(this.progress.stack=F),this.progress.ratio=this.progress.val/this.progress.state,this},x.prototype.updateProgress=function(w,S,I,F){return this.setProgress(w?this.progress.val+w:null,S||null,I?this.progress.n+I:null,F?this.progress.stack.concat(F):null)},x.prototype.then=function(w,S){var I=this;return this.thenCore(w,S,function(T,U){return I.updateProgress(null,null,1,[T]),b.prototype.then.call(this,function(B){return I.updateProgress(null,T),B}).then(T,U).then(function(B){return I.updateProgress(1),B})})},x.prototype.thenCore=function(w,S,I){I=I||b.prototype.then;var F=this;w&&(w=w.bind(F)),S&&(S=S.bind(F));var T=b.toString().indexOf("[native code]")!==-1&&b.name==="Promise",U=T?F:x.convert(Object.assign({},F),b.prototype),K=I.call(U,w,S);return x.convert(K,F.__proto__)},x.prototype.thenExternal=function(w,S){return b.prototype.then.call(this,w,S)},x.prototype.thenList=function(w){var S=this;return w.forEach(function(F){S=S.thenCore(F)}),S},x.prototype.catch=function(j){j&&(j=j.bind(this));var w=b.prototype.catch.call(this,j);return x.convert(w,this)},x.prototype.catchExternal=function(w){return b.prototype.catch.call(this,w)},x.prototype.error=function(w){return this.then(function(){throw new Error(w)})},x.prototype.using=x.prototype.set,x.prototype.saveAs=x.prototype.save,x.prototype.export=x.prototype.output,x.prototype.run=x.prototype.then,d.default=x},"./node_modules/core-js/internals/a-function.js":function(c){c.exports=function(d){if(typeof d!="function")throw TypeError(String(d)+" is not a function");return d}},"./node_modules/core-js/internals/a-possible-prototype.js":function(c,d,u){var A=u("./node_modules/core-js/internals/is-object.js");c.exports=function(f){if(!A(f)&&f!==null)throw TypeError("Can't set "+String(f)+" as a prototype");return f}},"./node_modules/core-js/internals/add-to-unscopables.js":function(c,d,u){var A=u("./node_modules/core-js/internals/well-known-symbol.js"),f=u("./node_modules/core-js/internals/object-create.js"),h=u("./node_modules/core-js/internals/object-define-property.js"),g=A("unscopables"),p=Array.prototype;p[g]==null&&h.f(p,g,{configurable:!0,value:f(null)}),c.exports=function(b){p[g][b]=!0}},"./node_modules/core-js/internals/an-object.js":function(c,d,u){var A=u("./node_modules/core-js/internals/is-object.js");c.exports=function(f){if(!A(f))throw TypeError(String(f)+" is not an object");return f}},"./node_modules/core-js/internals/array-for-each.js":function(c,d,u){var A=u("./node_modules/core-js/internals/array-iteration.js").forEach,f=u("./node_modules/core-js/internals/array-method-is-strict.js"),h=f("forEach");c.exports=h?[].forEach:function(p){return A(this,p,arguments.length>1?arguments[1]:void 0)}},"./node_modules/core-js/internals/array-includes.js":function(c,d,u){var A=u("./node_modules/core-js/internals/to-indexed-object.js"),f=u("./node_modules/core-js/internals/to-length.js"),h=u("./node_modules/core-js/internals/to-absolute-index.js"),g=function(p){return function(b,x,j){var w=A(b),S=f(w.length),I=h(j,S),F;if(p&&x!=x){for(;S>I;)if(F=w[I++],F!=F)return!0}else for(;S>I;I++)if((p||I in w)&&w[I]===x)return p||I||0;return!p&&-1}};c.exports={includes:g(!0),indexOf:g(!1)}},"./node_modules/core-js/internals/array-iteration.js":function(c,d,u){var A=u("./node_modules/core-js/internals/function-bind-context.js"),f=u("./node_modules/core-js/internals/indexed-object.js"),h=u("./node_modules/core-js/internals/to-object.js"),g=u("./node_modules/core-js/internals/to-length.js"),p=u("./node_modules/core-js/internals/array-species-create.js"),b=[].push,x=function(j){var w=j==1,S=j==2,I=j==3,F=j==4,T=j==6,U=j==7,K=j==5||T;return function(B,R,D,H){for(var P=h(B),z=f(P),G=A(R,D,3),he=g(z.length),ce=0,ye=H||p,X=w?ye(B,he):S||U?ye(B,0):void 0,re,_;he>ce;ce++)if((K||ce in z)&&(re=z[ce],_=G(re,ce,P),j))if(w)X[ce]=_;else if(_)switch(j){case 3:return!0;case 5:return re;case 6:return ce;case 2:b.call(X,re)}else switch(j){case 4:return!1;case 7:b.call(X,re)}return T?-1:I||F?F:X}};c.exports={forEach:x(0),map:x(1),filter:x(2),some:x(3),every:x(4),find:x(5),findIndex:x(6),filterReject:x(7)}},"./node_modules/core-js/internals/array-method-has-species-support.js":function(c,d,u){var A=u("./node_modules/core-js/internals/fails.js"),f=u("./node_modules/core-js/internals/well-known-symbol.js"),h=u("./node_modules/core-js/internals/engine-v8-version.js"),g=f("species");c.exports=function(p){return h>=51||!A(function(){var b=[],x=b.constructor={};return x[g]=function(){return{foo:1}},b[p](Boolean).foo!==1})}},"./node_modules/core-js/internals/array-method-is-strict.js":function(c,d,u){var A=u("./node_modules/core-js/internals/fails.js");c.exports=function(f,h){var g=[][f];return!!g&&A(function(){g.call(null,h||function(){throw 1},1)})}},"./node_modules/core-js/internals/array-species-constructor.js":function(c,d,u){var A=u("./node_modules/core-js/internals/is-object.js"),f=u("./node_modules/core-js/internals/is-array.js"),h=u("./node_modules/core-js/internals/well-known-symbol.js"),g=h("species");c.exports=function(p){var b;return f(p)&&(b=p.constructor,typeof b=="function"&&(b===Array||f(b.prototype))?b=void 0:A(b)&&(b=b[g],b===null&&(b=void 0))),b===void 0?Array:b}},"./node_modules/core-js/internals/array-species-create.js":function(c,d,u){var A=u("./node_modules/core-js/internals/array-species-constructor.js");c.exports=function(f,h){return new(A(f))(h===0?0:h)}},"./node_modules/core-js/internals/classof-raw.js":function(c){var d={}.toString;c.exports=function(u){return d.call(u).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(c,d,u){var A=u("./node_modules/core-js/internals/to-string-tag-support.js"),f=u("./node_modules/core-js/internals/classof-raw.js"),h=u("./node_modules/core-js/internals/well-known-symbol.js"),g=h("toStringTag"),p=f(function(){return arguments}())=="Arguments",b=function(x,j){try{return x[j]}catch{}};c.exports=A?f:function(x){var j,w,S;return x===void 0?"Undefined":x===null?"Null":typeof(w=b(j=Object(x),g))=="string"?w:p?f(j):(S=f(j))=="Object"&&typeof j.callee=="function"?"Arguments":S}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(c,d,u){var A=u("./node_modules/core-js/internals/has.js"),f=u("./node_modules/core-js/internals/own-keys.js"),h=u("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),g=u("./node_modules/core-js/internals/object-define-property.js");c.exports=function(p,b){for(var x=f(b),j=g.f,w=h.f,S=0;S<x.length;S++){var I=x[S];A(p,I)||j(p,I,w(b,I))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(c,d,u){var A=u("./node_modules/core-js/internals/fails.js");c.exports=!A(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},"./node_modules/core-js/internals/create-html.js":function(c,d,u){var A=u("./node_modules/core-js/internals/require-object-coercible.js"),f=u("./node_modules/core-js/internals/to-string.js"),h=/"/g;c.exports=function(g,p,b,x){var j=f(A(g)),w="<"+p;return b!==""&&(w+=" "+b+'="'+f(x).replace(h,"&quot;")+'"'),w+">"+j+"</"+p+">"}},"./node_modules/core-js/internals/create-iterator-constructor.js":function(c,d,u){var A=u("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,f=u("./node_modules/core-js/internals/object-create.js"),h=u("./node_modules/core-js/internals/create-property-descriptor.js"),g=u("./node_modules/core-js/internals/set-to-string-tag.js"),p=u("./node_modules/core-js/internals/iterators.js"),b=function(){return this};c.exports=function(x,j,w){var S=j+" Iterator";return x.prototype=f(A,{next:h(1,w)}),g(x,S,!1,!0),p[S]=b,x}},"./node_modules/core-js/internals/create-non-enumerable-property.js":function(c,d,u){var A=u("./node_modules/core-js/internals/descriptors.js"),f=u("./node_modules/core-js/internals/object-define-property.js"),h=u("./node_modules/core-js/internals/create-property-descriptor.js");c.exports=A?function(g,p,b){return f.f(g,p,h(1,b))}:function(g,p,b){return g[p]=b,g}},"./node_modules/core-js/internals/create-property-descriptor.js":function(c){c.exports=function(d,u){return{enumerable:!(d&1),configurable:!(d&2),writable:!(d&4),value:u}}},"./node_modules/core-js/internals/create-property.js":function(c,d,u){var A=u("./node_modules/core-js/internals/to-property-key.js"),f=u("./node_modules/core-js/internals/object-define-property.js"),h=u("./node_modules/core-js/internals/create-property-descriptor.js");c.exports=function(g,p,b){var x=A(p);x in g?f.f(g,x,h(0,b)):g[x]=b}},"./node_modules/core-js/internals/define-iterator.js":function(c,d,u){var A=u("./node_modules/core-js/internals/export.js"),f=u("./node_modules/core-js/internals/create-iterator-constructor.js"),h=u("./node_modules/core-js/internals/object-get-prototype-of.js"),g=u("./node_modules/core-js/internals/object-set-prototype-of.js"),p=u("./node_modules/core-js/internals/set-to-string-tag.js"),b=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=u("./node_modules/core-js/internals/redefine.js"),j=u("./node_modules/core-js/internals/well-known-symbol.js"),w=u("./node_modules/core-js/internals/is-pure.js"),S=u("./node_modules/core-js/internals/iterators.js"),I=u("./node_modules/core-js/internals/iterators-core.js"),F=I.IteratorPrototype,T=I.BUGGY_SAFARI_ITERATORS,U=j("iterator"),K="keys",B="values",R="entries",D=function(){return this};c.exports=function(H,P,z,G,he,ce,ye){f(z,P,G);var X=function(fe){if(fe===he&&Ae)return Ae;if(!T&&fe in Q)return Q[fe];switch(fe){case K:return function(){return new z(this,fe)};case B:return function(){return new z(this,fe)};case R:return function(){return new z(this,fe)}}return function(){return new z(this)}},re=P+" Iterator",_=!1,Q=H.prototype,Z=Q[U]||Q["@@iterator"]||he&&Q[he],Ae=!T&&Z||X(he),me=P=="Array"&&Q.entries||Z,ae,ie,te;if(me&&(ae=h(me.call(new H)),F!==Object.prototype&&ae.next&&(!w&&h(ae)!==F&&(g?g(ae,F):typeof ae[U]!="function"&&b(ae,U,D)),p(ae,re,!0,!0),w&&(S[re]=D))),he==B&&Z&&Z.name!==B&&(_=!0,Ae=function(){return Z.call(this)}),(!w||ye)&&Q[U]!==Ae&&b(Q,U,Ae),S[P]=Ae,he)if(ie={values:X(B),keys:ce?Ae:X(K),entries:X(R)},ye)for(te in ie)(T||_||!(te in Q))&&x(Q,te,ie[te]);else A({target:P,proto:!0,forced:T||_},ie);return ie}},"./node_modules/core-js/internals/define-well-known-symbol.js":function(c,d,u){var A=u("./node_modules/core-js/internals/path.js"),f=u("./node_modules/core-js/internals/has.js"),h=u("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),g=u("./node_modules/core-js/internals/object-define-property.js").f;c.exports=function(p){var b=A.Symbol||(A.Symbol={});f(b,p)||g(b,p,{value:h.f(p)})}},"./node_modules/core-js/internals/descriptors.js":function(c,d,u){var A=u("./node_modules/core-js/internals/fails.js");c.exports=!A(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"./node_modules/core-js/internals/document-create-element.js":function(c,d,u){var A=u("./node_modules/core-js/internals/global.js"),f=u("./node_modules/core-js/internals/is-object.js"),h=A.document,g=f(h)&&f(h.createElement);c.exports=function(p){return g?h.createElement(p):{}}},"./node_modules/core-js/internals/dom-iterables.js":function(c){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/engine-user-agent.js":function(c,d,u){var A=u("./node_modules/core-js/internals/get-built-in.js");c.exports=A("navigator","userAgent")||""},"./node_modules/core-js/internals/engine-v8-version.js":function(c,d,u){var A=u("./node_modules/core-js/internals/global.js"),f=u("./node_modules/core-js/internals/engine-user-agent.js"),h=A.process,g=A.Deno,p=h&&h.versions||g&&g.version,b=p&&p.v8,x,j;b?(x=b.split("."),j=x[0]<4?1:x[0]+x[1]):f&&(x=f.match(/Edge\/(\d+)/),(!x||x[1]>=74)&&(x=f.match(/Chrome\/(\d+)/),x&&(j=x[1]))),c.exports=j&&+j},"./node_modules/core-js/internals/enum-bug-keys.js":function(c){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(c,d,u){var A=u("./node_modules/core-js/internals/global.js"),f=u("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,h=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=u("./node_modules/core-js/internals/redefine.js"),p=u("./node_modules/core-js/internals/set-global.js"),b=u("./node_modules/core-js/internals/copy-constructor-properties.js"),x=u("./node_modules/core-js/internals/is-forced.js");c.exports=function(j,w){var S=j.target,I=j.global,F=j.stat,T,U,K,B,R,D;if(I?U=A:F?U=A[S]||p(S,{}):U=(A[S]||{}).prototype,U)for(K in w){if(R=w[K],j.noTargetGet?(D=f(U,K),B=D&&D.value):B=U[K],T=x(I?K:S+(F?".":"#")+K,j.forced),!T&&B!==void 0){if(typeof R==typeof B)continue;b(R,B)}(j.sham||B&&B.sham)&&h(R,"sham",!0),g(U,K,R,j)}}},"./node_modules/core-js/internals/fails.js":function(c){c.exports=function(d){try{return!!d()}catch{return!0}}},"./node_modules/core-js/internals/function-bind-context.js":function(c,d,u){var A=u("./node_modules/core-js/internals/a-function.js");c.exports=function(f,h,g){if(A(f),h===void 0)return f;switch(g){case 0:return function(){return f.call(h)};case 1:return function(p){return f.call(h,p)};case 2:return function(p,b){return f.call(h,p,b)};case 3:return function(p,b,x){return f.call(h,p,b,x)}}return function(){return f.apply(h,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":function(c,d,u){var A=u("./node_modules/core-js/internals/global.js"),f=function(h){return typeof h=="function"?h:void 0};c.exports=function(h,g){return arguments.length<2?f(A[h]):A[h]&&A[h][g]}},"./node_modules/core-js/internals/global.js":function(c){var d=function(u){return u&&u.Math==Math&&u};c.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof window=="object"&&window)||function(){return this}()||Function("return this")()},"./node_modules/core-js/internals/has.js":function(c,d,u){var A=u("./node_modules/core-js/internals/to-object.js"),f={}.hasOwnProperty;c.exports=Object.hasOwn||function(g,p){return f.call(A(g),p)}},"./node_modules/core-js/internals/hidden-keys.js":function(c){c.exports={}},"./node_modules/core-js/internals/html.js":function(c,d,u){var A=u("./node_modules/core-js/internals/get-built-in.js");c.exports=A("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":function(c,d,u){var A=u("./node_modules/core-js/internals/descriptors.js"),f=u("./node_modules/core-js/internals/fails.js"),h=u("./node_modules/core-js/internals/document-create-element.js");c.exports=!A&&!f(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(c,d,u){var A=u("./node_modules/core-js/internals/fails.js"),f=u("./node_modules/core-js/internals/classof-raw.js"),h="".split;c.exports=A(function(){return!Object("z").propertyIsEnumerable(0)})?function(g){return f(g)=="String"?h.call(g,""):Object(g)}:Object},"./node_modules/core-js/internals/inherit-if-required.js":function(c,d,u){var A=u("./node_modules/core-js/internals/is-object.js"),f=u("./node_modules/core-js/internals/object-set-prototype-of.js");c.exports=function(h,g,p){var b,x;return f&&typeof(b=g.constructor)=="function"&&b!==p&&A(x=b.prototype)&&x!==p.prototype&&f(h,x),h}},"./node_modules/core-js/internals/inspect-source.js":function(c,d,u){var A=u("./node_modules/core-js/internals/shared-store.js"),f=Function.toString;typeof A.inspectSource!="function"&&(A.inspectSource=function(h){return f.call(h)}),c.exports=A.inspectSource},"./node_modules/core-js/internals/internal-state.js":function(c,d,u){var A=u("./node_modules/core-js/internals/native-weak-map.js"),f=u("./node_modules/core-js/internals/global.js"),h=u("./node_modules/core-js/internals/is-object.js"),g=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),p=u("./node_modules/core-js/internals/has.js"),b=u("./node_modules/core-js/internals/shared-store.js"),x=u("./node_modules/core-js/internals/shared-key.js"),j=u("./node_modules/core-js/internals/hidden-keys.js"),w="Object already initialized",S=f.WeakMap,I,F,T,U=function(z){return T(z)?F(z):I(z,{})},K=function(z){return function(G){var he;if(!h(G)||(he=F(G)).type!==z)throw TypeError("Incompatible receiver, "+z+" required");return he}};if(A||b.state){var B=b.state||(b.state=new S),R=B.get,D=B.has,H=B.set;I=function(z,G){if(D.call(B,z))throw new TypeError(w);return G.facade=z,H.call(B,z,G),G},F=function(z){return R.call(B,z)||{}},T=function(z){return D.call(B,z)}}else{var P=x("state");j[P]=!0,I=function(z,G){if(p(z,P))throw new TypeError(w);return G.facade=z,g(z,P,G),G},F=function(z){return p(z,P)?z[P]:{}},T=function(z){return p(z,P)}}c.exports={set:I,get:F,has:T,enforce:U,getterFor:K}},"./node_modules/core-js/internals/is-array.js":function(c,d,u){var A=u("./node_modules/core-js/internals/classof-raw.js");c.exports=Array.isArray||function(h){return A(h)=="Array"}},"./node_modules/core-js/internals/is-forced.js":function(c,d,u){var A=u("./node_modules/core-js/internals/fails.js"),f=/#|\.prototype\./,h=function(j,w){var S=p[g(j)];return S==x?!0:S==b?!1:typeof w=="function"?A(w):!!w},g=h.normalize=function(j){return String(j).replace(f,".").toLowerCase()},p=h.data={},b=h.NATIVE="N",x=h.POLYFILL="P";c.exports=h},"./node_modules/core-js/internals/is-object.js":function(c){c.exports=function(d){return typeof d=="object"?d!==null:typeof d=="function"}},"./node_modules/core-js/internals/is-pure.js":function(c){c.exports=!1},"./node_modules/core-js/internals/is-symbol.js":function(c,d,u){var A=u("./node_modules/core-js/internals/get-built-in.js"),f=u("./node_modules/core-js/internals/use-symbol-as-uid.js");c.exports=f?function(h){return typeof h=="symbol"}:function(h){var g=A("Symbol");return typeof g=="function"&&Object(h)instanceof g}},"./node_modules/core-js/internals/iterators-core.js":function(c,d,u){var A=u("./node_modules/core-js/internals/fails.js"),f=u("./node_modules/core-js/internals/object-get-prototype-of.js"),h=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=u("./node_modules/core-js/internals/has.js"),p=u("./node_modules/core-js/internals/well-known-symbol.js"),b=u("./node_modules/core-js/internals/is-pure.js"),x=p("iterator"),j=!1,w=function(){return this},S,I,F;[].keys&&(F=[].keys(),"next"in F?(I=f(f(F)),I!==Object.prototype&&(S=I)):j=!0);var T=S==null||A(function(){var U={};return S[x].call(U)!==U});T&&(S={}),(!b||T)&&!g(S,x)&&h(S,x,w),c.exports={IteratorPrototype:S,BUGGY_SAFARI_ITERATORS:j}},"./node_modules/core-js/internals/iterators.js":function(c){c.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(c,d,u){var A=u("./node_modules/core-js/internals/engine-v8-version.js"),f=u("./node_modules/core-js/internals/fails.js");c.exports=!!Object.getOwnPropertySymbols&&!f(function(){var h=Symbol();return!String(h)||!(Object(h)instanceof Symbol)||!Symbol.sham&&A&&A<41})},"./node_modules/core-js/internals/native-weak-map.js":function(c,d,u){var A=u("./node_modules/core-js/internals/global.js"),f=u("./node_modules/core-js/internals/inspect-source.js"),h=A.WeakMap;c.exports=typeof h=="function"&&/native code/.test(f(h))},"./node_modules/core-js/internals/object-assign.js":function(c,d,u){var A=u("./node_modules/core-js/internals/descriptors.js"),f=u("./node_modules/core-js/internals/fails.js"),h=u("./node_modules/core-js/internals/object-keys.js"),g=u("./node_modules/core-js/internals/object-get-own-property-symbols.js"),p=u("./node_modules/core-js/internals/object-property-is-enumerable.js"),b=u("./node_modules/core-js/internals/to-object.js"),x=u("./node_modules/core-js/internals/indexed-object.js"),j=Object.assign,w=Object.defineProperty;c.exports=!j||f(function(){if(A&&j({b:1},j(w({},"a",{enumerable:!0,get:function(){w(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var S={},I={},F=Symbol(),T="abcdefghijklmnopqrst";return S[F]=7,T.split("").forEach(function(U){I[U]=U}),j({},S)[F]!=7||h(j({},I)).join("")!=T})?function(I,F){for(var T=b(I),U=arguments.length,K=1,B=g.f,R=p.f;U>K;)for(var D=x(arguments[K++]),H=B?h(D).concat(B(D)):h(D),P=H.length,z=0,G;P>z;)G=H[z++],(!A||R.call(D,G))&&(T[G]=D[G]);return T}:j},"./node_modules/core-js/internals/object-create.js":function(c,d,u){var A=u("./node_modules/core-js/internals/an-object.js"),f=u("./node_modules/core-js/internals/object-define-properties.js"),h=u("./node_modules/core-js/internals/enum-bug-keys.js"),g=u("./node_modules/core-js/internals/hidden-keys.js"),p=u("./node_modules/core-js/internals/html.js"),b=u("./node_modules/core-js/internals/document-create-element.js"),x=u("./node_modules/core-js/internals/shared-key.js"),j=">",w="<",S="prototype",I="script",F=x("IE_PROTO"),T=function(){},U=function(H){return w+I+j+H+w+"/"+I+j},K=function(H){H.write(U("")),H.close();var P=H.parentWindow.Object;return H=null,P},B=function(){var H=b("iframe"),P="java"+I+":",z;if(H.style)return H.style.display="none",p.appendChild(H),H.src=String(P),z=H.contentWindow.document,z.open(),z.write(U("document.F=Object")),z.close(),z.F},R,D=function(){try{R=new ActiveXObject("htmlfile")}catch{}D=document.domain&&R?K(R):B()||K(R);for(var H=h.length;H--;)delete D[S][h[H]];return D()};g[F]=!0,c.exports=Object.create||function(P,z){var G;return P!==null?(T[S]=A(P),G=new T,T[S]=null,G[F]=P):G=D(),z===void 0?G:f(G,z)}},"./node_modules/core-js/internals/object-define-properties.js":function(c,d,u){var A=u("./node_modules/core-js/internals/descriptors.js"),f=u("./node_modules/core-js/internals/object-define-property.js"),h=u("./node_modules/core-js/internals/an-object.js"),g=u("./node_modules/core-js/internals/object-keys.js");c.exports=A?Object.defineProperties:function(b,x){h(b);for(var j=g(x),w=j.length,S=0,I;w>S;)f.f(b,I=j[S++],x[I]);return b}},"./node_modules/core-js/internals/object-define-property.js":function(c,d,u){var A=u("./node_modules/core-js/internals/descriptors.js"),f=u("./node_modules/core-js/internals/ie8-dom-define.js"),h=u("./node_modules/core-js/internals/an-object.js"),g=u("./node_modules/core-js/internals/to-property-key.js"),p=Object.defineProperty;d.f=A?p:function(x,j,w){if(h(x),j=g(j),h(w),f)try{return p(x,j,w)}catch{}if("get"in w||"set"in w)throw TypeError("Accessors not supported");return"value"in w&&(x[j]=w.value),x}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(c,d,u){var A=u("./node_modules/core-js/internals/descriptors.js"),f=u("./node_modules/core-js/internals/object-property-is-enumerable.js"),h=u("./node_modules/core-js/internals/create-property-descriptor.js"),g=u("./node_modules/core-js/internals/to-indexed-object.js"),p=u("./node_modules/core-js/internals/to-property-key.js"),b=u("./node_modules/core-js/internals/has.js"),x=u("./node_modules/core-js/internals/ie8-dom-define.js"),j=Object.getOwnPropertyDescriptor;d.f=A?j:function(S,I){if(S=g(S),I=p(I),x)try{return j(S,I)}catch{}if(b(S,I))return h(!f.f.call(S,I),S[I])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(c,d,u){var A=u("./node_modules/core-js/internals/to-indexed-object.js"),f=u("./node_modules/core-js/internals/object-get-own-property-names.js").f,h={}.toString,g=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],p=function(b){try{return f(b)}catch{return g.slice()}};c.exports.f=function(x){return g&&h.call(x)=="[object Window]"?p(x):f(A(x))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(c,d,u){var A=u("./node_modules/core-js/internals/object-keys-internal.js"),f=u("./node_modules/core-js/internals/enum-bug-keys.js"),h=f.concat("length","prototype");d.f=Object.getOwnPropertyNames||function(p){return A(p,h)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(c,d){d.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(c,d,u){var A=u("./node_modules/core-js/internals/has.js"),f=u("./node_modules/core-js/internals/to-object.js"),h=u("./node_modules/core-js/internals/shared-key.js"),g=u("./node_modules/core-js/internals/correct-prototype-getter.js"),p=h("IE_PROTO"),b=Object.prototype;c.exports=g?Object.getPrototypeOf:function(x){return x=f(x),A(x,p)?x[p]:typeof x.constructor=="function"&&x instanceof x.constructor?x.constructor.prototype:x instanceof Object?b:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(c,d,u){var A=u("./node_modules/core-js/internals/has.js"),f=u("./node_modules/core-js/internals/to-indexed-object.js"),h=u("./node_modules/core-js/internals/array-includes.js").indexOf,g=u("./node_modules/core-js/internals/hidden-keys.js");c.exports=function(p,b){var x=f(p),j=0,w=[],S;for(S in x)!A(g,S)&&A(x,S)&&w.push(S);for(;b.length>j;)A(x,S=b[j++])&&(~h(w,S)||w.push(S));return w}},"./node_modules/core-js/internals/object-keys.js":function(c,d,u){var A=u("./node_modules/core-js/internals/object-keys-internal.js"),f=u("./node_modules/core-js/internals/enum-bug-keys.js");c.exports=Object.keys||function(g){return A(g,f)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(c,d){var u={}.propertyIsEnumerable,A=Object.getOwnPropertyDescriptor,f=A&&!u.call({1:2},1);d.f=f?function(g){var p=A(this,g);return!!p&&p.enumerable}:u},"./node_modules/core-js/internals/object-set-prototype-of.js":function(c,d,u){var A=u("./node_modules/core-js/internals/an-object.js"),f=u("./node_modules/core-js/internals/a-possible-prototype.js");c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var h=!1,g={},p;try{p=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,p.call(g,[]),h=g instanceof Array}catch{}return function(x,j){return A(x),f(j),h?p.call(x,j):x.__proto__=j,x}}():void 0)},"./node_modules/core-js/internals/object-to-string.js":function(c,d,u){var A=u("./node_modules/core-js/internals/to-string-tag-support.js"),f=u("./node_modules/core-js/internals/classof.js");c.exports=A?{}.toString:function(){return"[object "+f(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":function(c,d,u){var A=u("./node_modules/core-js/internals/is-object.js");c.exports=function(f,h){var g,p;if(h==="string"&&typeof(g=f.toString)=="function"&&!A(p=g.call(f))||typeof(g=f.valueOf)=="function"&&!A(p=g.call(f))||h!=="string"&&typeof(g=f.toString)=="function"&&!A(p=g.call(f)))return p;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":function(c,d,u){var A=u("./node_modules/core-js/internals/get-built-in.js"),f=u("./node_modules/core-js/internals/object-get-own-property-names.js"),h=u("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=u("./node_modules/core-js/internals/an-object.js");c.exports=A("Reflect","ownKeys")||function(b){var x=f.f(g(b)),j=h.f;return j?x.concat(j(b)):x}},"./node_modules/core-js/internals/path.js":function(c,d,u){var A=u("./node_modules/core-js/internals/global.js");c.exports=A},"./node_modules/core-js/internals/redefine.js":function(c,d,u){var A=u("./node_modules/core-js/internals/global.js"),f=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),h=u("./node_modules/core-js/internals/has.js"),g=u("./node_modules/core-js/internals/set-global.js"),p=u("./node_modules/core-js/internals/inspect-source.js"),b=u("./node_modules/core-js/internals/internal-state.js"),x=b.get,j=b.enforce,w=String(String).split("String");(c.exports=function(S,I,F,T){var U=T?!!T.unsafe:!1,K=T?!!T.enumerable:!1,B=T?!!T.noTargetGet:!1,R;if(typeof F=="function"&&(typeof I=="string"&&!h(F,"name")&&f(F,"name",I),R=j(F),R.source||(R.source=w.join(typeof I=="string"?I:""))),S===A){K?S[I]=F:g(I,F);return}else U?!B&&S[I]&&(K=!0):delete S[I];K?S[I]=F:f(S,I,F)})(Function.prototype,"toString",function(){return typeof this=="function"&&x(this).source||p(this)})},"./node_modules/core-js/internals/regexp-flags.js":function(c,d,u){var A=u("./node_modules/core-js/internals/an-object.js");c.exports=function(){var f=A(this),h="";return f.global&&(h+="g"),f.ignoreCase&&(h+="i"),f.multiline&&(h+="m"),f.dotAll&&(h+="s"),f.unicode&&(h+="u"),f.sticky&&(h+="y"),h}},"./node_modules/core-js/internals/require-object-coercible.js":function(c){c.exports=function(d){if(d==null)throw TypeError("Can't call method on "+d);return d}},"./node_modules/core-js/internals/set-global.js":function(c,d,u){var A=u("./node_modules/core-js/internals/global.js");c.exports=function(f,h){try{Object.defineProperty(A,f,{value:h,configurable:!0,writable:!0})}catch{A[f]=h}return h}},"./node_modules/core-js/internals/set-to-string-tag.js":function(c,d,u){var A=u("./node_modules/core-js/internals/object-define-property.js").f,f=u("./node_modules/core-js/internals/has.js"),h=u("./node_modules/core-js/internals/well-known-symbol.js"),g=h("toStringTag");c.exports=function(p,b,x){p&&!f(p=x?p:p.prototype,g)&&A(p,g,{configurable:!0,value:b})}},"./node_modules/core-js/internals/shared-key.js":function(c,d,u){var A=u("./node_modules/core-js/internals/shared.js"),f=u("./node_modules/core-js/internals/uid.js"),h=A("keys");c.exports=function(g){return h[g]||(h[g]=f(g))}},"./node_modules/core-js/internals/shared-store.js":function(c,d,u){var A=u("./node_modules/core-js/internals/global.js"),f=u("./node_modules/core-js/internals/set-global.js"),h="__core-js_shared__",g=A[h]||f(h,{});c.exports=g},"./node_modules/core-js/internals/shared.js":function(c,d,u){var A=u("./node_modules/core-js/internals/is-pure.js"),f=u("./node_modules/core-js/internals/shared-store.js");(c.exports=function(h,g){return f[h]||(f[h]=g!==void 0?g:{})})("versions",[]).push({version:"3.16.0",mode:A?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-html-forced.js":function(c,d,u){var A=u("./node_modules/core-js/internals/fails.js");c.exports=function(f){return A(function(){var h=""[f]('"');return h!==h.toLowerCase()||h.split('"').length>3})}},"./node_modules/core-js/internals/string-multibyte.js":function(c,d,u){var A=u("./node_modules/core-js/internals/to-integer.js"),f=u("./node_modules/core-js/internals/to-string.js"),h=u("./node_modules/core-js/internals/require-object-coercible.js"),g=function(p){return function(b,x){var j=f(h(b)),w=A(x),S=j.length,I,F;return w<0||w>=S?p?"":void 0:(I=j.charCodeAt(w),I<55296||I>56319||w+1===S||(F=j.charCodeAt(w+1))<56320||F>57343?p?j.charAt(w):I:p?j.slice(w,w+2):(I-55296<<10)+(F-56320)+65536)}};c.exports={codeAt:g(!1),charAt:g(!0)}},"./node_modules/core-js/internals/string-trim.js":function(c,d,u){var A=u("./node_modules/core-js/internals/require-object-coercible.js"),f=u("./node_modules/core-js/internals/to-string.js"),h=u("./node_modules/core-js/internals/whitespaces.js"),g="["+h+"]",p=RegExp("^"+g+g+"*"),b=RegExp(g+g+"*$"),x=function(j){return function(w){var S=f(A(w));return j&1&&(S=S.replace(p,"")),j&2&&(S=S.replace(b,"")),S}};c.exports={start:x(1),end:x(2),trim:x(3)}},"./node_modules/core-js/internals/to-absolute-index.js":function(c,d,u){var A=u("./node_modules/core-js/internals/to-integer.js"),f=Math.max,h=Math.min;c.exports=function(g,p){var b=A(g);return b<0?f(b+p,0):h(b,p)}},"./node_modules/core-js/internals/to-indexed-object.js":function(c,d,u){var A=u("./node_modules/core-js/internals/indexed-object.js"),f=u("./node_modules/core-js/internals/require-object-coercible.js");c.exports=function(h){return A(f(h))}},"./node_modules/core-js/internals/to-integer.js":function(c){var d=Math.ceil,u=Math.floor;c.exports=function(A){return isNaN(A=+A)?0:(A>0?u:d)(A)}},"./node_modules/core-js/internals/to-length.js":function(c,d,u){var A=u("./node_modules/core-js/internals/to-integer.js"),f=Math.min;c.exports=function(h){return h>0?f(A(h),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(c,d,u){var A=u("./node_modules/core-js/internals/require-object-coercible.js");c.exports=function(f){return Object(A(f))}},"./node_modules/core-js/internals/to-primitive.js":function(c,d,u){var A=u("./node_modules/core-js/internals/is-object.js"),f=u("./node_modules/core-js/internals/is-symbol.js"),h=u("./node_modules/core-js/internals/ordinary-to-primitive.js"),g=u("./node_modules/core-js/internals/well-known-symbol.js"),p=g("toPrimitive");c.exports=function(b,x){if(!A(b)||f(b))return b;var j=b[p],w;if(j!==void 0){if(x===void 0&&(x="default"),w=j.call(b,x),!A(w)||f(w))return w;throw TypeError("Can't convert object to primitive value")}return x===void 0&&(x="number"),h(b,x)}},"./node_modules/core-js/internals/to-property-key.js":function(c,d,u){var A=u("./node_modules/core-js/internals/to-primitive.js"),f=u("./node_modules/core-js/internals/is-symbol.js");c.exports=function(h){var g=A(h,"string");return f(g)?g:String(g)}},"./node_modules/core-js/internals/to-string-tag-support.js":function(c,d,u){var A=u("./node_modules/core-js/internals/well-known-symbol.js"),f=A("toStringTag"),h={};h[f]="z",c.exports=String(h)==="[object z]"},"./node_modules/core-js/internals/to-string.js":function(c,d,u){var A=u("./node_modules/core-js/internals/is-symbol.js");c.exports=function(f){if(A(f))throw TypeError("Cannot convert a Symbol value to a string");return String(f)}},"./node_modules/core-js/internals/uid.js":function(c){var d=0,u=Math.random();c.exports=function(A){return"Symbol("+String(A===void 0?"":A)+")_"+(++d+u).toString(36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":function(c,d,u){var A=u("./node_modules/core-js/internals/native-symbol.js");c.exports=A&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":function(c,d,u){var A=u("./node_modules/core-js/internals/well-known-symbol.js");d.f=A},"./node_modules/core-js/internals/well-known-symbol.js":function(c,d,u){var A=u("./node_modules/core-js/internals/global.js"),f=u("./node_modules/core-js/internals/shared.js"),h=u("./node_modules/core-js/internals/has.js"),g=u("./node_modules/core-js/internals/uid.js"),p=u("./node_modules/core-js/internals/native-symbol.js"),b=u("./node_modules/core-js/internals/use-symbol-as-uid.js"),x=f("wks"),j=A.Symbol,w=b?j:j&&j.withoutSetter||g;c.exports=function(S){return(!h(x,S)||!(p||typeof x[S]=="string"))&&(p&&h(j,S)?x[S]=j[S]:x[S]=w("Symbol."+S)),x[S]}},"./node_modules/core-js/internals/whitespaces.js":function(c){c.exports=`	
\v\f\r \u2028\u2029\uFEFF`},"./node_modules/core-js/modules/es.array.concat.js":function(c,d,u){var A=u("./node_modules/core-js/internals/export.js"),f=u("./node_modules/core-js/internals/fails.js"),h=u("./node_modules/core-js/internals/is-array.js"),g=u("./node_modules/core-js/internals/is-object.js"),p=u("./node_modules/core-js/internals/to-object.js"),b=u("./node_modules/core-js/internals/to-length.js"),x=u("./node_modules/core-js/internals/create-property.js"),j=u("./node_modules/core-js/internals/array-species-create.js"),w=u("./node_modules/core-js/internals/array-method-has-species-support.js"),S=u("./node_modules/core-js/internals/well-known-symbol.js"),I=u("./node_modules/core-js/internals/engine-v8-version.js"),F=S("isConcatSpreadable"),T=9007199254740991,U="Maximum allowed index exceeded",K=I>=51||!f(function(){var H=[];return H[F]=!1,H.concat()[0]!==H}),B=w("concat"),R=function(H){if(!g(H))return!1;var P=H[F];return P!==void 0?!!P:h(H)},D=!K||!B;A({target:"Array",proto:!0,forced:D},{concat:function(P){var z=p(this),G=j(z,0),he=0,ce,ye,X,re,_;for(ce=-1,X=arguments.length;ce<X;ce++)if(_=ce===-1?z:arguments[ce],R(_)){if(re=b(_.length),he+re>T)throw TypeError(U);for(ye=0;ye<re;ye++,he++)ye in _&&x(G,he,_[ye])}else{if(he>=T)throw TypeError(U);x(G,he++,_)}return G.length=he,G}})},"./node_modules/core-js/modules/es.array.iterator.js":function(c,d,u){var A=u("./node_modules/core-js/internals/to-indexed-object.js"),f=u("./node_modules/core-js/internals/add-to-unscopables.js"),h=u("./node_modules/core-js/internals/iterators.js"),g=u("./node_modules/core-js/internals/internal-state.js"),p=u("./node_modules/core-js/internals/define-iterator.js"),b="Array Iterator",x=g.set,j=g.getterFor(b);c.exports=p(Array,"Array",function(w,S){x(this,{type:b,target:A(w),index:0,kind:S})},function(){var w=j(this),S=w.target,I=w.kind,F=w.index++;return!S||F>=S.length?(w.target=void 0,{value:void 0,done:!0}):I=="keys"?{value:F,done:!1}:I=="values"?{value:S[F],done:!1}:{value:[F,S[F]],done:!1}},"values"),h.Arguments=h.Array,f("keys"),f("values"),f("entries")},"./node_modules/core-js/modules/es.array.join.js":function(c,d,u){var A=u("./node_modules/core-js/internals/export.js"),f=u("./node_modules/core-js/internals/indexed-object.js"),h=u("./node_modules/core-js/internals/to-indexed-object.js"),g=u("./node_modules/core-js/internals/array-method-is-strict.js"),p=[].join,b=f!=Object,x=g("join",",");A({target:"Array",proto:!0,forced:b||!x},{join:function(w){return p.call(h(this),w===void 0?",":w)}})},"./node_modules/core-js/modules/es.array.map.js":function(c,d,u){var A=u("./node_modules/core-js/internals/export.js"),f=u("./node_modules/core-js/internals/array-iteration.js").map,h=u("./node_modules/core-js/internals/array-method-has-species-support.js"),g=h("map");A({target:"Array",proto:!0,forced:!g},{map:function(b){return f(this,b,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.slice.js":function(c,d,u){var A=u("./node_modules/core-js/internals/export.js"),f=u("./node_modules/core-js/internals/is-object.js"),h=u("./node_modules/core-js/internals/is-array.js"),g=u("./node_modules/core-js/internals/to-absolute-index.js"),p=u("./node_modules/core-js/internals/to-length.js"),b=u("./node_modules/core-js/internals/to-indexed-object.js"),x=u("./node_modules/core-js/internals/create-property.js"),j=u("./node_modules/core-js/internals/well-known-symbol.js"),w=u("./node_modules/core-js/internals/array-method-has-species-support.js"),S=w("slice"),I=j("species"),F=[].slice,T=Math.max;A({target:"Array",proto:!0,forced:!S},{slice:function(K,B){var R=b(this),D=p(R.length),H=g(K,D),P=g(B===void 0?D:B,D),z,G,he;if(h(R)&&(z=R.constructor,typeof z=="function"&&(z===Array||h(z.prototype))?z=void 0:f(z)&&(z=z[I],z===null&&(z=void 0)),z===Array||z===void 0))return F.call(R,H,P);for(G=new(z===void 0?Array:z)(T(P-H,0)),he=0;H<P;H++,he++)H in R&&x(G,he,R[H]);return G.length=he,G}})},"./node_modules/core-js/modules/es.function.name.js":function(c,d,u){var A=u("./node_modules/core-js/internals/descriptors.js"),f=u("./node_modules/core-js/internals/object-define-property.js").f,h=Function.prototype,g=h.toString,p=/^\s*function ([^ (]*)/,b="name";A&&!(b in h)&&f(h,b,{configurable:!0,get:function(){try{return g.call(this).match(p)[1]}catch{return""}}})},"./node_modules/core-js/modules/es.number.constructor.js":function(c,d,u){var A=u("./node_modules/core-js/internals/descriptors.js"),f=u("./node_modules/core-js/internals/global.js"),h=u("./node_modules/core-js/internals/is-forced.js"),g=u("./node_modules/core-js/internals/redefine.js"),p=u("./node_modules/core-js/internals/has.js"),b=u("./node_modules/core-js/internals/classof-raw.js"),x=u("./node_modules/core-js/internals/inherit-if-required.js"),j=u("./node_modules/core-js/internals/is-symbol.js"),w=u("./node_modules/core-js/internals/to-primitive.js"),S=u("./node_modules/core-js/internals/fails.js"),I=u("./node_modules/core-js/internals/object-create.js"),F=u("./node_modules/core-js/internals/object-get-own-property-names.js").f,T=u("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,U=u("./node_modules/core-js/internals/object-define-property.js").f,K=u("./node_modules/core-js/internals/string-trim.js").trim,B="Number",R=f[B],D=R.prototype,H=b(I(D))==B,P=function(ye){if(j(ye))throw TypeError("Cannot convert a Symbol value to a number");var X=w(ye,"number"),re,_,Q,Z,Ae,me,ae,ie;if(typeof X=="string"&&X.length>2){if(X=K(X),re=X.charCodeAt(0),re===43||re===45){if(_=X.charCodeAt(2),_===88||_===120)return NaN}else if(re===48){switch(X.charCodeAt(1)){case 66:case 98:Q=2,Z=49;break;case 79:case 111:Q=8,Z=55;break;default:return+X}for(Ae=X.slice(2),me=Ae.length,ae=0;ae<me;ae++)if(ie=Ae.charCodeAt(ae),ie<48||ie>Z)return NaN;return parseInt(Ae,Q)}}return+X};if(h(B,!R(" 0o1")||!R("0b1")||R("+0x1"))){for(var z=function(X){var re=arguments.length<1?0:X,_=this;return _ instanceof z&&(H?S(function(){D.valueOf.call(_)}):b(_)!=B)?x(new R(P(re)),_,z):P(re)},G=A?F(R):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),he=0,ce;G.length>he;he++)p(R,ce=G[he])&&!p(z,ce)&&U(z,ce,T(R,ce));z.prototype=D,D.constructor=z,g(f,B,z)}},"./node_modules/core-js/modules/es.object.assign.js":function(c,d,u){var A=u("./node_modules/core-js/internals/export.js"),f=u("./node_modules/core-js/internals/object-assign.js");A({target:"Object",stat:!0,forced:Object.assign!==f},{assign:f})},"./node_modules/core-js/modules/es.object.keys.js":function(c,d,u){var A=u("./node_modules/core-js/internals/export.js"),f=u("./node_modules/core-js/internals/to-object.js"),h=u("./node_modules/core-js/internals/object-keys.js"),g=u("./node_modules/core-js/internals/fails.js"),p=g(function(){h(1)});A({target:"Object",stat:!0,forced:p},{keys:function(x){return h(f(x))}})},"./node_modules/core-js/modules/es.object.to-string.js":function(c,d,u){var A=u("./node_modules/core-js/internals/to-string-tag-support.js"),f=u("./node_modules/core-js/internals/redefine.js"),h=u("./node_modules/core-js/internals/object-to-string.js");A||f(Object.prototype,"toString",h,{unsafe:!0})},"./node_modules/core-js/modules/es.regexp.to-string.js":function(c,d,u){var A=u("./node_modules/core-js/internals/redefine.js"),f=u("./node_modules/core-js/internals/an-object.js"),h=u("./node_modules/core-js/internals/to-string.js"),g=u("./node_modules/core-js/internals/fails.js"),p=u("./node_modules/core-js/internals/regexp-flags.js"),b="toString",x=RegExp.prototype,j=x[b],w=g(function(){return j.call({source:"a",flags:"b"})!="/a/b"}),S=j.name!=b;(w||S)&&A(RegExp.prototype,b,function(){var F=f(this),T=h(F.source),U=F.flags,K=h(U===void 0&&F instanceof RegExp&&!("flags"in x)?p.call(F):U);return"/"+T+"/"+K},{unsafe:!0})},"./node_modules/core-js/modules/es.string.iterator.js":function(c,d,u){var A=u("./node_modules/core-js/internals/string-multibyte.js").charAt,f=u("./node_modules/core-js/internals/to-string.js"),h=u("./node_modules/core-js/internals/internal-state.js"),g=u("./node_modules/core-js/internals/define-iterator.js"),p="String Iterator",b=h.set,x=h.getterFor(p);g(String,"String",function(j){b(this,{type:p,string:f(j),index:0})},function(){var w=x(this),S=w.string,I=w.index,F;return I>=S.length?{value:void 0,done:!0}:(F=A(S,I),w.index+=F.length,{value:F,done:!1})})},"./node_modules/core-js/modules/es.string.link.js":function(c,d,u){var A=u("./node_modules/core-js/internals/export.js"),f=u("./node_modules/core-js/internals/create-html.js"),h=u("./node_modules/core-js/internals/string-html-forced.js");A({target:"String",proto:!0,forced:h("link")},{link:function(p){return f(this,"a","href",p)}})},"./node_modules/core-js/modules/es.symbol.description.js":function(c,d,u){var A=u("./node_modules/core-js/internals/export.js"),f=u("./node_modules/core-js/internals/descriptors.js"),h=u("./node_modules/core-js/internals/global.js"),g=u("./node_modules/core-js/internals/has.js"),p=u("./node_modules/core-js/internals/is-object.js"),b=u("./node_modules/core-js/internals/object-define-property.js").f,x=u("./node_modules/core-js/internals/copy-constructor-properties.js"),j=h.Symbol;if(f&&typeof j=="function"&&(!("description"in j.prototype)||j().description!==void 0)){var w={},S=function(){var B=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),R=this instanceof S?new j(B):B===void 0?j():j(B);return B===""&&(w[R]=!0),R};x(S,j);var I=S.prototype=j.prototype;I.constructor=S;var F=I.toString,T=String(j("test"))=="Symbol(test)",U=/^Symbol\((.*)\)[^)]+$/;b(I,"description",{configurable:!0,get:function(){var B=p(this)?this.valueOf():this,R=F.call(B);if(g(w,B))return"";var D=T?R.slice(7,-1):R.replace(U,"$1");return D===""?void 0:D}}),A({global:!0,forced:!0},{Symbol:S})}},"./node_modules/core-js/modules/es.symbol.iterator.js":function(c,d,u){var A=u("./node_modules/core-js/internals/define-well-known-symbol.js");A("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(c,d,u){var A=u("./node_modules/core-js/internals/export.js"),f=u("./node_modules/core-js/internals/global.js"),h=u("./node_modules/core-js/internals/get-built-in.js"),g=u("./node_modules/core-js/internals/is-pure.js"),p=u("./node_modules/core-js/internals/descriptors.js"),b=u("./node_modules/core-js/internals/native-symbol.js"),x=u("./node_modules/core-js/internals/fails.js"),j=u("./node_modules/core-js/internals/has.js"),w=u("./node_modules/core-js/internals/is-array.js"),S=u("./node_modules/core-js/internals/is-object.js"),I=u("./node_modules/core-js/internals/is-symbol.js"),F=u("./node_modules/core-js/internals/an-object.js"),T=u("./node_modules/core-js/internals/to-object.js"),U=u("./node_modules/core-js/internals/to-indexed-object.js"),K=u("./node_modules/core-js/internals/to-property-key.js"),B=u("./node_modules/core-js/internals/to-string.js"),R=u("./node_modules/core-js/internals/create-property-descriptor.js"),D=u("./node_modules/core-js/internals/object-create.js"),H=u("./node_modules/core-js/internals/object-keys.js"),P=u("./node_modules/core-js/internals/object-get-own-property-names.js"),z=u("./node_modules/core-js/internals/object-get-own-property-names-external.js"),G=u("./node_modules/core-js/internals/object-get-own-property-symbols.js"),he=u("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),ce=u("./node_modules/core-js/internals/object-define-property.js"),ye=u("./node_modules/core-js/internals/object-property-is-enumerable.js"),X=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),re=u("./node_modules/core-js/internals/redefine.js"),_=u("./node_modules/core-js/internals/shared.js"),Q=u("./node_modules/core-js/internals/shared-key.js"),Z=u("./node_modules/core-js/internals/hidden-keys.js"),Ae=u("./node_modules/core-js/internals/uid.js"),me=u("./node_modules/core-js/internals/well-known-symbol.js"),ae=u("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),ie=u("./node_modules/core-js/internals/define-well-known-symbol.js"),te=u("./node_modules/core-js/internals/set-to-string-tag.js"),fe=u("./node_modules/core-js/internals/internal-state.js"),pe=u("./node_modules/core-js/internals/array-iteration.js").forEach,we=Q("hidden"),je="Symbol",De="prototype",Ue=me("toPrimitive"),Ce=fe.set,Ct=fe.getterFor(je),ct=Object[De],rt=f.Symbol,st=h("JSON","stringify"),at=he.f,qe=ce.f,St=z.f,kt=ye.f,He=_("symbols"),Le=_("op-symbols"),q=_("string-to-symbol-registry"),M=_("symbol-to-string-registry"),$=_("wks"),J=f.QObject,ee=!J||!J[De]||!J[De].findChild,ve=p&&x(function(){return D(qe({},"a",{get:function(){return qe(this,"a",{value:7}).a}})).a!=7})?function(ht,ft,xe){var Xe=at(ct,ft);Xe&&delete ct[ft],qe(ht,ft,xe),Xe&&ht!==ct&&qe(ct,ft,Xe)}:qe,Se=function(ht,ft){var xe=He[ht]=D(rt[De]);return Ce(xe,{type:je,tag:ht,description:ft}),p||(xe.description=ft),xe},We=function(ft,xe,Xe){ft===ct&&We(Le,xe,Xe),F(ft);var Fe=K(xe);return F(Xe),j(He,Fe)?(Xe.enumerable?(j(ft,we)&&ft[we][Fe]&&(ft[we][Fe]=!1),Xe=D(Xe,{enumerable:R(0,!1)})):(j(ft,we)||qe(ft,we,R(1,{})),ft[we][Fe]=!0),ve(ft,Fe,Xe)):qe(ft,Fe,Xe)},$e=function(ft,xe){F(ft);var Xe=U(xe),Fe=H(Xe).concat(nt(Xe));return pe(Fe,function(et){(!p||Be.call(Xe,et))&&We(ft,et,Xe[et])}),ft},Pe=function(ft,xe){return xe===void 0?D(ft):$e(D(ft),xe)},Be=function(ft){var xe=K(ft),Xe=kt.call(this,xe);return this===ct&&j(He,xe)&&!j(Le,xe)?!1:Xe||!j(this,xe)||!j(He,xe)||j(this,we)&&this[we][xe]?Xe:!0},Te=function(ft,xe){var Xe=U(ft),Fe=K(xe);if(!(Xe===ct&&j(He,Fe)&&!j(Le,Fe))){var et=at(Xe,Fe);return et&&j(He,Fe)&&!(j(Xe,we)&&Xe[we][Fe])&&(et.enumerable=!0),et}},pt=function(ft){var xe=St(U(ft)),Xe=[];return pe(xe,function(Fe){!j(He,Fe)&&!j(Z,Fe)&&Xe.push(Fe)}),Xe},nt=function(ft){var xe=ft===ct,Xe=St(xe?Le:U(ft)),Fe=[];return pe(Xe,function(et){j(He,et)&&(!xe||j(ct,et))&&Fe.push(He[et])}),Fe};if(b||(rt=function(){if(this instanceof rt)throw TypeError("Symbol is not a constructor");var ft=!arguments.length||arguments[0]===void 0?void 0:B(arguments[0]),xe=Ae(ft),Xe=function(Fe){this===ct&&Xe.call(Le,Fe),j(this,we)&&j(this[we],xe)&&(this[we][xe]=!1),ve(this,xe,R(1,Fe))};return p&&ee&&ve(ct,xe,{configurable:!0,set:Xe}),Se(xe,ft)},re(rt[De],"toString",function(){return Ct(this).tag}),re(rt,"withoutSetter",function(ht){return Se(Ae(ht),ht)}),ye.f=Be,ce.f=We,he.f=Te,P.f=z.f=pt,G.f=nt,ae.f=function(ht){return Se(me(ht),ht)},p&&(qe(rt[De],"description",{configurable:!0,get:function(){return Ct(this).description}}),g||re(ct,"propertyIsEnumerable",Be,{unsafe:!0}))),A({global:!0,wrap:!0,forced:!b,sham:!b},{Symbol:rt}),pe(H($),function(ht){ie(ht)}),A({target:je,stat:!0,forced:!b},{for:function(ht){var ft=B(ht);if(j(q,ft))return q[ft];var xe=rt(ft);return q[ft]=xe,M[xe]=ft,xe},keyFor:function(ft){if(!I(ft))throw TypeError(ft+" is not a symbol");if(j(M,ft))return M[ft]},useSetter:function(){ee=!0},useSimple:function(){ee=!1}}),A({target:"Object",stat:!0,forced:!b,sham:!p},{create:Pe,defineProperty:We,defineProperties:$e,getOwnPropertyDescriptor:Te}),A({target:"Object",stat:!0,forced:!b},{getOwnPropertyNames:pt,getOwnPropertySymbols:nt}),A({target:"Object",stat:!0,forced:x(function(){G.f(1)})},{getOwnPropertySymbols:function(ft){return G.f(T(ft))}}),st){var Nt=!b||x(function(){var ht=rt();return st([ht])!="[null]"||st({a:ht})!="{}"||st(Object(ht))!="{}"});A({target:"JSON",stat:!0,forced:Nt},{stringify:function(ft,xe,Xe){for(var Fe=[ft],et=1,Et;arguments.length>et;)Fe.push(arguments[et++]);if(Et=xe,!(!S(xe)&&ft===void 0||I(ft)))return w(xe)||(xe=function(Qt,Ft){if(typeof Et=="function"&&(Ft=Et.call(this,Qt,Ft)),!I(Ft))return Ft}),Fe[1]=xe,st.apply(null,Fe)}})}rt[De][Ue]||X(rt[De],Ue,rt[De].valueOf),te(rt,je),Z[we]=!0},"./node_modules/core-js/modules/web.dom-collections.for-each.js":function(c,d,u){var A=u("./node_modules/core-js/internals/global.js"),f=u("./node_modules/core-js/internals/dom-iterables.js"),h=u("./node_modules/core-js/internals/array-for-each.js"),g=u("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var p in f){var b=A[p],x=b&&b.prototype;if(x&&x.forEach!==h)try{g(x,"forEach",h)}catch{x.forEach=h}}},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(c,d,u){var A=u("./node_modules/core-js/internals/global.js"),f=u("./node_modules/core-js/internals/dom-iterables.js"),h=u("./node_modules/core-js/modules/es.array.iterator.js"),g=u("./node_modules/core-js/internals/create-non-enumerable-property.js"),p=u("./node_modules/core-js/internals/well-known-symbol.js"),b=p("iterator"),x=p("toStringTag"),j=h.values;for(var w in f){var S=A[w],I=S&&S.prototype;if(I){if(I[b]!==j)try{g(I,b,j)}catch{I[b]=j}if(I[x]||g(I,x,w),f[w]){for(var F in h)if(I[F]!==h[F])try{g(I,F,h[F])}catch{I[F]=h[F]}}}}},"./node_modules/es6-promise/dist/es6-promise.js":function(c){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(d,u){c.exports=u()})(this,function(){function d(J){var ee=typeof J;return J!==null&&(ee==="object"||ee==="function")}function u(J){return typeof J=="function"}var A=void 0;Array.isArray?A=Array.isArray:A=function(J){return Object.prototype.toString.call(J)==="[object Array]"};var f=A,h=0,g=void 0,p=void 0,b=function(ee,ve){H[h]=ee,H[h+1]=ve,h+=2,h===2&&(p?p(P):G())};function x(J){p=J}function j(J){b=J}var w=typeof window<"u"?window:void 0,S=w||{},I=S.MutationObserver||S.WebKitMutationObserver,F=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",T=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function U(){return function(){return process.nextTick(P)}}function K(){return typeof g<"u"?function(){g(P)}:D()}function B(){var J=0,ee=new I(P),ve=document.createTextNode("");return ee.observe(ve,{characterData:!0}),function(){ve.data=J=++J%2}}function R(){var J=new MessageChannel;return J.port1.onmessage=P,function(){return J.port2.postMessage(0)}}function D(){var J=setTimeout;return function(){return J(P,1)}}var H=new Array(1e3);function P(){for(var J=0;J<h;J+=2){var ee=H[J],ve=H[J+1];ee(ve),H[J]=void 0,H[J+1]=void 0}h=0}function z(){try{var J=Function("return this")().require("vertx");return g=J.runOnLoop||J.runOnContext,K()}catch{return D()}}var G=void 0;F?G=U():I?G=B():T?G=R():w===void 0?G=z():G=D();function he(J,ee){var ve=this,Se=new this.constructor(X);Se[ye]===void 0&&st(Se);var We=ve._state;if(We){var $e=arguments[We-1];b(function(){return Ce(We,Se,$e,ve._result)})}else De(ve,Se,J,ee);return Se}function ce(J){var ee=this;if(J&&typeof J=="object"&&J.constructor===ee)return J;var ve=new ee(X);return fe(ve,J),ve}var ye=Math.random().toString(36).substring(2);function X(){}var re=void 0,_=1,Q=2;function Z(){return new TypeError("You cannot resolve a promise with itself")}function Ae(){return new TypeError("A promises callback cannot return that same promise.")}function me(J,ee,ve,Se){try{J.call(ee,ve,Se)}catch(We){return We}}function ae(J,ee,ve){b(function(Se){var We=!1,$e=me(ve,ee,function(Pe){We||(We=!0,ee!==Pe?fe(Se,Pe):we(Se,Pe))},function(Pe){We||(We=!0,je(Se,Pe))},"Settle: "+(Se._label||" unknown promise"));!We&&$e&&(We=!0,je(Se,$e))},J)}function ie(J,ee){ee._state===_?we(J,ee._result):ee._state===Q?je(J,ee._result):De(ee,void 0,function(ve){return fe(J,ve)},function(ve){return je(J,ve)})}function te(J,ee,ve){ee.constructor===J.constructor&&ve===he&&ee.constructor.resolve===ce?ie(J,ee):ve===void 0?we(J,ee):u(ve)?ae(J,ee,ve):we(J,ee)}function fe(J,ee){if(J===ee)je(J,Z());else if(d(ee)){var ve=void 0;try{ve=ee.then}catch(Se){je(J,Se);return}te(J,ee,ve)}else we(J,ee)}function pe(J){J._onerror&&J._onerror(J._result),Ue(J)}function we(J,ee){J._state===re&&(J._result=ee,J._state=_,J._subscribers.length!==0&&b(Ue,J))}function je(J,ee){J._state===re&&(J._state=Q,J._result=ee,b(pe,J))}function De(J,ee,ve,Se){var We=J._subscribers,$e=We.length;J._onerror=null,We[$e]=ee,We[$e+_]=ve,We[$e+Q]=Se,$e===0&&J._state&&b(Ue,J)}function Ue(J){var ee=J._subscribers,ve=J._state;if(ee.length!==0){for(var Se=void 0,We=void 0,$e=J._result,Pe=0;Pe<ee.length;Pe+=3)Se=ee[Pe],We=ee[Pe+ve],Se?Ce(ve,Se,We,$e):We($e);J._subscribers.length=0}}function Ce(J,ee,ve,Se){var We=u(ve),$e=void 0,Pe=void 0,Be=!0;if(We){try{$e=ve(Se)}catch(Te){Be=!1,Pe=Te}if(ee===$e){je(ee,Ae());return}}else $e=Se;ee._state!==re||(We&&Be?fe(ee,$e):Be===!1?je(ee,Pe):J===_?we(ee,$e):J===Q&&je(ee,$e))}function Ct(J,ee){try{ee(function(Se){fe(J,Se)},function(Se){je(J,Se)})}catch(ve){je(J,ve)}}var ct=0;function rt(){return ct++}function st(J){J[ye]=ct++,J._state=void 0,J._result=void 0,J._subscribers=[]}function at(){return new Error("Array Methods must be provided an Array")}var qe=function(){function J(ee,ve){this._instanceConstructor=ee,this.promise=new ee(X),this.promise[ye]||st(this.promise),f(ve)?(this.length=ve.length,this._remaining=ve.length,this._result=new Array(this.length),this.length===0?we(this.promise,this._result):(this.length=this.length||0,this._enumerate(ve),this._remaining===0&&we(this.promise,this._result))):je(this.promise,at())}return J.prototype._enumerate=function(ve){for(var Se=0;this._state===re&&Se<ve.length;Se++)this._eachEntry(ve[Se],Se)},J.prototype._eachEntry=function(ve,Se){var We=this._instanceConstructor,$e=We.resolve;if($e===ce){var Pe=void 0,Be=void 0,Te=!1;try{Pe=ve.then}catch(nt){Te=!0,Be=nt}if(Pe===he&&ve._state!==re)this._settledAt(ve._state,Se,ve._result);else if(typeof Pe!="function")this._remaining--,this._result[Se]=ve;else if(We===M){var pt=new We(X);Te?je(pt,Be):te(pt,ve,Pe),this._willSettleAt(pt,Se)}else this._willSettleAt(new We(function(nt){return nt(ve)}),Se)}else this._willSettleAt($e(ve),Se)},J.prototype._settledAt=function(ve,Se,We){var $e=this.promise;$e._state===re&&(this._remaining--,ve===Q?je($e,We):this._result[Se]=We),this._remaining===0&&we($e,this._result)},J.prototype._willSettleAt=function(ve,Se){var We=this;De(ve,void 0,function($e){return We._settledAt(_,Se,$e)},function($e){return We._settledAt(Q,Se,$e)})},J}();function St(J){return new qe(this,J).promise}function kt(J){var ee=this;return f(J)?new ee(function(ve,Se){for(var We=J.length,$e=0;$e<We;$e++)ee.resolve(J[$e]).then(ve,Se)}):new ee(function(ve,Se){return Se(new TypeError("You must pass an array to race."))})}function He(J){var ee=this,ve=new ee(X);return je(ve,J),ve}function Le(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var M=function(){function J(ee){this[ye]=rt(),this._result=this._state=void 0,this._subscribers=[],X!==ee&&(typeof ee!="function"&&Le(),this instanceof J?Ct(this,ee):q())}return J.prototype.catch=function(ve){return this.then(null,ve)},J.prototype.finally=function(ve){var Se=this,We=Se.constructor;return u(ve)?Se.then(function($e){return We.resolve(ve()).then(function(){return $e})},function($e){return We.resolve(ve()).then(function(){throw $e})}):Se.then(ve,ve)},J}();M.prototype.then=he,M.all=St,M.race=kt,M.resolve=ce,M.reject=He,M._setScheduler=x,M._setAsap=j,M._asap=b;function $(){var J=void 0;if(typeof window<"u")J=window;else if(typeof self<"u")J=self;else try{J=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ee=J.Promise;if(ee){var ve=null;try{ve=Object.prototype.toString.call(ee.resolve())}catch{}if(ve==="[object Promise]"&&!ee.cast)return}J.Promise=M}return M.polyfill=$,M.Promise=M,M})},html2canvas:function(c){c.exports=s},jspdf:function(c){c.exports=r}},o={};function a(c){var d=o[c];if(d!==void 0)return d.exports;var u=o[c]={exports:{}};return i[c].call(u.exports,u,u.exports,a),u.exports}(function(){a.n=function(c){var d=c&&c.__esModule?function(){return c.default}:function(){return c};return a.d(d,{a:d}),d}})(),function(){a.d=function(c,d){for(var u in d)a.o(d,u)&&!a.o(c,u)&&Object.defineProperty(c,u,{enumerable:!0,get:d[u]})}}(),function(){a.o=function(c,d){return Object.prototype.hasOwnProperty.call(c,d)}}(),function(){a.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})}}();var l={};return function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/a.r(l);var c=a("./src/worker.js");a("./src/plugin/jspdf-plugin.js"),a("./src/plugin/pagebreaks.js"),a("./src/plugin/hyperlinks.js");var d=function u(A,f){var h=new u.Worker(f);return A?h.from(A).save():h};d.Worker=c.default,l.default=d}(),l=l.default,l}()})})(JF);var dde=JF.exports;const Ade=xp(dde),hde=()=>{var w;const e=lo(),t=rn(),[r,s]=m.useState(!0),[i,o]=m.useState(null),[a,l]=m.useState(null),c=(w=e.state)==null?void 0:w.courseData;m.useEffect(()=>{if(!c||!c.id){o("Khng tm thy d liu kha hc"),s(!1);return}(async()=>{var I;try{s(!0),console.log(`Fetching print details for course ID: ${c.id}`);const F=await Er.getCoursePrintDetails(c.id);F.data&&F.data.success?l(F.data.data):o("Khng th ti thng tin chi tit kha hc")}catch(F){console.error("Error fetching course print details:",F),F.response?F.response.status===404?o("Kha hc khng tn ti hoc  b xa"):F.response.status===403?o("Bn cha ng k kha hc ny"):o(`Li my ch: ${((I=F.response.data)==null?void 0:I.message)||"Khng xc nh"}`):F.request?o("Khng th kt ni n my ch. Vui lng kim tra kt ni ca bn."):o(" xy ra li khi ti thng tin kha hc"),Re.error("Khng th ti thng tin chi tit kha hc")}finally{s(!1)}})()},[c]);const d=S=>{if(!S)return"N/A";const I=new Date(S);return new Intl.DateTimeFormat("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(I)},u=S=>S?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(S):"0 ",A=S=>{switch(S){case"vnpay":return"VNPay";case"credit_card":return"Th tn dng";case"paypal":return"PayPal";case"free":return"Min ph";case"vietqr":return"VietQR";default:return"Khng xc nh"}},f=S=>{switch(S){case"beginner":return"C bn";case"intermediate":return"Trung cp";case"advanced":return"Nng cao";case"expert":return"Chuyn su";default:return"Khng xc nh"}},h=()=>{var F;const S=document.querySelector(".print-content");if(!S){Re.error("Khng th to PDF. Vui lng th li sau.");return}Re.info("ang to PDF. Vui lng i...");const I={margin:[15,15,15,15],filename:`KhoaHoc_${((F=a==null?void 0:a.courseDetails)==null?void 0:F.title)||"ChiTiet"}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,letterRendering:!0,logging:!1},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};Ade().set(I).from(S).save().then(()=>{Re.success("To PDF thnh cng!")}).catch(T=>{console.error("Error generating PDF:",T),Re.error("C li xy ra khi to PDF.")})},g=()=>{t("/payment-history")};if(r)return n.jsxs("div",{className:"loading-container",children:[n.jsx("div",{className:"spinner"}),n.jsx("p",{children:"ang ti thng tin kha hc..."})]});if(i||!a)return n.jsxs("div",{className:"print-error",children:[n.jsx("h1",{children:"Khng th ti thng tin kha hc"}),n.jsx("p",{children:i||"Vui lng quay li v th li."}),n.jsx("button",{onClick:g,className:"back-button",children:"Quay li"})]});const{courseDetails:p,enrollmentDetails:b,courseStats:x,paymentInfo:j}=a;return n.jsxs("div",{className:"course-print-container",children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:`
        body {
          font-family: 'Roboto', Arial, sans-serif;
          margin: 0;
          padding: 0;
          color: #333;
          line-height: 1.6;
          background-color: #f5f7fa;
        }
        
        .course-print-container {
          max-width: 1100px;
          margin: 0 auto;
          padding: 20px;
          background-color: #f5f7fa;
        }
        
        .loading-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 100vh;
        }
        
        .spinner {
          border: 4px solid rgba(0, 0, 0, 0.1);
          border-radius: 50%;
          border-top: 4px solid #3498db;
          width: 40px;
          height: 40px;
          animation: spin 1s linear infinite;
          margin-bottom: 20px;
        }
        
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        
        .print-error {
          text-align: center;
          padding: 40px;
          background-color: white;
          border-radius: 12px;
          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }
        
        .back-button, .print-button, .close-button {
          padding: 12px 24px;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          font-weight: 600;
          margin: 10px;
          transition: all 0.3s ease;
        }
        
        .back-button {
          background-color: #6b7280;
          color: white;
        }
        
        .back-button:hover {
          background-color: #4b5563;
        }
        
        .print-button {
          background-color: #2563eb;
          color: white;
        }
        
        .print-button:hover {
          background-color: #1d4ed8;
        }
        
        .close-button {
          background-color: #6b7280;
          color: white;
        }
        
        .close-button:hover {
          background-color: #4b5563;
        }
        
        .print-controls {
          text-align: center;
          margin-top: 30px;
        }
        
        /* New two-column layout styles */
        .print-content {
          background-color: white;
          border-radius: 12px;
          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
          overflow: hidden;
          position: relative;
        }
        
        .document-header {
          background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
          color: white;
          padding: 25px 40px;
          text-align: center;
          position: relative;
        }
        
        .logo {
          font-size: 28px;
          font-weight: 700;
          margin-bottom: 5px;
          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .document-title {
          font-size: 24px;
          font-weight: 600;
          margin-bottom: 10px;
        }
        
        .print-date {
          font-size: 14px;
          opacity: 0.8;
        }
        
        .two-column-layout {
          display: grid;
          grid-template-columns: 35% 65%;
          min-height: 800px;
        }
        
        .left-column {
          background-color: #f8fafc;
          padding: 30px;
          border-right: 1px solid #e5e7eb;
        }
        
        .right-column {
          padding: 30px;
          background-color: white;
        }
        
        .course-image-container {
          margin-bottom: 25px;
          text-align: center;
        }
        
        .course-image {
          width: 100%;
          max-height: 220px;
          object-fit: cover;
          border-radius: 10px;
          box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        .course-title {
          font-size: 22px;
          font-weight: 700;
          color: #1e293b;
          margin-bottom: 15px;
          line-height: 1.3;
        }
        
        .meta-section {
          margin-bottom: 25px;
        }
        
        .meta-title {
          font-size: 16px;
          font-weight: 700;
          color: #1e293b;
          margin-bottom: 12px;
          padding-bottom: 8px;
          border-bottom: 2px solid #e5e7eb;
        }
        
        .meta-item {
          display: flex;
          justify-content: space-between;
          margin-bottom: 10px;
          padding-bottom: 10px;
          border-bottom: 1px dashed #e5e7eb;
        }
        
        .meta-item:last-child {
          border-bottom: none;
        }
        
        .meta-label {
          font-weight: 600;
          color: #4b5563;
        }
        
        .meta-value {
          color: #1e293b;
          text-align: right;
        }
        
        .payment-info {
          background-color: #f0f9ff;
          border-radius: 10px;
          padding: 20px;
          margin-bottom: 25px;
        }
        
        .payment-title {
          font-size: 16px;
          font-weight: 700;
          color: #0369a1;
          margin-bottom: 15px;
        }
        
        .payment-item {
          display: flex;
          justify-content: space-between;
          margin-bottom: 10px;
        }
        
        .payment-label {
          font-weight: 600;
          color: #4b5563;
        }
        
        .payment-value {
          color: #1e293b;
          text-align: right;
        }
        
        .amount {
          font-weight: 700;
          color: #0369a1;
        }
        
        .course-stats {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 15px;
          margin-bottom: 25px;
        }
        
        .stat-item {
          background-color: #f8fafc;
          border-radius: 10px;
          padding: 15px;
          text-align: center;
          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        .stat-value {
          font-size: 24px;
          font-weight: 700;
          color: #2563eb;
          margin-bottom: 5px;
        }
        
        .stat-label {
          font-size: 14px;
          color: #6b7280;
        }
        
        .section-title {
          font-size: 20px;
          font-weight: 700;
          color: #1e293b;
          margin-bottom: 15px;
          padding-bottom: 10px;
          border-bottom: 2px solid #e5e7eb;
        }
        
        .section-content {
          margin-bottom: 30px;
        }
        
        .description-text {
          color: #4b5563;
          line-height: 1.7;
        }
        
        .list-section {
          margin-bottom: 30px;
        }
        
        .list-title {
          font-size: 18px;
          font-weight: 600;
          color: #1e293b;
          margin-bottom: 15px;
        }
        
        .requirements-list, .objectives-list {
          list-style-type: none;
          padding-left: 0;
          margin-bottom: 20px;
        }
        
        .requirements-list li, .objectives-list li {
          position: relative;
          padding-left: 25px;
          margin-bottom: 10px;
          color: #4b5563;
        }
        
        .requirements-list li:before {
          content: "";
          position: absolute;
          left: 0;
          color: #2563eb;
          font-weight: bold;
          font-size: 18px;
        }
        
        .objectives-list li:before {
          content: "";
          position: absolute;
          left: 0;
          color: #10b981;
          font-weight: bold;
        }
        
        .certificate-section {
          background-color: #f0fdf4;
          border-radius: 10px;
          padding: 20px;
          margin-bottom: 25px;
          position: relative;
        }
        
        .certificate-title {
          font-size: 18px;
          font-weight: 600;
          color: #166534;
          margin-bottom: 10px;
        }
        
        .certificate-text {
          color: #4b5563;
        }
        
        .stamp {
          position: absolute;
          top: 15px;
          right: 15px;
          transform: rotate(-15deg);
        }
        
        .stamp-content {
          border: 2px solid #2563eb;
          color: #2563eb;
          border-radius: 5px;
          padding: 8px 15px;
          font-weight: 600;
          font-size: 14px;
          opacity: 0.8;
        }
        
        .document-footer {
          text-align: center;
          padding: 20px;
          border-top: 1px solid #e5e7eb;
          color: #6b7280;
          font-size: 14px;
        }
        
        .footer-text {
          margin-bottom: 5px;
        }
        
        .contact-info {
          font-weight: 500;
        }
        
        /* Watermark */
        .watermark {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%) rotate(-30deg);
          font-size: 100px;
          font-weight: 700;
          color: rgba(37, 99, 235, 0.04);
          white-space: nowrap;
          z-index: 0;
          pointer-events: none;
          user-select: none;
        }
        
        /* PDF generation styles */
        @media print {
          @page {
            size: A4;
            margin: 0;
          }
          
          html, body {
            width: 210mm;
            height: 297mm;
            margin: 0;
            padding: 0;
            background-color: white;
            -webkit-print-color-adjust: exact !important;
            print-color-adjust: exact !important;
            color-adjust: exact !important;
          }
          
          .course-print-container {
            width: 100%;
            max-width: none;
            margin: 0;
            padding: 0;
            background-color: white;
          }
          
          .print-content {
            border-radius: 0;
            box-shadow: none;
          }
          
          .no-print,
          .print-controls,
          nav,
          header,
          footer:not(.document-footer) {
            display: none !important;
          }
          
          .two-column-layout {
            min-height: auto;
          }
          
          .left-column,
          .right-column {
            page-break-inside: avoid;
          }
          
          .section-content {
            page-break-inside: avoid;
          }
          
          .document-footer {
            position: fixed;
            bottom: 0;
            width: 100%;
          }
        }
      `}}),n.jsxs("div",{className:"print-content",children:[n.jsxs("div",{className:"document-header",children:[n.jsx("div",{className:"logo",children:"CampusLearning Learning"}),n.jsx("div",{className:"document-title",children:"Chi tit kha hc  ng k"}),n.jsxs("div",{className:"print-date",children:["Ngy in: ",d(new Date)]})]}),n.jsx("div",{className:"watermark",children:"CampusLearning Learning"}),n.jsxs("div",{className:"two-column-layout",children:[n.jsxs("div",{className:"left-column",children:[(p.imageUrl||p.courseThumbnail)&&n.jsx("div",{className:"course-image-container",children:n.jsx("img",{src:p.imageUrl||p.courseThumbnail,alt:p.title,className:"course-image",crossOrigin:"anonymous"})}),n.jsx("h2",{className:"course-title",children:p.title}),n.jsxs("div",{className:"meta-section",children:[n.jsx("div",{className:"meta-title",children:"Thng tin kha hc"}),n.jsxs("div",{className:"meta-item",children:[n.jsx("div",{className:"meta-label",children:"Cp :"}),n.jsx("div",{className:"meta-value",children:f(p.level)})]}),n.jsxs("div",{className:"meta-item",children:[n.jsx("div",{className:"meta-label",children:"Danh mc:"}),n.jsx("div",{className:"meta-value",children:p.category})]}),n.jsxs("div",{className:"meta-item",children:[n.jsx("div",{className:"meta-label",children:"Thi lng:"}),n.jsxs("div",{className:"meta-value",children:[Math.floor(p.duration/60)," gi ",p.duration%60," pht"]})]})]}),n.jsxs("div",{className:"meta-section",children:[n.jsx("div",{className:"meta-title",children:"Thng tin ng k"}),n.jsxs("div",{className:"meta-item",children:[n.jsx("div",{className:"meta-label",children:"Ngy ng k:"}),n.jsx("div",{className:"meta-value",children:d(b.enrolledAt)})]}),n.jsxs("div",{className:"meta-item",children:[n.jsx("div",{className:"meta-label",children:"Tin  hc tp:"}),n.jsxs("div",{className:"meta-value",children:[b.progress||0,"%"]})]}),b.completedAt&&n.jsxs("div",{className:"meta-item",children:[n.jsx("div",{className:"meta-label",children:"Ngy hon thnh:"}),n.jsx("div",{className:"meta-value",children:d(b.completedAt)})]})]}),j&&n.jsxs("div",{className:"payment-info",children:[n.jsx("div",{className:"payment-title",children:"Thng tin thanh ton"}),n.jsxs("div",{className:"payment-item",children:[n.jsx("div",{className:"payment-label",children:"Phng thc:"}),n.jsx("div",{className:"payment-value",children:A(j.method)})]}),n.jsxs("div",{className:"payment-item",children:[n.jsx("div",{className:"payment-label",children:"Ngy thanh ton:"}),n.jsx("div",{className:"payment-value",children:d(j.date)})]}),n.jsxs("div",{className:"payment-item",children:[n.jsx("div",{className:"payment-label",children:"M giao dch:"}),n.jsx("div",{className:"payment-value",children:j.transactionCode})]}),n.jsxs("div",{className:"payment-item",children:[n.jsx("div",{className:"payment-label",children:"S tin:"}),n.jsx("div",{className:"payment-value amount",children:u(j.amount)})]})]}),n.jsxs("div",{className:"course-stats",children:[n.jsxs("div",{className:"stat-item",children:[n.jsx("div",{className:"stat-value",children:x.moduleCount}),n.jsx("div",{className:"stat-label",children:"Chng hc"})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("div",{className:"stat-value",children:x.lessonCount}),n.jsx("div",{className:"stat-label",children:"Bi hc"})]}),n.jsxs("div",{className:"stat-item",children:[n.jsx("div",{className:"stat-value",children:x.completedLessons}),n.jsx("div",{className:"stat-label",children:"Bi  hc"})]}),n.jsxs("div",{className:"stat-item",children:[n.jsxs("div",{className:"stat-value",children:[b.progress||0,"%"]}),n.jsx("div",{className:"stat-label",children:"Tin "})]})]}),n.jsxs("div",{className:"certificate-section",children:[n.jsx("div",{className:"certificate-title",children:"Chng nhn"}),n.jsx("div",{className:"certificate-text",children:"Hc vin s nhn c chng nhn hon thnh kha hc sau khi hon thnh 100% ni dung."}),n.jsx("div",{className:"stamp",children:n.jsx("div",{className:"stamp-content",children:" xc nhn"})})]})]}),n.jsxs("div",{className:"right-column",children:[n.jsxs("div",{className:"section-content",children:[n.jsx("h3",{className:"section-title",children:"M t kha hc"}),n.jsx("div",{className:"description-text",children:p.description})]}),p.requirements&&p.requirements.length>0&&n.jsxs("div",{className:"list-section",children:[n.jsx("h3",{className:"list-title",children:"Yu cu"}),n.jsx("ul",{className:"requirements-list",children:p.requirements.map((S,I)=>n.jsx("li",{children:S},I))})]}),p.objectives&&p.objectives.length>0&&n.jsxs("div",{className:"list-section",children:[n.jsx("h3",{className:"list-title",children:"Mc tiu kha hc"}),n.jsx("ul",{className:"objectives-list",children:p.objectives.map((S,I)=>n.jsx("li",{children:S},I))})]}),n.jsxs("div",{className:"section-content",children:[n.jsx("h3",{className:"section-title",children:"Thng tin b sung"}),n.jsxs("div",{className:"description-text",children:[n.jsx("p",{children:"Kha hc ny c thit k  cung cp cho hc vin kin thc v k nng cn thit  thnh cng trong lnh vc ny. Vi ni dung c cp nht thng xuyn v s h tr t i ng ging vin giu kinh nghim, chng ti cam kt mang n tri nghim hc tp hiu qu nht cho bn."}),n.jsx("p",{children:"Hc vin s c tham gia vo cc hot ng thc hnh, tho lun nhm v nhn c phn hi chi tit  khng ngng ci thin k nng ca mnh."})]})]})]})]}),n.jsxs("div",{className:"document-footer",children:[n.jsx("div",{className:"footer-text",children:"CampusLearning Learning - Nn tng hc trc tuyn hng u"}),n.jsx("div",{className:"contact-info",children:"Mi thc mc xin lin h: support@CampusLearning.com | Hotline: 0123456789"})]})]}),n.jsxs("div",{className:"no-print print-controls",children:[n.jsx("button",{onClick:h,className:"print-button",children:"In ngay"}),n.jsx("button",{onClick:g,className:"back-button",children:"Quay li"})]})]})},fde=({status:e})=>{const t={upcoming:{label:"Sp din ra",class:"bg-white text-blue-700 border border-blue-200 shadow-sm"},ongoing:{label:"ang din ra",class:"bg-white text-purple-700 border border-purple-200 shadow-sm"},completed:{label:" kt thc",class:"bg-white text-gray-700 border border-gray-200 shadow-sm"},cancelled:{label:" hy",class:"bg-white text-red-700 border border-red-200 shadow-sm"}},r=t[e]||t.upcoming;return n.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-md text-xs font-medium ${r.class}`,children:r.label})},mde=()=>n.jsxs("div",{className:"bg-white rounded-xl overflow-hidden animate-pulse border border-gray-100 shadow-sm hover:shadow-md transition-all duration-300 h-full flex flex-col",children:[n.jsx("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 relative"}),n.jsxs("div",{className:"p-5 space-y-3 flex-1 flex flex-col",children:[n.jsx("div",{className:"h-4 bg-gray-100 rounded-md w-1/2 mb-1"}),n.jsx("div",{className:"h-5 bg-gray-200 rounded-md w-4/5"}),n.jsx("div",{className:"h-4 bg-gray-100 rounded-md w-full"}),n.jsx("div",{className:"h-4 bg-gray-100 rounded-md w-2/3"}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx("div",{className:"h-4 w-4 rounded-full bg-gray-200"}),n.jsx("div",{className:"h-3 bg-gray-100 rounded-md w-12"}),n.jsx("div",{className:"h-4 w-4 rounded-full bg-gray-200"}),n.jsx("div",{className:"h-3 bg-gray-100 rounded-md w-16"})]}),n.jsxs("div",{className:"mt-auto pt-4 flex justify-between items-center border-t border-gray-100 mt-3",children:[n.jsx("div",{className:"h-5 bg-gray-200 rounded-md w-16"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded-md w-20"})]})]})]}),J4=()=>Array(6).fill(0).map((e,t)=>n.jsx(mde,{},`skeleton-${t}`)),pde=()=>{const e=rn(),t=Mn(),[r,s]=m.useState(!1),[i,o]=m.useState("all"),[a,l]=m.useState(""),[c,d]=m.useState("grid"),[u,A]=m.useState(!1),f=m.useRef(null),h=m.useRef(null),{scrollY:g}=hre();mk(g,[0,100],[1,.95]),mk(g,[0,100],[1,.98]);const{events:p=[],loading:b=!1,error:x=null,filters:j={}}=Is(B=>B.event||{});m.useEffect(()=>{(async()=>{try{const D=await t(am(j)).unwrap()}catch(D){console.error("Error loading events:",D)}})();const R=D=>{f.current&&!f.current.contains(D.target)&&s(!1),h.current&&!h.current.contains(D.target)&&A(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[t,j]);const w=(B,R)=>{t(RC({[B]:R}))},S=B=>new Date(B).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),I=Array.isArray(p)?p:[],F=I.filter(B=>i==="all"||B.Category===i).filter(B=>{var R,D;return!a||B.Title.toLowerCase().includes(a.toLowerCase())||((R=B.Organizer)==null?void 0:R.toLowerCase().includes(a.toLowerCase()))||((D=B.Location)==null?void 0:D.toLowerCase().includes(a.toLowerCase()))}),T=B=>{if(!B){console.error("Invalid event ID");return}t(g6()),e(`/events/${B}`)},U=()=>{t(RC({})),o("all"),l("")},K=[...new Set(I.map(B=>B.Category))].filter(Boolean);return b?n.jsxs("div",{className:"bg-gray-50 min-h-screen pb-12",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 mb-6",children:n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Khm ph s kin"}),n.jsx("div",{className:"animate-pulse mt-6",children:n.jsx("div",{className:"h-10 bg-gray-200 rounded-md w-full max-w-3xl"})})]})}),n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"mb-8 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded-md w-1/4 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-100 rounded-md w-16"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:J4()})]})]}):x?n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(pn,{className:"w-16 h-16 text-red-500 mb-4"}),n.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:" xy ra li"}),n.jsx("p",{className:"text-gray-500 mb-6",children:typeof x=="string"?x:x.message}),n.jsxs("button",{className:"text-purple-600 hover:text-purple-700 flex items-center",onClick:()=>t(am(j)),children:[n.jsx(BD,{className:"w-5 h-5 mr-2"}),"Th li"]})]})}):n.jsxs("div",{className:"bg-gray-50 min-h-screen pb-12",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 mb-6",children:n.jsxs("div",{className:"container mx-auto px-4 py-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Khm ph s kin"}),n.jsxs("div",{className:"flex justify-between items-center mt-6",children:[n.jsxs("div",{className:"flex space-x-6 overflow-x-auto",children:[n.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 font-medium rounded-md ${i==="all"?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:"Tt c"}),K.map(B=>n.jsx("button",{onClick:()=>o(B),className:`px-4 py-2 font-medium rounded-md ${i===B?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:B},B))]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:j.difficulty||"all",onChange:B=>w("difficulty",B.target.value),className:"px-4 py-2 rounded-md text-sm font-medium border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white appearance-none",children:[n.jsx("option",{value:"all",children:"Mi  kh"}),n.jsx("option",{value:"beginner",children:"Beginner"}),n.jsx("option",{value:"intermediate",children:"Intermediate"}),n.jsx("option",{value:"advanced",children:"Advanced"}),n.jsx("option",{value:"expert",children:"Expert"})]}),n.jsx(hm,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500 pointer-events-none"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:a,onChange:B=>l(B.target.value),placeholder:"Tm kim s kin...",className:"w-64 px-4 py-2 rounded-md text-sm border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute right-3 top-1/2 -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]})]})]})}),n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:b?J4():F.map((B,R)=>n.jsx(ur.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:R*.05},className:`group cursor-pointer ${c==="list"?"flex":""}`,onClick:()=>T(B.EventID),children:n.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-300 h-full flex flex-col",children:[n.jsx("div",{className:"relative overflow-hidden",children:n.jsx("img",{src:B.ImageUrl||"https://images.unsplash.com/photo-1540575467063-178a50c2df87?auto=format&fit=crop&w=800&q=60",alt:B.Title,className:"w-full aspect-video object-cover object-center group-hover:scale-105 transition-transform duration-500"})}),n.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 leading-snug line-clamp-2",children:B.Title}),n.jsx(fde,{status:B.Status})]}),n.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:B.Description||"Tham gia s kin ny  c c hi giao lu hc hi v m rng kin thc trong lnh vc ny."}),n.jsxs("div",{className:"text-xs text-gray-500 mt-auto space-y-1",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:S(B.EventDate)})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),n.jsx("span",{children:B.Difficulty||"Trung Bnh"})]})]})]})]})},B.EventID))}),F.length===0&&n.jsx("div",{className:"col-span-full py-12 text-center",children:n.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-md mx-auto shadow-sm",children:[n.jsx("div",{className:"bg-gray-50 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:n.jsx(_D,{className:"w-10 h-10 text-gray-400"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Khng tm thy s kin"}),n.jsx("p",{className:"text-gray-600 mb-6",children:a?`Khng c s kin no ph hp vi t kha "${a}". Vui lng th tm kim vi t kha khc.`:"Hin ti cha c s kin no trong danh mc ny. Hy th danh mc khc!"}),a?n.jsx("button",{onClick:()=>l(""),className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-sm",children:"Xa tm kim"}):n.jsx("button",{onClick:U,className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-sm",children:"Xa b lc"})]})})]})]})},gde={beginner:"bg-green-100 text-green-800",intermediate:"bg-yellow-100 text-yellow-800",advanced:"bg-orange-100 text-orange-800",expert:"bg-red-100 text-red-800"},xde={upcoming:"bg-blue-100 text-blue-800",ongoing:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"},yde=()=>{const{eventId:e}=Lo(),t=rn(),r=Mn(),[s,i]=m.useState(!0),[o,a]=m.useState(null),[l,c]=m.useState("description"),{isAuthenticated:d}=co(),u=Is(b=>b.event.currentEvent),A=Is(b=>b.event.isRegistered);m.useEffect(()=>((async()=>{var x,j;if(!e){a("Event ID khng hp l"),i(!1);return}try{i(!0),a(null),console.log("Fetching event details for ID:",e);const w=await r(Ch(e)).unwrap();if(console.log("Successfully fetched event details:",w),!w){a("S kin khng tn ti");return}d&&await r(g0(e))}catch(w){console.error("Error loading event detail:",w),((x=w.response)==null?void 0:x.status)===404?a("S kin khng tn ti"):((j=w.response)==null?void 0:j.status)===401?a("Vui lng ng nhp  xem chi tit s kin"):a(w.message||"Khng th ti thng tin s kin")}finally{i(!1)}})(),()=>{r(g6())}),[e,r,d]);const f=b=>{if(!b)return"";try{return new Date(b).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(x){return console.error("Error formatting date:",x),b}},h=b=>{if(!b)return"";try{return b.substring(0,5)}catch(x){return console.error("Error formatting time:",x),b}},g=async()=>{if(!d){t("/login",{state:{returnUrl:`/events/${e}`}});return}try{i(!0),console.log("Registering for event with ID:",e);const x=await r(f6({eventId:e,userData:{teamName:""}})).unwrap();console.log("Registration result:",x),r(mb({isRegistered:!0,registrationInfo:{EventID:e}})),alert(x.message||"ng k tham gia s kin thnh cng!"),await r(Ch(e)).unwrap()}catch(b){console.error("Registration error:",b),b.message==="Bn  ng k s kin ny"&&r(mb({isRegistered:!0,registrationInfo:{EventID:e}})),alert(b.message||"ng k tht bi. Vui lng th li sau.")}finally{i(!1)}},p=async()=>{if(!d){t("/login",{state:{returnUrl:`/events/${e}`}});return}try{i(!0),console.log("Cancelling registration for event with ID:",e);const b=await r(m6(e)).unwrap();console.log("Cancellation result:",b),r(mb({isRegistered:!1,registrationInfo:null})),alert(b.message||"Hy ng k s kin thnh cng!"),await r(Ch(e)).unwrap()}catch(b){console.error("Cancellation error:",b),alert(b.message||"Hy ng k tht bi. Vui lng th li sau.")}finally{i(!1)}};return s?n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):o?n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:o}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Vui lng kim tra li ng dn hoc th li sau"}),n.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",onClick:()=>t("/events"),children:"Quay li danh sch s kin"})]})}):u?n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("button",{onClick:()=>t("/events"),className:"flex items-center px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[n.jsx(_m,{className:"h-5 w-5 mr-2"}),n.jsx("span",{children:"Quay li danh sch s kin"})]})}),n.jsxs("div",{className:"relative h-96 rounded-xl overflow-hidden mb-8",children:[n.jsx("img",{src:u.ImageUrl||"/default-event.jpg",alt:u.Title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute top-4 right-4",children:n.jsx("span",{className:`px-4 py-2 rounded-full ${xde[u.Status]||"bg-gray-100 text-gray-800"}`,children:u.Status})})]}),n.jsx("div",{className:"mb-8 border-b border-gray-200",children:n.jsxs("nav",{className:"flex space-x-8","aria-label":"Tabs",children:[n.jsx("button",{onClick:()=>c("description"),className:`py-4 px-1 border-b-2 font-medium text-sm ${l==="description"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"M t s kin"}),n.jsx("button",{onClick:()=>c("schedule"),className:`py-4 px-1 border-b-2 font-medium text-sm ${l==="schedule"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Lch trnh"}),n.jsx("button",{onClick:()=>c("prizes"),className:`py-4 px-1 border-b-2 font-medium text-sm ${l==="prizes"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Gii thng"}),n.jsx("button",{onClick:()=>c("tech"),className:`py-4 px-1 border-b-2 font-medium text-sm ${l==="tech"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Cng ngh & Ngn ng"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:u.Title}),l==="description"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"M t s kin"}),n.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:u.Description||"Khng c m t"})]}),l==="schedule"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Lch trnh"}),u.schedule&&u.schedule.length>0?n.jsx("div",{className:"space-y-4",children:u.schedule.map((b,x)=>n.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",children:[n.jsx(Ki,{className:"h-6 w-6 text-gray-500 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:b.ActivityName}),n.jsxs("p",{className:"text-gray-600",children:[f(b.StartTime)," ",h(b.StartTime)," - ",h(b.EndTime)]}),n.jsx("p",{className:"text-gray-600",children:b.Location}),n.jsx("p",{className:"text-gray-600 mt-2",children:b.Description})]})]},x))}):n.jsx("p",{className:"text-gray-500 italic",children:"Cha c lch trnh chi tit cho s kin ny"})]}),l==="prizes"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Gii thng"}),u.prizes&&u.prizes.length>0?n.jsx("div",{className:"space-y-4",children:u.prizes.map((b,x)=>n.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",children:[n.jsx(Y0,{className:"h-6 w-6 text-yellow-500 mt-1"}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold",children:["Hng ",b.Rank]}),n.jsx("p",{className:"text-gray-800 font-medium",children:b.PrizeAmount?`${b.PrizeAmount.toLocaleString("vi-VN")} VND`:""}),n.jsx("p",{className:"text-gray-600 mt-1",children:b.Description})]})]},x))}):n.jsx("p",{className:"text-gray-500 italic",children:"Cha c thng tin v gii thng"})]}),l==="tech"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Cng ngh & Ngn ng lp trnh"}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-medium mb-3 flex items-center",children:[n.jsx(Vh,{className:"h-5 w-5 mr-2 text-blue-500"}),"Ngn ng lp trnh"]}),u.languages&&u.languages.length>0?n.jsx("div",{className:"flex flex-wrap gap-2",children:u.languages.map((b,x)=>n.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:b.Language},x))}):n.jsx("p",{className:"text-gray-500 italic",children:"Cha c thng tin ngn ng lp trnh"})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium mb-3 flex items-center",children:[n.jsx(F6,{className:"h-5 w-5 mr-2 text-indigo-500"}),"Cng ngh s dng"]}),u.technologies&&u.technologies.length>0?n.jsx("div",{className:"flex flex-wrap gap-2",children:u.technologies.map((b,x)=>n.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm",children:b.Technology},x))}):n.jsx("p",{className:"text-gray-500 italic",children:"Cha c thng tin cng ngh"})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Thng tin chi tit"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(qd,{className:"h-5 w-5 text-gray-500 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Thi gian"}),n.jsxs("p",{className:"font-medium",children:[f(u.EventDate)," ",h(u.EventTime)]})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Md,{className:"h-5 w-5 text-gray-500 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"a im"}),n.jsx("p",{className:"font-medium",children:u.Location||"Cha cp nht"})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(lc,{className:"h-5 w-5 text-gray-500 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"S lng ngi tham gia"}),n.jsxs("p",{className:"font-medium",children:[u.CurrentAttendees||0,"/",u.MaxAttendees||"Khng gii hn"]})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Au,{className:"h-5 w-5 text-gray-500 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:" kh"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-sm ${gde[u.Difficulty]||"bg-gray-100 text-gray-800"}`,children:u.Difficulty||"Cha xc nh"})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(fO,{className:"h-5 w-5 text-gray-500 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Gi v"}),n.jsx("p",{className:"font-medium",children:u.Price&&u.Price>0?`${u.Price.toLocaleString("vi-VN")} VND`:"Min ph"})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(OD,{className:"h-5 w-5 text-gray-500 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"n v t chc"}),n.jsx("p",{className:"font-medium",children:u.Organizer||"Cha cp nht"})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[A?n.jsx("button",{onClick:p,disabled:u.Status!=="upcoming"||s,className:`w-full py-3 px-4 rounded-lg font-medium text-white 
                  ${u.Status==="upcoming"&&!s?"bg-red-600 hover:bg-red-700":"bg-gray-400 cursor-not-allowed"}`,children:s?"ang x l...":"Hy ng k tham gia"}):n.jsx("button",{onClick:g,disabled:u.Status!=="upcoming"||u.CurrentAttendees>=u.MaxAttendees||s,className:`w-full py-3 px-4 rounded-lg font-medium text-white 
                  ${u.Status==="upcoming"&&u.CurrentAttendees<u.MaxAttendees&&!s?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,children:s?"ang x l...":u.Status!=="upcoming"?"S kin khng cn nhn ng k":u.CurrentAttendees>=u.MaxAttendees?"  s lng ngi tham gia":"ng k tham gia"}),!d&&n.jsx("p",{className:"text-sm text-gray-500 mt-2 text-center",children:"Bn cn ng nhp  ng k tham gia"}),A&&n.jsx("p",{className:"text-sm text-green-600 mt-2 text-center",children:"Bn  ng k tham gia s kin ny"})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(zO,{className:"h-5 w-5 text-gray-500 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Danh mc"}),n.jsx("p",{className:"font-medium",children:u.Category||"Cha phn loi"})]})]})})]})]})]}):n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Khng tm thy s kin"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"S kin ny c th  b xa hoc khng tn ti"}),n.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",onClick:()=>t("/events"),children:"Quay li danh sch s kin"})]})})},bde=({onPostCreated:e})=>{var re;const[t,r]=m.useState(""),[s,i]=m.useState(""),[o,a]=m.useState([]),[l,c]=m.useState(!1),[d,u]=m.useState("public"),[A,f]=m.useState(!1),[h,g]=m.useState(null),[p,b]=m.useState(""),[x,j]=m.useState(""),[w,S]=m.useState(null),[I,F]=m.useState(!1),[T,U]=m.useState(""),K=m.useRef(null),[B,R]=m.useState(!1),D=["programming","code","software","developer","web","app","database","cloud","server","frontend","backend","fullstack","javascript","python","java","react","angular","vue","node","php","html","css","api","cybersecurity","ai","machine learning","data science","devops","git","github","docker","kubernetes","aws","azure","google cloud","algorithm","coding","debugging","framework","library","testing","deployment","agile","scrum","network","linux","windows","mac","operating system","mobile development","sql","nosql","mongodb","mysql","postgresql","oracle","sap","flutter","kotlin","swift","objective-c","c++","c#",".net","ruby","rails","go","golang","rust","scala","typescript","jquery","bootstrap","tailwind","sass","less","webpack","babel","eslint","prettier","jest","mocha","chai","cypress","selenium","qa","quality assurance","continuous integration","ci/cd","jenkins","gitlab","bitbucket","jira","confluence","trello","slack","discord","figma","sketch","adobe xd","photoshop","illustrator","ui","ux","user interface","user experience","responsive","mobile first","pwa","seo","analytics","blockchain","cryptocurrency","bitcoin","ethereum","smart contract","nft","security","encryption","firewall","vpn","proxy","cache","cdn","dns","domain","hosting","ssl","tls","https","http","rest","graphql","soap","microservices","serverless","lambda","function as a service","saas","paas","iaas","virtual machine","vm","virtualization","emulator","compiler","interpreter","assembly","low level","high level","bug","patch","version control","svn","mercurial","computer vision","natural language processing","nlp","hardware","software","firmware","computer science","networking","router","switch","modem","bandwidth","latency","ping","big data","hadoop","spark","kafka","elasticsearch","kibana","grafana","prometheus","monitoring","logging","tracing","observability","sre","site reliability","incident management","anomaly detection","machine","deep learning","neural network","tensorflow","pytorch","keras","scikit-learn","pandas","numpy","jupyter","anaconda","data visualization","tableau","power bi","qlik","looker","dax","etl","data warehouse","data lake","datalakehouse","olap","oltp","webrtc","websocket","socket.io","iot","raspberry pi","arduino","esp32","esp8266","microcontroller","edge computing","fog computing","quantum computing","augmented reality","ar","virtual reality","vr","mixed reality","mr","xr","3d modeling","unity","unreal engine","godot","game development","animation","physics engine","shader","webgl","webgpu","vulkan","directx","opengl","cuda","parallel computing","distributed systems","consensus algorithm","peer-to-peer","p2p","defi","nft marketplace","web3","solidity","smart contracts","wallet","metamask","authentication","oauth","openid","saml","sso","two-factor","2fa","mfa","biometric","facial recognition","fingerprint","keylogger","malware","spyware","ransomware","phishing","sql injection","xss","csrf","ddos","zero-day","exploit","vulnerability","penetration testing","pen testing","ethical hacking","red team","blue team","soc","security operations","compliance","gdpr","hipaa","pci dss","iso 27001","nist","embedded systems","real-time systems","rtos","kernel","driver","firmware","bios","uefi","interrupt","process","thread","concurrency","parallelism","multiprocessing","multithreading","async","await","promise","callback","observable","reactive programming","functional programming","object-oriented programming","oop","procedural programming","declarative programming","imperative programming","immutable","mutable","stateful","stateless","idempotent","atomicity","acid","base","cap theorem","eventual consistency","strong consistency","sharding","partitioning","replication","load balancing","reverse proxy","forward proxy","database indexing","query optimization","execution plan","crud","orm","odm","database migration","seeding","polymorphism","inheritance","encapsulation","abstraction","interface","solid principles","design patterns","singleton","factory","observer","strategy","command","decorator","builder","adapter","facade","proxy pattern","lp trnh","m ngun","phn mm","phn cng","ng dng","thit k web","c s d liu","in ton m my","my ch","cng ngh thng tin","h iu hnh","mng my tnh","bo mt","pht trin ng dng","tr tu nhn to","hc my","d liu ln","thut ton","m ha","gii m","li phn mm","giao din ngi dng","tri nghim ngi dng","chui khi","tin in t","h thng qun l","phn mm ngun m","lp trnh vin","m my","sao lu","khi phc d liu","kim th","t ng ha","tch hp","trin khai","my tnh","my tnh xch tay","in thoi thng minh","thit b di ng","thit b eo","thc t o","thc t tng cng","internet vn vt","IoT","kin trc phn mm","nn tng","my trm","iu khin t xa"," ha","pht trin game","ct lp","a nn tng","tng thch","ti u ha","cng c pht trin","x l song song","tnh ton phn tn","qun l d n IT","phn tch h thng","thit k h thng","k thut h thng","qun tr mng","qun tr c s d liu","phn tch d liu","khai ph d liu","qun l m ngun","nh gi hiu nng","tun th bo mt","chng ch bo mt","tiu chun IT","tng la","mng ring o","m my ring","mt m","xc thc","phn quyn","h thng tch hp","trung tm d liu","h tng IT","my o","o ha","chuyn i s","s ha","k s phn mm","k s h thng","ngh IT","CNTT","an ton thng tin","hack","virus","malware","trojan","m c","cng thng tin","pht trin website","lp rp my tnh","ci t phn mm","my in","my qut","mn hnh","CPU","GPU","RAM"," cng"," SSD","VGA","bo mch ch","ngun my tnh","tn nhit","lp trnh web","framework laravel","excel","word","powerpoint","outlook","photoshop","illustrator","figma","thit k  ha","x l nh","bin tp video"," ha 3D","render","makefile","bin dch","dch ngc","pht hin li","sa li","v li","bo tr phn mm","h qun tr CSDL","cng kt ni","giao thc mng","wifi","bluetooth","cp mng","ci win","ghost","driver","Windown","MacOS","Linux","Ubuntu","Fedora","CentOS","Debian","Alpine","distro","kernel","trnh bin dch","th vin","trang web","dch v web","web service","tin ch m rng","plugin","theme","giao din","ch ","mu thit k","responsive","tng thch di ng","SEO","phn mm dit virus","gi lp","emulator","my ch o","nh tuyn","vng nh","vng a ch IP","domain","tn min","SSL","chng ch bo mt","m ngun m","phn mm thng mi","bn quyn","license","giy php","k hoch d phng","sao lu d phng","UPS","ngun in d phng","thit k giao din","UI/UX","sprint","k thut s","thc t o tng cng","cng ngh thc t o","smartphone","laptop gaming","my tnh bng","phn mm ERP","hc trc tuyn","e-learning","o to CNTT","ti nguyn s","ni dung s","ng dng di ng","app mobile","app store","play store","cng ngh blockchain","NFT","tin m ha","crypto","bitcoin","ethereum","smart contract","hp ng thng minh","tr tu nhn to","AI","chatGPT","OpenAI","chatbot","robot","t ng ha","RPA","t ng ha quy trnh","phn tch d liu","kt ni API","m my","in ton m my","dch v m my","phn tch big data","d liu ln","chuyn i s","digital transformation","ngn ng lp trnh","codebase","repo","repository","commit","pull request","push code","debug","test case","unit test","kim th n v","testing","QA","qun l cht lng","t chc code","m hnh MVC","m hnh MVVM","nguyn tc SOLID","clean code","code sch","m ngun r rng","comment code","code review","kim tra m ngun","ti liu k thut"];m.useEffect(()=>{const _=localStorage.getItem("token");if(_){const Q=JSON.parse(localStorage.getItem("user")||"{}");Q!=null&&Q.UserID?g({name:Q.FullName||Q.username,avatar:Q.ProfileImage||"https://i.pravatar.cc/300",username:Q.username}):fetch("/api/users/me",{headers:{Authorization:`Bearer ${_}`}}).then(Z=>Z.json()).then(Z=>{g({name:Z.FullName||Z.username,avatar:Z.ProfileImage||"https://i.pravatar.cc/300",username:Z.username})}).catch(Z=>{console.error("Error fetching user:",Z)})}},[]);const H=()=>{const _={title:s,content:t,location:w?JSON.stringify(w):null,savedAt:new Date().toISOString()};localStorage.setItem("postDraft",JSON.stringify(_)),R(!0),setTimeout(()=>R(!1),3e3)};m.useEffect(()=>{const _=localStorage.getItem("postDraft");if(_)try{const Q=JSON.parse(_);i(Q.title||""),r(Q.content||""),Q.location&&S(JSON.parse(Q.location))}catch(Q){console.error("Error loading draft:",Q)}},[]);const P=()=>{if(U(""),!navigator.geolocation){U("Trnh duyt ca bn khng h tr nh v.");return}F(!0),navigator.geolocation.getCurrentPosition(async _=>{const{latitude:Q,longitude:Z}=_.coords;try{const me=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Q}&lon=${Z}&zoom=18&addressdetails=1`,{headers:{"Accept-Language":"vi"}})).json();S({latitude:Q,longitude:Z,displayName:me.display_name||"V tr hin ti",address:me.address})}catch(Ae){console.error("Error fetching location name:",Ae),S({latitude:Q,longitude:Z,displayName:"V tr hin ti"})}finally{F(!1)}},_=>{F(!1),_.code===1?U("Quyn nh v b t chi. Vui lng bt quyn truy cp v tr nu mun s dng chc nng ny."):(U("Khng th ly v tr ca bn. Vui lng th li sau."),console.error("Error getting location:",_))})},z=()=>{S(null)},G=_=>{if(!_.trim())return!1;const Q=_.toLowerCase();return D.some(Z=>Q.includes(Z))},he=async _=>{if(_.preventDefault(),b(""),j(""),o.length===0){j("Bi vit phi c t nht mt nh hoc video");return}if(t.trim()&&!G(t)){b("Bi vit phi lin quan n cng ngh thng tin (IT)");return}c(!0);try{const Q=new FormData;if(Q.append("content",t),Q.append("visibility",d),s&&Q.append("title",s),o.forEach(Ae=>{Q.append("media",Ae)}),w&&Q.append("location",JSON.stringify(w)),!(await fetch("/api/posts",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:Q})).ok)throw new Error("Khng th to bi vit");r(""),i(""),a([]),S(null),localStorage.removeItem("postDraft"),e&&e()}catch(Q){console.error("Create post error:",Q),alert("C li xy ra khi ng bi. Vui lng th li sau.")}finally{c(!1)}},ce=_=>{const Q=Array.from(_.target.files);Q.length>0&&(a([...o,...Q]),j(""))},ye=_=>{const Q=o.filter((Z,Ae)=>Ae!==_);a(Q),Q.length===0&&j("Bi vit phi c t nht mt nh hoc video")},X=[{id:"public",label:"Cng khai",description:"Mi ngi u c th xem",icon:Nh},{id:"friends",label:"Bn b",description:"Ch bn b c th xem",icon:lc},{id:"private",label:"Ring t",description:"Ch bn c th xem",icon:pl}];return n.jsxs("div",{className:"flex flex-col w-full max-w-full",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[n.jsxs("div",{className:"p-4 md:px-8 border-b flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"font-bold text-xl",children:"To bi vit mi"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Chia s  tng, cu hi, hoc kin thc v IT ca bn"})]}),n.jsx("button",{onClick:H,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Lu bn nhp"})]}),h&&n.jsxs("div",{className:"flex items-center p-4 md:px-8 border-b",children:[n.jsx("img",{src:h.avatar,alt:h.name,className:"w-10 h-10 rounded-full mr-3"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:h.name}),n.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[n.jsxs("button",{type:"button",onClick:()=>f(!A),className:"flex items-center space-x-1 py-1 px-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:[(()=>{var Q;const _=(Q=X.find(Z=>Z.id===d))==null?void 0:Q.icon;return n.jsx(_,{className:"w-3 h-3 mr-1"})})(),n.jsx("span",{children:(re=X.find(_=>_.id===d))==null?void 0:re.label}),n.jsx("svg",{className:"w-3 h-3 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),A&&n.jsx("div",{className:"absolute mt-2 top-full left-0 bg-white border border-gray-200 rounded-lg shadow-lg p-2 z-10 w-64",children:X.map(_=>{const Q=_.icon;return n.jsx("button",{type:"button",className:`w-full text-left p-2 rounded-md hover:bg-gray-50 transition-colors ${d===_.id?"bg-blue-50 text-blue-600":"text-gray-700"}`,onClick:()=>{u(_.id),f(!1)},children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Q,{className:"w-4 h-4 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-sm",children:_.label}),n.jsx("div",{className:"text-xs text-gray-500",children:_.description})]})]})},_.id)})})]})]})]}),n.jsxs("div",{className:"flex flex-col lg:flex-row w-full",children:[n.jsx("div",{className:"lg:w-3/5 p-4 md:p-8 lg:border-r lg:border-gray-200",children:n.jsxs("form",{onSubmit:he,children:[n.jsx("div",{className:"mb-4",children:n.jsx("input",{type:"text",id:"title",placeholder:"Tiu  bi vit",className:"w-full p-3 text-lg font-medium border-0 focus:ring-0 focus:outline-none",value:s,onChange:_=>i(_.target.value)})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("textarea",{id:"content",className:"w-full p-3 border-0 focus:ring-0 focus:outline-none min-h-[300px] text-gray-700 placeholder-gray-400 resize-none",placeholder:`Chia s  tng, cu hi, hoc kin thc v IT ca bn...

Bn c th s dng Markdown  nh dng vn bn:
- Danh sch
- **In m** hoc *in nghing*
- Code blocks \`\`\`
- V nhiu tnh nng khc`,value:t,onChange:_=>{r(_.target.value),p&&b("")}}),p&&n.jsx("div",{className:"mt-2 text-red-500 text-sm",children:p})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("div",{className:"text-sm font-medium flex items-center",children:[n.jsx("span",{children:"Hnh nh/Video"}),n.jsx("span",{className:"text-red-500 ml-1",children:"*"}),n.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Bt buc)"})]}),n.jsx("button",{type:"button",onClick:()=>K.current.click(),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Thm file"})]}),o.length===0?n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 flex flex-col items-center justify-center cursor-pointer hover:border-gray-400 transition-colors ${x?"border-red-300 bg-red-50":"border-gray-300"}`,onClick:()=>K.current.click(),children:[n.jsx("div",{className:`rounded-full p-3 mb-2 ${x?"bg-red-100":"bg-gray-100"}`,children:n.jsx(J0,{className:`h-8 w-8 ${x?"text-red-500":"text-gray-500"}`})}),n.jsx("div",{className:"font-medium",children:"Thm nh hoc video"}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Nhn  chn hoc ko th file"}),x&&n.jsx("div",{className:"text-red-500 text-sm mt-2",children:x})]}):n.jsxs("div",{className:"border-t border-b py-4",children:[n.jsxs("div",{className:"text-sm font-medium mb-2",children:["Media nh km (",o.length,")"]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2",children:o.map((_,Q)=>n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"h-32 bg-gray-100 rounded-lg overflow-hidden",children:_.type.startsWith("image/")?n.jsx("img",{src:URL.createObjectURL(_),alt:"Preview",className:"w-full h-full object-cover"}):_.type.startsWith("video/")?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(Bh,{className:"h-10 w-10 text-gray-500"})}):n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(R6,{className:"h-10 w-10 text-gray-500"})})}),n.jsx("button",{type:"button",onClick:()=>ye(Q),className:"absolute top-1 right-1 bg-black bg-opacity-60 rounded-full p-1 text-white opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(pn,{className:"w-4 h-4"})})]},Q))})]}),n.jsx("input",{ref:K,type:"file",hidden:!0,accept:"image/*,video/*",multiple:!0,onChange:ce})]}),w&&n.jsxs("div",{className:"mb-4 flex items-center bg-blue-50 text-blue-700 px-4 py-2 rounded-lg text-sm",children:[n.jsx(Md,{className:"h-4 w-4 mr-2 flex-shrink-0"}),n.jsx("div",{className:"flex-1 truncate",children:n.jsx("span",{className:"font-medium",children:w.displayName})}),n.jsx("button",{type:"button",onClick:z,className:"ml-2 text-blue-500 hover:text-blue-700",children:n.jsx(pn,{className:"h-5 w-5"})})]}),T&&n.jsx("div",{className:"mb-4 text-red-500 text-sm",children:T}),n.jsxs("div",{className:"flex flex-wrap items-center border-t pt-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mr-auto",children:[n.jsx("button",{type:"button",onClick:()=>K.current.click(),className:"flex items-center p-2 rounded-full hover:bg-gray-100 text-gray-700",title:"Thm nh/video",children:n.jsx(J0,{className:"h-6 w-6"})}),n.jsx("button",{type:"button",onClick:P,className:"flex items-center p-2 rounded-full hover:bg-gray-100 text-gray-700",title:"Thm v tr",disabled:I||w!==null,children:I?n.jsxs("svg",{className:"animate-spin h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):n.jsx(Md,{className:"h-6 w-6"})}),n.jsx("div",{className:"text-xs text-blue-600 bg-blue-50 rounded-full px-3 py-1",children:"H tr nh dng Markdown"})]}),n.jsx("button",{type:"submit",disabled:l||o.length===0,className:`px-8 py-2 rounded-full font-medium transition-all duration-300 ${l||o.length===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:l?n.jsxs("div",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"ang ng..."})]}):"ng bi"})]})]})}),n.jsx("div",{className:"lg:w-2/5 bg-gray-50 p-4 md:p-8",children:n.jsxs("div",{className:"sticky top-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-medium",children:"Xem trc"}),n.jsx("div",{className:"text-xs text-gray-500",children:"Bi vit ca bn s hin th nh sau"})]}),n.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[s&&n.jsx("h2",{className:"text-xl font-bold mb-4",children:s}),n.jsx("div",{className:"prose prose-sm max-w-none mb-4",children:t?n.jsx(nc,{remarkPlugins:[Qd],children:t}):n.jsx("p",{className:"text-gray-400 italic",children:"Cha c ni dung"})}),o.length>0&&o.length<=2&&n.jsx("div",{className:"mb-4",children:o.map((_,Q)=>n.jsx("div",{className:"mb-2",children:_.type.startsWith("image/")?n.jsx("img",{src:URL.createObjectURL(_),alt:`Preview ${Q+1}`,className:"max-h-[300px] object-contain rounded-lg mx-auto"}):n.jsx("div",{className:"flex items-center justify-center h-40 bg-gray-100 rounded-lg",children:n.jsx(Bh,{className:"h-12 w-12 text-gray-400"})})},Q))}),o.length>2&&n.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:o.slice(0,4).map((_,Q)=>n.jsxs("div",{className:`relative rounded-lg overflow-hidden ${Q===3&&o.length>4?"relative":""}`,children:[_.type.startsWith("image/")?n.jsx("img",{src:URL.createObjectURL(_),alt:`Preview ${Q+1}`,className:"w-full h-32 object-cover"}):n.jsx("div",{className:"flex items-center justify-center h-32 bg-gray-100",children:n.jsx(Bh,{className:"h-8 w-8 text-gray-400"})}),Q===3&&o.length>4&&n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center",children:n.jsxs("div",{className:"text-white font-bold text-xl",children:["+",o.length-4]})})]},Q))}),w&&n.jsxs("div",{className:"flex items-center text-sm text-blue-600 mb-4",children:[n.jsx(Md,{className:"h-4 w-4 mr-1"}),n.jsx("span",{children:w.displayName})]}),n.jsx("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"p-1 rounded-full hover:bg-gray-50",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})})}),n.jsx("button",{className:"p-1 rounded-full hover:bg-gray-50",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),n.jsx("button",{className:"p-1 rounded-full hover:bg-gray-50",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})})]})})]})]})})]})]}),B&&n.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg z-50",children:" lu bn nhp!"})]})},ud={table:"min-w-full border border-gray-300 border-collapse my-4",thead:"bg-gray-50",th:"border border-gray-300 px-4 py-2 font-semibold text-left",td:"border border-gray-300 px-4 py-2",ul:"list-disc pl-6 space-y-1 my-4",ol:"list-decimal pl-6 space-y-1 my-4",li:"pl-1"},Y4={table:({node:e,...t})=>n.jsx("table",{className:ud.table,...t}),thead:({node:e,...t})=>n.jsx("thead",{className:ud.thead,...t}),th:({node:e,...t})=>n.jsx("th",{className:ud.th,...t}),td:({node:e,...t})=>n.jsx("td",{className:ud.td,...t}),ul:({node:e,...t})=>n.jsx("ul",{className:ud.ul,...t}),ol:({node:e,...t})=>n.jsx("ol",{className:ud.ol,...t}),li:({node:e,...t})=>n.jsx("li",{className:ud.li,...t})},vde=({isOpen:e,media:t,currentIndex:r,onClose:s,onNext:i,onPrev:o})=>{if(!e||!t||t.length===0)return null;const a=t[r],l=a.MediaType==="video",c=u=>{u.key==="Escape"&&s(),u.key==="ArrowRight"&&i(),u.key==="ArrowLeft"&&o()};m.useEffect(()=>(e&&(window.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{window.removeEventListener("keydown",c),document.body.style.overflow="auto"}),[e,r]);let d="";try{a.MediaUrl?a.MediaUrl.startsWith("http")?d=a.MediaUrl:d=`/uploads/${a.MediaUrl.replace(/^\/uploads\//,"").replace(/^uploads\//,"")}`:d="/placeholder-image.svg"}catch(u){console.error("Error processing media URL:",u),d="/placeholder-image.svg"}return n.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center",onClick:s,children:[n.jsx("div",{className:"absolute top-4 right-4 z-10",children:n.jsx("button",{onClick:s,className:"p-2 bg-black bg-opacity-60 rounded-full text-white hover:bg-opacity-80 transition-opacity",children:n.jsx(pn,{className:"w-6 h-6"})})}),n.jsxs("div",{className:"absolute top-4 left-4 z-10 text-white bg-black bg-opacity-60 px-3 py-1 rounded-full text-sm",children:[r+1," / ",t.length]}),n.jsx("div",{className:"max-w-screen-lg max-h-screen p-4 relative",onClick:u=>u.stopPropagation(),children:l?n.jsx("video",{className:"max-h-[85vh] max-w-full mx-auto",src:d,controls:!0,autoPlay:!0,onError:u=>{console.error("Video failed to load:",d),u.target.onerror=null,u.target.src="/placeholder-video.svg"}}):n.jsx("img",{className:"max-h-[85vh] max-w-full mx-auto object-contain",src:d,alt:`Media item ${r+1}`,onError:u=>{console.error("Image failed to load:",d),u.target.onerror=null,u.target.src="/placeholder-image.svg"}})}),t.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:u=>{u.stopPropagation(),o()},className:"absolute left-4 top-1/2 transform -translate-y-1/2 p-2 bg-black bg-opacity-60 rounded-full text-white hover:bg-opacity-80 transition-opacity",children:n.jsx(YD,{className:"w-6 h-6"})}),n.jsx("button",{onClick:u=>{u.stopPropagation(),i()},className:"absolute right-4 top-1/2 transform -translate-y-1/2 p-2 bg-black bg-opacity-60 rounded-full text-white hover:bg-opacity-80 transition-opacity",children:n.jsx(B0,{className:"w-6 h-6"})})]})]})},Z4=({initialPosts:e,onLike:t,onComment:r,onShare:s,onEdit:i,onRefreshMedia:o,onLocationFilter:a,onBookmark:l,onReport:c})=>{const[d,u]=m.useState(e||[]),[A,f]=m.useState(null);m.useEffect(()=>{e&&u(e)},[e]);const h=async x=>{try{const j=localStorage.getItem("token");if(!(await fetch(`/api/posts/${x}`,{method:"DELETE",headers:{Authorization:`Bearer ${j}`}})).ok)throw new Error("Failed to delete post");const S=d.filter(I=>I.PostID!==x);u(S)}catch(j){console.error("Error deleting post:",j)}},g=async(x,j)=>{try{if(c)return await c(x,j);const w=localStorage.getItem("token");if(!(await fetch("/api/reports",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify({targetId:x,...j})})).ok)throw new Error("Failed to report post");return alert("Bo co  c gi thnh cng!"),!0}catch(w){return console.error("Error reporting post:",w),alert("C li xy ra khi gi bo co. Vui lng th li sau."),!1}},p=async(x,j)=>{try{const w=localStorage.getItem("token");if(!(await fetch(`/api/posts/${x}/share`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify(j)})).ok)throw new Error("Failed to share post");const I=d.map(F=>F.PostID===x?{...F,SharesCount:(F.SharesCount||0)+1}:F);return u(I),!0}catch(w){throw console.error("Error sharing post:",w),w}},b=async(x,j)=>{try{const w=localStorage.getItem("token");if(!(await fetch(`/api/posts/${x}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify({content:j})})).ok)throw new Error("Failed to update post");const I=d.map(F=>F.PostID===x?{...F,Content:j,IsEdited:!0}:F);return u(I),f(null),!0}catch(w){throw console.error("Error updating post:",w),w}};return!Array.isArray(d)||d.length===0?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full mx-auto flex items-center justify-center mb-4",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),n.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Khng c bi vit no"}),n.jsx("p",{className:"text-gray-500",children:"Hy l ngi u tin chia s bi vit vi cng ng!"})]}):n.jsx("div",{className:"space-y-6",children:d.map(x=>n.jsx(wde,{post:x,onLike:t,onComment:r,onShare:p,onDelete:h,onReport:g,onEdit:b,onRefreshMedia:o,onLocationFilter:a,onBookmark:l,isEditing:A===x.PostID,setEditing:j=>f(j?x.PostID:null)},x.PostID))})},wde=({post:e,onLike:t,onComment:r,onShare:s,onDelete:i,onReport:o,onEdit:a,onRefreshMedia:l,onLocationFilter:c,onBookmark:d,isEditing:u,setEditing:A})=>{const[f,h]=m.useState(e.IsLiked===1),[g,p]=m.useState(!1),[b,x]=m.useState(e.IsBookmarked===1),[j,w]=m.useState(!1),[S,I]=m.useState([]),[F,T]=m.useState(!1),[U,K]=m.useState(null),[B,R]=m.useState(""),[D,H]=m.useState(!1),[P,z]=m.useState(e.Content),[G,he]=m.useState(!1),[ce,ye]=m.useState(e.media||[]),[X,re]=m.useState([]),[_,Q]=m.useState(!1),[Z,Ae]=m.useState(!1),[me,ae]=m.useState(null),[ie,te]=m.useState(!1),[fe,pe]=m.useState(!1),[we,je]=m.useState(0),De=m.useRef(null),[Ue,Ce]=m.useState(!1),[Ct,ct]=m.useState("Bo co bi vit vi phm"),[rt,st]=m.useState(""),[at,qe]=m.useState("CONTENT"),[St,kt]=m.useState(!1),He=()=>{h(!f),t(e.PostID)},Le=async()=>{try{const Fe=localStorage.getItem("token");if(!(await fetch(`/api/posts/${e.PostID}/bookmark`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`}})).ok)throw new Error("Failed to bookmark post");x(!b),d&&d(e.PostID)}catch(Fe){console.error("Error bookmarking post:",Fe)}},q=Fe=>{const et=new Date(Fe),Qt=Math.floor((new Date-et)/1e3);if(Qt<60)return"Va xong";const Ft=Math.floor(Qt/60);if(Ft<60)return`${Ft} pht trc`;const Rr=Math.floor(Ft/60);if(Rr<24)return`${Rr} gi trc`;const vr=Math.floor(Rr/24);return vr<7?`${vr} ngy trc`:et.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})},M=()=>{switch(e.Visibility){case"private":return n.jsx(pl,{className:"w-3.5 h-3.5 text-gray-500"});case"friends":return n.jsx(lc,{className:"w-3.5 h-3.5 text-gray-500"});default:return n.jsx(Nh,{className:"w-3.5 h-3.5 text-gray-500"})}},$=()=>{w(!j),!j&&S.length===0&&J()},J=async()=>{T(!0),K(null);try{const Fe=localStorage.getItem("token"),et=await fetch(`/api/posts/${e.PostID}/comments`,{headers:{Authorization:`Bearer ${Fe}`}});if(!et.ok)throw new Error("Could not load comments");const Et=await et.json();I(Et.comments||[])}catch(Fe){console.error("Error fetching comments:",Fe),K("Failed to load comments")}finally{T(!1)}},ee=async Fe=>{if(Fe.preventDefault(),!!B.trim()){H(!0);try{const et=localStorage.getItem("token"),Et=await fetch(`/api/posts/${e.PostID}/comments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${et}`},body:JSON.stringify({content:B})});if(!Et.ok)throw new Error("Failed to add comment");const Qt=await Et.json();I([Qt.comment,...S]),R(""),r&&r(e.PostID)}catch(et){console.error("Error adding comment:",et),K("Failed to post your comment")}finally{H(!1)}}},ve=async Fe=>{try{const et=localStorage.getItem("token");if(!(await fetch(`/api/posts/comments/${Fe}/like`,{method:"POST",headers:{Authorization:`Bearer ${et}`}})).ok)throw new Error("Failed to like comment");I(S.map(Qt=>Qt.CommentID===Fe?{...Qt,LikesCount:Qt.IsLiked?Qt.LikesCount-1:Qt.LikesCount+1,IsLiked:!Qt.IsLiked}:Qt))}catch(et){console.error("Error liking comment:",et)}},Se=async Fe=>{try{const et=localStorage.getItem("token");if(!(await fetch(`/api/posts/comments/${Fe}`,{method:"DELETE",headers:{Authorization:`Bearer ${et}`}})).ok)throw new Error("Failed to delete comment");I(S.filter(Qt=>Qt.CommentID!==Fe)),r&&r(e.PostID,-1)}catch(et){console.error("Error deleting comment:",et)}},We=async()=>{if(!(!P.trim()&&ce.length===0&&X.length===0)){he(!0);try{if(await a(e.PostID,P),X.length>0){const Fe=localStorage.getItem("token"),et=new FormData;if(X.forEach(Qt=>{et.append("media",Qt)}),Q(!0),!(await fetch(`/api/posts/${e.PostID}/media`,{method:"POST",headers:{Authorization:`Bearer ${Fe}`},body:et})).ok)throw new Error("Failed to upload media");l&&await l(e.PostID),re([])}A(!1)}catch(Fe){console.error("Failed to update post:",Fe)}finally{he(!1),Q(!1)}}},$e=()=>{z(e.Content),ye(e.media||[]),re([]),A(!1)},Pe=Fe=>{if(Fe.target.files&&Fe.target.files.length>0){const et=Array.from(Fe.target.files);re([...X,...et])}},Be=Fe=>{re(X.filter((et,Et)=>Et!==Fe))},Te=async Fe=>{try{const et=localStorage.getItem("token");if(!(await fetch(`/api/posts/${e.PostID}/media/${Fe}`,{method:"DELETE",headers:{Authorization:`Bearer ${et}`}})).ok)throw new Error("Failed to delete media");ye(ce.filter(Qt=>Qt.MediaID!==Fe)),l&&await l(e.PostID)}catch(et){console.error("Error removing media:",et)}};let pt=null;if(e.Location)if(typeof e.Location=="string")try{pt=JSON.parse(e.Location)}catch{pt={displayName:e.Location}}else pt=e.Location;const nt=Fe=>{var et,Et,Qt,Ft;if(c&&Fe){let Rr="";if(typeof Fe=="string")try{const vr=JSON.parse(Fe);Rr=((et=vr.address)==null?void 0:et.state)||((Et=vr.address)==null?void 0:Et.city)||vr.displayName||Fe}catch{Rr=Fe}else Rr=((Qt=Fe.address)==null?void 0:Qt.state)||((Ft=Fe.address)==null?void 0:Ft.city)||Fe.displayName||"";Rr&&c(Rr)}},Nt=async()=>{if(!(!e.Content||ie)){te(!0);try{const Fe=localStorage.getItem("token"),et=await fetch("/api/ai/gemini/summarize",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Fe}`},body:JSON.stringify({content:e.Content,maxWords:150,language:"vi"})});if(!et.ok)throw new Error("Failed to generate summary");const Et=await et.json();ae(Et.summary)}catch(Fe){console.error("Error generating AI summary:",Fe),ae("Khng th to tm tt. Vui lng th li sau.")}finally{te(!1)}}},ht=Fe=>{je(Fe),pe(!0)},ft=()=>{var et;const Fe=((et=e.media)==null?void 0:et.length)||0;je(Et=>(Et+1)%Fe)},xe=()=>{var et;const Fe=((et=e.media)==null?void 0:et.length)||0;je(Et=>(Et-1+Fe)%Fe)},Xe=async()=>{if(rt.trim()){kt(!0);try{await o(e.PostID,{title:Ct,content:rt,category:at,targetType:"POST"}),Ce(!1),st("")}catch(Fe){console.error("Error submitting report:",Fe)}finally{kt(!1)}}};return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-shadow duration-300",children:[n.jsxs("div",{className:"p-4 flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(fn,{src:e.UserImage||e.avatar||e.profileImage,name:e.FullName||e.fullName||e.username,alt:e.FullName||e.fullName||e.username,size:"small",className:"mr-2"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:e.FullName||e.fullName||e.username}),pt&&!u&&n.jsxs("div",{className:"flex items-center text-xs text-blue-700 hover:underline cursor-pointer",onClick:()=>nt(pt),title:"Lc bi vit theo v tr ny",children:[n.jsx(Md,{className:"h-3 w-3 mr-1 flex-shrink-0"}),n.jsxs("span",{className:"truncate",children:["ang  ",pt.displayName]})]}),M(),e.IsEdited&&n.jsx("span",{className:"text-xs text-gray-500",children:"( chnh sa)"})]}),n.jsx("p",{className:"text-sm text-gray-500",children:q(e.CreatedAt)})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>p(!g),className:"p-1 rounded-full hover:bg-gray-100",children:n.jsx(wO,{className:"w-5 h-5 text-gray-500"})}),g&&n.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10",children:(()=>{const Fe=JSON.parse(localStorage.getItem("user")||"{}");return Fe.UserID===e.UserID||Fe.id===e.UserID?n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>{A(!0),p(!1)},className:"w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-gray-100 flex items-center",children:[n.jsx(q2,{className:"w-4 h-4 mr-2"}),"Chnh sa bi vit"]}),n.jsx("button",{onClick:()=>{i(e.PostID),p(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Xa bi vit"})]}):n.jsx("button",{onClick:()=>{Ce(!0),p(!1)},className:"w-full text-left px-4 py-2 text-sm text-yellow-600 hover:bg-gray-100",children:"Bo co bi vit"})})()})]})]}),n.jsx("div",{className:"px-4 pb-3",children:u?n.jsxs("div",{className:"mb-4",children:[n.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[150px]",value:P,onChange:Fe=>z(Fe.target.value),placeholder:"Vit ni dung bi vit..."}),ce.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Media hin ti"}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:ce.map(Fe=>n.jsxs("div",{className:"relative group",children:[Fe.MediaType==="image"?n.jsx("img",{src:Fe.MediaUrl.startsWith("http")?Fe.MediaUrl:`/uploads/${Fe.MediaUrl.replace(/^\/uploads\//,"").replace(/^uploads\//,"")}`,alt:"Media",className:"w-full h-24 object-cover rounded-lg border border-gray-200"}):n.jsx("div",{className:"w-full h-24 bg-gray-800 rounded-lg flex items-center justify-center",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),n.jsx("button",{type:"button",onClick:()=>Te(Fe.MediaID),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(pn,{className:"h-4 w-4"})})]},Fe.MediaID))})]}),X.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Media mi"}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:X.map((Fe,et)=>n.jsxs("div",{className:"relative group",children:[Fe.type.startsWith("image/")?n.jsx("img",{src:URL.createObjectURL(Fe),alt:"Preview",className:"w-full h-24 object-cover rounded-lg border border-gray-200"}):Fe.type.startsWith("video/")?n.jsx("div",{className:"w-full h-24 bg-gray-800 rounded-lg flex items-center justify-center",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}):n.jsx("div",{className:"w-full h-24 bg-gray-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsx("button",{type:"button",onClick:()=>Be(et),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(pn,{className:"h-4 w-4"})})]},et))})]}),n.jsxs("div",{className:"flex items-center mt-4",children:[n.jsxs("button",{type:"button",onClick:()=>{var Fe;return(Fe=De.current)==null?void 0:Fe.click()},className:"flex items-center text-blue-600 hover:text-blue-800 text-sm",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Thm nh/video"]}),n.jsx("input",{type:"file",ref:De,className:"hidden",accept:"image/*,video/*",multiple:!0,onChange:Pe})]}),n.jsxs("div",{className:"flex justify-end mt-4 space-x-2",children:[n.jsx("button",{onClick:$e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",disabled:G||_,children:"Hy"}),n.jsx("button",{onClick:We,className:"px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 flex items-center",disabled:G||_,children:G||_?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),_?"ang ti ln...":"ang lu..."]}):"Lu thay i"})]})]}):e.Content&&n.jsxs("div",{className:"prose max-w-none mb-4",children:[e.Content.trim().split(/\s+/).length>500&&!me&&!ie&&n.jsx("div",{className:"flex justify-end mb-3",children:n.jsxs("button",{onClick:Nt,title:"Tm tt bng AI Gemini",className:"flex items-center space-x-1 bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1.5 rounded-md hover:opacity-90 transition-opacity",children:[n.jsx(fu,{className:"w-4 h-4"}),n.jsx("span",{className:"text-xs font-medium",children:"AI Gemini"})]})}),ie&&n.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-purple-100",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("svg",{className:"animate-spin h-5 w-5 text-purple-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{className:"text-sm text-gray-700",children:"Gemini ang tm tt ni dung..."})]})}),me&&n.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-purple-100",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("div",{className:"flex items-center",children:n.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 font-medium flex items-center",children:[n.jsx(fu,{className:"w-5 h-5 mr-1.5 text-purple-500"}),"Tm tt bi Gemini AI"]})}),n.jsx("button",{onClick:()=>ae(null),className:"text-gray-400 hover:text-gray-600",title:"ng tm tt",children:n.jsx(pn,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-gray-700 text-sm",children:me}),!Z&&n.jsxs("button",{onClick:()=>Ae(!0),className:"mt-2 text-purple-600 hover:text-purple-800 text-xs flex items-center",children:["c bi vit y ",n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),n.jsx("div",{className:"prose prose-sm max-w-none overflow-x-auto",children:n.jsx(nc,{remarkPlugins:[Qd],components:Y4,children:e.Content.trim().split(/\s+/).length>200&&!Z||me&&!Z?e.Content.trim().split(/\s+/).slice(0,200).join(" ")+"...":e.Content})}),e.Content.trim().split(/\s+/).length>200&&n.jsxs("button",{onClick:()=>Ae(!Z),className:"text-blue-600 hover:text-blue-800 font-medium text-sm mt-2 flex items-center",children:[Z?"Thu gn":"Xem thm",!Z&&n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),Z&&n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]})]})}),!u&&e.media&&e.media.length>0&&n.jsx("div",{className:`${e.media.length===1?"":"grid grid-cols-2 gap-1"} mb-2`,children:e.media.map((Fe,et)=>{let Et="";try{Fe.MediaUrl?Fe.MediaUrl.startsWith("http")?Et=Fe.MediaUrl:Et=`/uploads/${Fe.MediaUrl.replace(/^\/uploads\//,"").replace(/^uploads\//,"")}`:(console.error("MediaUrl is missing for media:",Fe),Et="/placeholder-image.svg")}catch(Qt){console.error("Error processing media URL:",Qt),Et="/placeholder-image.svg"}return n.jsx("div",{className:`overflow-hidden ${e.media.length===1?"max-h-[500px]":"max-h-[300px]"} relative group cursor-pointer`,onClick:()=>ht(et),children:Fe.MediaType==="image"?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:Et,alt:`Hnh nh ${et+1}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:Qt=>{Qt.target.onerror=null,Qt.target.src="/placeholder-image.svg",Qt.target.classList.add("bg-gray-100")}}),n.jsx("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity",children:n.jsx("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(sw,{className:"h-4 w-4 text-white"})})})]}):n.jsxs(n.Fragment,{children:[n.jsx("video",{src:Et,className:"w-full h-full object-cover",onError:Qt=>{Qt.target.onerror=null,Qt.target.classList.add("hidden"),Qt.target.parentNode.innerHTML+='<div class="flex items-center justify-center h-full bg-gray-100 text-gray-500 text-sm">Khng th ti video</div>'}}),n.jsxs("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity flex items-center justify-center",children:[n.jsx("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(sw,{className:"h-4 w-4 text-white"})}),n.jsx("div",{className:"rounded-full bg-black bg-opacity-50 p-3 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"})})})]})]})},et)})}),n.jsx(vde,{isOpen:fe,media:e.media||[],currentIndex:we,onClose:()=>pe(!1),onNext:ft,onPrev:xe}),(e.LikesCount>0||e.CommentsCount>0)&&n.jsxs("div",{className:"px-4 py-2 flex justify-between text-sm text-gray-500 border-t border-gray-100",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center",children:n.jsx(Z0,{className:"w-3 h-3 text-white"})}),n.jsx("span",{children:e.LikesCount})]}),e.CommentsCount>0&&n.jsxs("button",{className:"hover:underline",children:[e.CommentsCount," bnh lun"]})]}),n.jsxs("div",{className:"px-4 py-2 flex items-center justify-between border-t border-gray-100",children:[n.jsxs("button",{onClick:He,className:`flex items-center justify-center space-x-2 p-2 rounded-lg hover:bg-gray-100 flex-1 ${f?"text-blue-500":"text-gray-500"}`,children:[f?n.jsx(Z0,{className:"w-5 h-5"}):n.jsx(aw,{className:"w-5 h-5"}),n.jsx("span",{className:"text-sm font-medium",children:"Thch"})]}),n.jsxs("button",{onClick:$,className:`flex items-center justify-center space-x-2 p-2 rounded-lg hover:bg-gray-100 flex-1 ${j?"text-blue-500":"text-gray-500"}`,children:[j?n.jsx(LQ,{className:"w-5 h-5"}):n.jsx(T6,{className:"w-5 h-5"}),n.jsx("span",{className:"text-sm font-medium",children:"Bnh lun"})]}),n.jsxs("button",{onClick:()=>{console.log("Share button clicked for post:",e.PostID),s?s(e.PostID):console.error("onShare function is not provided")},className:"flex items-center justify-center space-x-2 p-2 rounded-lg hover:bg-gray-100 text-gray-500 flex-1",children:[n.jsx(O6,{className:"w-5 h-5"}),n.jsx("span",{className:"text-sm font-medium",children:"Chia s"})]}),n.jsx("button",{onClick:Le,className:`flex items-center justify-center p-2 rounded-lg hover:bg-gray-100 ${b?"text-blue-500":"text-gray-500"}`,title:b?"B lu bi vit":"Lu bi vit",children:b?n.jsx(dw,{className:"w-5 h-5"}):n.jsx(Hm,{className:"w-5 h-5"})})]}),j&&n.jsxs("div",{className:"border-t border-gray-100 px-4 py-3",children:[n.jsxs("form",{onSubmit:ee,className:"flex items-center space-x-2 mb-4",children:[n.jsx(fn,{src:(()=>{const Fe=JSON.parse(localStorage.getItem("user")||"{}");return Fe.ProfileImage||Fe.profileImage||Fe.avatar||Fe.avatarUrl})(),name:(()=>{const Fe=JSON.parse(localStorage.getItem("user")||"{}");return Fe.FullName||Fe.fullName||Fe.username||"User"})(),alt:"Your profile",size:"small"}),n.jsxs("div",{className:"flex-1 relative",children:[n.jsx("input",{type:"text",className:"w-full py-2 px-3 border border-gray-300 rounded-full bg-gray-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Vit bnh lun...",value:B,onChange:Fe=>R(Fe.target.value),disabled:D}),n.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-blue-500 disabled:text-gray-400",disabled:D||!B.trim(),children:D?n.jsx("div",{className:"w-6 h-6 border-2 border-t-blue-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"}):n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]}),F?n.jsx("div",{className:"flex justify-center py-4",children:n.jsx("div",{className:"w-8 h-8 border-2 border-gray-200 border-t-blue-500 rounded-full animate-spin"})}):U?n.jsx("div",{className:"text-center py-4 text-red-500 text-sm",children:U}):S.length===0?n.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"Cha c bnh lun no. Hy l ngi u tin bnh lun!"}):n.jsx("div",{className:"space-y-4",children:S.map(Fe=>n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(fn,{src:Fe.UserImage||Fe.avatar||Fe.profileImage,name:Fe.FullName||Fe.fullName||Fe.username,alt:Fe.FullName||Fe.fullName||Fe.username,size:"small"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"bg-gray-100 rounded-lg px-3 py-2",children:[n.jsx("div",{className:"font-medium text-sm",children:Fe.FullName||Fe.fullName||Fe.username}),n.jsx("div",{className:"text-sm prose prose-sm max-w-none overflow-x-auto",children:n.jsx(nc,{remarkPlugins:[Qd],components:Y4,children:Fe.Content})})]}),n.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500 space-x-3",children:[n.jsx("span",{children:q(Fe.CreatedAt)}),n.jsxs("button",{className:`font-medium ${Fe.IsLiked?"text-blue-500":""}`,onClick:()=>ve(Fe.CommentID),children:["Thch (",Fe.LikesCount,")"]}),Fe.UserID===JSON.parse(localStorage.getItem("user")||"{}").UserID&&n.jsx("button",{className:"font-medium text-red-500",onClick:()=>Se(Fe.CommentID),children:"Xa"})]})]})]},Fe.CommentID))})]}),Ue&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[n.jsx("h3",{className:"text-lg font-medium mb-4",children:"Bo co bi vit"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Loi bo co"}),n.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:at,onChange:Fe=>qe(Fe.target.value),children:[n.jsx("option",{value:"CONTENT",children:"Ni dung khng ph hp"}),n.jsx("option",{value:"HARASSMENT",children:"Quy ri"}),n.jsx("option",{value:"VIOLENCE",children:"Bo lc"}),n.jsx("option",{value:"SPAM",children:"Spam"}),n.jsx("option",{value:"OTHER",children:"Khc"})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Chi tit bo co"}),n.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-32",value:rt,onChange:Fe=>st(Fe.target.value),placeholder:"Vui lng m t chi tit ni dung vi phm..."})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{onClick:()=>Ce(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",disabled:St,children:"Hy"}),n.jsx("button",{onClick:Xe,className:"px-4 py-2 text-white bg-yellow-600 rounded-lg hover:bg-yellow-700 flex items-center",disabled:!rt.trim()||St,children:St?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang gi..."]}):"Gi bo co"})]})]})})]})};var yL={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var o="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(o=i(o,s(l)))}return o}function s(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var l in o)t.call(o,l)&&o[l]&&(a=i(a,l));return a}function i(o,a){return a?o?o+" "+a:o+a:o}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(yL);var jde=yL.exports;const bL=xp(jde);var v2={exports:{}},w2={exports:{}},lp=1e3,cp=lp*60,up=cp*60,dp=up*24,Cde=dp*365.25,Nde=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return Bde(e);if(r==="number"&&isNaN(e)===!1)return t.long?Sde(e):kde(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Bde(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),s=(t[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return r*Cde;case"days":case"day":case"d":return r*dp;case"hours":case"hour":case"hrs":case"hr":case"h":return r*up;case"minutes":case"minute":case"mins":case"min":case"m":return r*cp;case"seconds":case"second":case"secs":case"sec":case"s":return r*lp;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function kde(e){return e>=dp?Math.round(e/dp)+"d":e>=up?Math.round(e/up)+"h":e>=cp?Math.round(e/cp)+"m":e>=lp?Math.round(e/lp)+"s":e+"ms"}function Sde(e){return n0(e,dp,"day")||n0(e,up,"hour")||n0(e,cp,"minute")||n0(e,lp,"second")||e+" ms"}function n0(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}(function(e,t){t=e.exports=i.debug=i.default=i,t.coerce=c,t.disable=a,t.enable=o,t.enabled=l,t.humanize=Nde,t.names=[],t.skips=[],t.formatters={};var r;function s(d){var u=0,A;for(A in d)u=(u<<5)-u+d.charCodeAt(A),u|=0;return t.colors[Math.abs(u)%t.colors.length]}function i(d){function u(){if(u.enabled){var A=u,f=+new Date,h=f-(r||f);A.diff=h,A.prev=r,A.curr=f,r=f;for(var g=new Array(arguments.length),p=0;p<g.length;p++)g[p]=arguments[p];g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var b=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(j,w){if(j==="%%")return j;b++;var S=t.formatters[w];if(typeof S=="function"){var I=g[b];j=S.call(A,I),g.splice(b,1),b--}return j}),t.formatArgs.call(A,g);var x=u.log||t.log||console.log.bind(console);x.apply(A,g)}}return u.namespace=d,u.enabled=t.enabled(d),u.useColors=t.useColors(),u.color=s(d),typeof t.init=="function"&&t.init(u),u}function o(d){t.save(d),t.names=[],t.skips=[];for(var u=(typeof d=="string"?d:"").split(/[\s,]+/),A=u.length,f=0;f<A;f++)u[f]&&(d=u[f].replace(/\*/g,".*?"),d[0]==="-"?t.skips.push(new RegExp("^"+d.substr(1)+"$")):t.names.push(new RegExp("^"+d+"$")))}function a(){t.enable("")}function l(d){var u,A;for(u=0,A=t.skips.length;u<A;u++)if(t.skips[u].test(d))return!1;for(u=0,A=t.names.length;u<A;u++)if(t.names[u].test(d))return!0;return!1}function c(d){return d instanceof Error?d.stack||d.message:d}})(w2,w2.exports);var Ede=w2.exports;(function(e,t){var r={};t=e.exports=Ede,t.log=o,t.formatArgs=i,t.save=a,t.load=l,t.useColors=s,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:c(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function s(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(d){try{return JSON.stringify(d)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function i(d){var u=this.useColors;if(d[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+d[0]+(u?"%c ":" ")+"+"+t.humanize(this.diff),!!u){var A="color: "+this.color;d.splice(1,0,A,"color: inherit");var f=0,h=0;d[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(f++,g==="%c"&&(h=f))}),d.splice(h,0,A)}}function o(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(d){try{d==null?t.storage.removeItem("debug"):t.storage.debug=d}catch{}}function l(){var d;try{d=t.storage.debug}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=r.DEBUG),d}t.enable(l());function c(){try{return window.localStorage}catch{}}})(v2,v2.exports);var Ide=v2.exports,eS=Ide("jsonp"),Tde=Pde,Fde=0;function Lde(){}function Pde(e,t,r){typeof t=="function"&&(r=t,t={}),t||(t={});var s=t.prefix||"__jp",i=t.name||s+Fde++,o=t.param||"callback",a=t.timeout!=null?t.timeout:6e4,l=encodeURIComponent,c=document.getElementsByTagName("script")[0]||document.head,d,u;a&&(u=setTimeout(function(){A(),r&&r(new Error("Timeout"))},a));function A(){d.parentNode&&d.parentNode.removeChild(d),window[i]=Lde,u&&clearTimeout(u)}function f(){window[i]&&A()}return window[i]=function(h){eS("jsonp got",h),A(),r&&r(null,h)},e+=(~e.indexOf("?")?"&":"?")+o+"="+l(i),e=e.replace("?&","?"),eS('jsonp req "%s"',e),d=document.createElement("script"),d.src=e,c.parentNode.insertBefore(d,c),f}const lA=xp(Tde);var Ude=Object.defineProperty,Rde=Object.defineProperties,Mde=Object.getOwnPropertyDescriptors,Sx=Object.getOwnPropertySymbols,vL=Object.prototype.hasOwnProperty,wL=Object.prototype.propertyIsEnumerable,tS=(e,t,r)=>t in e?Ude(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Co=(e,t)=>{for(var r in t||(t={}))vL.call(t,r)&&tS(e,r,t[r]);if(Sx)for(var r of Sx(t))wL.call(t,r)&&tS(e,r,t[r]);return e},s1=(e,t)=>Rde(e,Mde(t)),i1=(e,t)=>{var r={};for(var s in e)vL.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&Sx)for(var s of Sx(e))t.indexOf(s)<0&&wL.call(e,s)&&(r[s]=e[s]);return r};function o1(e){return r=>{var s=r,{bgStyle:i={},borderRadius:o=0,iconFillColor:a="white",round:l=!1,size:c=64}=s,d=i1(s,["bgStyle","borderRadius","iconFillColor","round","size"]);return n.jsxs("svg",s1(Co({viewBox:"0 0 64 64",width:c,height:c},d),{children:[l?n.jsx("circle",{cx:"32",cy:"32",r:"32",fill:e.color,style:i}):n.jsx("rect",{width:"64",height:"64",rx:o,ry:o,fill:e.color,style:i}),n.jsx("path",{d:e.path,fill:a})]}))}}class Dde extends Error{constructor(t){super(t),this.name="AssertionError"}}function Rn(e,t){if(!e)throw new Dde(t)}function wn(e){const t=Object.entries(e).filter(([,r])=>r!=null).map(([r,s])=>`${encodeURIComponent(r)}=${encodeURIComponent(String(s))}`);return t.length>0?`?${t.join("&")}`:""}const Ode=e=>!!e&&(typeof e=="object"||typeof e=="function")&&"then"in e&&typeof e.then=="function",Qde=(e,t)=>({left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-e/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-t/2}),_de=(e,t)=>({top:(window.screen.height-t)/2,left:(window.screen.width-e)/2});function Hde(e,t,r){var s=t,{height:i,width:o}=s,a=i1(s,["height","width"]);const l=Co({height:i,width:o,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},a),c=window.open(e,"",Object.keys(l).map(d=>`${d}=${l[d]}`).join(", "));if(r){const d=window.setInterval(()=>{try{(c===null||c.closed)&&(window.clearInterval(d),r(c))}catch(u){console.error(u)}},1e3)}return c}function $de(e){var t=e,{beforeOnClick:r,children:s,className:i,disabled:o,disabledStyle:a={opacity:.6},forwardedRef:l,htmlTitle:c,networkLink:d,networkName:u,onClick:A,onShareWindowClose:f,openShareDialogOnClick:h=!0,opts:g,resetButtonStyle:p=!0,style:b,title:x,url:j,windowHeight:w=400,windowPosition:S="windowCenter",windowWidth:I=550}=t,F=i1(t,["beforeOnClick","children","className","disabled","disabledStyle","forwardedRef","htmlTitle","networkLink","networkName","onClick","onShareWindowClose","openShareDialogOnClick","opts","resetButtonStyle","style","title","url","windowHeight","windowPosition","windowWidth"]);const T=async B=>{const R=d(j,g);if(!o){if(B.preventDefault(),r){const D=r();Ode(D)&&await D}if(h){const D=Co({height:w,width:I},S==="windowCenter"?Qde(I,w):_de(I,w));Hde(R,D,f)}A&&A(B,R)}},U=bL("react-share__ShareButton",{"react-share__ShareButton--disabled":!!o,disabled:!!o},i),K=Co(Co(p?{backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer"}:{},b),o&&a);return n.jsx("button",s1(Co({},F),{className:U,onClick:T,ref:l,style:K,title:c,children:s}))}function Vn(e,t,r,s){const i=(o,a)=>{const l=r(o),c=Co({},o);return Object.keys(l).forEach(u=>{delete c[u]}),n.jsx($de,s1(Co(Co({},s),c),{forwardedRef:a,networkName:e,networkLink:t,opts:l}))};return i.displayName=`ShareButton-${e}`,m.forwardRef(i)}function Vde(e,{title:t,separator:r}){return Rn(e,"bluesky.url"),"https://bsky.app/intent/compose"+wn({text:t?t+r+e:e})}Vn("bluesky",Vde,e=>({title:e.title,separator:e.separator||" "}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function Kde(e,{subject:t,body:r,separator:s}){return"mailto:"+wn({subject:t,body:r?r+s+e:e})}Vn("email",Kde,e=>({subject:e.subject,body:e.body,separator:e.separator||" "}),{openShareDialogOnClick:!1,onClick:(e,t)=>{window.location.href=t}});const zde=o1({color:"#0965FE",path:"M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z"});function Wde(e,{appId:t,redirectUri:r,to:s}){return"https://www.facebook.com/dialog/send"+wn({link:e,redirect_uri:r||e,app_id:t,to:s})}Vn("facebookmessenger",Wde,e=>({appId:e.appId,redirectUri:e.redirectUri,to:e.to}),{windowWidth:1e3,windowHeight:820});function Gde(e,{hashtag:t}){return Rn(e,"facebook.url"),"https://www.facebook.com/sharer/sharer.php"+wn({u:e,hashtag:t})}const qde=Vn("facebook",Gde,e=>({hashtag:e.hashtag}),{windowWidth:550,windowHeight:400});function Xde(){const e=m.useRef(!1);return m.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),m.useCallback(()=>e.current,[])}function Jde(e){var t=e,{children:r=f=>f,className:s,getCount:i,url:o}=t,a=i1(t,["children","className","getCount","url"]);const l=Xde(),[c,d]=m.useState(void 0),[u,A]=m.useState(!1);return m.useEffect(()=>{A(!0),i(o,f=>{l()&&(d(f),A(!1))})},[o]),n.jsx("span",s1(Co({className:bL("react-share__ShareCount",s)},a),{children:!u&&c!==void 0&&r(c)}))}function cA(e){const t=r=>n.jsx(Jde,Co({getCount:e},r));return t.displayName=`ShareCount(${e.name})`,t}function Yde(e,t){const r=`https://graph.facebook.com/?id=${e}&fields=og_object{engagement}`;lA(r,(s,i)=>{t(!s&&i&&i.og_object&&i.og_object.engagement?i.og_object.engagement.count:void 0)})}cA(Yde);function Zde(e,{title:t}){return Rn(e,"hatena.url"),`http://b.hatena.ne.jp/add?mode=confirm&url=${e}&title=${t}`}Vn("hatena",Zde,e=>({title:e.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function eAe(e,t){lA("https://bookmark.hatenaapis.com/count/entry"+wn({url:e}),(s,i)=>{t(i??void 0)})}cA(eAe);function tAe(e,{title:t,description:r}){return Rn(e,"instapaper.url"),"http://www.instapaper.com/hello2"+wn({url:e,title:t,description:r})}Vn("instapaper",tAe,e=>({title:e.title,description:e.description}),{windowWidth:500,windowHeight:500,windowPosition:"windowCenter"});function rAe(e,{title:t}){return Rn(e,"line.url"),"https://social-plugins.line.me/lineit/share"+wn({url:e,text:t})}Vn("line",rAe,e=>({title:e.title}),{windowWidth:500,windowHeight:500});const nAe=o1({color:"#0077B5",path:"M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z"});function sAe(e,{title:t,summary:r,source:s}){return Rn(e,"linkedin.url"),"https://linkedin.com/shareArticle"+wn({url:e,mini:"true",title:t,summary:r,source:s})}const iAe=Vn("linkedin",sAe,({title:e,summary:t,source:r})=>({title:e,summary:t,source:r}),{windowWidth:750,windowHeight:600});function oAe(e,{title:t,description:r}){return Rn(e,"livejournal.url"),"https://www.livejournal.com/update.bml"+wn({subject:t,event:r})}Vn("livejournal",oAe,e=>({title:e.title,description:e.description}),{windowWidth:660,windowHeight:460});function aAe(e,{title:t,description:r,imageUrl:s}){return Rn(e,"mailru.url"),"https://connect.mail.ru/share"+wn({url:e,title:t,description:r,image_url:s})}Vn("mailru",aAe,e=>({title:e.title,description:e.description,imageUrl:e.imageUrl}),{windowWidth:660,windowHeight:460});function lAe(e,{title:t,description:r,image:s}){return Rn(e,"ok.url"),"https://connect.ok.ru/offer"+wn({url:e,title:t,description:r,imageUrl:s})}Vn("ok",lAe,e=>({title:e.title,description:e.description,image:e.image}),{windowWidth:588,windowHeight:480,windowPosition:"screenCenter"});function cAe(e,t){window.OK||(window.OK={Share:{count:function(o,a){var l,c;(c=(l=window.OK.callbacks)[o])==null||c.call(l,a)}},callbacks:[]});const r="https://connect.ok.ru/dk",s=window.OK.callbacks.length;return window.ODKL={updateCount(i,o){var a,l;const c=i===""?0:parseInt(i.replace("react-share-",""),10);(l=(a=window.OK.callbacks)[c])==null||l.call(a,o===""?void 0:parseInt(o,10))}},window.OK.callbacks.push(t),lA(r+wn({"st.cmd":"extLike",uid:`react-share-${s}`,ref:e}))}cA(cAe);function uAe(e,{media:t,description:r,pinId:s}){return s?`https://pinterest.com/pin/${s}/repin/x/`:(Rn(e,"pinterest.url"),Rn(t,"pinterest.media"),"https://pinterest.com/pin/create/button/"+wn({url:e,media:t,description:r}))}Vn("pinterest",uAe,e=>({media:e.media,description:e.description,pinId:e.pinId}),{windowWidth:1e3,windowHeight:730});function dAe(e,t){lA("https://api.pinterest.com/v1/urls/count.json"+wn({url:e}),(s,i)=>{t(i?i.count:void 0)})}cA(dAe);function AAe(e,{title:t}){return Rn(e,"pocket.url"),"https://getpocket.com/save"+wn({url:e,title:t})}Vn("pocket",AAe,e=>({title:e.title}),{windowWidth:500,windowHeight:500});function hAe(e,{title:t}){return Rn(e,"reddit.url"),"https://www.reddit.com/web/submit"+wn({url:e,title:t})}Vn("reddit",hAe,e=>({title:e.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function fAe(e,{title:t}){return Rn(e,"gab.url"),"https://gab.com/compose"+wn({url:e,text:t})}Vn("gab",fAe,e=>({title:e.title}),{windowWidth:660,windowHeight:640,windowPosition:"windowCenter"});function mAe(e,t){const r=`https://www.reddit.com/api/info.json?limit=1&url=${e}`;lA(r,{param:"jsonp"},(s,i)=>{t(!s&&i&&i.data&&i.data.children.length>0&&i.data.children[0].data.score?i.data.children[0].data.score:void 0)})}cA(mAe);function pAe(e,{title:t}){return Rn(e,"telegram.url"),"https://telegram.me/share/url"+wn({url:e,text:t})}Vn("telegram",pAe,e=>({title:e.title}),{windowWidth:550,windowHeight:400});function gAe(e,{title:t}){return Rn(e,"threads.url"),"https://threads.net/intent/post"+wn({url:e,text:t})}Vn("threads",gAe,e=>({title:e.title}),{windowWidth:550,windowHeight:600});function xAe(e,{title:t,caption:r,tags:s,posttype:i}){return Rn(e,"tumblr.url"),"https://www.tumblr.com/widgets/share/tool"+wn({canonicalUrl:e,title:t,caption:r,tags:s,posttype:i})}Vn("tumblr",xAe,e=>({title:e.title,tags:(e.tags||[]).join(","),caption:e.caption,posttype:e.posttype||"link"}),{windowWidth:660,windowHeight:460});function yAe(e,t){return lA("https://api.tumblr.com/v2/share/stats"+wn({url:e}),(s,i)=>{t(!s&&i&&i.response?i.response.note_count:void 0)})}cA(yAe);const bAe=o1({color:"#00aced",path:"M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z"});function vAe(e,{title:t,via:r,hashtags:s=[],related:i=[]}){return Rn(e,"twitter.url"),Rn(Array.isArray(s),"twitter.hashtags is not an array"),Rn(Array.isArray(i),"twitter.related is not an array"),"https://twitter.com/intent/tweet"+wn({url:e,text:t,via:r,hashtags:s.length>0?s.join(","):void 0,related:i.length>0?i.join(","):void 0})}const wAe=Vn("twitter",vAe,e=>({hashtags:e.hashtags,title:e.title,via:e.via,related:e.related}),{windowWidth:550,windowHeight:400});function jAe(e,{title:t,separator:r}){return Rn(e,"viber.url"),"viber://forward"+wn({text:t?t+r+e:e})}Vn("viber",jAe,e=>({title:e.title,separator:e.separator||" "}),{windowWidth:660,windowHeight:460});function CAe(e,{title:t,image:r,noParse:s,noVkLinks:i}){return Rn(e,"vk.url"),"https://vk.com/share.php"+wn({url:e,title:t,image:r,noparse:s?1:0,no_vk_links:i?1:0})}Vn("vk",CAe,e=>({title:e.title,image:e.image,noParse:e.noParse,noVkLinks:e.noVkLinks}),{windowWidth:660,windowHeight:460});function NAe(e,t){window.VK||(window.VK={}),window.VK.Share={count:(i,o)=>{var a,l;return(l=(a=window.VK.callbacks)==null?void 0:a[i])==null?void 0:l.call(a,o)}},window.VK.callbacks=[];const r="https://vk.com/share.php",s=window.VK.callbacks.length;return window.VK.callbacks.push(t),lA(r+wn({act:"count",index:s,url:e}))}cA(NAe);function BAe(e,{title:t,image:r}){return Rn(e,"weibo.url"),"http://service.weibo.com/share/share.php"+wn({url:e,title:t,pic:r})}Vn("weibo",BAe,e=>({title:e.title,image:e.image}),{windowWidth:660,windowHeight:550,windowPosition:"screenCenter"});const kAe=o1({color:"#25D366",path:"m42.32286,33.93287c-0.5178,-0.2589 -3.04726,-1.49644 -3.52105,-1.66732c-0.4712,-0.17346 -0.81554,-0.2589 -1.15987,0.2589c-0.34175,0.51004 -1.33075,1.66474 -1.63108,2.00648c-0.30032,0.33658 -0.60064,0.36247 -1.11327,0.12945c-0.5178,-0.2589 -2.17994,-0.80259 -4.14759,-2.56312c-1.53269,-1.37217 -2.56312,-3.05503 -2.86603,-3.57283c-0.30033,-0.5178 -0.03366,-0.80259 0.22524,-1.06149c0.23301,-0.23301 0.5178,-0.59547 0.7767,-0.90616c0.25372,-0.31068 0.33657,-0.5178 0.51262,-0.85437c0.17088,-0.36246 0.08544,-0.64725 -0.04402,-0.90615c-0.12945,-0.2589 -1.15987,-2.79613 -1.58964,-3.80584c-0.41424,-1.00971 -0.84142,-0.88027 -1.15987,-0.88027c-0.29773,-0.02588 -0.64208,-0.02588 -0.98382,-0.02588c-0.34693,0 -0.90616,0.12945 -1.37736,0.62136c-0.4712,0.5178 -1.80194,1.76053 -1.80194,4.27186c0,2.51134 1.84596,4.945 2.10227,5.30747c0.2589,0.33657 3.63497,5.51458 8.80262,7.74113c1.23237,0.5178 2.1903,0.82848 2.94111,1.08738c1.23237,0.38836 2.35599,0.33657 3.24402,0.20712c0.99159,-0.15534 3.04985,-1.24272 3.47963,-2.45956c0.44013,-1.21683 0.44013,-2.22654 0.31068,-2.45955c-0.12945,-0.23301 -0.46601,-0.36247 -0.98382,-0.59548m-9.40068,12.84407l-0.02589,0c-3.05503,0 -6.08417,-0.82849 -8.72495,-2.38189l-0.62136,-0.37023l-6.47252,1.68286l1.73463,-6.29129l-0.41424,-0.64725c-1.70875,-2.71846 -2.6149,-5.85116 -2.6149,-9.07706c0,-9.39809 7.68934,-17.06155 17.15993,-17.06155c4.58253,0 8.88029,1.78642 12.11655,5.02268c3.23625,3.21036 5.02267,7.50812 5.02267,12.06476c-0.0078,9.3981 -7.69712,17.06155 -17.14699,17.06155m14.58906,-31.58846c-3.93529,-3.80584 -9.1133,-5.95471 -14.62789,-5.95471c-11.36055,0 -20.60848,9.2065 -20.61625,20.52564c0,3.61684 0.94757,7.14565 2.75211,10.26282l-2.92557,10.63564l10.93337,-2.85309c3.0136,1.63108 6.4052,2.4958 9.85634,2.49839l0.01037,0c11.36574,0 20.61884,-9.2091 20.62403,-20.53082c0,-5.48093 -2.14111,-10.64081 -6.03239,-14.51915"});function SAe(){return/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)}function EAe(e,{title:t,separator:r}){return Rn(e,"whatsapp.url"),"https://"+(SAe()?"api":"web")+".whatsapp.com/send"+wn({text:t?t+r+e:e})}const IAe=Vn("whatsapp",EAe,e=>({title:e.title,separator:e.separator||" "}),{windowWidth:550,windowHeight:400});function TAe(e,{quote:t,hashtag:r}){return Rn(e,"workplace.url"),"https://work.facebook.com/sharer.php"+wn({u:e,quote:t,hashtag:r})}Vn("workplace",TAe,e=>({quote:e.quote,hashtag:e.hashtag}),{windowWidth:550,windowHeight:400});const FAe=({post:e,onClose:t,onShare:r})=>{const[s,i]=m.useState(!1),o=`${window.location.origin}/posts/${e.PostID}`,a=e.Title||"Chia s bi vit",l=async()=>{try{await navigator.clipboard.writeText(o),i(!0),setTimeout(()=>i(!1),2e3)}catch(c){console.error("Failed to copy:",c)}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Chia s bi vit"}),n.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:n.jsx(pn,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[n.jsx("h3",{className:"font-medium mb-2",children:e.Title}),n.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:e.Content})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[n.jsx(qde,{url:o,quote:a,children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(zde,{size:40,round:!0}),n.jsx("span",{className:"text-xs mt-1",children:"Facebook"})]})}),n.jsx(wAe,{url:o,title:a,children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(bAe,{size:40,round:!0}),n.jsx("span",{className:"text-xs mt-1",children:"Twitter"})]})}),n.jsx(iAe,{url:o,title:a,children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(nAe,{size:40,round:!0}),n.jsx("span",{className:"text-xs mt-1",children:"LinkedIn"})]})}),n.jsx(IAe,{url:o,title:a,children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(kAe,{size:40,round:!0}),n.jsx("span",{className:"text-xs mt-1",children:"WhatsApp"})]})})]}),n.jsxs("div",{className:"flex items-center justify-between border rounded-lg p-3",children:[n.jsx("span",{className:"text-sm text-gray-600 truncate flex-1 mr-2",children:o}),n.jsxs("button",{onClick:l,className:"flex items-center text-blue-600 hover:text-blue-700",children:[n.jsx(rO,{className:"h-5 w-5 mr-1"}),n.jsx("span",{className:"text-sm",children:s?" sao chp":"Sao chp"})]})]})]})})},dd={table:"min-w-full border border-gray-300 border-collapse my-4",thead:"bg-gray-50",th:"border border-gray-300 px-4 py-2 font-semibold text-left",td:"border border-gray-300 px-4 py-2",ul:"list-disc pl-6 space-y-1 my-4",ol:"list-decimal pl-6 space-y-1 my-4",li:"pl-1"},rS={table:({node:e,...t})=>n.jsx("table",{className:dd.table,...t}),thead:({node:e,...t})=>n.jsx("thead",{className:dd.thead,...t}),th:({node:e,...t})=>n.jsx("th",{className:dd.th,...t}),td:({node:e,...t})=>n.jsx("td",{className:dd.td,...t}),ul:({node:e,...t})=>n.jsx("ul",{className:dd.ul,...t}),ol:({node:e,...t})=>n.jsx("ol",{className:dd.ol,...t}),li:({node:e,...t})=>n.jsx("li",{className:dd.li,...t})},LAe=()=>{var nt,Nt,ht,ft;const[e,t]=m.useState([]),[r,s]=m.useState(!0),[i,o]=m.useState("latest"),[a,l]=m.useState(!1),[c,d]=m.useState(null),[u,A]=m.useState(null),[f,h]=m.useState(""),[g,p]=m.useState([]),[b,x]=m.useState(!1),[j,w]=m.useState(0),[S,I]=m.useState([]),[F,T]=m.useState(!0),[U,K]=m.useState(null),[B,R]=m.useState(null),[D,H]=m.useState([]),[P,z]=m.useState(!1),[G,he]=m.useState(null),[ce,ye]=m.useState(""),[X,re]=m.useState(!1),[_,Q]=m.useState(!1),[Z,Ae]=m.useState(!1),[me,ae]=m.useState(!1),[ie,te]=m.useState(""),[fe,pe]=m.useState("CONTENT"),[we,je]=m.useState(null),[De,Ue]=m.useState(!1),[Ce,Ct]=m.useState({}),ct=rn(),rt=lo();m.useEffect(()=>{const xe=new URLSearchParams(rt.search),Xe=xe.get("postId"),Fe=xe.get("commentId");Xe&&(d(Xe),Fe&&A(Fe)),at()},[i,rt.search]),m.useEffect(()=>{if(f.trim()==="")p(e);else{const xe=f.toLowerCase(),Xe=e.filter(Fe=>{const et=(Fe==null?void 0:Fe.Content)||"",Et=(Fe==null?void 0:Fe.Title)||"",Qt=(Fe==null?void 0:Fe.AuthorName)||"";return et.toLowerCase().includes(xe)||Et.toLowerCase().includes(xe)||Qt.toLowerCase().includes(xe)});p(Xe)}},[f,e]);const st=xe=>{const Xe=new Date().getTime(),Fe=new Date(xe.CreatedAt).getTime(),et=(Xe-Fe)/(1e3*60*60*24),Et=1,Qt=1.5,Ft=2,Rr=1.2,vr=1/Math.log(et+2),Dn=(xe.LikesCount||0)*Et+(xe.CommentsCount||0)*Qt+(xe.BookmarksCount||0)*Ft+(xe.SharesCount||0)*Rr,tr=.9+Math.random()*.2;return Dn*vr*tr},at=async()=>{try{console.log("Fetching posts from API server...");try{const Et=await fetch("http://localhost:5001/api/posts",{method:"HEAD",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("API server ping response:",Et.status)}catch(Et){console.warn("API server ping failed:",Et)}const xe=await fetch("http://localhost:5001/api/posts?limit=1000",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(console.log("API response status:",xe.status),!xe.ok)throw console.error("API Error:",xe.status,xe.statusText),new Error("Khng th ti bi vit");const Xe=await xe.json();console.log("Posts data received:",Xe);const Fe=Xe.posts||[];let et=[...Fe];i==="trending"?(et.forEach(Et=>Et._score=st(Et)),et.sort((Et,Qt)=>Qt._score-Et._score)):i==="latest"&&et.sort((Et,Qt)=>{const Ft=new Date(Et.CreatedAt).setHours(0,0,0,0),Rr=new Date(Qt.CreatedAt).setHours(0,0,0,0);return Ft===Rr?st(Qt)-st(Et):new Date(Qt.CreatedAt)-new Date(Et.CreatedAt)}),t(et),p(et),c&&(Fe.some(Qt=>Qt.PostID.toString()===c.toString())||qe(c)),!B&&et.length>0&&R(et[0])}catch(xe){console.error("Fetch posts error:",xe)}finally{s(!1)}},qe=async xe=>{try{const Xe=await fetch(`/api/posts/${xe}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!Xe.ok)throw new Error("Khng th ti bi vit");const Fe=await Xe.json();Fe.post&&t(et=>et.some(Et=>Et.PostID.toString()===xe.toString())?et:[Fe.post,...et])}catch(Xe){console.error("Fetch single post error:",Xe)}},St=()=>{at(),Q(!0),l(!1),setTimeout(()=>Q(!1),3e3)},kt=async xe=>{try{if(!(await fetch(`/api/posts/${xe}/like`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Khng th thch bi vit");at()}catch(Xe){console.error("Like post error:",Xe)}},He=async(xe,Xe=1)=>{try{t(e.map(Fe=>Fe.PostID===xe?{...Fe,CommentsCount:Math.max(0,Fe.CommentsCount+Xe)}:Fe))}catch(Fe){console.error("Comment update error:",Fe),at()}},Le=[{id:"latest",name:"Mi nht",icon:Ki},{id:"trending",name:"Xu hng",icon:IO}],q=()=>{const xe=j+1;xe<e.length?w(xe):x(!1)},M=()=>{const xe=j-1;xe>=0&&w(xe)};m.useEffect(()=>{(async()=>{try{T(!0);const Xe=await Er.getAllCourses();if(Xe.data&&Xe.data.success){const Fe=Xe.data.data||[];I(Fe.slice(0,3))}}catch(Xe){console.error("Error fetching featured courses:",Xe)}finally{T(!1)}})()},[]);const $=xe=>{const Xe=e.find(Fe=>Fe.PostID===xe);Xe?(console.log("Setting post for share:",Xe),K(Xe)):console.error("Post not found for sharing:",xe)},J=xe=>{t(e.map(Xe=>Xe.PostID===xe?{...Xe,SharesCount:(Xe.SharesCount||0)+1}:Xe))},ee=xe=>{R(xe),ct(`/posts?postId=${xe.PostID}`)},ve=async xe=>{try{const Xe=localStorage.getItem("token");if(!(await fetch(`/api/posts/${xe}/bookmark`,{method:"POST",headers:{Authorization:`Bearer ${Xe}`}})).ok)throw new Error("Failed to bookmark post");t(et=>et.map(Et=>Et.PostID===xe?{...Et,IsBookmarked:!Et.IsBookmarked}:Et))}catch(Xe){console.error("Error bookmarking post:",Xe)}},Se=async xe=>{if(xe){z(!0),he(null);try{const Xe=localStorage.getItem("token"),Fe=await fetch(`/api/posts/${xe}/comments`,{headers:{Authorization:`Bearer ${Xe}`}});if(!Fe.ok)throw new Error("Could not load comments");const et=await Fe.json();H(et.comments||[])}catch(Xe){console.error("Error fetching comments:",Xe),he("Failed to load comments")}finally{z(!1)}}};m.useEffect(()=>{B&&Se(B.PostID)},[B]);const We=async xe=>{if(xe.preventDefault(),!(!ce.trim()||!B)){re(!0);try{const Xe=localStorage.getItem("token"),Fe=await fetch(`/api/posts/${B.PostID}/comments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Xe}`},body:JSON.stringify({content:ce})});if(!Fe.ok)throw new Error("Failed to add comment");const et=await Fe.json();H([et.comment,...D]),ye(""),He(B.PostID)}catch(Xe){console.error("Error adding comment:",Xe),he("Failed to post your comment")}finally{re(!1)}}},$e=async xe=>{try{const Xe=localStorage.getItem("token");if(!(await fetch(`/api/posts/comments/${xe}/like`,{method:"POST",headers:{Authorization:`Bearer ${Xe}`}})).ok)throw new Error("Failed to like comment");H(D.map(et=>et.CommentID===xe?{...et,LikesCount:et.IsLiked?et.LikesCount-1:et.LikesCount+1,IsLiked:!et.IsLiked}:et))}catch(Xe){console.error("Error liking comment:",Xe)}},Pe=async xe=>{try{const Xe=localStorage.getItem("token");if(!(await fetch(`/api/posts/comments/${xe}`,{method:"DELETE",headers:{Authorization:`Bearer ${Xe}`}})).ok)throw new Error("Failed to delete comment");H(D.filter(et=>et.CommentID!==xe)),B&&He(B.PostID,-1)}catch(Xe){console.error("Error deleting comment:",Xe)}},Be=xe=>{const Xe=new Date(xe),et=Math.floor((new Date-Xe)/1e3);if(et<60)return"Va xong";const Et=Math.floor(et/60);if(Et<60)return`${Et} pht trc`;const Qt=Math.floor(Et/60);if(Qt<24)return`${Qt} gi trc`;const Ft=Math.floor(Qt/24);return Ft<7?`${Ft} ngy trc`:Xe.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})},Te=async(xe,Xe)=>{try{const Fe=localStorage.getItem("token");if(!(await fetch("/api/reports",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Fe}`},body:JSON.stringify({targetId:xe,...Xe})})).ok)throw new Error("Failed to report post");return Ae(!0),setTimeout(()=>Ae(!1),3e3),!0}catch(Fe){return console.error("Error reporting post:",Fe),!1}},pt=(xe,Xe)=>{const Fe=document.createElement("video");Fe.crossOrigin="anonymous";const et=xe.startsWith("http")?xe:`/uploads/${xe.replace(/^\/uploads\//,"").replace(/^uploads\//,"")}`;Fe.src=et,Fe.muted=!0,Fe.playsInline=!0,Fe.addEventListener("loadeddata",()=>{Fe.currentTime=Math.min(1,Fe.duration||1)}),Fe.addEventListener("seeked",()=>{const Et=document.createElement("canvas");Et.width=Fe.videoWidth,Et.height=Fe.videoHeight,Et.getContext("2d").drawImage(Fe,0,0,Et.width,Et.height);try{const Ft=Et.toDataURL("image/jpeg");Ct(Rr=>({...Rr,[Xe]:Ft}))}catch(Ft){console.error("Error generating thumbnail:",Ft)}Fe.remove()}),Fe.load()};return m.useEffect(()=>{e.length>0&&e.forEach(xe=>{xe.media&&xe.media.length>0&&xe.media[0].MediaType==="video"&&!Ce[xe.PostID]&&pt(xe.media[0].MediaUrl,xe.PostID)})},[e]),n.jsxs("div",{className:"w-full min-h-screen bg-gray-50",children:[_&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg z-50 flex items-center justify-between",children:[n.jsx("span",{children:"ng bi thnh cng!"}),n.jsx("button",{onClick:()=>Q(!1),className:"ml-4 text-green-700",children:""})]}),Z&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded shadow-lg z-50 flex items-center justify-between",children:[n.jsx("span",{children:"Bo co  c gi thnh cng!"}),n.jsx("button",{onClick:()=>Ae(!1),className:"ml-4 text-yellow-700",children:""})]}),n.jsx("button",{onClick:()=>l(!0),className:"fixed bottom-6 right-6 bg-blue-600 text-white rounded-full p-4 shadow-lg hover:bg-blue-700 transition-colors z-30",children:n.jsx(q2,{className:"h-6 w-6"})}),a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-40 p-4 md:p-0",children:n.jsx("div",{className:"w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>l(!1),className:"absolute -top-4 -right-4 bg-white rounded-full w-8 h-8 flex items-center justify-center shadow-md z-10",children:""}),n.jsx(bde,{onPostCreated:St})]})})}),b&&n.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center",onClick:xe=>{xe.target===xe.currentTarget&&x(!1)},children:[n.jsx("button",{className:"absolute top-4 right-4 text-white z-10",onClick:()=>x(!1),children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),n.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white z-10",onClick:M,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),n.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-white z-10",onClick:q,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),n.jsx("div",{className:"w-full h-full flex items-center justify-center",onClick:xe=>xe.stopPropagation(),children:n.jsxs("div",{className:"relative w-full max-w-2xl h-full",children:[n.jsx("div",{className:"absolute top-4 left-4 right-4 h-1 bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-white transition-all duration-300",style:{width:`${(j+1)*100/e.length}%`}})}),n.jsx("img",{src:(nt=e[j])==null?void 0:nt.media,alt:"Story",className:"w-full h-full object-contain"}),n.jsxs("div",{className:"absolute bottom-4 left-4 right-4 text-white",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:(Nt=e[j])==null?void 0:Nt.avatar,alt:"Avatar",className:"w-8 h-8 rounded-full"}),n.jsx("span",{className:"font-semibold",children:(ht=e[j])==null?void 0:ht.username})]}),n.jsx("p",{className:"mt-2",children:(ft=e[j])==null?void 0:ft.text})]})]})})]}),U&&n.jsx(FAe,{post:U,onClose:()=>{console.log("Closing share modal"),K(null)},onShare:J}),n.jsxs("div",{className:"w-full mx-auto py-6 px-4",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-2",children:Le.map(xe=>{const Xe=xe.icon;return n.jsxs("button",{onClick:()=>o(xe.id),className:`flex items-center space-x-1 px-4 py-2 rounded-lg ${i===xe.id?"bg-blue-100 text-blue-700 border border-blue-300":"text-gray-700 hover:bg-gray-100"}`,children:[n.jsx(Xe,{className:"w-4 h-4"}),n.jsx("span",{children:xe.name})]},xe.id)})}),n.jsxs("div",{className:"relative max-w-xs",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(ph,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Tm kim bi vit...",value:f,onChange:xe=>h(xe.target.value)})]})]})}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[n.jsx("div",{className:"lg:w-2/3",children:r?n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8 flex justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):B?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[B.media&&B.media.length>0&&n.jsx("div",{className:"w-full bg-black flex items-center justify-center",children:B.media[0].MediaType==="video"?n.jsx("video",{className:"w-full max-h-[500px] object-contain",src:B.media[0].MediaUrl.startsWith("http")?B.media[0].MediaUrl:`/uploads/${B.media[0].MediaUrl.replace(/^\/uploads\//,"").replace(/^uploads\//,"")}`,controls:!0,autoPlay:!0}):n.jsx("img",{className:"w-full max-h-[500px] object-contain",src:B.media[0].MediaUrl.startsWith("http")?B.media[0].MediaUrl:`/uploads/${B.media[0].MediaUrl.replace(/^\/uploads\//,"").replace(/^uploads\//,"")}`,alt:B.Title||"Post media"})}),n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"flex justify-between items-center mt-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(fn,{src:B.UserImage,name:B.FullName,alt:B.FullName||"User",size:"small"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:B.FullName||"Unknown User"}),n.jsx("p",{className:"text-sm text-gray-500",children:B.CreatedAt&&Be(B.CreatedAt)})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:()=>kt(B.PostID),className:`flex items-center space-x-1 px-3 py-1.5 rounded-full ${B.IsLiked?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:B.IsLiked?"B thch":"Thch",children:[B.IsLiked?n.jsx(Z0,{className:"h-5 w-5"}):n.jsx(aw,{className:"h-5 w-5"}),n.jsx("span",{children:B.LikesCount||0})]}),n.jsxs("button",{onClick:()=>$(B.PostID),className:"flex items-center space-x-1 px-3 py-1.5 rounded-full bg-gray-100 text-gray-700 hover:bg-gray-200",title:"Chia s",children:[n.jsx(O6,{className:"h-5 w-5"}),n.jsx("span",{children:"Chia s"})]}),n.jsx("button",{onClick:()=>ve(B.PostID),className:`flex items-center justify-center p-2 rounded-full ${B.IsBookmarked?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:B.IsBookmarked?"B lu bi vit":"Lu bi vit",children:B.IsBookmarked?n.jsx(dw,{className:"h-5 w-5"}):n.jsx(Hm,{className:"h-5 w-5"})}),(()=>{const xe=JSON.parse(localStorage.getItem("user")||"{}");return!(xe.UserID===B.UserID||xe.id===B.UserID)&&n.jsx("button",{onClick:()=>Te(B.PostID,{title:"Bo co bi vit vi phm",content:"Bi vit ny c ni dung vi phm tiu chun cng ng",category:"CONTENT",targetType:"POST"}),className:"flex items-center space-x-1 px-3 py-1.5 rounded-full bg-gray-100 text-yellow-600 hover:bg-gray-200",title:"Bo co bi vit",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})})()]})]})}),n.jsx("div",{className:"border-t border-gray-100 p-4",children:n.jsx("div",{className:"prose prose-sm max-w-none overflow-x-auto",children:n.jsx(nc,{remarkPlugins:[Qd],components:rS,children:B.Content||""})})}),n.jsxs("div",{className:"border-t border-gray-100 p-4",children:[n.jsxs("h3",{className:"font-medium mb-4",children:[B.CommentsCount||0," bnh lun"]}),n.jsxs("form",{onSubmit:We,className:"flex items-center space-x-2 mb-6",children:[n.jsx(fn,{src:JSON.parse(localStorage.getItem("user")||"{}").ProfileImage||JSON.parse(localStorage.getItem("user")||"{}").avatar,name:JSON.parse(localStorage.getItem("user")||"{}").FullName,alt:"Your profile",size:"small"}),n.jsxs("div",{className:"flex-1 relative",children:[n.jsx("input",{type:"text",className:"w-full py-2 px-3 border border-gray-300 rounded-full bg-gray-100 focus:bg-white focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Vit bnh lun...",value:ce,onChange:xe=>ye(xe.target.value),disabled:X}),n.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-blue-500 disabled:text-gray-400",disabled:X||!ce.trim(),children:X?n.jsx("div",{className:"w-6 h-6 border-2 border-t-blue-500 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"}):n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]}),P?n.jsx("div",{className:"flex justify-center py-4",children:n.jsx("div",{className:"w-8 h-8 border-2 border-gray-200 border-t-blue-500 rounded-full animate-spin"})}):G?n.jsx("div",{className:"text-center py-4 text-red-500 text-sm",children:G}):D.length===0?n.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"Cha c bnh lun no. Hy l ngi u tin bnh lun!"}):n.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2",children:D.map(xe=>n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(fn,{src:xe.UserImage,name:xe.FullName,alt:xe.FullName,size:"small"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"bg-gray-100 rounded-lg px-3 py-2",children:[n.jsx("div",{className:"font-medium text-sm",children:xe.FullName}),n.jsx("div",{className:"text-sm prose prose-sm max-w-none overflow-x-auto",children:n.jsx(nc,{remarkPlugins:[Qd],components:rS,children:xe.Content})})]}),n.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500 space-x-3",children:[n.jsx("span",{children:Be(xe.CreatedAt)}),n.jsxs("button",{className:`font-medium ${xe.IsLiked?"text-blue-500":""}`,onClick:()=>$e(xe.CommentID),children:["Thch (",xe.LikesCount||0,")"]}),xe.UserID===JSON.parse(localStorage.getItem("user")||"{}").UserID&&n.jsx("button",{className:"font-medium text-red-500",onClick:()=>Pe(xe.CommentID),children:"Xa"})]})]})]},xe.CommentID))})]})]}):n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:n.jsx("p",{className:"text-gray-500",children:"Khng c bi vit no c chn"})})}),n.jsx("div",{className:"lg:w-1/3",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-medium",children:"Bi vit gi "}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:`px-3 py-1 rounded ${i==="latest"?"bg-blue-100 text-blue-600":"text-gray-500 hover:bg-gray-100"}`,onClick:()=>o("latest"),children:"Mi nht"}),n.jsx("button",{className:`px-3 py-1 rounded ${i==="trending"?"bg-blue-100 text-blue-600":"text-gray-500 hover:bg-gray-100"}`,onClick:()=>o("trending"),children:"Ph bin"})]})]})}),n.jsx("div",{className:"overflow-y-auto max-h-[600px]",children:g.map(xe=>{var Xe;return n.jsxs("div",{className:`p-3 flex gap-3 cursor-pointer hover:bg-gray-50 ${(B==null?void 0:B.PostID)===xe.PostID?"bg-blue-50":""}`,onClick:()=>ee(xe),children:[n.jsx("div",{className:"w-1/3",children:xe.media&&xe.media.length>0?n.jsx("div",{className:"relative pb-[56.25%] h-0",children:xe.media[0].MediaType==="video"?n.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:[n.jsx("img",{src:Ce[xe.PostID]||xe.media[0].ThumbnailUrl||xe.media[0].MediaUrl.startsWith("http")?Ce[xe.PostID]||xe.media[0].ThumbnailUrl||xe.media[0].MediaUrl:`/uploads/${xe.media[0].MediaUrl.replace(/^\/uploads\//,"").replace(/^uploads\//,"")}`,alt:"Video thumbnail",className:"w-full h-full object-cover",onError:Fe=>{Fe.target.onerror=null,Fe.target.src="https://via.placeholder.com/100x100/eee/999?text=Video+Preview"}}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 bg-black bg-opacity-60 rounded-full flex items-center justify-center",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})})})]}):n.jsx("img",{src:xe.media[0].MediaUrl.startsWith("http")?xe.media[0].MediaUrl:`/uploads/${xe.media[0].MediaUrl.replace(/^\/uploads\//,"").replace(/^uploads\//,"")}`,alt:"Post media",className:"absolute inset-0 w-full h-full object-cover rounded-lg",onError:Fe=>{Fe.target.onerror=null,Fe.target.src="https://via.placeholder.com/100x100/eee/999?text=Image"}})}):n.jsx("div",{className:"bg-gray-200 rounded-lg w-full pb-[56.25%] relative",children:n.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})})}),n.jsxs("div",{className:"w-2/3",children:[n.jsx("p",{className:"text-xs text-gray-500",children:xe.FullName||"Unknown User"}),n.jsx("div",{className:"font-medium text-sm line-clamp-2 mb-1 prose prose-sm",children:n.jsx(nc,{remarkPlugins:[Qd],children:xe.Title||((Xe=xe.Content)==null?void 0:Xe.substring(0,60))||"Khng c tiu "})}),n.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[n.jsx("div",{className:"flex items-center mr-2",children:n.jsxs("button",{onClick:Fe=>{Fe.stopPropagation(),kt(xe.PostID)},className:`flex items-center focus:outline-none ${xe.IsLiked?"text-blue-600":"text-gray-500 hover:text-gray-700"}`,"aria-label":xe.IsLiked?"B thch":"Thch",children:[xe.IsLiked?n.jsx(Z0,{className:"h-4 w-4 mr-1 text-blue-600"}):n.jsx(aw,{className:"h-4 w-4 mr-1"}),n.jsx("span",{className:xe.IsLiked?"text-blue-600":"",children:xe.LikesCount||0})]})}),n.jsxs("div",{className:"flex items-center mx-2",children:[n.jsx(T6,{className:"h-4 w-4 mr-1 text-gray-500"}),n.jsx("span",{children:xe.CommentsCount||0})]}),n.jsx("div",{className:"flex items-center mx-2",children:n.jsxs("button",{onClick:Fe=>{Fe.stopPropagation(),ve(xe.PostID)},className:`flex items-center focus:outline-none ${xe.IsBookmarked?"text-blue-600":"text-gray-500 hover:text-gray-700"}`,"aria-label":xe.IsBookmarked?"B lu":"Lu bi vit",children:[xe.IsBookmarked?n.jsx(dw,{className:"h-4 w-4 mr-1 text-blue-600"}):n.jsx(Hm,{className:"h-4 w-4 mr-1"}),n.jsx("span",{className:xe.IsBookmarked?"text-blue-600":"",children:xe.BookmarksCount||0})]})}),n.jsx("span",{className:"mx-2 text-gray-400",children:""}),n.jsx("span",{children:new Date(xe.CreatedAt).toLocaleDateString()})]})]})]},xe.PostID)})})]})})]})]})]})},PAe=()=>{const e=Mn(),{notifications:t,loading:r}=Is(c=>c.notifications),[s,i]=m.useState(!1);m.useEffect(()=>{e(lm())},[e]);const o=c=>{switch(c){case"comment":return n.jsx($h,{className:"h-6 w-6"});case"reply":return n.jsx(nu,{className:"h-6 w-6"});case"reaction":return n.jsx(H6,{className:"h-6 w-6 text-red-500"});case"message":return n.jsx(nu,{className:"h-6 w-6"});default:return n.jsx(dm,{className:"h-6 w-6"})}},a=c=>{const d=new Date(c),A=Math.floor((new Date-d)/1e3);return A<60?"Va xong":A<3600?`${Math.floor(A/60)} pht trc`:A<86400?`${Math.floor(A/3600)} gi trc`:`${Math.floor(A/86400)} ngy trc`},l=async()=>{try{i(!0);const c="http://localhost:5001",d=localStorage.getItem("token");await fetch(`${c}/api/notifications/read-all`,{method:"PUT",headers:{Authorization:`Bearer ${d}`}}),e(lm())}catch(c){console.error("Li khi nh du  c tt c:",c)}finally{i(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Thng bo"}),t&&t.some(c=>!c.IsRead)&&n.jsx("button",{onClick:l,disabled:s,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm transition-colors disabled:opacity-50",children:s?"ang x l...":"nh du tt c  c"})]}),n.jsx("div",{className:"bg-white rounded-lg shadow",children:r?n.jsxs("div",{className:"text-center p-10",children:[n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-500",children:"ang ti thng bo..."})]}):t&&t.length>0?n.jsx("div",{className:"divide-y",children:t.map(c=>n.jsx("div",{className:`p-4 hover:bg-gray-50 ${c.IsRead?"":"bg-blue-50"}`,children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:`flex-shrink-0 h-10 w-10 rounded-full flex items-center justify-center ${c.IsRead?"bg-gray-100 text-gray-500":"bg-blue-100 text-blue-600"}`,children:o(c.Type)}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`font-medium ${c.IsRead?"text-gray-700":"text-gray-900"}`,children:c.Title}),n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:c.Content}),n.jsx("p",{className:"text-gray-400 text-xs mt-2",children:a(c.CreatedAt)})]}),!c.IsRead&&n.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"})]})},c.NotificationID))}):n.jsxs("div",{className:"text-center p-10",children:[n.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),n.jsx("p",{className:"text-gray-500",children:"Bn khng c thng bo no"})]})})]})},UAe=({tier:e})=>{const t={MASTER:"bg-purple-100 text-purple-800",DIAMOND:"bg-blue-100 text-blue-800",PLATINUM:"bg-gray-100 text-gray-800",GOLD:"bg-yellow-100 text-yellow-800",SILVER:"bg-gray-300 text-gray-800",BRONZE:"bg-amber-100 text-amber-800"}[e]||"bg-gray-100 text-gray-600";return n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${t}`,children:e})},RAe=()=>{const e=Mn(),{rankings:t,loading:r,timeRange:s,category:i}=Is(f=>f.ranking),{user:o}=Is(f=>f.auth),[a,l]=m.useState(s),[c,d]=m.useState(i);m.useEffect(()=>{e(x0({timeRange:s,category:i})),o!=null&&o.id&&e(y0(o.id))},[e,s,i,o==null?void 0:o.id]);const u=f=>{const h=f.target.value;l(h),e(A9(h))},A=f=>{const h=f.target.value;d(h),e(h9(h))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-8 text-white",children:[n.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Bng Xp Hng"}),n.jsx("p",{className:"text-blue-100",children:"Theo di v cnh tranh vi cc hc vin khc"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 flex flex-wrap gap-4",children:[n.jsxs("select",{value:a,onChange:u,className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"week",children:"Tun ny"}),n.jsx("option",{value:"month",children:"Thng ny"}),n.jsx("option",{value:"all",children:"Tt c thi gian"})]}),n.jsxs("select",{value:c,onChange:A,className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"Tt c"}),n.jsx("option",{value:"courses",children:"Kha hc"})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:r?n.jsx("div",{className:"flex justify-center items-center p-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Hng"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Hc vin"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Cp bc"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"im s"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Kha hc"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map((f,h)=>n.jsxs("tr",{className:`${h<3?"bg-blue-50/50":""} ${(o==null?void 0:o.id)===f.id?"bg-yellow-50":""}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:`flex items-center ${h<3?"text-yellow-600 font-bold":"text-gray-500"}`,children:[h<3?n.jsx(Y0,{className:"w-5 h-5 mr-1"}):null,"#",h+1]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(fn,{src:f.avatar,name:f.name,alt:f.name,size:"small"}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:f.name}),(o==null?void 0:o.id)===f.id&&n.jsx("div",{className:"text-xs text-blue-600",children:"Bn"})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(UAe,{tier:f.tier})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-xl font-bold text-blue-600",children:f.points}),n.jsx("div",{className:"text-sm text-gray-500",children:"im"})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Au,{className:"w-5 h-5 text-green-500 mr-2"}),f.completedCourses||0]})})]},f.id))})]})})]})};var nS;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(nS||(nS={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sS;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(sS||(sS={}));var iS;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(iS||(iS={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=["user","model","function","system"];var aS;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(aS||(aS={}));var lS;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(lS||(lS={}));var cS;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(cS||(cS={}));var uS;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(uS||(uS={}));var Lm;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Lm||(Lm={}));var dS;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(dS||(dS={}));var AS;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(AS||(AS={}));var hS;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(hS||(hS={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class lh extends vi{constructor(t,r){super(t),this.response=r}}class jL extends vi{constructor(t,r,s,i){super(t),this.status=r,this.statusText=s,this.errorDetails=i}}class gu extends vi{}class CL extends vi{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAe="https://generativelanguage.googleapis.com",DAe="v1beta",OAe="0.24.1",QAe="genai-js";var rA;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(rA||(rA={}));class _Ae{constructor(t,r,s,i,o){this.model=t,this.task=r,this.apiKey=s,this.stream=i,this.requestOptions=o}toString(){var t,r;const s=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||DAe;let o=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||MAe}/${s}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function HAe(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${QAe}/${OAe}`),t.join(" ")}async function $Ae(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",HAe(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let s=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(i){throw new gu(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${i.message}`)}for(const[i,o]of s.entries()){if(i==="x-goog-api-key")throw new gu(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new gu(`Header name ${i} can only be set using the apiClient field`);r.append(i,o)}}return r}async function VAe(e,t,r,s,i,o){const a=new _Ae(e,t,r,s,o);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},GAe(o)),{method:"POST",headers:await $Ae(a),body:i})}}async function $p(e,t,r,s,i,o={},a=fetch){const{url:l,fetchOptions:c}=await VAe(e,t,r,s,i,o);return KAe(l,c,a)}async function KAe(e,t,r=fetch){let s;try{s=await r(e,t)}catch(i){zAe(i,e)}return s.ok||await WAe(s,e),s}function zAe(e,t){let r=e;throw r.name==="AbortError"?(r=new CL(`Request aborted when fetching ${t.toString()}: ${e.message}`),r.stack=e.stack):e instanceof jL||e instanceof gu||(r=new vi(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function WAe(e,t){let r="",s;try{const i=await e.json();r=i.error.message,i.error.details&&(r+=` ${JSON.stringify(i.error.details)}`,s=i.error.details)}catch{}throw new jL(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,s)}function GAe(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Q0(e.candidates[0]))throw new lh(`${tu(e)}`,e);return qAe(e)}else if(e.promptFeedback)throw new lh(`Text not available. ${tu(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Q0(e.candidates[0]))throw new lh(`${tu(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),fS(e)[0]}else if(e.promptFeedback)throw new lh(`Function call not available. ${tu(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Q0(e.candidates[0]))throw new lh(`${tu(e)}`,e);return fS(e)}else if(e.promptFeedback)throw new lh(`Function call not available. ${tu(e)}`,e)},e}function qAe(e){var t,r,s,i;const o=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const a of(i=(s=e.candidates)===null||s===void 0?void 0:s[0].content)===null||i===void 0?void 0:i.parts)a.text&&o.push(a.text),a.executableCode&&o.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&o.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function fS(e){var t,r,s,i;const o=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const a of(i=(s=e.candidates)===null||s===void 0?void 0:s[0].content)===null||i===void 0?void 0:i.parts)a.functionCall&&o.push(a.functionCall);if(o.length>0)return o}const XAe=[Lm.RECITATION,Lm.SAFETY,Lm.LANGUAGE];function Q0(e){return!!e.finishReason&&XAe.includes(e.finishReason)}function tu(e){var t,r,s;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((s=e.candidates)===null||s===void 0)&&s[0]){const o=e.candidates[0];Q0(o)&&(i+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(i+=`: ${o.finishMessage}`))}return i}function Ap(e){return this instanceof Ap?(this.v=e,this):new Ap(e)}function JAe(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(e,t||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(f){s[f]&&(i[f]=function(h){return new Promise(function(g,p){o.push([f,h,g,p])>1||l(f,h)})})}function l(f,h){try{c(s[f](h))}catch(g){A(o[0][3],g)}}function c(f){f.value instanceof Ap?Promise.resolve(f.value.v).then(d,u):A(o[0][2],f)}function d(f){l("next",f)}function u(f){l("throw",f)}function A(f,h){f(h),o.shift(),o.length&&l(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function YAe(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=the(t),[s,i]=r.tee();return{stream:ehe(s),response:ZAe(i)}}async function ZAe(e){const t=[],r=e.getReader();for(;;){const{done:s,value:i}=await r.read();if(s)return yj(rhe(t));t.push(i)}}function ehe(e){return JAe(this,arguments,function*(){const r=e.getReader();for(;;){const{value:s,done:i}=yield Ap(r.read());if(i)break;yield yield Ap(yj(s))}})}function the(e){const t=e.getReader();return new ReadableStream({start(s){let i="";return o();function o(){return t.read().then(({value:a,done:l})=>{if(l){if(i.trim()){s.error(new vi("Failed to parse stream"));return}s.close();return}i+=a;let c=i.match(mS),d;for(;c;){try{d=JSON.parse(c[1])}catch{s.error(new vi(`Error parsing JSON response: "${c[1]}"`));return}s.enqueue(d),i=i.substring(c[0].length),c=i.match(mS)}return o()}).catch(a=>{let l=a;throw l.stack=a.stack,l.name==="AbortError"?l=new CL("Request aborted when reading from the stream"):l=new vi("Error reading from the stream"),l})}}})}function rhe(e){const t=e[e.length-1],r={promptFeedback:t==null?void 0:t.promptFeedback};for(const s of e){if(s.candidates){let i=0;for(const o of s.candidates)if(r.candidates||(r.candidates=[]),r.candidates[i]||(r.candidates[i]={index:i}),r.candidates[i].citationMetadata=o.citationMetadata,r.candidates[i].groundingMetadata=o.groundingMetadata,r.candidates[i].finishReason=o.finishReason,r.candidates[i].finishMessage=o.finishMessage,r.candidates[i].safetyRatings=o.safetyRatings,o.content&&o.content.parts){r.candidates[i].content||(r.candidates[i].content={role:o.content.role||"user",parts:[]});const a={};for(const l of o.content.parts)l.text&&(a.text=l.text),l.functionCall&&(a.functionCall=l.functionCall),l.executableCode&&(a.executableCode=l.executableCode),l.codeExecutionResult&&(a.codeExecutionResult=l.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),r.candidates[i].content.parts.push(a)}i++}s.usageMetadata&&(r.usageMetadata=s.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(e,t,r,s){const i=await $p(t,rA.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),s);return YAe(i)}async function BL(e,t,r,s){const o=await(await $p(t,rA.GENERATE_CONTENT,e,!1,JSON.stringify(r),s)).json();return{response:yj(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function hp(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return nhe(t)}function nhe(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let s=!1,i=!1;for(const o of e)"functionResponse"in o?(r.parts.push(o),i=!0):(t.parts.push(o),s=!0);if(s&&i)throw new vi("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!i)throw new vi("No content is provided for sending chat message.");return s?t:r}function she(e,t){var r;let s={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(r=t==null?void 0:t.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const i=e.generateContentRequest!=null;if(e.contents){if(i)throw new gu("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=e.contents}else if(i)s=Object.assign(Object.assign({},s),e.generateContentRequest);else{const o=hp(e);s.contents=[o]}return{generateContentRequest:s}}function pS(e){let t;return e.contents?t=e:t={contents:[hp(e)]},e.systemInstruction&&(t.systemInstruction=kL(e.systemInstruction)),t}function ihe(e){return typeof e=="string"||Array.isArray(e)?{content:hp(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],ohe={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function ahe(e){let t=!1;for(const r of e){const{role:s,parts:i}=r;if(!t&&s!=="user")throw new vi(`First content should be with role 'user', got ${s}`);if(!oS.includes(s))throw new vi(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(oS)}`);if(!Array.isArray(i))throw new vi("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new vi("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const c of gS)c in l&&(o[c]+=1);const a=ohe[s];for(const l of gS)if(!a.includes(l)&&o[l]>0)throw new vi(`Content with role '${s}' can't contain '${l}' part`);t=!0}}function xS(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const s of r.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="SILENT_ERROR";class lhe{constructor(t,r,s,i={}){this.model=r,this.params=s,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,s!=null&&s.history&&(ahe(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var s,i,o,a,l,c;await this._sendPromise;const d=hp(t),u={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},A=Object.assign(Object.assign({},this._requestOptions),r);let f;return this._sendPromise=this._sendPromise.then(()=>BL(this._apiKey,this.model,u,A)).then(h=>{var g;if(xS(h.response)){this._history.push(d);const p=Object.assign({parts:[],role:"model"},(g=h.response.candidates)===null||g===void 0?void 0:g[0].content);this._history.push(p)}else{const p=tu(h.response);p&&console.warn(`sendMessage() was unsuccessful. ${p}. Inspect response object for details.`)}f=h}).catch(h=>{throw this._sendPromise=Promise.resolve(),h}),await this._sendPromise,f}async sendMessageStream(t,r={}){var s,i,o,a,l,c;await this._sendPromise;const d=hp(t),u={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},A=Object.assign(Object.assign({},this._requestOptions),r),f=NL(this._apiKey,this.model,u,A);return this._sendPromise=this._sendPromise.then(()=>f).catch(h=>{throw new Error(yS)}).then(h=>h.response).then(h=>{if(xS(h)){this._history.push(d);const g=Object.assign({},h.candidates[0].content);g.role||(g.role="model"),this._history.push(g)}else{const g=tu(h);g&&console.warn(`sendMessageStream() was unsuccessful. ${g}. Inspect response object for details.`)}}).catch(h=>{h.message!==yS&&console.error(h)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function che(e,t,r,s){return(await $p(t,rA.COUNT_TOKENS,e,!1,JSON.stringify(r),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uhe(e,t,r,s){return(await $p(t,rA.EMBED_CONTENT,e,!1,JSON.stringify(r),s)).json()}async function dhe(e,t,r,s){const i=r.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await $p(t,rA.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t,r,s={}){this.apiKey=t,this._requestOptions=s,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=kL(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var s;const i=pS(t),o=Object.assign(Object.assign({},this._requestOptions),r);return BL(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},i),o)}async generateContentStream(t,r={}){var s;const i=pS(t),o=Object.assign(Object.assign({},this._requestOptions),r);return NL(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},i),o)}startChat(t){var r;return new lhe(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const s=she(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),r);return che(this.apiKey,this.model,s,i)}async embedContent(t,r={}){const s=ihe(t),i=Object.assign(Object.assign({},this._requestOptions),r);return uhe(this.apiKey,this.model,s,i)}async batchEmbedContents(t,r={}){const s=Object.assign(Object.assign({},this._requestOptions),r);return dhe(this.apiKey,this.model,t,s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ahe{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new vi("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new bS(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,s){if(!t.name)throw new gu("Cached content must contain a `name` field.");if(!t.model)throw new gu("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const a of i)if(r!=null&&r[a]&&t[a]&&(r==null?void 0:r[a])!==t[a]){if(a==="model"){const l=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,c=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(l===c)continue}throw new gu(`Different value for "${a}" specified in modelParams (${r[a]}) and cachedContent (${t[a]})`)}const o=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new bS(this.apiKey,o,s)}}const j2="AIzaSyBXdIkHE464_FWkMj5cUtwkDg7xNkR8pu4",SL=new Ahe(j2),C2={temperature:.7,topK:40,topP:.95,maxOutputTokens:2048},hhe=[],N2=[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}],EL=`Bn l tr l AI chuyn v lnh vc IT v cng ngh. 
Ch tr li nhng cu hi lin quan n lp trnh, pht trin phn mm, mng my tnh, bo mt, 
tr tu nhn to, v cc lnh vc cng ngh thng tin khc.

Vi cc cu hi khng lin quan n IT hoc cng ngh, hy t chi nh nhng v 
 ngh ngi dng hi v cc ch  lin quan n IT.

Xin nh:
- Ch tr li v IT/cng ngh
- T chi lch s vi cc ch  khc
- Tr li ngn gn, sc tch v d hiu
- u tin a ra v d thc t khi gii thch
`,fhe=e=>{const t=["lp trnh","coding","code","program","chng trnh","development","pht trin","debug","debugging","g li","bug","li","error","exception","ngoi l","compiler","trnh bin dch","interpreter","bin dch","syntax","c php","algorithm","thut ton","data structure","cu trc d liu","logic","lgic","phn mm","software","web","app","ng dng","application","system","h thng","plugin","extension","tin ch m rng","module","m-un","component","thnh phn","interface","giao din","library","th vin","ui","ux","user interface","user experience","database","d liu","data","sql","nosql","c s d liu","mysql","postgresql","mongodb","oracle","redis","cassandra","elasticsearch","c s d liu quan h","relational database","data warehouse","kho d liu","data mining","khai ph d liu","data science","khoa hc d liu","big data","d liu ln","data analytics","phn tch d liu","mng","network","server","my ch","bo mt","security","firewall","tng la","protocol","giao thc","tcp/ip","http","https","ftp","dns","dhcp","vpn","mng ring o","ethernet","wifi","router","b nh tuyn","lan","wan","mng cc b","mng din rng","encryption","m ha","cryptography","mt m hc","cyber security","an ninh mng","javascript","python","java","c++","c#","php","ruby","swift","kotlin","go","golang","typescript","html","css","rust","perl","r","scala","dart","lua","shell","bash","powershell","assembly","hp ng","cobol","fortran","lisp","prolog","ngn ng lp trnh","frontend","front-end","giao din ngi dng","backend","back-end","pha my ch","fullstack","full-stack","web development","pht trin web","responsive","tng thch","dom","spa","single page application","ng dng mt trang","seo","ti u ha cng c tm kim","web browser","trnh duyt web","web server","my ch web","web api","web service","dch v web","vit m","react","angular","vue","svelte","jquery","bootstrap","tailwind","express","django","flask","spring","laravel","symfony","rails","node.js","next.js","nuxt.js","flutter","xamarin","ionic","framework","th vin","library","platform","nn tng","sdk","api","cloud","in ton m my","aws","azure","gcp","google cloud","cloud computing","git","github","gitlab","bitbucket","devops","ci/cd","continuous integration","tch hp lin tc","docker","container","kubernetes","k8s","microservice","vi dch v","serverless","khng my ch","infrastructure","c s h tng","iaas","paas","saas","deployment","trin khai","agile","scrum","kanban","waterfall","m hnh thc nc","lean","extreme programming","xp","test driven development","tdd","pht trin hng kim th","bdd","behavior driven development","clean code","m sch","refactoring","ti cu trc","code review","nh gi m","testing","kim th","qa","quality assurance","m bo cht lng","unit test","kim th n v","integration test","kim th tch hp","e2e","end-to-end","manual testing","kim th th cng","automated testing","kim th t ng","regression","hi quy","performance test","load test","ai","artificial intelligence","tr tu nhn to","machine learning","hc my","deep learning","hc su","neural network","mng n-ron","nlp","x l ngn ng t nhin","computer vision","th gic my tnh","chatbot","bot tr chuyn","expert system","h chuyn gia","oop","object oriented","hng i tng","functional programming","lp trnh hm","design pattern","mu thit k","mvc","mvvm","solid","dry","kiss","yagni","architecture","kin trc","microservices","vi dch v","monolith","n khi","rest","restful","graphql","soap","api design","thit k api","computer","my tnh","hardware","phn cng","cpu","gpu","ram","memory","b nh","storage","lu tr","ssd","hdd"," cng","operating system","h iu hnh","windows","linux","unix","mac","macos","ios","android","embedded","nhng","iot","internet of things","internet vn vt","raspberry pi","arduino","version control","kim sot phin bn","git","svn","mercurial","repository","kho lu tr","commit","branch","nhnh","merge","trn","conflict","xung t","pull request","yu cu ko","hosting","lu tr","web hosting","domain","tn min","dns","server","my ch","vps","dedicated server","shared hosting","cloud hosting","deployment","trin khai","mobile","di ng","android","ios","react native","flutter","mobile app","ng dng di ng","native app","hybrid app","ng dng lai","pwa","progressive web app","swift","kotlin","it","cng ngh thng tin","information technology","tech","cng ngh","digital","s ha","innovation","i mi","startup","khi nghip","fintech","edtech","healthtech","cybersecurity","blockchain","cryptocurrency","tin in t"],r=e.toLowerCase();return t.some(s=>r.includes(s))},vS=async()=>{try{return SL.getGenerativeModel({model:"gemini-2.0-flash",generationConfig:C2,safetySettings:N2,systemInstruction:EL}).startChat({history:hhe,generationConfig:C2,safetySettings:N2})}catch(e){throw console.error("Error initializing chat:",e),e}},mhe=async(e,t,r=null)=>{try{if(r)try{const o=SL.getGenerativeModel({model:"gemini-pro-vision",generationConfig:C2,safetySettings:N2,systemInstruction:EL}),[a,l]=r.split(","),c=a.match(/:(.*?);/),d=c?c[1]:"image/jpeg",u={inlineData:{data:l,mimeType:d}},A=t||"Phn tch hnh nh ny v gii thch ni dung lin quan n IT";return(await o.generateContent([A,u])).response.text()}catch(o){return console.error("Vision model error:",o),String(o).includes("429")?"Dch v AI ang qu ti hoc vt qu gii hn min ph. Vui lng th li sau t pht hoc nng cp gi dch v.":"Xin li, ti khng th x l hnh nh ny. Vui lng th li sau."}if(!fhe(t))return"Xin li, ti ch c th tr li cc cu hi lin quan n IT v cng ngh. Vui lng t cu hi v lp trnh, pht trin phn mm, c s d liu, mng my tnh, bo mt hoc cc ch  IT khc.";if(!e)throw new Error("Chat cha c khi to");return(await e.sendMessage(t)).response.text()}catch(s){return console.error("Error sending message:",s),s.message.includes("API key")||s.toString().includes("API_KEY_INVALID")?"Li xc thc API key. Vui lng kim tra cu hnh API key trong tp .env":s.message.includes("Chat cha c khi to")?"Li kt ni vi dch v AI. Vui lng lm mi trang v th li.":s.toString().includes("503")||s.toString().includes("overloaded")?"Dch v AI ang tm thi qu ti. Vui lng th li sau t pht.":"Xin li, ti khng th tr li cu hi ny. C li xy ra: "+(s.message||"Khng xc nh")}},phe=()=>{const[e,t]=m.useState([]),[r,s]=m.useState(""),[i,o]=m.useState(!1),[a,l]=m.useState(null),[c,d]=m.useState(null),[u,A]=m.useState(!0),[f,h]=m.useState([]),[g,p]=m.useState(null),[b,x]=m.useState(!0),[j,w]=m.useState(!1),[S,I]=m.useState(null),[F,T]=m.useState(!1),U=m.useRef(null),K=m.useRef(null),B=m.useRef(null),R=m.useRef(null),D=[{category:"Lp Trnh",questions:["Gii thch v nguyn tc SOLID trong lp trnh hng i tng?","So snh gia JavaScript v TypeScript?","Cch ti u hiu sut cho ng dng React?","Phn bit gia REST API v GraphQL?"]},{category:"Cng Ngh",questions:["Machine Learning l g v ng dng thc t?","Blockchain hot ng nh th no?","Cch bo mt website t cc cuc tn cng XSS?","Docker v Kubernetes khc nhau nh th no?"]},{category:"Mng & H Thng",questions:["Cch khc phc li mt kt ni Internet?","Ci t mng VPN ring nh th no?","So snh gia IPv4 v IPv6?","Cu hnh tng la c bn cho server?"]}];m.useEffect(()=>{try{const pe=JSON.parse(localStorage.getItem("chatConversations"))||[];h(pe);const we=localStorage.getItem("activeConversationId");we&&pe.find(je=>je.id===we)&&(p(we),x(!1))}catch(pe){console.error("Error loading conversations from localStorage:",pe)}},[]),m.useEffect(()=>{(async()=>{try{const we=await vS();if(d(we),g&&!b){const je=f.find(De=>De.id===g);if(je){t(je.messages||[]);return}}t([{role:"assistant",content:"Xin cho! Ti l tr l AI chuyn v IT ca CampusLearning. Ti s gip bn tr li cc cu hi v lp trnh, cng ngh v thng tin. Hy t cu hi v lnh vc cng ngh thng tin  ti c th h tr tt nht."}]),x(!0)}catch(we){console.error("Failed to initialize chat:",we),l("Khng th kt ni n AI. Vui lng kim tra API key v th li sau.")}finally{A(!1),setTimeout(()=>{var we;(we=K.current)==null||we.focus()},100)}})()},[g,f]),m.useEffect(()=>{localStorage.setItem("chatConversations",JSON.stringify(f))},[f]),m.useEffect(()=>{g?localStorage.setItem("activeConversationId",g):localStorage.setItem("activeConversationId","")},[g]),m.useEffect(()=>{b||!g||!e.length||u||h(pe=>pe.map(je=>je.id===g?{...je,messages:e,updatedAt:new Date().toISOString(),title:H(e)}:je))},[e,g,b]);const H=pe=>{if(!pe.length)return"New Chat";const we=pe.find(De=>De.role==="user");if(!we)return"New Chat";const je=we.content.substring(0,30);return je.length<we.content.length?`${je}...`:je},P=pe=>{const we=pe||e;if(we.length<=1||!we.find(Ue=>Ue.role==="user"))return;const je={id:Date.now().toString(),title:H(we),messages:[...we],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},De=[je,...f];return h(De),p(je.id),x(!1),je.id},z=()=>{t([{role:"assistant",content:"Xin cho! Ti l tr l AI chuyn v IT ca CampusLearning. Ti s gip bn tr li cc cu hi v lp trnh, cng ngh v thng tin. Hy t cu hi v lnh vc cng ngh thng tin  ti c th h tr tt nht."}]),p(null),x(!0)},G=pe=>{const we=f.filter(je=>je.id!==pe);h(we),pe===g&&z()},he=()=>{window.confirm("Bn c chc chn mun xa tt c lch s tr chuyn? Hnh ng ny khng th hon tc.")&&(h([]),localStorage.setItem("chatConversations",JSON.stringify([])),localStorage.setItem("activeConversationId",""),z())},ce=pe=>{if(pe===g)return;b&&e.length>1&&e.some(je=>je.role==="user")&&P();const we=f.find(je=>je.id===pe);we&&(t(we.messages||[]),p(pe),x(!1))},ye=pe=>{s(pe),setTimeout(()=>{var we;(we=K.current)==null||we.focus()},100)};m.useEffect(()=>{var pe;(pe=U.current)==null||pe.scrollIntoView({behavior:"smooth"})},[e]);const X=async pe=>{if(pe.preventDefault(),!r.trim()&&!S)return;if(!c){l("Cha kt ni c vi AI. Vui lng ti li trang.");return}const we=r.trim();s("");let je=we;S&&(je=we||"Phn tch nh ny");const De={role:"user",content:je,image:S},Ue=[...e,De];t(Ue),o(!0);const Ce=S;I(null),T(!1);try{b&&P(Ue);const Ct=await mhe(c,we,Ce),ct=[...Ue,{role:"assistant",content:Ct}];t(ct),b||h(rt=>{const st=rt.map(at=>at.id===g?{...at,messages:ct,updatedAt:new Date().toISOString(),title:at.title||H(ct)}:at);return localStorage.setItem("chatConversations",JSON.stringify(st)),st})}catch(Ct){console.error("Error sending message:",Ct),l("C li xy ra khi gi tin nhn. Vui lng th li sau.")}finally{o(!1)}},re=async()=>{try{A(!0);const pe=await vS();d(pe),z(),l(null)}catch(pe){console.error("Failed to reset chat:",pe),l("Khng th khi to li cuc tr chuyn. Vui lng ti li trang.")}finally{A(!1),setTimeout(()=>{var pe;(pe=K.current)==null||pe.focus()},100)}},_=e.length===1&&e[0].role==="assistant"&&e[0].content==="Xin cho! Ti l tr l AI chuyn v IT ca CampusLearning. Ti s gip bn tr li cc cu hi v lp trnh, cng ngh v thng tin. Hy t cu hi v lnh vc cng ngh thng tin  ti c th h tr tt nht.",Q=[{icon:"",label:"To hnh nh"},{icon:"",label:"Lp k hoch"},{icon:"",label:"Tm tt vn bn"},{icon:"",label:"Brainstorm  tng"}],Z=()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window))return console.error("Speech recognition not supported in this browser"),null;const pe=window.SpeechRecognition||window.webkitSpeechRecognition,we=new pe;return we.lang="vi-VN",we.continuous=!1,we.interimResults=!1,we.maxAlternatives=1,we.onresult=je=>{const De=je.results[0][0].transcript;s(Ue=>Ue+" "+De.trim()),me()},we.onerror=je=>{console.error("Speech recognition error",je.error),me()},we.onend=()=>{w(!1)},we},Ae=()=>{if(B.current||(B.current=Z()),B.current)try{B.current.start(),w(!0)}catch(pe){console.error("Speech recognition error:",pe)}},me=()=>{B.current&&(B.current.stop(),w(!1))},ae=()=>{j?me():Ae()};m.useEffect(()=>{b||!g||e.length},[e,g,b,u,i]);const ie=()=>{b&&e.some(pe=>pe.role==="user")&&P(),re()},te=pe=>{const we=pe.target.files[0];if(!we)return;if(we.size>5*1024*1024){l("Kch thc nh khng c vt qu 5MB");return}if(!we.type.startsWith("image/")){l("Ch chp nhn file hnh nh");return}const je=new FileReader;je.onloadend=()=>{I(je.result),T(!0)},je.readAsDataURL(we)},fe=()=>{I(null),T(!1),R.current.value=""};return n.jsxs("div",{className:"h-[calc(100vh-84px)] bg-white text-gray-950 overflow-hidden flex flex-col md:flex-row",children:[n.jsx("div",{className:"hidden md:block md:w-80 bg-white border-r border-gray-200 overflow-y-auto",children:n.jsxs("div",{className:"p-3 h-full flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-base font-semibold text-gray-800 dark:text-gray-200",children:"Lch s"}),n.jsxs("div",{className:"flex items-center gap-2",children:[f.length>0&&n.jsx("button",{onClick:he,className:"text-xs text-red-500 hover:text-red-600",children:"Xa tt c"}),n.jsx("button",{onClick:ie,className:"flex items-center justify-center w-7 h-7 text-white bg-theme-primary hover:bg-theme-hover rounded-full transition-colors",title:"To cuc tr chuyn mi",children:n.jsx(Ba,{className:"h-5 w-5"})})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto space-y-0.5",children:f.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"Cha c cuc tr chuyn"}):f.map(pe=>n.jsxs("div",{className:`flex items-center justify-between p-2 rounded hover:bg-gray-50 ${pe.id===g?"bg-gray-100":""}`,children:[n.jsx("button",{className:`truncate text-left flex-1 text-sm ${pe.id===g?"font-medium text-theme-primary":"text-gray-700 dark:text-gray-300"}`,onClick:()=>ce(pe.id),children:pe.title}),n.jsx("button",{onClick:()=>G(pe.id),className:"p-0.5 text-gray-400 hover:text-gray-600",children:n.jsx(ac,{className:"h-2.5 w-2.5"})})]},pe.id))})]})}),n.jsxs("div",{className:"flex-1 flex flex-col h-full relative bg-gray-50 overflow-hidden",children:[a&&n.jsx("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 z-10 bg-red-50 border-l-4 border-red-400 p-2 rounded-lg shadow-sm text-sm animate-fadeIn max-w-md",children:n.jsx("p",{className:"text-red-700",children:a})}),u?n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-9 w-9 border-2 border-gray-600 border-t-transparent"})}):n.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[n.jsx("div",{className:`flex-1 overflow-y-auto min-h-0 ${_?"flex items-center justify-center":""}`,children:_?n.jsx("div",{className:"text-center p-5 -mt-24",children:n.jsx("h1",{className:"text-2xl font-medium text-gray-800 mb-4",children:"Hy t cu hi lin quan n IT."})}):n.jsxs("div",{className:"py-2 px-4 max-w-3xl mx-auto",children:[e.map((pe,we)=>n.jsx("div",{className:`flex mb-2 px-3 ${pe.role==="user"?"justify-end":"justify-start"}`,children:n.jsx("div",{className:`max-w-[90%] ${pe.role==="assistant"?"whitespace-pre-wrap":""}`,children:n.jsxs("div",{className:"flex items-start gap-2",children:[pe.role==="assistant"?n.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-700 text-white flex items-center justify-center flex-shrink-0 mt-1 text-xs",children:n.jsx("span",{children:"AI"})}):n.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white flex items-center justify-center flex-shrink-0 mt-1 text-xs",children:n.jsx("span",{children:"U"})}),n.jsxs("div",{className:`text-sm ${pe.role==="user"?"":"prose prose-sm max-w-none dark:prose-invert prose-headings:font-medium prose-headings:text-gray-900 dark:prose-headings:text-white prose-h1:text-lg prose-h2:text-base prose-h3:text-sm prose-p:text-gray-700 dark:prose-p:text-gray-300 prose-pre:bg-gray-50 dark:prose-pre:bg-gray-800 prose-pre:border prose-pre:border-gray-200 dark:prose-pre:border-gray-700 prose-code:text-gray-800 dark:prose-code:text-gray-200 prose-strong:text-gray-900 dark:prose-strong:text-white prose-ul:my-1 prose-li:my-0.5 prose-li:marker:text-gray-400 prose-a:text-theme-primary hover:prose-a:text-theme-hover"}`,children:[pe.image&&pe.role==="user"&&n.jsx("div",{className:"mb-2",children:n.jsx("img",{src:pe.image,alt:"Uploaded content",className:"max-h-48 rounded-lg shadow-sm border border-gray-200"})}),pe.role==="user"?n.jsx("p",{children:pe.content}):n.jsx(nc,{components:{pre:({node:je,...De})=>n.jsx("div",{className:"relative group",children:n.jsx("pre",{...De,className:"rounded-lg p-3 overflow-x-auto"})}),code:({node:je,inline:De,...Ue})=>De?n.jsx("code",{...Ue,className:"bg-gray-100 dark:bg-gray-800 px-1.5 py-0.5 rounded text-sm"}):n.jsx("code",{...Ue}),ul:({node:je,...De})=>n.jsx("ul",{...De,className:"list-disc pl-4"}),ol:({node:je,...De})=>n.jsx("ol",{...De,className:"list-decimal pl-4"}),li:({node:je,...De})=>n.jsx("li",{...De,className:"marker:text-gray-400"})},children:pe.content})]})]})})},we)),i&&n.jsx("div",{className:"flex mb-2 px-3",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-700 text-white flex items-center justify-center flex-shrink-0 mt-1 text-xs",children:n.jsx("span",{children:"AI"})}),n.jsxs("div",{className:"flex space-x-1 items-center",children:[n.jsx("div",{className:"h-1.5 w-1.5 bg-gray-400 rounded-full animate-bounce"}),n.jsx("div",{className:"h-1.5 w-1.5 bg-gray-400 rounded-full animate-bounce delay-75"}),n.jsx("div",{className:"h-1.5 w-1.5 bg-gray-400 rounded-full animate-bounce delay-150"})]})]})}),n.jsx("div",{ref:U})]})}),n.jsxs("div",{className:`flex-shrink-0 px-4 pb-3 pt-1 bg-gray-50 ${_?"absolute bottom-0 left-0 right-0":""}`,children:[n.jsx("div",{className:"flex justify-center space-x-2 mb-1.5",children:Q.map((pe,we)=>n.jsxs("button",{className:"flex items-center gap-1 px-2.5 py-0.5 bg-white border border-gray-200 rounded-lg text-xs hover:bg-gray-50 transition-colors",onClick:()=>s(pe.label),children:[n.jsx("span",{children:pe.icon}),n.jsx("span",{children:pe.label})]},we))}),n.jsx("div",{className:"max-w-3xl mx-auto relative",children:n.jsxs("form",{onSubmit:X,className:"relative",children:[n.jsx("button",{type:"button",onClick:ie,className:"absolute left-3 top-1/2 transform -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 z-10",title:"To cuc tr chuyn mi",children:n.jsx(Ba,{className:"h-4 w-4"})}),F&&S&&n.jsxs("div",{className:"absolute bottom-full left-0 p-2 mb-2 bg-white rounded-lg shadow-md border border-gray-200 flex items-start gap-2",children:[n.jsx("img",{src:S,alt:"Preview",className:"h-16 rounded-md"}),n.jsx("button",{type:"button",onClick:fe,className:"p-1 bg-red-50 rounded-full text-red-500 hover:bg-red-100",children:n.jsx(pn,{className:"h-3 w-3"})})]}),n.jsx("input",{ref:K,type:"text",value:r,onChange:pe=>s(pe.target.value),placeholder:"Hi bt c iu g v IT...",className:"w-full py-2 pl-10 pr-24 border border-gray-200 rounded-lg shadow-sm focus:outline-none focus:border-gray-300 focus:ring-0 text-sm bg-white",disabled:i||u}),n.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:te,className:"hidden",id:"image-upload",ref:R,disabled:i||u}),n.jsx("label",{htmlFor:"image-upload",className:`p-1 text-gray-400 hover:text-gray-600 cursor-pointer mr-1 ${S?"text-theme-primary":""}`,title:"Ti ln hnh nh",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})})}),n.jsx("button",{type:"button",onClick:ae,className:`p-1 ${j?"text-red-500 hover:text-red-600":"text-gray-400 hover:text-gray-500"} mr-1`,title:j?"Dng ghi m":"Ghi m ging ni (Ting Vit)",children:j?n.jsx(Q6,{className:"h-4 w-4"}):n.jsx(JO,{className:"h-4 w-4"})}),n.jsx("button",{type:"submit",disabled:i||u||!r.trim()&&!S,className:"p-1 text-gray-400 hover:text-gray-600 disabled:text-gray-300 disabled:hover:text-gray-300",children:n.jsx(X0,{className:"h-4 w-4"})})]})]})})]})]})]}),n.jsx("div",{className:"hidden md:block md:w-80 bg-white border-l border-gray-200 overflow-y-auto",children:n.jsxs("div",{className:"p-3",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(G2,{className:"h-5 w-5 text-yellow-500 mr-2"}),n.jsx("h3",{className:"text-base font-semibold text-gray-800 dark:text-gray-200",children:"Cu hi gi "})]}),D.map((pe,we)=>n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:pe.category}),n.jsx("div",{className:"space-y-2",children:pe.questions.map((je,De)=>n.jsx("button",{onClick:()=>ye(je),className:"w-full text-left p-2 text-sm bg-gray-50 hover:bg-gray-100 rounded-md transition-colors text-gray-700 dark:text-gray-300",children:je},De))})]},we))]})})]})},ghe=()=>n.jsxs(zS,{children:[n.jsx(Pn,{path:"/",element:n.jsx(OH,{})}),n.jsx(Pn,{path:"/upcoming",element:n.jsx(yJ,{})}),n.jsx(Pn,{path:"/:examId",element:n.jsx(mJ,{})}),n.jsx(Pn,{path:"/:examId/session",element:n.jsx(gJ,{})}),n.jsx(Pn,{path:"/results/:participantId",element:n.jsx(xJ,{})}),n.jsx(Pn,{path:"/:examId/history",element:n.jsx(bJ,{})})]}),xhe=()=>{const[e,t]=m.useState([{id:1,title:"Ting Anh cho IT",description:"Kha hc ting Anh chuyn ngnh cho lp trnh vin",instructor:"John Doe",duration:"40 gi",level:"Trung cp",category:"language",thumbnail:"/course-thumbnails/english.jpg"},{id:2,title:"K nng mm cho Developer",description:"Pht trin k nng giao tip v lm vic nhm",instructor:"Jane Smith",duration:"20 gi",level:"C bn",category:"soft-skills",thumbnail:"/course-thumbnails/soft-skills.jpg"}]),[r,s]=m.useState({category:"all",level:"all",search:""}),i=e.filter(o=>{const a=r.category==="all"||o.category===r.category,l=r.level==="all"||o.level===r.level,c=o.title.toLowerCase().includes(r.search.toLowerCase())||o.description.toLowerCase().includes(r.search.toLowerCase());return a&&l&&c});return n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Cc kha hc khc"}),n.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Danh mc"}),n.jsxs("select",{value:r.category,onChange:o=>s({...r,category:o.target.value}),className:"w-full p-2 border rounded",children:[n.jsx("option",{value:"all",children:"Tt c"}),n.jsx("option",{value:"language",children:"Ngoi ng"}),n.jsx("option",{value:"soft-skills",children:"K nng mm"}),n.jsx("option",{value:"business",children:"Kinh doanh"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trnh "}),n.jsxs("select",{value:r.level,onChange:o=>s({...r,level:o.target.value}),className:"w-full p-2 border rounded",children:[n.jsx("option",{value:"all",children:"Tt c"}),n.jsx("option",{value:"C bn",children:"C bn"}),n.jsx("option",{value:"Trung cp",children:"Trung cp"}),n.jsx("option",{value:"Nng cao",children:"Nng cao"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tm kim"}),n.jsx("input",{type:"text",value:r.search,onChange:o=>s({...r,search:o.target.value}),placeholder:"Tm kim kha hc...",className:"w-full p-2 border rounded"})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(o=>n.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[n.jsx("div",{className:"h-48 bg-gray-200",children:o.thumbnail&&n.jsx("img",{src:o.thumbnail,alt:o.title,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-semibold text-lg mb-2",children:o.title}),n.jsx("p",{className:"text-gray-600 text-sm mb-4",children:o.description}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Ging vin:"})," ",o.instructor]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Thi lng:"})," ",o.duration]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Trnh :"})," ",o.level]})]}),n.jsx("button",{className:"mt-4 w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"ng k hc"})]})]},o.id))}),i.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:"Khng tm thy kha hc no ph hp vi iu kin tm kim"})]})};function yhe(e){return Ac({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-157.8-121.96C488.61 312.13 496 285.01 496 256v-48c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v48c0 17.92-3.96 34.8-10.72 50.2l-26.55-20.52c3.1-9.4 5.28-19.22 5.28-29.67V96c0-53.02-42.98-96-96-96s-96 42.98-96 96v45.36L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.36 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.41-6.97 4.16-17.02-2.82-22.45zM400 464h-56v-33.77c11.66-1.6 22.85-4.54 33.67-8.31l-50.11-38.73c-6.71.4-13.41.87-20.35.2-55.85-5.45-98.74-48.63-111.18-101.85L144 241.31v6.85c0 89.64 63.97 169.55 152 181.69V464h-56c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function bhe(e){return Ac({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function jv(e){return Ac({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M268.2 381.4l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48c-10.7 4.6-16.5 16.1-13.9 27.5l24 104c2.5 10.8 12.1 18.6 23.4 18.6 100.7 0 193.7-32.4 269.7-86.9l-80-61.8c-10.9 6.5-22.1 12.7-33.6 18.1zm365.6 76.7L475.1 335.5C537.9 256.4 576 156.9 576 48c0-11.2-7.7-20.9-18.6-23.4l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-12.2 26.1-27.9 50.3-46 72.8L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4l588.4 454.7c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.4-6.8 4.1-16.9-2.9-22.3z"},child:[]}]})(e)}function vhe(e){return Ac({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function whe(e){return Ac({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.8 458.1l-55-42.5c15.4-1.4 29.2-13.7 29.2-31.1v-257c0-25.5-29.1-40.4-50.4-25.8L448 177.3v137.2l-32-24.7v-178c0-26.4-21.4-47.8-47.8-47.8H123.9L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4L42.7 82 416 370.6l178.5 138c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.5-6.9 4.2-17-2.8-22.4zM32 400.2c0 26.4 21.4 47.8 47.8 47.8h288.4c11.2 0 21.4-4 29.6-10.5L32 154.7v245.5z"},child:[]}]})(e)}function jhe(e){return Ac({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}const wd=Ht.create({baseURL:jo,timeout:1e4});wd.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===404?{data:{message:"Route not found",error:{status:404,message:"Route not found"}}}:Promise.reject(e)});const ch={initiateCall:async(e,t)=>{var r;try{return(await wd.post("/calls/initiate",{receiverId:e,type:t})).data}catch(s){throw((r=s.response)==null?void 0:r.data)||{message:"Failed to initiate call"}}},answerCall:async e=>{var t;try{return(await wd.post("/calls/answer",{callId:e})).data}catch(r){throw((t=r.response)==null?void 0:t.data)||{message:"Failed to answer call"}}},endCall:async e=>{var t;try{return(await wd.post("/calls/end",{callId:e})).data}catch(r){throw((t=r.response)==null?void 0:t.data)||{message:"Failed to end call"}}},rejectCall:async e=>{var t;try{return(await wd.post("/calls/reject",{callId:e})).data}catch(r){throw((t=r.response)==null?void 0:t.data)||{message:"Failed to reject call"}}},getCallHistory:async(e=10,t=0)=>{try{return(await wd.get("/calls/history",{params:{limit:e,offset:t}})).data}catch{return{calls:[],total:0}}},getActiveCall:async()=>{var e,t,r;try{return(await wd.get("/calls/active")).data}catch(s){if((e=s.response)==null||e.status,((t=s.response)==null?void 0:t.status)===404)return{hasActiveCall:!1,call:null};throw((r=s.response)==null?void 0:r.data)||{message:"Failed to get active call"}}},isServiceAvailable:async()=>{try{const e=await yR(`${jo}/calls/active`);return e.status!==404&&e.ok}catch{return!1}}},IL=m.createContext(),Che=({children:e})=>{const{socket:t,user:r}=wR(),[s,i]=m.useState(null),[o,a]=m.useState(null),[l,c]=m.useState(null),[d,u]=m.useState(!1),[A,f]=m.useState(!1),[h,g]=m.useState([]),[p,b]=m.useState(null),[x,j]=m.useState(null),[w,S]=m.useState(!0),[I,F]=m.useState(!0),[T,U]=m.useState(0),[K,B]=m.useState(!0),R=m.useRef(),D=m.useRef(),H=m.useRef(),P=m.useRef();m.useEffect(()=>(r&&K&&(async()=>{var ie,te,fe,pe;try{const{hasActiveCall:we,call:je}=await ch.getActiveCall();we&&(i(je),a("ongoing"),c(je.Type),await z({callId:je.CallID})),B(!0)}catch(we){(((ie=we.response)==null?void 0:ie.status)===404||(te=we.message)!=null&&te.includes("404")||(fe=we.message)!=null&&fe.includes("not found"))&&B(!1),(pe=we.response)==null||pe.status}})(),()=>{ye(),H.current&&H.current.close(),P.current&&clearInterval(P.current)}),[r,K]),m.useEffect(()=>{if(!t||!K)return;const ae=async we=>{console.log("Incoming call:",we),i(we),c(we.type),a("ringing"),u(!0)},ie=async we=>{console.log("Call answered:",we),a("ongoing"),G()},te=we=>{console.log("Call ended:",we),Fr.success(`Call ended. Duration: ${he(we.duration)}`),ce()},fe=we=>{console.log("Call rejected:",we),Fr.error("Call was rejected"),ce()},pe=async we=>{try{console.log("Received signaling data:",we.signal.type,we),H.current||(console.log("Setting up new peer connection for incoming call/signal"),await z({isReceivingCall:!0,fromUserId:we.fromUserId}));const{type:je,sdp:De,candidate:Ue}=we.signal;if(je==="offer"){console.log("Setting remote description (offer)"),await H.current.setRemoteDescription(new RTCSessionDescription({type:je,sdp:De})),console.log("Creating answer");const Ce=await H.current.createAnswer();console.log("Setting local description (answer)"),await H.current.setLocalDescription(Ce),console.log("Sending answer to:",we.fromUserId),t.emit("call-signal",{userId:we.fromUserId,signal:{type:"answer",sdp:H.current.localDescription.sdp}})}else if(je==="answer")console.log("Setting remote description (answer)"),await H.current.setRemoteDescription(new RTCSessionDescription({type:je,sdp:De})),console.log("Connection should be establishing now");else if(je==="candidate")try{console.log("Adding ICE candidate"),await H.current.addIceCandidate(new RTCIceCandidate(Ue))}catch{}}catch{Fr.error("Failed to establish connection")}};return K&&(t.on("incoming-call",ae),t.on("call-answered",ie),t.on("call-ended",te),t.on("call-rejected",fe),t.on("call-signal",pe)),()=>{t&&(t.off("incoming-call",ae),t.off("call-answered",ie),t.off("call-ended",te),t.off("call-rejected",fe),t.off("call-signal",pe))}},[t,r,K]);const z=async({callId:ae,isReceivingCall:ie,fromUserId:te})=>{try{const fe={audio:!0,video:l==="video"},pe=await navigator.mediaDevices.getUserMedia(fe);b(pe),R.current&&(R.current.srcObject=pe);const we={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"}],iceCandidatePoolSize:10,bundlePolicy:"max-bundle"},je=new RTCPeerConnection(we);if(H.current=je,pe.getTracks().forEach(De=>{je.addTrack(De,pe)}),je.ontrack=De=>{console.log("Got remote track:",De.streams[0]),j(De.streams[0]),D.current&&(D.current.srcObject=De.streams[0])},je.onicecandidate=De=>{De.candidate?(console.log("Generated new ICE candidate:",De.candidate.candidate),t.emit("call-signal",{userId:te||s.initiatorId||s.receiverId,signal:{type:"candidate",candidate:De.candidate}})):console.log("ICE candidate generation complete")},je.oniceconnectionstatechange=()=>{console.log("ICE connection state change:",je.iceConnectionState)},je.onicegatheringstatechange=()=>{console.log("ICE gathering state change:",je.iceGatheringState)},!ie){const De=await je.createOffer();await je.setLocalDescription(De),t.emit("call-signal",{userId:te||s.receiverId,signal:{type:"offer",sdp:je.localDescription.sdp}})}return ae&&t.emit("join-call-room",ae),je.onconnectionstatechange=De=>{console.log("Connection state change:",je.connectionState),(je.connectionState==="disconnected"||je.connectionState==="failed")&&(Fr.error("Call connection lost"),_())},je}catch(fe){throw console.error("Error setting up media and connection:",fe),fe.name==="NotAllowedError"?Fr.error("Please allow camera and microphone access"):Fr.error("Failed to setup call: "+fe.message),fe}},G=()=>{U(0),P.current=setInterval(()=>{U(ae=>ae+1)},1e3)},he=ae=>{const ie=Math.floor(ae/60),te=ae%60;return`${ie.toString().padStart(2,"0")}:${te.toString().padStart(2,"0")}`},ce=()=>{i(null),a(null),c(null),u(!1),f(!1),ye(),H.current&&(H.current.close(),H.current=null),P.current&&(clearInterval(P.current),P.current=null)},ye=()=>{p&&(p.getTracks().forEach(ae=>ae.stop()),b(null)),j(null)},X=async(ae,ie="video")=>{try{f(!0),c(ie);const te=await ch.initiateCall(ae,ie);return i(te.call),a("ringing"),await z({callId:te.call.callId,isReceivingCall:!1}),te.call}catch(te){throw console.error("Error initiating call:",te),Fr.error(te.message||"Failed to initiate call"),ce(),te}},re=async()=>{try{if(!s)return;const ae=await ch.answerCall(s.callId);return a("ongoing"),u(!1),await z({callId:s.callId,isReceivingCall:!0,fromUserId:s.initiatorId}),G(),ae}catch(ae){throw console.error("Error answering call:",ae),Fr.error(ae.message||"Failed to answer call"),ce(),ae}},_=async()=>{try{if(!s)return;await ch.endCall(s.callId),t&&t.emit("leave-call-room",s.callId),ce()}catch(ae){throw console.error("Error ending call:",ae),Fr.error(ae.message||"Failed to end call"),ce(),ae}},Q=async()=>{try{if(!s)return;await ch.rejectCall(s.callId),ce()}catch(ae){throw console.error("Error rejecting call:",ae),Fr.error(ae.message||"Failed to reject call"),ce(),ae}},Z=()=>{if(p){const ae=!w;return p.getAudioTracks().forEach(ie=>{ie.enabled=ae}),S(ae),t&&s&&t.emit("toggle-media",{callId:s.callId,type:"audio",enabled:ae}),ae}return w},Ae=()=>{if(p){const ae=!I;return p.getVideoTracks().forEach(ie=>{ie.enabled=ae}),F(ae),t&&s&&t.emit("toggle-media",{callId:s.callId,type:"video",enabled:ae}),ae}return I},me=async(ae=10,ie=0)=>{try{const te=await ch.getCallHistory(ae,ie);return g(te.calls),te.calls}catch(te){throw console.error("Error loading call history:",te),Fr.error(te.message||"Failed to load call history"),te}};return n.jsx(IL.Provider,{value:{call:s,callStatus:o,callType:l,isReceivingCall:d,isMakingCall:A,callHistory:h,localStream:p,remoteStream:x,isAudioEnabled:w,isVideoEnabled:I,callDuration:T,localVideoRef:R,remoteVideoRef:D,initiateCall:X,answerCall:re,endCall:_,rejectCall:Q,toggleAudio:Z,toggleVideo:Ae,loadCallHistory:me,formatCallDuration:he},children:e})},TL=()=>m.useContext(IL),FL=()=>{const{call:e,callStatus:t,callType:r,isReceivingCall:s,isMakingCall:i,callDuration:o,isAudioEnabled:a,isVideoEnabled:l,localVideoRef:c,remoteVideoRef:d,answerCall:u,endCall:A,rejectCall:f,toggleAudio:h,toggleVideo:g,formatCallDuration:p}=TL();if(m.useEffect(()=>{c.current&&(c.current.muted=!0)},[]),!e)return null;const b=()=>n.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[n.jsxs("h2",{className:"text-xl font-semibold mb-2",children:["Incoming ",r," Call"]}),n.jsxs("p",{className:"text-lg mb-6",children:["From: ",e.initiatorName||"Unknown"]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{onClick:f,className:"bg-red-500 hover:bg-red-600 text-white p-4 rounded-full",children:n.jsx(jv,{className:"text-2xl"})}),n.jsx("button",{onClick:u,className:"bg-green-500 hover:bg-green-600 text-white p-4 rounded-full",children:n.jsx(vhe,{className:"text-2xl"})})]})]}),x=()=>n.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Calling..."}),n.jsx("p",{className:"text-lg mb-6",children:e.receiverName||"Unknown"}),n.jsx("button",{onClick:A,className:"bg-red-500 hover:bg-red-600 text-white p-4 rounded-full",children:n.jsx(jv,{className:"text-2xl"})})]}),j=()=>{var w,S;return n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"flex-1 relative",children:[r==="video"&&n.jsx("div",{className:"absolute inset-0 bg-gray-900",children:n.jsx("video",{ref:d,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"})}),r==="audio"&&n.jsx("div",{className:"absolute inset-0 bg-gray-900 flex items-center justify-center",children:n.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-500 flex items-center justify-center",children:n.jsx("span",{className:"text-4xl text-white font-bold",children:((w=e.receiverName)==null?void 0:w[0])||((S=e.initiatorName)==null?void 0:S[0])||"?"})})}),r==="video"&&n.jsx("div",{className:"absolute bottom-4 right-4 w-1/4 h-1/4 max-w-[160px] max-h-[160px] rounded-lg overflow-hidden border-2 border-white shadow-lg",children:n.jsx("video",{ref:c,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"})}),n.jsx("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white py-1 px-3 rounded-full",children:p(o)})]}),n.jsxs("div",{className:"bg-gray-800 p-4 flex justify-center space-x-6",children:[n.jsx("button",{onClick:h,className:`p-3 rounded-full ${a?"bg-gray-600":"bg-red-500"}`,children:a?n.jsx(bhe,{className:"text-white text-xl"}):n.jsx(yhe,{className:"text-white text-xl"})}),r==="video"&&n.jsx("button",{onClick:g,className:`p-3 rounded-full ${l?"bg-gray-600":"bg-red-500"}`,children:l?n.jsx(jhe,{className:"text-white text-xl"}):n.jsx(whe,{className:"text-white text-xl"})}),n.jsx("button",{onClick:A,className:"bg-red-500 hover:bg-red-600 p-3 rounded-full",children:n.jsx(jv,{className:"text-white text-xl"})})]})]})};return n.jsx(G5,{children:n.jsx(ur.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl overflow-hidden w-full max-w-3xl h-[80vh]",children:[s&&t==="ringing"&&b(),i&&t==="ringing"&&x(),t==="ongoing"&&j()]})})})},Nhe=()=>{var Do,si,On;const[e,t]=m.useState([]),[r,s]=m.useState(""),[i,o]=m.useState(null),[a,l]=m.useState(null),[c,d]=m.useState([]),u=m.useRef({}),[A,f]=m.useState(""),[h,g]=m.useState([]),[p,b]=m.useState(null),[x,j]=m.useState(!1),[w,S]=m.useState(null),[I,F]=m.useState(!1),[T,U]=m.useState(""),[K,B]=m.useState([]),[R,D]=m.useState([]),[H,P]=m.useState(""),[z,G]=m.useState(!1),[he,ce]=m.useState([]),[ye,X]=m.useState(!1),[re,_]=m.useState(null),[Q,Z]=m.useState(!1),[Ae,me]=m.useState(null),[ae,ie]=m.useState(null),[te,fe]=m.useState(1),pe=m.useRef(null),we=m.useRef(),je=m.useRef(),De=m.useRef(!1),Ue=rn(),Ce=lo(),{initiateCall:Ct}=TL(),[ct,rt]=m.useState(!1),[st,at]=m.useState(!1),[qe,St]=m.useState(!1),[kt,He]=m.useState(!1),[Le,q]=m.useState([]),[M,$]=m.useState(!1),[J,ee]=m.useState([]),[ve,Se]=m.useState(""),[We,$e]=m.useState([]),[Pe,Be]=m.useState(!1),[Te,pt]=m.useState(!1),[nt,Nt]=m.useState("members"),[ht,ft]=m.useState(""),[xe,Xe]=m.useState(!1),[Fe,et]=m.useState(null),[Et,Qt]=m.useState(null),[Ft,Rr]=m.useState(""),[vr,Dn]=m.useState(!1),tr=(Do=i==null?void 0:i.Participants)==null?void 0:Do.some(oe=>{var tt;return(oe.UserID||oe.id)===((p==null?void 0:p.UserID)||(p==null?void 0:p.id))&&((tt=oe.ConversationParticipant)==null?void 0:tt.Role)==="admin"}),an=async oe=>{try{const tt=await Di.getConversationById(oe);q(tt.Participants||[])}catch(tt){console.error("Error fetching group members:",tt),Wr("Khng th ti danh sch thnh vin nhm")}};m.useEffect(()=>{kt||q([]),M||(ee([]),$e([]),Se(""))},[kt,M]),m.useEffect(()=>{kt&&i&&(ft(i.Title||""),Rr(i.Description||""),et(null),Qt(null))},[kt,i]);const gs=(oe,tt)=>{try{Ct(oe,"audio")}catch(yt){Wr(yt.message||"Failed to start audio call")}},Ts=(oe,tt)=>{try{Ct(oe,"video")}catch(yt){Wr(yt.message||"Failed to start video call")}},Ni=()=>{rt(!1),at(!1)};m.useEffect(()=>{(async()=>{try{X(!0),_(null);const tt=await Ht.get("http://localhost:5001/api/events?limit=5",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});ce(tt.data.events||[])}catch(tt){console.error("Error fetching events:",tt),_("Khng th ti danh sch s kin")}finally{X(!1)}})()},[]);const ti=oe=>{if(!oe)return"";try{return new Date(oe).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(tt){return console.error("Error formatting date:",tt),oe}},ri=oe=>{if(!oe)return"";try{return oe.substring(0,5)}catch(tt){return console.error("Error formatting time:",tt),oe}},ni=oe=>{if(!oe){Wr("ID s kin khng hp l");return}Ue(`/events/${oe}`)};m.useEffect(()=>{if(!localStorage.getItem("token")){Ue("/login");return}},[Ue]);const Bi=async oe=>{try{if(!p||!p.UserID){console.error("Current user data not loaded yet"),Wr("Khng th to cuc tr chuyn. Vui lng th li sau khi ti d liu ngi dng.");return}console.log("Handling user from profile:",oe);const tt=oe.UserID||oe.id;if(!tt){console.error("Invalid user from profile - missing ID:",oe),Wr("Khng th tm thy ID ngi dng  chn.");return}const yt=p.UserID||p.id;if(!yt){console.error("Invalid current user - missing ID:",p),Wr("Khng th tm thy ID ngi dng hin ti.");return}if(Number(tt)===Number(yt)){console.error("Cannot create conversation with yourself"),Wr("Khng th to cuc tr chuyn vi chnh bn.");return}if(console.log(`Looking for existing conversation between user ${yt} and ${tt}`),!e||e.length===0){console.log("No conversations loaded yet, fetching them first");try{await xs()}catch(Mt){console.error("Failed to fetch conversations:",Mt),Wr("Khng th ti danh sch cuc tr chuyn.");return}}const It=localStorage.getItem(`conversation_created_${tt}`);if(It)if(new Date().getTime()-parseInt(It)<6e4){console.log("This conversation was recently created, skipping recreation");const nn=e.find(Xr=>Xr.Type!=="group"&&Xr.Participants&&Xr.Participants.some(oa=>Number(oa.UserID)===Number(tt)||Number(oa.id)===Number(tt)));if(nn){console.log("Found recently created conversation, selecting it"),Fs(nn);return}}else localStorage.removeItem(`conversation_created_${tt}`);let Ut=e.find(Mt=>Mt.Type==="group"?!1:Mt.Participants&&Mt.Participants.some(nr=>Number(nr.UserID)===Number(tt)||Number(nr.id)===Number(tt)));if(Ut){console.log("Found existing conversation:",Ut.ConversationID),Fs(Ut);return}console.log("No existing conversation found, creating new one");try{const Mt=await Di.createConversation({title:null,type:"private",createdBy:yt,participants:[Number(tt)]});console.log("New conversation created:",Mt),localStorage.setItem(`conversation_created_${tt}`,new Date().getTime().toString());const nr={...Mt,Participants:[{UserID:yt,Username:p.Username,FullName:p.FullName,Image:p.Image||p.Avatar},{UserID:tt,Username:oe.Username,FullName:oe.FullName||oe.Username,Image:oe.Image||oe.Avatar}],Messages:[]};t(nn=>[nr,...nn]),o(nr),localStorage.setItem("currentConversationId",nr.ConversationID),oe&&l({...oe,UserID:tt,FullName:oe.FullName||oe.Username,Image:oe.Image||oe.Avatar}),setTimeout(()=>{xs(0,!0).catch(nn=>{console.log("Failed to refresh conversations after creation:",nn)})},500)}catch(Mt){console.error("Error creating new conversation:",Mt),e&&e.length>0&&(console.log("Using first conversation as fallback"),Fs(e[0])),Wr("Khng th to cuc tr chuyn mi. Hin th danh sch tr chuyn hin c.")}}catch(tt){console.error("Error in handleUserFromProfile:",tt),Wr(" xy ra li khi x l h s ngi dng.")}};m.useEffect(()=>{if(p)return we.current||(console.log("Initializing socket connection..."),we.current=im("http://localhost:5001",{auth:{token:localStorage.getItem("token")},transports:["websocket","polling"],reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5}),we.current.on("connect",()=>{console.log("Socket connected successfully")}),we.current.on("connect_error",oe=>{console.error("Socket connection error:",oe.message)}),we.current.on("disconnect",oe=>{console.log("Socket disconnected:",oe)}),we.current.on("getUsers",oe=>{g(oe)}),we.current.on("new-message",oe=>{i&&oe.ConversationID===i.ConversationID&&d(yt=>{const It=[...yt,oe];return u.current[i.ConversationID]=It,It}),new Audio("/sounds/message.mp3").play().catch(yt=>console.log("Error playing sound:",yt))}),we.current.on("conversation-updated",({conversationId:oe,lastMessage:tt})=>{t(yt=>{const It=yt.findIndex(nr=>nr.ConversationID===oe);if(It===-1)return xs(0,!0),yt;const Ut=yt[It];return[{...Ut,LastMessageAt:new Date().toISOString(),Messages:[tt,...(Ut.Messages||[]).slice(1)]},...yt.filter(nr=>nr.ConversationID!==oe)]})})),()=>{we.current&&(console.log("Component unmounting, cleaning up socket connection"),we.current.disconnect(),we.current=null)}},[p]),m.useEffect(()=>{let oe=!0;const tt=async()=>{var yt,It;try{const Ut=localStorage.getItem("token");if(!Ut){console.log("No token found, redirecting to login"),Ue("/login");return}const Mt=await Ht.get("http://localhost:5001/api/users/me",{headers:{Authorization:`Bearer ${Ut}`},timeout:8e3});if(!oe)return;if(!Mt.data){console.log("Invalid user data response"),Ue("/login");return}if(b(Mt.data),(yt=Ce.state)!=null&&yt.selectedUser){console.log("User navigated from profile page with:",Ce.state.selectedUser),Bi(Ce.state.selectedUser);return}j(!1)}catch(Ut){console.error("Error fetching user:",Ut),oe&&(((It=Ut.response)==null?void 0:It.status)===401?Ue("/login"):(S("Failed to load user data. Please refresh the page."),j(!1)))}};return j(!1),tt(),()=>{oe=!1}},[Ue,Ce.state]);const xs=async(oe=0,tt=!1)=>{if(!p||!p.UserID)return console.log("Delaying conversation fetch: user not loaded yet"),Promise.reject(new Error("User not loaded yet"));if(Q)return console.log("Already refreshing conversations, skipping duplicate fetch"),Promise.resolve(e);Z(!0),j(!0);try{console.log("Fetching conversations...");const yt=new AbortController,It=setTimeout(()=>yt.abort(),15e3),Ut=localStorage.getItem("conversationsEtag"),Mt={Authorization:`Bearer ${localStorage.getItem("token")}`};!tt&&Ut&&(Mt["If-None-Match"]=Ut);const nr=await Ht.get("http://localhost:5001/api/chat/conversations",{headers:Mt,signal:yt.signal,validateStatus:function(Xr){return Xr>=200&&Xr<300||Xr===304}});if(clearTimeout(It),nr.status===304)return console.log("Server returned 304 Not Modified, using cached conversations"),localStorage.setItem("lastConversationsRefresh",Date.now().toString()),e.length===0&&!De.current&&(De.current=!0,F(!0)),j(!1),e;const nn=nr.headers.etag;if(nn&&localStorage.setItem("conversationsEtag",nn),nr.data&&Array.isArray(nr.data)){console.log(`Loaded ${nr.data.length} conversations`);const Xr=[...nr.data].sort((oa,Bl)=>{const Pu=oa.LastMessageAt?new Date(oa.LastMessageAt):new Date(0);return(Bl.LastMessageAt?new Date(Bl.LastMessageAt):new Date(0))-Pu});return t(Xr),localStorage.setItem("lastConversationsRefresh",Date.now().toString()),Xr.length===0&&!De.current&&(De.current=!0,setTimeout(()=>F(!0),100)),De.current=!0,j(!1),Xr}else return console.error("Invalid conversations data format:",nr.data),j(!1),e.length>0?e:[]}catch(yt){if(console.error("Error fetching conversations:",yt),j(!1),yt.name==="AbortError")console.log("Fetch conversations timed out");else if(yt.response&&yt.response.status===401)return console.log("Unauthorized, redirecting to login..."),Ue("/login"),[];if(oe<2){const It=Math.pow(2,oe)*1e3;return console.log(`Retrying fetch conversations in ${It}ms (attempt ${oe+1}/3)...`),await new Promise(Ut=>setTimeout(Ut,It)),Z(!1),xs(oe+1)}return e.length>0?e:[]}finally{Z(!1)}};m.useEffect(()=>{let oe;return p&&!Q&&(clearTimeout(oe),oe=setTimeout(()=>{const tt=localStorage.getItem("lastConversationsRefresh"),yt=Date.now();(!tt||yt-parseInt(tt)>3e4)&&xs().then(Ut=>{if(!De.current&&(De.current=!0,Ut.length===0)){F(!0);return}const Mt=localStorage.getItem("currentConversationId");if(Mt&&!i){const nr=Ut.find(nn=>nn.ConversationID===parseInt(Mt));nr?(console.log("Restoring previously selected conversation:",nr.ConversationID),Fs(nr)):Ut.length>0&&(console.log("Saved conversation not found, selecting first conversation"),localStorage.removeItem("currentConversationId"),Fs(Ut[0]))}else Ut.length>0&&!i&&Fs(Ut[0])}).catch(Ut=>{console.error("Failed to fetch conversations:",Ut),e.length===0&&!De.current&&(De.current=!0,F(!0))})},100)),()=>{clearTimeout(oe)}},[p,Q,i]);const zi=async oe=>{if(oe.preventDefault(),!A.trim()||!i)return;const tt=A.trim(),yt=`msg_${Date.now()}`;f("");const It={MessageID:yt,ConversationID:i.ConversationID,Content:tt,CreatedAt:new Date().toISOString(),Sender:{UserID:p.UserID||p.id,Username:p.Username,FullName:p.FullName,Image:p.Image},isPending:!0};d(Ut=>{const Mt=[...Ut,It];return u.current[i.ConversationID]=Mt,Mt});try{const Ut=await Di.sendMessage(i.ConversationID,{content:tt});d(nr=>{const nn=nr.map(Xr=>Xr.MessageID===yt?{...Ut,Sender:It.Sender}:Xr);return u.current[i.ConversationID]=nn,nn});const Mt={...i,LastMessageAt:new Date().toISOString(),Messages:[{...Ut,Sender:{UserID:p.UserID||p.id,Username:p.Username,FullName:p.FullName,Image:p.Image}},...(i.Messages||[]).slice(1)]};t(nr=>[Mt,...nr.filter(nn=>nn.ConversationID!==i.ConversationID)]),o(Mt),localStorage.setItem("lastConversationsRefresh",Date.now().toString()),we.current&&we.current.emit("message-sent",{conversationId:i.ConversationID,message:Ut})}catch(Ut){console.error("Error sending message:",Ut),d(Mt=>Mt.map(nr=>nr.MessageID===yt?{...nr,isError:!0,isPending:!1}:nr)),Wr("Khng th gi tin nhn. Vui lng th li sau.")}},Fs=async oe=>{const tt=oe.ConversationID,yt=u.current[tt];if(yt)d(yt);else{const Ut=localStorage.getItem(`chat_messages_${tt}`);if(Ut)try{const Mt=JSON.parse(Ut);Array.isArray(Mt)&&(d(Mt),u.current[tt]=Mt)}catch(Mt){console.error("Error parsing localStorage messages:",Mt),oe.Messages&&oe.Messages.length>0?d(oe.Messages):d([])}else oe.Messages&&oe.Messages.length>0?d(oe.Messages):d([])}console.log("Selecting conversation:",oe.ConversationID);let It=oe;if(oe.Type==="group")try{It=await Di.getConversationById(oe.ConversationID)}catch(Ut){console.error("Error loading full group conversation:",Ut)}if(o(It),localStorage.setItem("currentConversationId",It.ConversationID),It.Type!=="group"){const Ut=zr(It);if(Ut.length>0){const Mt=Ut[0];l({...Mt,UserID:Mt.UserID||Mt.id,FullName:Mt.FullName||Mt.Username,Email:Mt.Email,Phone:Mt.Phone,Bio:Mt.Bio,Image:Vs(Mt)})}else l(null)}else l(null)},zr=oe=>{if(!(oe!=null&&oe.Participants)||!p)return[];const tt=p.UserID||p.id;return oe.Participants.filter(yt=>(yt.UserID||yt.id)!==tt)},ho=oe=>{var yt,It;if(!oe)return"";if(oe.Type==="group"&&oe.Title)return oe.Title;const tt=zr(oe);if(tt.length===0){if(((yt=oe.Messages)==null?void 0:yt.length)>0&&oe.Messages[0].Sender)return oe.Messages[0].Sender.FullName||oe.Messages[0].Sender.Username;if(oe.CreatedBy===(p==null?void 0:p.UserID))return"New Conversation";const Ut=(It=oe.Participants)==null?void 0:It.find(Mt=>Mt.UserID===oe.CreatedBy);return Ut?Ut.FullName||Ut.Username:"New Conversation"}return tt.map(Ut=>Ut.FullName||Ut.Username).join(", ")},Vs=oe=>oe?oe.Image||oe.Avatar||oe.avatar||oe.profileImage||oe.profile_image:null,ki=oe=>{var It,Ut;if(!oe)return{src:null,name:""};if(oe.Type==="group")return{src:null,name:oe.Title||"Group Chat"};const tt=zr(oe);if(tt.length===0){if(((It=oe.Messages)==null?void 0:It.length)>0&&oe.Messages[0].Sender){const nr=oe.Messages[0].Sender;return{src:Vs(nr),name:nr.FullName||nr.Username}}const Mt=(Ut=oe.Participants)==null?void 0:Ut.find(nr=>nr.UserID===oe.CreatedBy);return Mt?{src:Vs(Mt),name:Mt.FullName||Mt.Username}:{src:null,name:"New Conversation"}}const yt=tt[0];return{src:Vs(yt),name:yt.FullName||yt.Username}},fo=oe=>!oe||!h?!1:h.some(tt=>(tt==null?void 0:tt.UserID)===oe||(tt==null?void 0:tt.id)===oe);m.useEffect(()=>{let oe;return(async()=>{if(!i)return;const yt=i.ConversationID,It=u.current[yt];if(It)d(It);else{const Ut=localStorage.getItem(`chat_messages_${yt}`);if(Ut)try{const Mt=JSON.parse(Ut);Array.isArray(Mt)&&(d(Mt),u.current[yt]=Mt)}catch(Mt){console.error("Error parsing localStorage messages:",Mt)}}oe=new AbortController;try{const Ut=await Ht.get(`http://localhost:5001/api/chat/messages/${i.ConversationID}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},signal:oe.signal});d(Ut.data),u.current[i.ConversationID]=Ut.data}catch(Ut){if(Ut.name==="AbortError")return;console.error("Error fetching messages:",Ut)}})(),()=>{oe==null||oe.abort()}},[i]),m.useEffect(()=>{if(i!=null&&i.ConversationID&&Array.isArray(c))try{localStorage.setItem(`chat_messages_${i.ConversationID}`,JSON.stringify(c))}catch(oe){console.error("Error saving messages to localStorage:",oe)}},[c,i]),m.useEffect(()=>{var oe;(oe=je.current)==null||oe.scrollIntoView({behavior:"smooth"})},[c]);const fc=e.filter(oe=>{var It,Ut,Mt;const tt=ho(oe).toLowerCase(),yt=((Mt=(Ut=(It=oe.Messages)==null?void 0:It[0])==null?void 0:Ut.Content)==null?void 0:Mt.toLowerCase())||"";return tt.includes(r.toLowerCase())||yt.includes(r.toLowerCase())}),Wr=oe=>{S(oe),setTimeout(()=>S(null),5e3)},Si=oe=>{if(!oe)return"";try{const tt=new Date(oe);return isNaN(tt.getTime())?"":gl(tt,"HH:mm")}catch(tt){return console.error("Error formatting date:",tt),""}},Rs=async(oe,tt=!1)=>{P(oe),G(!0);const yt=tt?te+1:1;try{let It=[];!oe||oe.length<2?It=await Di.getSuggestedUsers(20,yt):It=await Di.searchUsers(oe,30,yt);const Ut=It.filter(Mt=>Mt.UserID!==(p==null?void 0:p.UserID)&&Mt.UserID!==(p==null?void 0:p.id)&&!K.some(nr=>nr.UserID===Mt.UserID||nr.UserID===Mt.id));fe(yt),(oe===H||!oe)&&D(tt?Mt=>{const nr=new Set(Mt.map(Xr=>Xr.UserID||Xr.id)),nn=Ut.filter(Xr=>!nr.has(Xr.UserID||Xr.id));return[...Mt,...nn]}:Ut)}catch(It){console.error("Error searching/suggesting users:",It)}finally{G(!1)}},Ua=oe=>{const tt=oe.target.files[0];if(!tt)return;if(!tt.type.match("image.*")){Wr("Vui lng chn mt tp hnh nh.");return}if(tt.size>5*1024*1024){Wr("Kch thc nh qu ln. Vui lng chn nh nh hn 5MB.");return}const yt=new FileReader;yt.onload=It=>{ie(It.target.result)},yt.readAsDataURL(tt),me(tt)},Ra=()=>{me(null),ie(null),pe.current&&(pe.current.value="")},Uo=oe=>{const tt=[...K,oe];B(tt),localStorage.setItem("chat_create_group_selectedUsers",JSON.stringify(tt)),D(R.filter(yt=>yt.UserID!==oe.UserID)),P(""),Rs("")},mc=oe=>{const tt=K.filter(yt=>yt.UserID!==oe);B(tt),localStorage.setItem("chat_create_group_selectedUsers",JSON.stringify(tt)),Rs(H)};m.useEffect(()=>{if(I){const oe=localStorage.getItem("chat_create_group_selectedUsers");if(oe)try{B(JSON.parse(oe))}catch{}Rs("")}else B([]),localStorage.removeItem("chat_create_group_selectedUsers")},[I]);const Lu=async()=>{if(!(!T.trim()||K.length===0))try{j(!0);const oe=(p==null?void 0:p.UserID)||(p==null?void 0:p.id);if(!oe){Wr("Khng th to nhm. Vui lng ng nhp li.");return}const tt=[...K.map(It=>It.UserID||It.id),oe],yt={title:T,type:"group",participants:tt};try{const It=await Di.createConversation(yt);if(Ae)try{const Ut=new FormData;Ut.append("image",Ae),Ut.append("conversationId",It.ConversationID),await Ht.post(`http://localhost:5001/api/chat/conversations/${It.ConversationID}/image`,Ut,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}}),It.ImageUrl&&(It.ImageUrl=`http://localhost:5001/uploads/groups/${It.ConversationID}.jpg`)}catch(Ut){console.error("Error uploading group image:",Ut)}t([It,...e]),o(It),U(""),B([]),me(null),ie(null),F(!1)}catch(It){console.error("Error creating group:",It),It.data&&It.data.message?It.data.message.includes("Validation error")||It.data.message.includes("duplicate")||It.data.message.includes("unique constraint")||It.data.message.includes("already exists")?Wr("Nhm chat vi thnh vin ny  tn ti hoc c li d liu. Vui lng th li vi thnh vin khc."):Wr(`Khng th to nhm: ${It.data.message}`):Wr("Khng th to nhm. Vui lng th li sau.")}}catch(oe){console.error("Error in group creation process:",oe),Wr("Khng th to nhm. Vui lng th li.")}finally{j(!1)}};if(x)return n.jsx("div",{className:"flex h-screen items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const Wi=oe=>{oe&&Ue(`/profile/${oe}`)},Ro=async oe=>{try{Se(oe);let tt=[];!oe||oe.length<2?tt=await Di.getSuggestedUsers(20,1):tt=await Di.searchUsers(oe,30,1);const yt=Le.map(Ut=>Ut.UserID||Ut.id),It=tt.filter(Ut=>!yt.includes(Ut.UserID||Ut.id));ee(It)}catch(tt){console.error("Error searching for users:",tt),Wr("Khng th tm kim ngi dng")}},Tn=async()=>{if(!(!We.length||!i)){Be(!0);try{const oe=await Di.addGroupParticipants(i.ConversationID,We.map(tt=>tt.UserID||tt.id));oe.conversation&&o(oe.conversation),$(!1),await an(i.ConversationID),$e([]),ee([])}catch(oe){console.error("Failed to add members:",oe),Wr(oe.message||"Khng th thm thnh vin vo nhm")}finally{Be(!1)}}},pc=async oe=>{if(!(!i||Te)){pt(!0);try{await Di.removeGroupParticipant(i.ConversationID,oe),q(tt=>tt.filter(yt=>(yt.UserID||yt.id)!==oe)),i&&i.Participants&&o(tt=>({...tt,Participants:tt.Participants.filter(yt=>(yt.UserID||yt.id)!==oe)}))}catch(tt){console.error("Failed to remove member:",tt),Wr(tt.message||"Khng th xa thnh vin khi nhm")}finally{pt(!1)}}},gc=async()=>{if(!(!i||Te)&&confirm("Bn c chc chn mun ri khi nhm ny?")){pt(!0);try{await Di.leaveGroup(i.ConversationID),t(oe=>oe.filter(tt=>tt.ConversationID!==i.ConversationID)),o(null),He(!1)}catch(oe){console.error("Failed to leave group:",oe),Wr(oe.message||"Khng th ri khi nhm")}finally{pt(!1)}}},ia=oe=>{const tt=oe.target.files[0];if(!tt)return;if(!tt.type.match("image.*")){Wr("Vui lng chn mt tp hnh nh.");return}if(tt.size>5*1024*1024){Wr("Kch thc nh qu ln. Vui lng chn nh nh hn 5MB.");return}const yt=new FileReader;yt.onload=It=>{Qt(It.target.result)},yt.readAsDataURL(tt),et(tt)},Mo=async()=>{if(!(!i||!ht.trim())){Dn(!0);try{const oe={title:ht.trim(),description:Ft.trim()};if(await Di.updateConversation(i.ConversationID,oe),Fe){const It=new FormData;It.append("image",Fe),await Ht.post(`http://localhost:5001/api/chat/conversations/${i.ConversationID}/image`,It,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}})}o(It=>({...It,Title:ht.trim()}));const tt=`${p.FullName||p.Username}  cp nht thng tin nhm.`;await Di.sendMessage(i.ConversationID,{content:tt,type:"system"}),Xe(!1),et(null),Qt(null);const yt=await Di.getConversationById(i.ConversationID);o(yt)}catch(oe){console.error("Failed to update group info:",oe),Wr(oe.message||"Khng th cp nht thng tin nhm")}finally{Dn(!1)}}};return n.jsxs("div",{className:"flex h-[93vh] bg-gray-100 w-full rounded-xl shadow-lg",children:[n.jsx(FL,{}),w&&n.jsx("div",{className:"absolute top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-md",children:w}),n.jsxs("div",{className:"w-1/5 bg-white border-r overflow-hidden flex flex-col h-full rounded-l-xl",children:[n.jsxs("div",{className:"p-3 border-b",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Tr chuyn"}),n.jsx("button",{onClick:()=>{F(!0),Rs("")},className:"p-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition focus:outline-none focus:ring-2 focus:ring-blue-300",title:"To nhm mi",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Tm kim cuc tr chuyn...",value:r,onChange:oe=>s(oe.target.value),className:"w-full p-2.5 pl-10 text-sm border rounded-lg focus:outline-none focus:border-blue-500 bg-gray-50"}),n.jsx("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),I&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-5xl p-6 shadow-xl h-[85vh] flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-xl font-bold",children:"To nhm mi"}),n.jsx("button",{onClick:()=>F(!1),className:"text-gray-600 hover:text-gray-800",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"flex-1 flex gap-6 overflow-hidden",children:[n.jsxs("div",{className:"w-2/5 flex flex-col overflow-hidden",children:[n.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Thng tin nhm"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border mb-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn nhm"}),n.jsx("input",{type:"text",value:T,onChange:oe=>U(oe.target.value),placeholder:"Nhp tn nhm",className:"w-full p-2.5 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"nh nhm (ty chn)"}),ae?n.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[n.jsx("img",{src:ae,alt:"Group Preview",className:"w-full h-full object-cover rounded-lg border"}),n.jsx("button",{onClick:Ra,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>{var oe;return(oe=pe.current)==null?void 0:oe.click()},children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Ko th nh hoc bm  ti ln"}),n.jsx("input",{type:"file",ref:pe,accept:"image/*",className:"hidden",onChange:Ua})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t nhm (ty chn)"}),n.jsx("textarea",{placeholder:"M t ngn v nhm",rows:3,className:"w-full p-2.5 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"mt-2 flex-1 overflow-hidden flex flex-col",children:[n.jsxs("h4",{className:"font-medium text-gray-700 mb-2",children:["Thnh vin  chn (",K.length,")"]}),n.jsx("div",{className:"bg-gray-50 rounded-lg border flex-1 overflow-y-auto p-2",children:K.length>0?n.jsx("div",{className:"flex flex-wrap gap-2 p-2",children:K.map(oe=>n.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-1.5 rounded-full flex items-center",children:[n.jsx(fn,{src:oe.Image||oe.Avatar,name:oe.FullName||oe.Username,size:"tiny",className:"mr-2"}),n.jsx("span",{className:"text-sm",children:oe.FullName||oe.Username}),n.jsx("button",{onClick:()=>mc(oe.UserID||oe.id),className:"ml-2 text-blue-600 hover:text-blue-800",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},oe.UserID||oe.id))}):n.jsx("div",{className:"p-4 text-center text-gray-500",children:"Cha c thnh vin no c chn"})})]})]}),n.jsxs("div",{className:"w-3/5 flex flex-col overflow-hidden",children:[n.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Thm thnh vin"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border flex-1 flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"relative mb-4",children:[n.jsx("input",{type:"text",value:H,onChange:oe=>Rs(oe.target.value),onFocus:()=>{!R.length&&!z&&Rs("")},placeholder:"Tm kim ngi dng...",className:"w-full p-2.5 pl-10 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 absolute left-3 top-2.5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),H&&n.jsx("button",{onClick:()=>{P(""),Rs("")},className:"absolute right-10 top-2.5 text-gray-400 hover:text-gray-600",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),z&&n.jsx("div",{className:"absolute right-3 top-2.5 animate-spin h-5 w-5 border-2 border-blue-500 border-t-transparent rounded-full"})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:z?n.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-500",children:[n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-2 border-blue-500 border-t-transparent mb-2"}),n.jsx("p",{children:H?"ang tm kim...":"ang ti danh sch ngi dng..."})]}):R.length>0?n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:R.map(oe=>n.jsxs("div",{className:"p-3 bg-white hover:bg-blue-50 rounded-md cursor-pointer flex items-center justify-between transition-colors border",onClick:()=>Uo(oe),children:[n.jsxs("div",{className:"flex items-center overflow-hidden",children:[n.jsx(fn,{src:oe.Image||oe.Avatar,name:oe.FullName||oe.Username,size:"small",className:"flex-shrink-0 mr-3"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"font-medium truncate",children:oe.FullName||oe.Username}),n.jsx("p",{className:"text-xs text-gray-500 truncate",children:oe.Email||`@${oe.Username}`})]})]}),n.jsx("button",{className:"ml-2 p-1 bg-blue-100 text-blue-600 rounded-full hover:bg-blue-200 flex-shrink-0",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]},oe.UserID||oe.id))}),R.length>=20&&n.jsx("div",{className:"flex justify-center pt-2",children:n.jsx("button",{onClick:()=>{Rs(H||"",!0)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors text-sm",disabled:z,children:z?"ang ti...":"Ti thm ngi dng"})})]}):H&&H.length>1?n.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-500",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-300 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),n.jsxs("p",{children:['Khng tm thy ngi dng ph hp vi "',H,'"']}),n.jsx("button",{onClick:()=>Rs(""),className:"mt-2 text-blue-500 hover:text-blue-700 text-sm",children:"Xem danh sch gi "})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-500",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-300 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),n.jsx("p",{children:"Khng th ti danh sch ngi dng gi "}),n.jsx("button",{onClick:()=>Rs(""),className:"mt-2 text-blue-500 hover:text-blue-700 text-sm",children:"Th li"})]})}),n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Ngi dng ang online"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:h.slice(0,8).map(oe=>!oe||p&&(oe.UserID===p.UserID||oe.id===p.id)||K.some(tt=>tt.UserID===oe.UserID||tt.UserID===oe.id)?null:n.jsxs("div",{className:"p-2 bg-white rounded-md border cursor-pointer flex items-center gap-2",onClick:()=>{const tt={UserID:oe.UserID||oe.id,Username:oe.Username,FullName:oe.FullName,Image:oe.Image||oe.Avatar};K.some(yt=>yt.UserID===tt.UserID)||Uo(tt)},children:[n.jsxs("div",{className:"relative",children:[n.jsx(fn,{src:oe.Image||oe.Avatar,name:oe.FullName||oe.Username,size:"tiny"}),n.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2 h-2 bg-green-500 rounded-full border border-white"})]}),n.jsx("span",{className:"text-xs truncate",children:oe.FullName||oe.Username})]},oe.UserID||oe.id))})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t",children:[n.jsx("button",{onClick:()=>F(!1),className:"px-4 py-2 text-gray-700 hover:text-gray-900 rounded-lg transition-colors",children:"Hy"}),n.jsx("button",{onClick:Lu,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:bg-blue-300 disabled:cursor-not-allowed",disabled:!T.trim()||K.length===0,children:"To nhm"})]})]})}),n.jsx("div",{className:"overflow-y-auto flex-1",children:e.length===0&&!x?n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 p-4",children:[n.jsx("div",{className:"rounded-full bg-blue-100 p-3 mb-4",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),n.jsx("p",{className:"text-gray-600 text-center mb-2",children:"Cha c cuc tr chuyn no"}),n.jsx("p",{className:"text-gray-500 text-sm text-center",children:"Bn c th bt u mt cuc tr chuyn mi bng cch to nhm hoc tm ngi dng khc  nhn tin."}),n.jsx("button",{onClick:()=>F(!0),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",children:"To nhm mi"})]}):n.jsx(n.Fragment,{children:x&&e.length===0?n.jsx(n.Fragment,{children:[1,2,3,4,5].map(oe=>n.jsx("div",{className:"p-3 border-b animate-pulse",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full mr-3"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})},oe))}):n.jsxs(n.Fragment,{children:[fc.map(oe=>{var tt,yt;return n.jsx("div",{className:`p-3 cursor-pointer hover:bg-gray-50 transition-colors ${(i==null?void 0:i.ConversationID)===oe.ConversationID?"bg-blue-50 border-l-4 border-blue-500":""}`,onClick:()=>Fs(oe),children:n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"flex-shrink-0 mr-3 relative",children:[n.jsx(fn,{src:ki(oe).src,name:ki(oe).name,size:"medium"}),oe.Type==="group"&&n.jsx("div",{className:"absolute -bottom-1 -right-1 bg-purple-500 rounded-full p-1",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"font-medium text-base truncate flex items-center",children:[ho(oe),oe.Type==="private"&&zr(oe).length>0&&n.jsxs("div",{className:"flex ml-2",children:[n.jsx("button",{className:"p-1 rounded-full hover:bg-gray-200 transition-colors mr-1",title:"Audio Call",onClick:It=>{var Mt,nr,nn;It.stopPropagation();const Ut=(Mt=zr(oe)[0])==null?void 0:Mt.UserID;(nr=zr(oe)[0])!=null&&nr.Username||((nn=zr(oe)[0])==null||nn.FullName),gs(Ut)},children:n.jsx(cw,{className:"h-3 w-3 text-gray-600"})}),n.jsx("button",{className:"p-1 rounded-full hover:bg-gray-200 transition-colors",title:"Video Call",onClick:It=>{var Mt,nr,nn;It.stopPropagation();const Ut=(Mt=zr(oe)[0])==null?void 0:Mt.UserID;(nr=zr(oe)[0])!=null&&nr.Username||((nn=zr(oe)[0])==null||nn.FullName),Ts(Ut)},children:n.jsx(Bh,{className:"h-3 w-3 text-gray-600"})})]})]}),n.jsx("div",{className:"text-sm text-gray-500 truncate",children:oe.Messages&&oe.Messages.length>0?`${((tt=oe.Messages[0].Sender)==null?void 0:tt.Username)||"Khng xc nh"}: ${oe.Messages[0].Content}`:"Cha c tin nhn"})]}),n.jsxs("div",{className:"flex flex-col items-end ml-3",children:[oe.Type==="private"&&zr(oe).length>0&&fo((yt=zr(oe)[0])==null?void 0:yt.UserID)&&n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),oe.Messages&&oe.Messages.length>0&&oe.Messages[0].CreatedAt&&n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:Si(oe.Messages[0].CreatedAt)})]})]})},oe.ConversationID)}),fc.length===0&&n.jsx("div",{className:"text-center p-4 text-gray-500",children:r?`Khng tm thy cuc tr chuyn no vi t kha "${r}"`:"ang ti danh sch tr chuyn..."})]})})})]}),n.jsx("div",{className:"flex-1 flex flex-col bg-gray-50 h-full",children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-4 border-b bg-white shadow-sm",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"relative",children:[n.jsx(fn,{src:i.Type==="private"&&a?a.Image||a.Avatar:ki(i).src,name:i.Type==="private"&&a?a.FullName||a.Username:ki(i).name,size:"large",className:i.Type==="group"?"cursor-pointer":"",onClick:async oe=>{i.Type==="group"&&(oe.stopPropagation(),await an(i.ConversationID),He(!0))}}),i.Type==="group"&&n.jsx("div",{className:"absolute -bottom-1 -right-1 bg-purple-500 rounded-full p-1",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),n.jsxs("div",{className:"ml-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("h3",{className:"text-lg font-semibold",children:i.Type==="private"&&a?a.FullName||a.Username:ho(i)}),i.Type==="private"&&zr(i).length>0&&n.jsxs("div",{className:"flex ml-3",children:[n.jsx("button",{className:"p-1.5 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors mr-2",title:"Audio Call",onClick:()=>{var tt,yt,It;const oe=(tt=zr(i)[0])==null?void 0:tt.UserID;(yt=zr(i)[0])!=null&&yt.Username||((It=zr(i)[0])==null||It.FullName),gs(oe)},children:n.jsx(cw,{className:"h-3.5 w-3.5"})}),n.jsx("button",{className:"p-1.5 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors",title:"Video Call",onClick:()=>{var tt,yt,It;const oe=(tt=zr(i)[0])==null?void 0:tt.UserID;(yt=zr(i)[0])!=null&&yt.Username||((It=zr(i)[0])==null||It.FullName),Ts(oe)},children:n.jsx(Bh,{className:"h-3.5 w-3.5"})})]})]}),i.Type==="group"&&i.Participants&&n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:[i.Participants.length," thnh vin"]}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsxs("div",{className:"flex -space-x-2 mr-2",children:[i.Participants.slice(0,3).map(oe=>n.jsx(fn,{src:Vs(oe),name:oe.FullName||oe.Username,size:"tiny",className:"border border-white",onClick:tt=>{tt.stopPropagation(),Wi(oe.UserID||oe.id)}},oe.UserID||oe.id)),i.Participants.length>3&&n.jsxs("div",{className:"w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center text-xs text-gray-600 border border-white",children:["+",i.Participants.length-3]})]}),n.jsx("button",{className:"text-xs text-blue-600 hover:underline",onClick:async oe=>{oe.stopPropagation(),await an(i.ConversationID),He(!0)},children:"Xem tt c"})]})]}),i.Type==="private"&&zr(i).length>0&&n.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[n.jsx("span",{className:`w-2 h-2 rounded-full mr-1.5 ${fo((si=zr(i)[0])==null?void 0:si.UserID)?"bg-green-500":"bg-gray-400"}`}),fo((On=zr(i)[0])==null?void 0:On.UserID)?"ang trc tuyn":"Ngoi tuyn"]})]})]})})}),ct&&n.jsx("div",{className:"absolute inset-0 bg-gray-900 bg-opacity-80 z-50 flex flex-col items-center justify-center text-white p-6 rounded-xl",children:n.jsxs("div",{className:"text-center mb-8",children:[st?n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"w-64 h-64 rounded-xl bg-gray-800 flex items-center justify-center mb-4",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),n.jsx("div",{className:"absolute bottom-0 right-0 w-24 h-24 rounded-lg bg-gray-700 border-2 border-gray-600",children:n.jsx(fn,{src:(p==null?void 0:p.Image)||(p==null?void 0:p.Avatar),name:(p==null?void 0:p.FullName)||(p==null?void 0:p.Username)||"Bn",size:"large"})})]}):n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-700 mx-auto mb-4 flex items-center justify-center",children:n.jsx(fn,{src:ki(i).src,name:ki(i).name,size:"xxl"})}),n.jsx("div",{className:"text-xl font-medium",children:ho(i)}),n.jsx("div",{className:"text-green-400 mt-2",children:"ang gi..."})]}),n.jsxs("div",{className:"flex justify-center space-x-4",children:[n.jsx("button",{onClick:Ni,className:"p-4 bg-red-600 hover:bg-red-700 rounded-full transition focus:outline-none",title:"Kt thc cuc gi",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 8l8 8-8 8M8 8L0 16l8 8"})})}),st&&n.jsx("button",{className:"p-4 bg-gray-600 hover:bg-gray-700 rounded-full transition focus:outline-none",title:"Bt/tt camera",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),n.jsx("button",{className:"p-4 bg-gray-600 hover:bg-gray-700 rounded-full transition focus:outline-none",title:"Bt/tt m thanh",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})})]})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:x?n.jsx(n.Fragment,{children:[1,2,3].map(oe=>n.jsxs("div",{className:`flex mb-4 ${oe%2===0?"justify-end":"justify-start"}`,children:[oe%2!==0&&n.jsx("div",{className:"flex-shrink-0 mr-2",children:n.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"})}),n.jsxs("div",{className:`max-w-[70%] p-3 rounded-lg animate-pulse ${oe%2===0?"bg-blue-200":"bg-gray-200"}`,children:[n.jsx("div",{className:"h-3 bg-gray-300 rounded w-full mb-2"}),n.jsx("div",{className:"h-3 bg-gray-300 rounded w-3/4"})]})]},oe))}):c.length===0?n.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"Bt u cuc tr chuyn bng cch gi tin nhn"}):n.jsx(n.Fragment,{children:c.map((oe,tt)=>{var yt,It;return n.jsxs("div",{ref:je,className:`flex mb-3 ${oe.SenderID===(p==null?void 0:p.UserID)||oe.SenderID===(p==null?void 0:p.id)?"justify-end":"justify-start"}`,children:[oe.SenderID!==(p==null?void 0:p.UserID)&&oe.SenderID!==(p==null?void 0:p.id)&&n.jsx("div",{className:"flex-shrink-0 mr-2",children:n.jsx(fn,{src:Vs(oe.Sender),name:((yt=oe.Sender)==null?void 0:yt.FullName)||((It=oe.Sender)==null?void 0:It.Username)||"Ngi dng",size:"small"})}),n.jsxs("div",{className:`max-w-[70%] p-3 rounded-lg shadow-sm ${oe.SenderID===(p==null?void 0:p.UserID)||oe.SenderID===(p==null?void 0:p.id)?"bg-blue-600 text-white":"bg-white"}`,children:[oe.SenderID!==(p==null?void 0:p.UserID)&&oe.SenderID!==(p==null?void 0:p.id)&&i.Type==="group"&&oe.Sender&&n.jsx("div",{className:`text-xs font-medium mb-1 ${oe.SenderID===(p==null?void 0:p.UserID)||oe.SenderID===(p==null?void 0:p.id)?"text-blue-200":"text-blue-600"}`,children:oe.Sender.FullName||oe.Sender.Username||"Ngi dng"}),n.jsx("p",{className:"text-sm",children:oe.Content}),n.jsx("span",{className:`text-xs mt-1 block text-right ${oe.SenderID===(p==null?void 0:p.UserID)||oe.SenderID===(p==null?void 0:p.id)?"text-blue-100":"text-gray-500"}`,children:Si(oe.CreatedAt)})]})]},oe.MessageID||tt)})})}),n.jsx("form",{onSubmit:zi,className:"p-3 border-t bg-white",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("input",{type:"text",value:A,onChange:oe=>f(oe.target.value),placeholder:"Nhp tin nhn...",className:"flex-1 p-3 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50"}),n.jsx("button",{type:"submit",disabled:!A.trim(),className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-300 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}):n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500 p-6",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-gray-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),n.jsx("h3",{className:"text-xl font-medium mb-2",children:"Tin nhn ca bn"}),n.jsx("p",{className:"text-center max-w-xs",children:"Chn mt cuc tr chuyn  bt u hoc to nhm mi vi nt +"})]})}),n.jsxs("div",{className:"w-1/4 bg-white border-l overflow-hidden flex flex-col h-full rounded-r-xl",children:[n.jsx("div",{className:"p-4 border-b bg-white",children:n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"S kin sp din ra"})}),n.jsx("div",{className:"overflow-y-auto flex-1 p-4",children:ye?n.jsx("div",{className:"flex justify-center items-center h-full",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):re?n.jsxs("div",{className:"text-center p-4 text-red-500",children:[n.jsx("p",{children:re}),n.jsx("button",{onClick:()=>{X(!0),Ht.get("http://localhost:5001/api/events?limit=5",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(oe=>{ce(oe.data.events||[]),_(null)}).catch(oe=>{console.error("Error fetching events:",oe),_("Khng th ti danh sch s kin")}).finally(()=>X(!1))},className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-lg text-sm hover:bg-blue-600",children:"Th li"})]}):he.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[n.jsx(qd,{className:"h-16 w-16 text-gray-300 mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-1",children:"Khng c s kin no"}),n.jsx("p",{className:"text-center max-w-xs",children:"Hin ti cha c s kin no sp din ra"})]}):n.jsxs("div",{className:"space-y-4",children:[he.map(oe=>n.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-100 overflow-hidden hover:shadow-md transition-shadow cursor-pointer",onClick:()=>ni(oe.EventID),children:[n.jsxs("div",{className:"relative h-32",children:[n.jsx("img",{src:oe.ImageUrl||"/default-event.jpg",alt:oe.Title,className:"w-full h-full object-cover",onError:tt=>{tt.target.src="/default-event.jpg"}}),n.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:oe.Status||"Sp din ra"})]}),n.jsxs("div",{className:"p-3",children:[n.jsx("h3",{className:"text-md font-semibold text-gray-900 line-clamp-2 mb-2",children:oe.Title||"S kin khng tn"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[n.jsx(qd,{className:"h-3 w-3 mr-1"}),n.jsxs("span",{children:[oe.EventDate?ti(oe.EventDate):"TBA",oe.EventTime?` ${ri(oe.EventTime)}`:""]})]}),n.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[n.jsx(Md,{className:"h-3 w-3 mr-1"}),n.jsx("span",{className:"truncate",children:oe.Location||"TBA"})]}),n.jsxs("div",{className:"flex items-center text-gray-600 text-xs",children:[n.jsx(lc,{className:"h-3 w-3 mr-1"}),n.jsxs("span",{children:[oe.CurrentAttendees||0,"/",oe.MaxAttendees||"N/A"]})]})]}),n.jsx("div",{className:"mt-3 text-right",children:n.jsx("button",{onClick:tt=>{tt.stopPropagation(),ni(oe.EventID)},className:"text-xs px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Xem chi tit"})})]})]},oe.EventID)),n.jsx("div",{className:"text-center pt-2",children:n.jsx("button",{onClick:()=>Ue("/events"),className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"Xem tt c s kin"})})]})})]}),kt&&i&&i.Type==="group"&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-5xl p-6 shadow-xl max-h-[85vh] flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-xl font-bold",children:["Nhm: ",i.Title]}),n.jsx("button",{onClick:()=>He(!1),className:"text-gray-600 hover:text-gray-800",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("div",{className:"border-b mb-4",children:n.jsxs("div",{className:"flex space-x-6",children:[n.jsxs("button",{className:`py-3 px-1 font-medium text-sm border-b-2 transition-colors ${nt==="members"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>Nt("members"),children:["Thnh vin (",Le.length,")"]}),n.jsx("button",{className:`py-3 px-1 font-medium text-sm border-b-2 transition-colors ${nt==="info"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>Nt("info"),children:"Thng tin nhm"})]})}),nt==="members"&&n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("span",{className:"text-sm text-gray-500",children:[Le.length," thnh vin"]}),n.jsxs("button",{onClick:()=>{$(!0),He(!1),Ro("")},className:"px-3 py-1.5 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 transition flex items-center",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Thm thnh vin"]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Le.map(oe=>{var tt;return n.jsxs("div",{className:"p-3 bg-gray-50 hover:bg-gray-100 rounded-lg cursor-pointer flex items-center justify-between transition-colors",onClick:()=>{He(!1),Wi(oe.UserID||oe.id)},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(fn,{src:Vs(oe),name:oe.FullName||oe.Username,size:"medium",className:"mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:oe.FullName||oe.Username}),n.jsx("p",{className:"text-xs text-gray-500",children:oe.Email||`@${oe.Username}`})]})]}),n.jsxs("div",{className:"flex items-center",children:[((tt=oe.ConversationParticipant)==null?void 0:tt.Role)==="admin"&&n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs mr-2",children:"Admin"}),n.jsx("span",{className:`w-2 h-2 rounded-full ${fo(oe.UserID||oe.id)?"bg-green-500":"bg-gray-400"}`}),tr&&(oe.UserID||oe.id)!==((p==null?void 0:p.UserID)||(p==null?void 0:p.id))&&n.jsx("button",{onClick:yt=>{yt.stopPropagation(),confirm(`Bn c chc chn mun xa ${oe.FullName||oe.Username} khi nhm?`)&&pc(oe.UserID||oe.id)},className:"ml-2 p-1 text-red-500 hover:bg-red-100 rounded-full transition-colors",title:"Xa khi nhm",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},oe.UserID||oe.id)})})})]}),nt==="info"&&n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Thng tin nhm"}),n.jsx("button",{onClick:()=>Xe(!xe),className:`px-3 py-1.5 ${xe?"bg-gray-500":"bg-blue-500"} text-white text-sm rounded-lg hover:${xe?"bg-gray-600":"bg-blue-600"} transition flex items-center`,children:xe?n.jsxs(n.Fragment,{children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Hy chnh sa"]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Chnh sa"]})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:xe?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"relative mb-3",children:[Et?n.jsx("img",{src:Et,alt:"Group Preview",className:"w-32 h-32 object-cover rounded-lg border"}):i.ImageUrl?n.jsx("img",{src:i.ImageUrl,alt:"Group",className:"w-32 h-32 object-cover rounded-lg border"}):n.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),Et&&n.jsx("button",{onClick:()=>{et(null),Qt(null),pe.current&&(pe.current.value="")},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("label",{className:"px-4 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 cursor-pointer",children:[n.jsx("input",{type:"file",ref:pe,className:"hidden",accept:"image/*",onChange:ia}),"Chn nh nhm"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn nhm"}),n.jsx("input",{type:"text",value:ht,onChange:oe=>ft(oe.target.value),placeholder:"Nhp tn nhm",className:"w-full p-2.5 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t nhm"}),n.jsx("textarea",{value:Ft,onChange:oe=>Rr(oe.target.value),placeholder:"M t ngn v nhm",rows:3,className:"w-full p-2.5 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:Mo,disabled:!ht.trim()||vr,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:bg-blue-300 flex items-center",children:[vr&&n.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Lu thay i"]})})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-center",children:i.ImageUrl?n.jsx("img",{src:i.ImageUrl,alt:"Group",className:"w-40 h-40 object-cover rounded-lg border"}):n.jsx("div",{className:"w-40 h-40 bg-gray-200 rounded-lg flex items-center justify-center",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-20 w-20 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-xl font-bold",children:i.Title}),n.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["To bi ",i.CreatedBy]})]}),i.Description&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"M t"}),n.jsx("p",{className:"text-gray-600",children:i.Description})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[n.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Le.length}),n.jsx("div",{className:"text-xs text-blue-700 mt-1",children:"Thnh vin"})]}),n.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:Le.filter(oe=>fo(oe.UserID||oe.id)).length}),n.jsx("div",{className:"text-xs text-green-700 mt-1",children:"ang online"})]}),n.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:c.length}),n.jsx("div",{className:"text-xs text-purple-700 mt-1",children:"Tin nhn"})]})]})]})})]}),n.jsx("div",{className:"pt-4 mt-4 border-t",children:n.jsxs("button",{onClick:gc,className:"w-full py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center",disabled:Te,children:[Te?n.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full mr-2"}):n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Ri khi nhm"]})})]})}),M&&i&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl p-6 shadow-xl max-h-[80vh] flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-xl font-bold",children:"Thm thnh vin"}),n.jsx("button",{onClick:()=>$(!1),className:"text-gray-600 hover:text-gray-800",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:ve,onChange:oe=>Ro(oe.target.value),placeholder:"Tm kim ngi dng...",className:"w-full p-2.5 pl-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 absolute left-3 top-2.5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),We.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:[" chn (",We.length,")"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:We.map(oe=>n.jsxs("div",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full flex items-center text-sm",children:[n.jsx("span",{children:oe.FullName||oe.Username}),n.jsx("button",{onClick:()=>$e(tt=>tt.filter(yt=>(yt.UserID||yt.id)!==(oe.UserID||oe.id))),className:"ml-1 text-blue-600 hover:text-blue-800",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},oe.UserID||oe.id))})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto mb-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Kt qu tm kim"}),J.length>0?n.jsx("div",{className:"space-y-2",children:J.map(oe=>n.jsxs("div",{className:"p-2 bg-gray-50 hover:bg-gray-100 rounded-lg flex items-center justify-between cursor-pointer transition-colors",onClick:()=>{We.some(tt=>(tt.UserID||tt.id)===(oe.UserID||oe.id))||$e(tt=>[...tt,oe])},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(fn,{src:Vs(oe),name:oe.FullName||oe.Username,size:"small",className:"mr-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:oe.FullName||oe.Username}),n.jsx("p",{className:"text-xs text-gray-500",children:oe.Email||`@${oe.Username}`})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${fo(oe.UserID||oe.id)?"bg-green-500":"bg-gray-400"} mr-2`}),n.jsx("button",{className:"p-1 bg-blue-100 text-blue-600 rounded-full hover:bg-blue-200",onClick:tt=>{tt.stopPropagation(),We.some(yt=>(yt.UserID||yt.id)===(oe.UserID||oe.id))||$e(yt=>[...yt,oe])},children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]},oe.UserID||oe.id))}):n.jsx("div",{className:"text-center py-4 text-gray-500",children:ve?"Khng tm thy ngi dng ph hp":"Tm kim ngi dng  thm vo nhm"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx("button",{onClick:()=>$(!1),className:"px-4 py-2 text-gray-700 hover:text-gray-900 rounded-lg transition-colors",children:"Hy"}),n.jsxs("button",{onClick:Tn,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:bg-blue-300 disabled:cursor-not-allowed flex items-center",disabled:We.length===0||Pe,children:[Pe&&n.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Thm thnh vin"]})]})]})})]})},Cv={getMyReports:async(e="all")=>{try{const t="/api/reports/me"+(e!=="all"?`?status=${e.toUpperCase()}`:"");return console.log("Fetching reports from URL:",t),(await fs.get(t)).data}catch(t){throw console.error("Error fetching reports:",t),t}},createReport:async e=>{try{return(await fs.post("/api/reports",e)).data}catch(t){throw console.error("Error creating report:",t),t}},cancelReport:async e=>{try{return(await fs.post(`/api/reports/${e}/cancel`)).data}catch(t){throw console.error(`Error canceling report ${e}:`,t),t}},getReportDetails:async e=>{try{return(await fs.get(`/api/reports/me/${e}`)).data}catch(t){throw console.error(`Error fetching report details ${e}:`,t),t}},getReportCategories:async()=>{try{return(await fs.get("/api/reports/categories")).data}catch(e){return console.error("Error fetching report categories:",e),{success:!0,categories:[{value:"USER",label:"Ngi dng vi phm"},{value:"CONTENT",label:"Ni dung vi phm"},{value:"COURSE",label:"Kha hc c vn "},{value:"EVENT",label:"S kin vi phm"},{value:"COMMENT",label:"Bnh lun xc phm"}]}}}},Bhe=()=>{const[e,t]=m.useState([]),[r,s]=m.useState(!0),[i,o]=m.useState(null),[a,l]=m.useState("all"),[c,d]=m.useState(!1),[u,A]=m.useState(!1),[f,h]=m.useState(null),[g,p]=m.useState({title:"",content:"",category:"",targetId:"",targetType:"CONTENT"});m.useEffect(()=>{b()},[a]);const b=async()=>{var D,H;s(!0);try{if(!localStorage.getItem("token")){o("Bn cn ng nhp  xem bo co ca mnh"),s(!1);return}console.log("Fetching reports with status:",a);const z=await Cv.getMyReports(a);if(!z||!z.success)throw new Error((z==null?void 0:z.message)||"C li xy ra khi ti bo co");t(z.reports||[]),o(null)}catch(P){console.error("Error fetching reports:",P),P.response&&(console.error("Error response status:",P.response.status),console.error("Error response data:",P.response.data)),((D=P.response)==null?void 0:D.status)===403?o("Bn khng c quyn truy cp. Vui lng ng nhp li."):((H=P.response)==null?void 0:H.status)===401?o("Phin ng nhp  ht hn. Vui lng ng nhp li."):o(P.message||"Khng th ti danh sch bo co ca bn"),t([])}finally{s(!1)}},x=async D=>{if(D.preventDefault(),!g.title.trim()||!g.content.trim()||!g.category){alert("Vui lng in y  thng tin bt buc!");return}A(!0);try{if(!localStorage.getItem("token")){alert("Bn cn ng nhp  gi bo co"),A(!1);return}const P={...g,targetId:g.targetId||"1",targetType:g.targetType||"CONTENT"};await Cv.createReport(P),d(!1),p({title:"",content:"",category:"",targetId:"",targetType:"CONTENT"}),b(),alert("Bo co  c gi thnh cng! H thng s x l yu cu ca bn trong thi gian sm nht.")}catch(H){console.error("Error creating report:",H),H.status===403?alert("Bn khng c quyn gi bo co. Vui lng ng nhp li."):H.status===401?alert("Phin ng nhp  ht hn. Vui lng ng nhp li."):alert(H.message||"C li xy ra khi gi bo co. Vui lng th li sau.")}finally{A(!1)}},j=D=>{const{name:H,value:P}=D.target;p(z=>({...z,[H]:P}))},w=async(D,H)=>{if(H.stopPropagation(),!!window.confirm("Bn c chc chn mun hy bo co ny?"))try{await Cv.cancelReport(D),b(),alert(" hy bo co thnh cng")}catch(P){console.error("Error canceling report:",P),alert(P.message||"Khng th hy bo co. Vui lng th li sau.")}},S=D=>{switch(D){case"RESOLVED":return"text-green-600";case"PENDING":return"text-amber-600";case"REJECTED":return"text-red-600";default:return"text-gray-600"}},I=D=>{switch(D){case"RESOLVED":return" gii quyt";case"PENDING":return"ang x l";case"REJECTED":return" t chi";default:return"Khng xc nh"}},F=D=>{switch(D){case"RESOLVED":return"bg-green-100";case"PENDING":return"bg-amber-100";case"REJECTED":return"bg-red-100";default:return"bg-gray-100"}},T=D=>{switch(D){case"RESOLVED":return n.jsx(No,{className:"w-5 h-5 text-green-600"});case"PENDING":return n.jsx(Ki,{className:"w-5 h-5 text-amber-600"});case"REJECTED":return n.jsx(fm,{className:"w-5 h-5 text-red-600"});default:return n.jsx($m,{className:"w-5 h-5 text-gray-600"})}},U=D=>D?new Date(D).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",K=D=>{switch(D){case"USER":return"Ngi dng";case"CONTENT":return"Ni dung";case"COURSE":return"Kha hc";case"EVENT":return"S kin";case"COMMENT":return"Bnh lun";default:return D}},B=D=>{switch(D){case"USER":return n.jsx(Km,{className:"w-5 h-5"});case"CONTENT":return n.jsx(hu,{className:"w-5 h-5"});case"COURSE":return n.jsx(ef,{className:"w-5 h-5"});case"EVENT":return n.jsx(qd,{className:"w-5 h-5"});case"COMMENT":return n.jsx(nu,{className:"w-5 h-5"});default:return n.jsx(VC,{className:"w-5 h-5"})}},R=D=>{switch(D){case"USER":return"bg-red-500";case"CONTENT":return"bg-blue-500";case"COURSE":return"bg-green-500";case"EVENT":return"bg-purple-500";case"COMMENT":return"bg-yellow-500";default:return"bg-gray-500"}};return n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 pt-8 pb-6",children:n.jsxs("div",{className:"px-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/20 text-white text-sm font-medium mb-3",children:[n.jsx(VC,{className:"h-4 w-4"}),n.jsx("span",{children:"H thng bo co"})]}),n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:"Theo di trng thi bo co"}),n.jsx("p",{className:"text-blue-100 mt-2",children:"Ti y, bn c th theo di trng thi x l cc bo co v gi bo co mi"})]}),n.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center gap-2 px-4 py-2.5 bg-white text-blue-600 rounded-lg font-medium hover:bg-blue-50 transition-all duration-200 shadow-md",children:[n.jsx(X0,{className:"h-5 w-5 rotate-90"}),"Gi bo co mi"]})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[n.jsx("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${a==="all"?"bg-white text-blue-600":"text-white hover:bg-white/10"}`,children:"Tt c"}),n.jsx("button",{onClick:()=>l("pending"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${a==="pending"?"bg-white text-amber-600":"text-white hover:bg-white/10"}`,children:n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Ki,{className:"h-4 w-4"}),"ang x l"]})}),n.jsx("button",{onClick:()=>l("resolved"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${a==="resolved"?"bg-white text-green-600":"text-white hover:bg-white/10"}`,children:n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(No,{className:"h-4 w-4"})," gii quyt"]})}),n.jsx("button",{onClick:()=>l("rejected"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${a==="rejected"?"bg-white text-red-600":"text-white hover:bg-white/10"}`,children:n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(fm,{className:"h-4 w-4"})," t chi"]})})]})]})}),n.jsx("div",{className:"flex-1 overflow-auto bg-gray-50",children:n.jsxs("div",{className:"px-6 py-6",children:[n.jsx("div",{className:"mb-4",children:n.jsxs("p",{className:"text-sm text-gray-500",children:["Hin th ",e.length," bo co"]})}),r?n.jsx("div",{className:"grid grid-cols-1 gap-6",children:[1,2,3].map(D=>n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden animate-pulse",children:n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]})},D))}):i?n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:[n.jsx($m,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" xy ra li"}),n.jsx("p",{className:"text-gray-600 mb-4",children:i}),n.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(_s,{className:"h-5 w-5"}),"Th li"]})]}):e.length===0?n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:[n.jsx(hu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cha c bo co no"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Bn cha gi bo co no hoc khng c bo co ph hp vi b lc."}),n.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(X0,{className:"h-5 w-5 rotate-90"}),"To bo co mi"]})]}):n.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.map(D=>n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:border-blue-300 hover:shadow-lg transition-all duration-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row",children:[n.jsxs("div",{className:"w-full md:w-64 p-6 bg-gray-50 flex flex-col justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg ${R(D.Category)} bg-opacity-10 mb-3`,children:[B(D.Category),n.jsx("span",{className:"text-sm font-medium",children:K(D.Category)})]}),n.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg ${F(D.Status)} ${S(D.Status)}`,children:[T(D.Status),n.jsx("span",{className:"text-sm font-medium",children:I(D.Status)})]})]}),n.jsxs("div",{className:"text-sm text-gray-500 mt-4",children:["#",D.ReportID]})]}),n.jsxs("div",{className:"flex-1 p-6 flex flex-col",children:[n.jsx("h3",{className:"font-semibold text-lg mb-2",children:D.Title}),n.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:D.Content}),D.Notes&&n.jsx("div",{className:"mt-auto p-3 bg-blue-50 rounded-lg",children:n.jsx("p",{className:"text-sm text-gray-700",children:D.Notes})}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-gray-500",children:U(D.CreatedAt)}),D.Status==="PENDING"&&n.jsxs("button",{onClick:H=>w(D.ReportID,H),className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium",children:[n.jsx(fm,{className:"h-4 w-4"}),"Hy bo co"]})]})]})]})},D.ReportID))})]})}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto animate-slideUp",onClick:D=>D.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Gi bo co mi"}),n.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-full p-2 transition-colors",children:n.jsx(pn,{className:"h-5 w-5"})})]}),n.jsxs("form",{onSubmit:x,className:"p-6",children:[n.jsxs("div",{className:"mb-5",children:[n.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:["Tiu  bo co ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",id:"title",name:"title",value:g.title,onChange:j,disabled:u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm",required:!0,placeholder:"M t ngn gn vn "})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 mb-5",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Loi bo co ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{id:"category",name:"category",value:g.category,onChange:j,disabled:u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm",required:!0,children:[n.jsx("option",{value:"",children:"Chn loi bo co"}),n.jsx("option",{value:"CONTENT",children:"Ni dung khng ph hp"}),n.jsx("option",{value:"USER",children:"Ngi dng vi phm"}),n.jsx("option",{value:"COMMENT",children:"Bnh lun vi phm"}),n.jsx("option",{value:"COURSE",children:"Kha hc c vn "}),n.jsx("option",{value:"EVENT",children:"S kin vi phm"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"targetType",className:"block text-sm font-medium text-gray-700 mb-1",children:"i tng bo co"}),n.jsxs("select",{id:"targetType",name:"targetType",value:g.targetType,onChange:j,disabled:u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm",children:[n.jsx("option",{value:"CONTENT",children:"Bi vit"}),n.jsx("option",{value:"USER",children:"Ngi dng"}),n.jsx("option",{value:"COMMENT",children:"Bnh lun"}),n.jsx("option",{value:"COURSE",children:"Kha hc"}),n.jsx("option",{value:"EVENT",children:"S kin"})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ni dung chi tit ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{id:"content",name:"content",rows:"5",value:g.content,onChange:j,disabled:u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm",required:!0,placeholder:"M t chi tit vn  bn gp phi..."})]}),n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 mb-6",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(U6,{className:"h-5 w-5 text-blue-500 flex-shrink-0 mt-0.5 mr-3"}),n.jsx("p",{className:"text-sm text-blue-700",children:"Bo co ca bn s c x l trong thi gian sm nht. Vui lng cung cp y  thng tin  h tr vic x l hiu qu."})]})}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{type:"button",onClick:()=>d(!1),disabled:u,className:"px-4 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Hy"}),n.jsx("button",{type:"submit",disabled:u||!g.title||!g.content||!g.category,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300 transition-all duration-300 shadow-sm",children:u?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-t-white border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"}),n.jsx("span",{children:"ang gi..."})]}):"Gi bo co"})]})]})]})})]})},khe=({onClose:e})=>{const[t,r]=m.useState("request"),[s,i]=m.useState(["","","","","",""]),[o,a]=m.useState(!1),[l,c]=m.useState(""),[d,u]=m.useState(""),[A,f]=m.useState(""),[h,g]=m.useState(0),[p,b]=m.useState(!1),x=m.useRef([]);m.useEffect(()=>{j()},[]),m.useEffect(()=>{if(h>0){const U=setTimeout(()=>{g(K=>K-1)},1e3);return()=>clearTimeout(U)}},[h]);const j=async()=>{try{a(!0),c("");const U=localStorage.getItem("token");if(!U){c("Phin ng nhp ht hn. Vui lng ng nhp li.");return}const K=await fetch("/api/verification/email/send-otp",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`}}),B=await K.json();if(!K.ok)throw new Error(B.message||"Khng th gi m xc thc.");f(B.email),r("verify"),g(60),u("M xc thc  c gi n email ca bn."),setTimeout(()=>{x.current[0]&&x.current[0].focus()},100)}catch(U){console.error("Error requesting OTP:",U),c(U.message)}finally{a(!1)}},w=async()=>{if(!(h>0))try{b(!0),c("");const U=localStorage.getItem("token");if(!U){c("Phin ng nhp ht hn. Vui lng ng nhp li.");return}const K=await fetch("/api/verification/email/resend-otp",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`}}),B=await K.json();if(!K.ok)throw new Error(B.message||"Khng th gi li m xc thc.");g(60),u("M xc thc mi  c gi n email ca bn.")}catch(U){console.error("Error resending OTP:",U),c(U.message)}finally{b(!1)}},S=async()=>{if(s.some(U=>U==="")){c("Vui lng nhp y  m xc thc.");return}try{a(!0),c("");const U=localStorage.getItem("token");if(!U){c("Phin ng nhp ht hn. Vui lng ng nhp li.");return}const K=await fetch("/api/verification/email/verify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},body:JSON.stringify({otp:s.join("")})}),B=await K.json();if(!K.ok)throw new Error(B.message||"Khng th xc thc email.");r("success"),u("Email ca bn  c xc thc thnh cng!");try{const R=JSON.parse(localStorage.getItem("user")||"{}");R.EmailVerified=!0,localStorage.setItem("user",JSON.stringify(R)),window.dispatchEvent(new CustomEvent("userUpdated",{detail:{user:R}}))}catch(R){console.error("Error updating user in localStorage:",R)}setTimeout(()=>{e&&e(!0)},2e3)}catch(U){console.error("Error verifying OTP:",U),c(U.message)}finally{a(!1)}},I=(U,K)=>{if(K.length>1){const B=K.split(""),R=[...s];for(let H=0;H<B.length&&U+H<6;H++)/^\d$/.test(B[H])&&(R[U+H]=B[H]);i(R);const D=Math.min(U+B.length,5);x.current[D]&&x.current[D].focus()}else if(/^\d$/.test(K)||K===""){const B=[...s];B[U]=K,i(B),K!==""&&U<5&&x.current[U+1].focus()}},F=(U,K)=>{K.key==="Backspace"&&s[U]===""&&U>0&&x.current[U-1].focus(),K.key==="ArrowLeft"&&U>0&&x.current[U-1].focus(),K.key==="ArrowRight"&&U<5&&x.current[U+1].focus()},T=U=>{U.preventDefault();const K=U.clipboardData.getData("text");if(/^\d{6}$/.test(K)){const B=K.split("");i(B),x.current[5].focus()}};return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md max-w-md mx-auto",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center mb-4",children:t==="success"?n.jsx(No,{className:"h-8 w-8 text-green-600"}):n.jsx(tf,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[t==="request"&&"Xc thc Email",t==="verify"&&"Nhp m xc thc",t==="success"&&"Xc thc thnh cng",t==="error"&&"Xc thc tht bi"]}),t!=="success"&&n.jsxs("p",{className:"mt-2 text-gray-600",children:[t==="request"&&"Chng ti s gi m xc thc n email ca bn.",t==="verify"&&`Vui lng nhp m 6 s  c gi n ${A}`,t==="error"&&" c li xy ra trong qu trnh xc thc."]})]}),d&&n.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 text-green-700 rounded-md flex items-start",children:[n.jsx(No,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}),n.jsx("span",{children:d})]}),l&&n.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-md flex items-start",children:[n.jsx(fm,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}),n.jsx("span",{children:l})]}),t==="verify"&&n.jsxs("div",{className:"my-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M xc thc"}),n.jsx("div",{className:"flex gap-2 justify-center",onPaste:T,children:s.map((U,K)=>n.jsx("input",{type:"text",inputMode:"numeric",ref:B=>x.current[K]=B,value:U,onChange:B=>I(K,B.target.value),onKeyDown:B=>F(K,B),className:"w-10 h-12 border border-gray-300 rounded-md text-center text-xl font-semibold focus:ring-2 focus:ring-blue-500 focus:border-blue-500",maxLength:1,disabled:o},K))}),n.jsx("div",{className:"mt-4 text-center",children:n.jsx("button",{type:"button",onClick:w,disabled:h>0||o||p,className:`text-sm ${h>0?"text-gray-400":"text-blue-600 hover:text-blue-800"} flex items-center justify-center mx-auto`,children:p?n.jsx(_s,{className:"h-4 w-4 mr-1 animate-spin"}):h>0?`Gi li sau (${h}s)`:"Gi li m"})})]}),t==="success"&&n.jsxs("div",{className:"my-6 text-center",children:[n.jsx("div",{className:"flex items-center justify-center mx-auto mb-4",children:n.jsx(vu,{className:"h-16 w-16 text-green-500"})}),n.jsx("p",{className:"text-gray-700",children:"Email ca bn  c xc thc thnh cng. Bn c th tip tc s dng y  tnh nng ca h thng."})]}),n.jsxs("div",{className:"mt-6 flex justify-center",children:[t==="verify"&&n.jsx("button",{type:"button",onClick:S,disabled:o||s.some(U=>U===""),className:`w-full py-2 px-4 rounded-md font-medium ${o||s.some(U=>U==="")?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"} flex items-center justify-center`,children:o?n.jsxs(n.Fragment,{children:[n.jsx(_s,{className:"h-5 w-5 mr-2 animate-spin"}),"ang xc thc..."]}):"Xc thc"}),t==="request"&&n.jsx("button",{type:"button",onClick:j,disabled:o,className:`w-full py-2 px-4 rounded-md font-medium ${o?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"} flex items-center justify-center`,children:o?n.jsxs(n.Fragment,{children:[n.jsx(_s,{className:"h-5 w-5 mr-2 animate-spin"}),"ang gi..."]}):"Gi m xc thc"}),t==="success"&&n.jsx("button",{type:"button",onClick:()=>e&&e(!0),className:"w-full py-2 px-4 bg-green-600 text-white rounded-md font-medium hover:bg-green-700",children:"ng"}),t==="error"&&n.jsx("button",{type:"button",onClick:()=>r("request"),className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700",children:"Th li"})]})]})},wS=()=>{var $e;const e=rn(),t=Mn(),{userId:r}=Lo(),[s,i]=m.useState(null),[o,a]=m.useState(!0),[l,c]=m.useState(null),[d,u]=m.useState(!1),[A,f]=m.useState(null),[h,g]=m.useState(!1),[p,b]=m.useState({}),[x,j]=m.useState(!1),[w,S]=m.useState([]),[I,F]=m.useState(!0),[T,U]=m.useState(null),K=m.useRef(null),[B,R]=m.useState(!1),[D,H]=m.useState(null),[P,z]=m.useState([]),[G,he]=m.useState(!1),[ce,ye]=m.useState(null),[X,re]=m.useState(null),[_,Q]=m.useState(!1),[Z,Ae]=m.useState(null),[me,ae]=m.useState([]),[ie,te]=m.useState(!1),[fe,pe]=m.useState(null),[we,je]=m.useState("all"),[De,Ue]=m.useState(!1);m.useEffect(()=>{(async()=>{try{const Be=localStorage.getItem("token");if(!Be){e("/login");return}let Te;r?Te=`/api/users/${r}`:(Te="/api/auth/me",j(!0));const pt=await fetch(Te,{headers:{Authorization:`Bearer ${Be}`,Accept:"application/json"}});if(pt.status===401){localStorage.removeItem("token"),localStorage.removeItem("user"),e("/login",{state:{message:"Phin ng nhp  ht hn, vui lng ng nhp li"}});return}if(!pt.ok){const Nt=await pt.json();throw new Error(Nt.message||"Khng th ti thng tin ngi dng")}const nt=await pt.json();if(nt.DateOfBirth&&(nt.DateOfBirth=new Date(nt.DateOfBirth).toISOString()),nt.CreatedAt&&(nt.CreatedAt=new Date(nt.CreatedAt).toISOString()),nt.LastLoginAt&&(nt.LastLoginAt=new Date(nt.LastLoginAt).toISOString()),i(nt),!r)j(!0);else{const Nt=JSON.parse(localStorage.getItem("user")||"{}");j(Nt.UserID===parseInt(r)||Nt.id===parseInt(r)),Nt.UserID===parseInt(r)||Nt.id===parseInt(r)||Ce(r)}}catch(Be){console.error("Error fetching user data:",Be),c(Be.message)}finally{a(!1)}})()},[e,r]);const Ce=async Pe=>{try{const Be=localStorage.getItem("token");if(!Be)return;const Te=await fetch(`/api/friendships/status/${Pe}`,{headers:{Authorization:`Bearer ${Be}`,Accept:"application/json"}});if(!Te.ok){if(Te.status===404){re(null);return}throw new Error("Could not fetch friendship status")}const pt=await Te.json();re(pt.status)}catch(Be){console.error("Error fetching friendship status:",Be),re(null)}},Ct=async()=>{try{Q(!0);const Pe=localStorage.getItem("token");if(!Pe)return;const Be=r||(s==null?void 0:s.UserID);if(!Be)return;if(!(await fetch("/api/friendships",{method:"POST",headers:{Authorization:`Bearer ${Pe}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({friendId:Be})})).ok)throw new Error("Could not send friend request");re("pending"),Ae(" gi li mi kt bn"),setTimeout(()=>Ae(null),3e3)}catch(Pe){console.error("Error sending friend request:",Pe),H("Khng th gi li mi kt bn")}finally{Q(!1)}},ct=async()=>{try{Q(!0);const Pe=localStorage.getItem("token");if(!Pe)return;const Be=r||(s==null?void 0:s.UserID);if(!Be)return;if(!(await fetch(`/api/friendships/${Be}/accept`,{method:"PUT",headers:{Authorization:`Bearer ${Pe}`,Accept:"application/json"}})).ok)throw new Error("Could not accept friend request");re("accepted"),Ae(" chp nhn li mi kt bn"),setTimeout(()=>Ae(null),3e3)}catch(Pe){console.error("Error accepting friend request:",Pe),H("Khng th chp nhn li mi kt bn")}finally{Q(!1)}},rt=async()=>{try{Q(!0);const Pe=localStorage.getItem("token");if(!Pe)return;const Be=r||(s==null?void 0:s.UserID);if(!Be)return;if(!(await fetch(`/api/friendships/${Be}`,{method:"DELETE",headers:{Authorization:`Bearer ${Pe}`,Accept:"application/json"}})).ok)throw new Error("Could not remove friend");re(null),Ae(" hy kt bn"),setTimeout(()=>Ae(null),3e3)}catch(Pe){console.error("Error removing friend:",Pe),H("Khng th hy kt bn")}finally{Q(!1)}};m.useEffect(()=>{(s||r)&&(async()=>{try{F(!0);const Be=localStorage.getItem("token");if(!Be)return;const Te=r||(s==null?void 0:s.UserID);if(!Te)return;const pt=await fetch(`/api/posts/user/${Te}?limit=1000`,{headers:{Authorization:`Bearer ${Be}`,Accept:"application/json"}});if(!pt.ok)throw new Error("Could not fetch user posts");const nt=await pt.json();S(nt.posts||[])}catch(Be){console.error("Error fetching user posts:",Be),U(Be.message)}finally{F(!1)}})()},[s,r]);const st=()=>{f({...s,DateOfBirth:s.DateOfBirth?s.DateOfBirth.split("T")[0]:""}),u(!0)},at=()=>{f(null),u(!1)},qe=Pe=>{const{name:Be,value:Te}=Pe.target;f(pt=>({...pt,[Be]:Te}))},St=async Pe=>{Pe.preventDefault(),c(null),b({});const Be=/^[0-9]{10,11}$/;if(A.PhoneNumber&&!Be.test(A.PhoneNumber)){b(Te=>({...Te,PhoneNumber:"S in thoi khng hp l"}));return}if(A.DateOfBirth&&new Date(A.DateOfBirth)>new Date){b(nt=>({...nt,DateOfBirth:"Ngy sinh khng hp l"}));return}try{const Te=localStorage.getItem("token"),pt={PhoneNumber:A.PhoneNumber,DateOfBirth:A.DateOfBirth,School:A.School,Address:A.Address,City:A.City},nt=await fetch("/api/users/update",{method:"PUT",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"},body:JSON.stringify(pt)});if(nt.status===401){localStorage.removeItem("token"),localStorage.removeItem("user"),e("/login",{state:{message:"Phin ng nhp  ht hn, vui lng ng nhp li"}});return}if(!nt.ok){const ht=await nt.json();throw new Error(ht.message||"Khng th cp nht thng tin")}const Nt=await nt.json();Nt.DateOfBirth&&(Nt.DateOfBirth=new Date(Nt.DateOfBirth).toISOString()),Nt.CreatedAt&&(Nt.CreatedAt=new Date(Nt.CreatedAt).toISOString()),Nt.LastLoginAt&&(Nt.LastLoginAt=new Date(Nt.LastLoginAt).toISOString()),i(Nt),u(!1),g(!0),setTimeout(()=>g(!1),3e3)}catch(Te){console.error("Error updating user:",Te),c(Te.message)}},kt=async Pe=>{try{if(!(await fetch(`/api/posts/${Pe}/like`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Could not like post");S(w.map(Te=>Te.PostID===Pe?{...Te,IsLiked:!Te.IsLiked,LikesCount:Te.IsLiked?Te.LikesCount-1:Te.LikesCount+1}:Te))}catch(Be){console.error("Error liking post:",Be)}},He=async(Pe,Be=1)=>{try{S(w.map(Te=>Te.PostID===Pe?{...Te,CommentsCount:Math.max(0,Te.CommentsCount+Be)}:Te))}catch(Te){console.error("Comment update error:",Te)}},Le=async(Pe,Be)=>{try{const Te=localStorage.getItem("token");if(!(await fetch(`/api/posts/${Pe}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`},body:JSON.stringify({content:Be})})).ok)throw new Error("Could not update post");return S(w.map(nt=>nt.PostID===Pe?{...nt,Content:Be,IsEdited:!0}:nt)),!0}catch(Te){return console.error("Error editing post:",Te),!1}},q=async Pe=>{try{const Be=localStorage.getItem("token"),Te=await fetch(`/api/posts/${Pe}`,{headers:{Authorization:`Bearer ${Be}`}});if(!Te.ok)throw new Error("Could not fetch updated post");const pt=await Te.json();return S(w.map(nt=>nt.PostID===Pe?{...nt,media:pt.media,IsEdited:!0}:nt)),!0}catch(Be){return console.error("Error refreshing post media:",Be),!1}},M=()=>{x&&K.current&&K.current.click()},$=async Pe=>{if(!Pe.target.files||Pe.target.files.length===0)return;const Be=Pe.target.files[0];if(!["image/jpeg","image/png","image/gif"].includes(Be.type)){H("Only JPG, PNG, and GIF files are allowed");return}const pt=new FormData;pt.append("image",Be);try{R(!0),H(null);const nt=localStorage.getItem("token"),Nt=await fetch("/api/settings/profile-picture",{method:"POST",headers:{Authorization:`Bearer ${nt}`},body:pt});if(!Nt.ok){const ft=await Nt.json();throw new Error(ft.message||"Failed to upload profile picture")}const ht=await Nt.json();i(ft=>({...ft,Image:ht.profileImage}));try{const ft=JSON.parse(localStorage.getItem("user")||"{}");ft.Image=ht.profileImage,ft.avatar&&(ft.avatar=ht.profileImage),localStorage.setItem("user",JSON.stringify(ft)),t(Gv(ht.profileImage)),window.dispatchEvent(new CustomEvent("profileUpdated",{detail:{profileImage:ht.profileImage}}))}catch(ft){console.error("Error updating user in localStorage:",ft)}g(!0),setTimeout(()=>g(!1),3e3)}catch(nt){console.error("Error uploading profile picture:",nt),H(nt.message)}finally{R(!1),K.current&&(K.current.value="")}},J=()=>{try{if(!s){console.error("No user data available"),showToast("error","Khng th bt u chat: D liu ngi dng khng c sn");return}const Pe=s.UserID||s.id;if(!Pe){console.error("User ID is missing"),showToast("error","Khng th bt u chat: ID ngi dng b thiu");return}const Be={UserID:Pe,id:Pe,FullName:s.FullName||s.Username,Username:s.Username,Email:s.Email,Image:s.Image||s.Avatar};console.log("Starting chat with user:",Be),localStorage.setItem("selectedUserFromProfile",JSON.stringify(Be)),e("/chat",{state:{selectedUser:Be,source:"profile"}})}catch(Pe){console.error("Error starting chat:",Pe),showToast("error"," xy ra li khi bt u cuc tr chuyn")}},ee=async()=>{try{te(!0);const Pe=localStorage.getItem("token");if(!Pe)return;const Be=r||(s==null?void 0:s.UserID);if(!Be)return;let Te=`/api/friendships/user/${Be}`;!r&&x&&(Te="/api/friendships");const pt=await fetch(Te,{headers:{Authorization:`Bearer ${Pe}`,Accept:"application/json"}});if(!pt.ok)throw new Error("Could not fetch friends");const nt=await pt.json();Array.isArray(nt)?ae(nt):nt.friends&&ae(nt.friends)}catch(Pe){console.error("Error fetching friends:",Pe),pe(Pe.message)}finally{te(!1)}};m.useEffect(()=>{(s!=null&&s.UserID||r)&&ee()},[s,r,x]);const ve=async()=>{if(x)try{he(!0);const Pe=localStorage.getItem("token");if(!Pe)return;const Be=await fetch("/api/posts/bookmarks",{headers:{Authorization:`Bearer ${Pe}`,Accept:"application/json"}});if(!Be.ok)throw new Error("Could not fetch bookmarked posts");const Te=await Be.json();z(Te.posts||[])}catch(Pe){console.error("Error fetching bookmarked posts:",Pe),ye(Pe.message)}finally{he(!1)}};m.useEffect(()=>{we==="saved"&&x&&P.length===0&&!G&&ve()},[we,x]);const Se=async Pe=>{try{const Be=localStorage.getItem("token");if(!(await fetch(`/api/posts/${Pe}/bookmark`,{method:"POST",headers:{Authorization:`Bearer ${Be}`}})).ok)throw new Error("Failed to toggle bookmark");we==="saved"&&z(pt=>pt.filter(nt=>nt.PostID!==Pe))}catch(Be){console.error("Error toggling bookmark:",Be)}};if(o)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(l)return n.jsx("div",{className:"text-center p-6",children:n.jsx("p",{className:"text-red-600",children:l})});const We=Pe=>Pe?new Date(Pe).toLocaleDateString("vi-VN"):"Cha cp nht";return n.jsxs("div",{className:"w-full min-h-screen bg-gray-50",children:[h&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg z-50 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Am,{className:"h-5 w-5 mr-2"}),n.jsx("span",{children:"Cp nht thng tin thnh cng!"})]}),n.jsx("button",{onClick:()=>g(!1),className:"ml-4 text-green-700",children:n.jsx(pn,{className:"h-5 w-5"})})]}),Z&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg z-50 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Am,{className:"h-5 w-5 mr-2"}),n.jsx("span",{children:Z})]}),n.jsx("button",{onClick:()=>Ae(null),className:"ml-4 text-green-700",children:n.jsx(pn,{className:"h-5 w-5"})})]}),D&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg z-50 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(pn,{className:"h-5 w-5 mr-2"}),n.jsx("span",{children:D})]}),n.jsx("button",{onClick:()=>H(null),className:"ml-4 text-red-700",children:n.jsx(pn,{className:"h-5 w-5"})})]}),De&&n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:n.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center",children:[n.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:()=>Ue(!1)}),n.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[n.jsx("div",{className:"absolute top-0 right-0 pt-4 pr-4",children:n.jsxs("button",{type:"button",className:"bg-white rounded-md text-gray-400 hover:text-gray-500",onClick:()=>Ue(!1),children:[n.jsx("span",{className:"sr-only",children:"Close"}),n.jsx(pn,{className:"h-6 w-6","aria-hidden":"true"})]})}),n.jsx(khe,{onClose:Pe=>{Ue(!1),Pe&&i(Be=>({...Be,EmailVerified:!0}))}})]})]})}),n.jsxs("div",{className:"flex w-full",children:[n.jsx("div",{className:"w-[35%] h-screen p-4 overflow-y-auto",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden h-fit sticky top-4",children:[n.jsx("div",{className:"bg-blue-600 h-32 md:h-40 relative",children:n.jsx("div",{className:"absolute -bottom-16 md:-bottom-20 left-8",children:n.jsxs("div",{className:"h-32 w-32 md:h-40 md:w-40 rounded-full bg-white p-1 relative flex items-center justify-center overflow-hidden",children:[x&&n.jsx("input",{type:"file",ref:K,onChange:$,className:"hidden",accept:"image/*"}),n.jsx(fn,{src:s==null?void 0:s.Image,name:s==null?void 0:s.FullName,alt:s==null?void 0:s.FullName,size:"xxl",className:"border-2 border-white w-full h-full object-cover",onClick:x?M:void 0,style:{width:"100%",height:"100%"}}),x&&n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity rounded-full cursor-pointer",onClick:M,children:B?n.jsx(_s,{className:"h-8 w-8 text-white animate-spin"}):n.jsx(VD,{className:"h-8 w-8 text-white"})})]})})}),n.jsxs("div",{className:"pt-20 md:pt-24 px-6 md:px-8 pb-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start mb-6 gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:d?n.jsx("input",{type:"text",name:"FullName",value:A.FullName,onChange:qe,className:"border-b border-gray-300 focus:border-blue-500 focus:outline-none"}):s==null?void 0:s.FullName}),n.jsx("p",{className:"text-gray-600",children:(s==null?void 0:s.Role)==="STUDENT"?"Hc sinh":(s==null?void 0:s.Role)==="TEACHER"?"Gio vin":"Qun tr vin"})]}),n.jsxs("div",{className:"flex space-x-2",children:[!x&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:J,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center space-x-2",children:[n.jsx($h,{className:"h-5 w-5"}),n.jsx("span",{children:"Chat"})]}),X===null&&n.jsxs("button",{onClick:Ct,disabled:_,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center space-x-2",children:[_?n.jsx(_s,{className:"h-5 w-5 animate-spin"}):n.jsx(k0,{className:"h-5 w-5"}),n.jsx("span",{children:"Kt bn"})]}),X==="pending"&&n.jsxs("button",{onClick:ct,disabled:_,className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition flex items-center space-x-2",children:[_?n.jsx(_s,{className:"h-5 w-5 animate-spin"}):n.jsx(Ki,{className:"h-5 w-5"}),n.jsx("span",{children:"Chp nhn"})]}),X==="accepted"&&n.jsxs("button",{onClick:rt,disabled:_,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition flex items-center space-x-2",children:[_?n.jsx(_s,{className:"h-5 w-5 animate-spin"}):n.jsx(_6,{className:"h-5 w-5"}),n.jsx("span",{children:"Hy kt bn"})]})]}),x&&(d?n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:St,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[n.jsx(Am,{className:"h-5 w-5 mr-1"}),"Lu"]}),n.jsxs("button",{onClick:at,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:[n.jsx(pn,{className:"h-5 w-5 mr-1"}),"Hy"]})]}):n.jsx("button",{onClick:st,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition border border-gray-300",title:"Chnh sa thng tin",children:n.jsx(q2,{className:"h-5 w-5 text-gray-600"})}))]})]}),n.jsxs("form",{onSubmit:St,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(_O,{className:"h-5 w-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Tn ng nhp"}),n.jsx("p",{className:"text-gray-900",children:s==null?void 0:s.Username})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(tf,{className:"h-5 w-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),n.jsx("div",{className:"flex items-center",children:(s==null?void 0:s.EmailVerified)===!0||(s==null?void 0:s.emailVerified)===!0?n.jsx("p",{className:"text-gray-900",children:(s==null?void 0:s.Email)||(s==null?void 0:s.email)||"Cha cp nht"}):n.jsx("p",{className:"text-red-600 cursor-pointer hover:underline",onClick:()=>x&&Ue(!0),children:(s==null?void 0:s.Email)||(s==null?void 0:s.email)||"Cha cp nht"})})]})]}),n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(cw,{className:"h-5 w-5 text-gray-400"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"S in thoi"}),d?n.jsx("input",{type:"tel",name:"PhoneNumber",value:A.PhoneNumber||"",onChange:qe,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",placeholder:"Nhp s in thoi"}):n.jsx("p",{className:"text-gray-900",children:(s==null?void 0:s.PhoneNumber)||"Cha cp nht"})]})]})}),n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(qd,{className:"h-5 w-5 text-gray-400"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Ngy sinh"}),d?n.jsx("input",{type:"date",name:"DateOfBirth",value:A.DateOfBirth||"",onChange:qe,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"}):n.jsx("p",{className:"text-gray-900",children:We(s==null?void 0:s.DateOfBirth)})]})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(MD,{className:"h-5 w-5 text-gray-400"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Trng hc"}),d?n.jsx("input",{type:"text",name:"School",value:A.School||"",onChange:qe,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",placeholder:"Nhp tn trng"}):n.jsx("p",{className:"text-gray-900",children:(s==null?void 0:s.School)||"Cha cp nht"})]})]})}),n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Md,{className:"h-5 w-5 text-gray-400"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"a ch"}),d?n.jsxs(n.Fragment,{children:[n.jsx("input",{type:"text",name:"Address",value:A.Address||"",onChange:qe,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",placeholder:"Nhp a ch"}),n.jsx("input",{type:"text",name:"City",value:A.City||"",onChange:qe,className:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",placeholder:"Nhp thnh ph"})]}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-gray-900",children:(s==null?void 0:s.Address)||"Cha cp nht"}),n.jsx("p",{className:"text-gray-600",children:[s==null?void 0:s.City,s==null?void 0:s.Country].filter(Boolean).join(", ")||"Cha cp nht"})]})]})]})})]})]}),d&&n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{type:"button",onClick:at,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Hy"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Lu thay i"})]})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Thng tin ti khon"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Ngy tham gia"}),n.jsx("p",{className:"text-gray-900",children:We(s==null?void 0:s.CreatedAt)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"ng nhp gn nht"}),n.jsx("p",{className:"text-gray-900",children:We(s==null?void 0:s.LastLoginAt)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Trng thi ti khon"}),n.jsx("p",{className:`font-medium ${(s==null?void 0:s.AccountStatus)==="ACTIVE"?"text-green-600":"text-red-600"}`,children:(s==null?void 0:s.AccountStatus)==="ACTIVE"?"ang hot ng":" kha"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Xc thc email"}),n.jsx("p",{className:`font-medium ${(s==null?void 0:s.EmailVerified)===!0||(s==null?void 0:s.emailVerified)===!0?"text-green-600":"text-yellow-600"}`,children:(s==null?void 0:s.EmailVerified)===!0||(s==null?void 0:s.emailVerified)===!0?" xc thc":"Cha xc thc"})]})]})]}),n.jsxs("div",{className:"border-t pt-6 mt-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(lc,{className:"h-5 w-5 mr-2 text-blue-600"}),"Bn b (",me.length,")"]}),ie?n.jsx("div",{className:"flex justify-center py-4",children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-600"})}):fe?n.jsx("div",{className:"text-center py-4 text-red-500",children:"Khng th ti danh sch bn b"}):me.length===0?n.jsx("div",{className:"text-center py-4 text-gray-500",children:x?"Bn cha c kt bn vi ai.":`${(s==null?void 0:s.FullName)||"Ngi dng ny"} cha c kt bn vi ai.`}):n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:[me.slice(0,8).map(Pe=>n.jsxs("div",{className:"flex flex-col items-center p-2 border border-gray-100 rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>e(`/profile/${Pe.UserID||Pe.FriendID}`),children:[n.jsx(fn,{src:Pe.Image||Pe.FriendProfilePicture,name:Pe.FullName||Pe.FriendFullName,size:"md",className:"mb-2"}),n.jsx("p",{className:"text-sm font-medium text-center truncate w-full",children:Pe.FullName||Pe.FriendFullName}),n.jsxs("p",{className:"text-xs text-gray-500 truncate w-full text-center",children:["@",Pe.Username||Pe.FriendUsername]})]},Pe.UserID||Pe.FriendID)),me.length>8&&n.jsxs("div",{className:"flex flex-col items-center justify-center p-2 border border-gray-100 rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>e(x?"/friends":`/friends?userId=${r}`),children:[n.jsx("div",{className:"bg-gray-100 rounded-full p-2 mb-2",children:n.jsx(_s,{className:"h-6 w-6 text-gray-500"})}),n.jsxs("p",{className:"text-sm font-medium text-blue-600 text-center",children:["Xem tt c (",me.length,")"]})]})]})]})]})]})}),n.jsx("div",{className:"w-[65%] h-screen p-4 overflow-y-auto",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center sticky top-4 bg-white py-4 z-10",children:[n.jsx(hu,{className:"h-6 w-6 text-blue-600 mr-2"}),"Bi vit ca ",x?"ti":($e=s==null?void 0:s.FullName)==null?void 0:$e.split(" ").pop()]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[n.jsx("button",{className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${we==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>je("all"),children:"Tt c bi vit"}),n.jsx("button",{className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${we==="image"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>je("image"),children:"nh"}),n.jsx("button",{className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${we==="video"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>je("video"),children:"Video"}),x&&n.jsxs("button",{className:`px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center ${we==="saved"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>je("saved"),children:[n.jsx(Hm,{className:"w-4 h-4 mr-1"})," lu"]})]}),we==="saved"?G?n.jsxs("div",{className:"text-center py-10",children:[n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"ang ti bi vit  lu..."})]}):ce?n.jsx("div",{className:"text-center py-10",children:n.jsxs("p",{className:"text-red-600",children:["Khng th ti bi vit  lu: ",ce]})}):P.length===0?n.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:[n.jsx(Hm,{className:"h-12 w-12 mx-auto text-gray-400 mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Bn cha lu bi vit no."}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Bi vit  lu s hin th ti y."}),n.jsx("button",{onClick:()=>e("/posts"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Khm ph bi vit"})]}):n.jsx("div",{className:"space-y-6",children:n.jsx(Z4,{initialPosts:P,onLike:kt,onComment:He,onShare:Pe=>console.log("Share:",Pe),onEdit:Le,onRefreshMedia:q,onBookmark:Se})}):I?n.jsxs("div",{className:"text-center py-10",children:[n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"ang ti bi vit..."})]}):T?n.jsx("div",{className:"text-center py-10",children:n.jsxs("p",{className:"text-red-600",children:["Khng th ti bi vit: ",T]})}):jS(w,we).length===0?n.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-gray-600",children:x?"Bn cha c bi vit no. Hy chia s iu g  vi cng ng!":`${s==null?void 0:s.FullName} cha c bi vit no.`}),x&&n.jsx("button",{onClick:()=>e("/posts"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"To bi vit"})]}):n.jsx("div",{className:"space-y-6",children:n.jsx(Z4,{initialPosts:jS(w,we),onLike:kt,onComment:He,onShare:Pe=>console.log("Share:",Pe),onEdit:Le,onRefreshMedia:q,onBookmark:Se})})]})})]})]})};function jS(e,t){return Array.isArray(e)?t==="all"?e:t==="image"?e.filter(r=>Array.isArray(r.media)&&r.media.some(s=>s.MediaType==="image")):t==="video"?e.filter(r=>Array.isArray(r.media)&&r.media.some(s=>s.MediaType==="video")):e:[]}const She=()=>{const e=rn(),t=lo(),s=new URLSearchParams(t.search).get("userId"),[i,o]=m.useState(()=>sessionStorage.getItem("friendsActiveTab")||"all"),[a,l]=m.useState(()=>{const Be=sessionStorage.getItem("friends");return Be?JSON.parse(Be):[]}),[c,d]=m.useState(()=>{const Be=sessionStorage.getItem("pendingRequests");return Be?JSON.parse(Be):[]}),[u,A]=m.useState(()=>{const Be=sessionStorage.getItem("sentRequests");return Be?JSON.parse(Be):[]}),[f,h]=m.useState(!1),[g,p]=m.useState(null),[b,x]=m.useState(!1),[j,w]=m.useState({type:null,message:null}),[S,I]=m.useState(null),[F,T]=m.useState(!0),[U,K]=m.useState([]),[B,R]=m.useState(!1),[D,H]=m.useState(""),[P,z]=m.useState(!1),[G,he]=m.useState(0),[ce,ye]=m.useState(0),[X,re]=m.useState(null),[_,Q]=m.useState(navigator.onLine),[Z,Ae]=m.useState(window.innerWidth>=768),[me,ae]=m.useState([]),[ie,te]=m.useState(!1),fe=m.useRef(null),[pe,we]=m.useState(!1);m.useEffect(()=>{const Be=()=>{Ae(window.innerWidth>=768)};return window.addEventListener("resize",Be),()=>window.removeEventListener("resize",Be)},[]),m.useEffect(()=>{const Be=()=>{const Te=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${Te}px`)};return Be(),window.addEventListener("resize",Be),()=>window.removeEventListener("resize",Be)},[]);const je=m.useCallback(async()=>{try{h(!0);const Be=localStorage.getItem("token");if(!Be){e("/login");return}if(!_){const Nt=sessionStorage.getItem("friends"),ht=sessionStorage.getItem("pendingRequests"),ft=sessionStorage.getItem("sentRequests");Nt&&l(JSON.parse(Nt)),ht&&d(JSON.parse(ht)),ft&&A(JSON.parse(ft)),q("error","Khng c kt ni mng. Hin th d liu  lu."),h(!1);return}let Te="/api/friendships";s&&(Te=`/api/friendships/user/${s}`);const pt=new AbortController,nt=setTimeout(()=>pt.abort(),1e4);try{const Nt=await fetch(Te,{headers:{Authorization:`Bearer ${Be}`,Accept:"application/json"},signal:pt.signal});if(clearTimeout(nt),Nt.status===401){localStorage.removeItem("token"),localStorage.removeItem("user"),e("/login",{state:{message:"Phin ng nhp  ht hn, vui lng ng nhp li"}});return}if(!Nt.ok)throw new Error("Khng th ti danh sch bn b");const ht=await Nt.json();console.log("API response data:",ht),s?l(ht):(l(ht.friends||[]),d(ht.pendingRequests||[]),ht.sentRequests&&Array.isArray(ht.sentRequests)?(console.log("Setting sent requests from API:",ht.sentRequests),A(ht.sentRequests)):console.warn("No sentRequests array in API response or invalid format:",ht.sentRequests),console.log("Setting sent requests:",ht.sentRequests||[]),sessionStorage.setItem("friends",JSON.stringify(ht.friends||[])),sessionStorage.setItem("pendingRequests",JSON.stringify(ht.pendingRequests||[])),sessionStorage.setItem("sentRequests",JSON.stringify(ht.sentRequests||[])),sessionStorage.setItem("friendsLastFetched",Date.now().toString()))}catch(Nt){Nt.name==="AbortError"?q("error","Khng th kt ni n my ch. Vui lng th li sau."):(console.error("Error fetching friendships:",Nt),p(Nt.message));const ht=sessionStorage.getItem("friends"),ft=sessionStorage.getItem("pendingRequests"),xe=sessionStorage.getItem("sentRequests");ht&&l(JSON.parse(ht)),ft&&d(JSON.parse(ft)),xe&&A(JSON.parse(xe))}finally{h(!1)}}catch(Be){console.error("Error in fetchFriendships:",Be),h(!1)}},[s,e,_]),De=m.useCallback(async Be=>{if(!Be.trim()||Be.length<2){ae([]);return}try{te(!0),fe.current&&clearTimeout(fe.current),fe.current=setTimeout(async()=>{const Te=localStorage.getItem("token");if(!Te){e("/login");return}const pt=await fetch(`/api/users/search?query=${encodeURIComponent(Be)}`,{headers:{Authorization:`Bearer ${Te}`,Accept:"application/json"}});if(pt.status===401){localStorage.removeItem("token"),localStorage.removeItem("user"),e("/login");return}if(!pt.ok)throw new Error("Khng th tm kim ngi dng");const nt=await pt.json(),Nt=new Set(a.map(et=>et.UserID)),ht=new Set(c.map(et=>et.UserID)),ft=new Set(u.map(et=>et.UserID)),Xe=JSON.parse(localStorage.getItem("user")||"{}").id,Fe=nt.filter(et=>et.UserID!==Xe&&!Nt.has(et.UserID)&&!ht.has(et.UserID)&&!ft.has(et.UserID));ae(Fe),Fe.length>0&&o("search")},500)}catch(Te){console.error("Error searching users:",Te),q("error","Khng th tm kim ngi dng")}finally{te(!1)}},[a,c,u,e]),Ue=Be=>{const Te=Be.target.value;H(Te),De(Te)};m.useEffect(()=>{s?(Ct(),T(!1),o("all")):T(!0),je()},[s,je]),m.useEffect(()=>{i==="suggestions"&&F&&U.length===0&&ct()},[i,F]),m.useEffect(()=>{i==="pending"&&F&&je()},[i,F,je]),m.useEffect(()=>{i==="sent"&&(console.log("Current sent requests:",u),console.log("Sent requests from sessionStorage:",JSON.parse(sessionStorage.getItem("sentRequests")||"[]")))},[i,u]),m.useEffect(()=>{i==="sent"&&F&&(console.log("Fetching sent requests from API..."),(async()=>{try{const Te=localStorage.getItem("token");if(!Te)return;h(!0);const pt=await fetch("/api/friendships",{headers:{Authorization:`Bearer ${Te}`,Accept:"application/json"}});if(!pt.ok)throw new Error("Failed to fetch sent requests");const nt=await pt.json();console.log("Fresh API data for sent requests:",nt),nt&&nt.sentRequests&&(A(nt.sentRequests),sessionStorage.setItem("sentRequests",JSON.stringify(nt.sentRequests)))}catch(Te){console.error("Error fetching sent requests:",Te)}finally{h(!1)}})())},[i,F]);const Ce=async()=>{try{console.log("Fetching just sent requests...");const Be=localStorage.getItem("token");if(!Be)return[];const Te=await fetch("/api/friendships",{headers:{Authorization:`Bearer ${Be}`,Accept:"application/json"}});if(!Te.ok)throw new Error("Failed to fetch sent requests");const pt=await Te.json();return console.log("API data for direct sent requests fetch:",pt),pt.sentRequests||[]}catch(Be){return console.error("Error fetching sent requests directly:",Be),[]}};m.useEffect(()=>{(()=>{try{if(s)je();else{const Te=sessionStorage.getItem("friendsLastFetched"),pt=Date.now();if(Te&&pt-parseInt(Te)<5*60*1e3){const Nt=sessionStorage.getItem("friends"),ht=sessionStorage.getItem("pendingRequests"),ft=sessionStorage.getItem("sentRequests");Nt&&l(JSON.parse(Nt)),ht&&d(JSON.parse(ht)),ft&&A(JSON.parse(ft)),je()}else je()}}catch(Te){console.error("Error restoring session data:",Te),je()}})()},[s,je]);const Ct=async()=>{try{const Be=localStorage.getItem("token");if(!Be){e("/login");return}const Te=await fetch(`/api/users/${s}`,{headers:{Authorization:`Bearer ${Be}`,Accept:"application/json"}});if(!Te.ok)throw new Error("Khng th ti thng tin ngi dng");const pt=await Te.json();I(pt)}catch(Be){console.error("Error fetching user info:",Be),p(Be.message)}},ct=async()=>{try{R(!0);const Be=localStorage.getItem("token");if(!Be){e("/login");return}const Te=await fetch("/api/friendships/suggestions/random",{headers:{Authorization:`Bearer ${Be}`,Accept:"application/json"}});if(Te.status===401){localStorage.removeItem("token"),localStorage.removeItem("user"),e("/login",{state:{message:"Phin ng nhp  ht hn, vui lng ng nhp li"}});return}if(!Te.ok)throw new Error("Khng th ti gi  kt bn");const pt=await Te.json();K(pt)}catch(Be){console.error("Error fetching friend suggestions:",Be),p(Be.message)}finally{R(!1)}},rt=async()=>{try{R(!0);const Be=localStorage.getItem("token");if(!Be){e("/login");return}const Te=await fetch("/api/friendships/suggestions/random",{headers:{Authorization:`Bearer ${Be}`,Accept:"application/json"}});if(!Te.ok)throw new Error("Khng th ti thm gi  kt bn");const pt=await Te.json();K(pt)}catch(Be){console.error("Error loading more suggestions:",Be),p(Be.message)}finally{R(!1)}},st=async Be=>{try{x(!0);const Te=localStorage.getItem("token");if(!Te)return;if(!c.some(ht=>ht.UserID===Be)){q("error","Li mi kt bn khng cn tn ti");return}if(!(await fetch(`/api/friendships/${Be}/accept`,{method:"PUT",headers:{Authorization:`Bearer ${Te}`,Accept:"application/json"}})).ok)throw new Error("Could not accept friend request");const Nt=c.find(ht=>ht.UserID===Be);if(Nt){const ht=[...a,Nt],ft=c.filter(xe=>xe.UserID!==Be);l(ht),d(ft),sessionStorage.setItem("friends",JSON.stringify(ht)),sessionStorage.setItem("pendingRequests",JSON.stringify(ft)),sessionStorage.setItem("friendsLastFetched",Date.now().toString())}q("success"," chp nhn li mi kt bn")}catch(Te){console.error("Error accepting friend request:",Te),q("error","Khng th chp nhn li mi kt bn")}finally{x(!1)}},at=async Be=>{try{x(!0);const Te=localStorage.getItem("token");if(!Te)return;if(!c.some(ht=>ht.UserID===Be)){q("error","Li mi kt bn khng cn tn ti");return}if(!(await fetch(`/api/friendships/${Be}/reject`,{method:"PUT",headers:{Authorization:`Bearer ${Te}`,Accept:"application/json"}})).ok)throw new Error("Could not reject friend request");const Nt=c.filter(ht=>ht.UserID!==Be);d(Nt),sessionStorage.setItem("pendingRequests",JSON.stringify(Nt)),sessionStorage.setItem("friendsLastFetched",Date.now().toString()),q("success"," t chi li mi kt bn")}catch(Te){console.error("Error rejecting friend request:",Te),q("error","Khng th t chi li mi kt bn")}finally{x(!1)}},qe=async Be=>{try{x(!0);const Te=localStorage.getItem("token");if(!Te)return;if(!u.some(ht=>ht.UserID===Be)){q("error","Li mi kt bn khng cn tn ti");return}if(!(await fetch(`/api/friendships/${Be}`,{method:"DELETE",headers:{Authorization:`Bearer ${Te}`,Accept:"application/json"}})).ok)throw new Error("Could not cancel friend request");const Nt=u.filter(ht=>ht.UserID!==Be);A(Nt),sessionStorage.setItem("sentRequests",JSON.stringify(Nt)),sessionStorage.setItem("friendsLastFetched",Date.now().toString()),q("success"," hy li mi kt bn")}catch(Te){console.error("Error canceling friend request:",Te),q("error","Khng th hy li mi kt bn")}finally{x(!1)}},St=async Be=>{try{x(!0);const Te=localStorage.getItem("token");if(!Te)return;if(!(await fetch(`/api/friendships/${Be}`,{method:"DELETE",headers:{Authorization:`Bearer ${Te}`,Accept:"application/json"}})).ok)throw new Error("Could not remove friend");const nt=a.filter(Nt=>Nt.UserID!==Be);l(nt),sessionStorage.setItem("friends",JSON.stringify(nt)),sessionStorage.setItem("friendsLastFetched",Date.now().toString()),q("success"," hy kt bn")}catch(Te){console.error("Error removing friend:",Te),q("error","Khng th hy kt bn")}finally{x(!1)}},kt=async Be=>{try{x(!0);const Te=localStorage.getItem("token");if(!Te)return;if(u.some(xe=>xe.UserID===Be)){q("error","Bn  gi li mi kt bn cho ngi ny");return}console.log("Sending friend request to user ID:",Be);const nt=await fetch("/api/friendships",{method:"POST",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({addresseeId:Be})});if(!nt.ok)throw new Error("Khng th gi li mi kt bn");const Nt=await nt.json();console.log("Friend request sent successfully, API response:",Nt);const ht=U.find(xe=>xe.UserID===Be);if(ht){const xe=[...u,{...ht,FriendshipID:Nt.friendship.FriendshipID,Status:"pending",CreatedAt:Nt.friendship.RequestedAt}];console.log("Adding to sent requests:",xe),A(xe);const Xe=U.filter(Fe=>Fe.UserID!==Be);K(Xe),sessionStorage.setItem("sentRequests",JSON.stringify(xe)),sessionStorage.setItem("friendsLastFetched",Date.now().toString())}setTimeout(async()=>{try{const xe=await Ce();console.log("Updated sent requests after direct API call:",xe),xe&&xe.length>0&&(A(xe),sessionStorage.setItem("sentRequests",JSON.stringify(xe)))}catch(xe){console.error("Error fetching updated sent requests:",xe)}},1e3),setTimeout(()=>{try{fetch("/api/friendships",{headers:{Authorization:`Bearer ${Te}`,Accept:"application/json"}}).then(xe=>{if(xe.ok)return xe.json();throw new Error("Failed to fetch updated sent requests")}).then(xe=>{xe&&xe.sentRequests&&(console.log("Updated sent requests from API after sending:",xe.sentRequests),A(xe.sentRequests),sessionStorage.setItem("sentRequests",JSON.stringify(xe.sentRequests)))}).catch(xe=>{console.error("Error fetching updated sent requests:",xe)})}catch(xe){console.error("Error in fetch updated requests:",xe)}},1e3),q("success"," gi li mi kt bn")}catch(Te){console.error("Error sending friend request:",Te),q("error","Khng th gi li mi kt bn")}finally{x(!1)}},He=Be=>{e(`/profile/${Be}`)},Le=Be=>{const Te={UserID:Be.UserID,id:Be.UserID,FullName:Be.FullName||Be.Username,Username:Be.Username,Email:Be.Email,Image:Be.Image||Be.Avatar};e("/chat",{state:{selectedUser:Te,source:"friends"}})},q=(Be,Te)=>{w({type:Be,message:Te}),setTimeout(()=>{w({type:null,message:null})},3e3)},M=()=>{e(s?`/profile/${s}`:"/profile")},$=Be=>D.trim()?Be.filter(Te=>Te.FullName&&Te.FullName.toLowerCase().includes(D.toLowerCase())||Te.Username&&Te.Username.toLowerCase().includes(D.toLowerCase())||Te.School&&Te.School.toLowerCase().includes(D.toLowerCase())):Be;m.useEffect(()=>{const Be=nt=>{window.scrollY===0&&he(nt.touches[0].clientY)},Te=nt=>{if(G>0&&window.scrollY===0){const Nt=nt.touches[0].clientY-G;Nt>0&&ye(Math.min(Nt,100))}},pt=()=>{ce>70&&J(),he(0),ye(0)};return window.addEventListener("touchstart",Be),window.addEventListener("touchmove",Te),window.addEventListener("touchend",pt),()=>{window.removeEventListener("touchstart",Be),window.removeEventListener("touchmove",Te),window.removeEventListener("touchend",pt)}},[G,ce]);const J=async()=>{z(!0),await je(),i==="suggestions"&&await ct(),z(!1),re(new Date)},ee=()=>j.message?n.jsxs("div",{className:`fixed top-4 right-4 ${j.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"} px-6 py-4 rounded-xl shadow-lg z-50 flex items-center justify-between transition-all duration-300 ease-in-out backdrop-blur-sm border border-white/50 max-w-md`,children:[n.jsxs("div",{className:"flex items-center",children:[j.type==="success"?n.jsx(Am,{className:"h-5 w-5 mr-3 text-green-500"}):n.jsx(Xd,{className:"h-5 w-5 mr-3 text-red-500"}),n.jsx("span",{className:"font-medium",children:j.message})]}),n.jsx("button",{onClick:()=>w({type:null,message:null}),className:"ml-4",children:n.jsx(pn,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}):null;m.useEffect(()=>{const Be=()=>Q(!0),Te=()=>Q(!1);return window.addEventListener("online",Be),window.addEventListener("offline",Te),()=>{window.removeEventListener("online",Be),window.removeEventListener("offline",Te)}},[]),m.useEffect(()=>{if(!F||i!=="pending"||!_)return;const Be=async()=>{try{const pt=localStorage.getItem("token");if(!pt)return;const nt=await fetch("/api/friendships",{headers:{Authorization:`Bearer ${pt}`,Accept:"application/json"}});if(!nt.ok)return;const ht=(await nt.json()).pendingRequests||[];if(ht.length>c.length){d(ht),sessionStorage.setItem("pendingRequests",JSON.stringify(ht));const ft=ht.length-c.length;ft>0&&q("success",`Bn c ${ft} li mi kt bn mi`)}}catch(pt){console.error("Error checking for new requests:",pt)}};Be();const Te=setInterval(Be,3e4);return()=>clearInterval(Te)},[i,F,_,c.length]);const ve=()=>_?null:n.jsxs("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-red-50 text-red-700 px-4 py-2 rounded-full text-sm shadow-md border border-red-100 z-50 flex items-center",children:[n.jsx(Xd,{className:"h-5 w-5 mr-2"}),n.jsx("span",{children:"Khng c kt ni mng - ang hin th d liu  lu"})]}),Se=i==="sent"&&f;if(m.useEffect(()=>{sessionStorage.setItem("friendsActiveTab",i)},[i]),f&&a.length===0&&c.length===0&&u.length===0)return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:n.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"ang ti..."})]})});const We=i==="all"?a:i==="pending"?c:i==="suggestions"?U:i==="search"?me:u,$e=i!=="search"?$(We):We;console.log("Active tab:",i),console.log("Displayed users:",We),console.log("Filtered users:",$e);const Pe=i==="suggestions"&&B||i==="search"&&ie;return n.jsxs("div",{className:"w-full min-h-screen bg-gray-50/50",style:{minHeight:"calc(var(--vh, 1vh) * 100)"},children:[ve(),ce>0&&n.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 flex justify-center items-center bg-white border-b border-gray-200",style:{height:`${ce}px`,opacity:ce/100},children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(_s,{className:`h-5 w-5 mr-2 text-gray-600 ${P?"animate-spin":""}`,style:{transform:`rotate(${ce*3.6}deg)`}}),n.jsx("span",{className:"text-sm text-gray-600",children:ce>70?"Th  lm mi":"Ko xung  lm mi"})]})}),ee(),X&&!P&&n.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-white/80 backdrop-blur-sm px-3 py-1 rounded-full text-xs text-gray-500 shadow-sm border border-gray-100 z-40",children:["Cp nht ln cui: ",X.toLocaleTimeString()]}),n.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 z-40 bg-white shadow-sm border-b border-gray-200",children:[n.jsxs("div",{className:"p-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{onClick:M,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:n.jsx(_m,{className:"h-5 w-5"})}),n.jsx("h1",{className:"ml-2 text-lg font-bold text-gray-900",children:"Bn b"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{onClick:()=>we(!pe),className:"p-2 mr-1 text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:n.jsx(ph,{className:"h-5 w-5"})}),n.jsx("button",{onClick:J,disabled:P,className:"p-2 mr-1 text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:n.jsx(_s,{className:`h-5 w-5 ${P?"animate-spin":""}`})}),n.jsx("button",{onClick:()=>Ae(!Z),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:n.jsx(I6,{className:"h-5 w-5"})})]})]}),pe&&n.jsx("div",{className:"px-3 pb-3 animate-fadeDown",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(ph,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",className:"block w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 bg-gray-50/50 transition-all",placeholder:"Tm kim ngi dng...",value:D,onChange:Ue})]})})]}),n.jsxs("div",{className:"flex h-screen md:pt-0 pt-16",style:{height:"calc(var(--vh, 1vh) * 100)"},children:[n.jsxs("div",{className:`${Z?"translate-x-0":"-translate-x-full"} 
          md:translate-x-0 transition-transform duration-300 ease-in-out 
          fixed md:static top-0 left-0 bottom-0 z-30 
          md:w-80 w-3/4 bg-white border-r border-gray-200 flex flex-col h-full relative 
          md:pt-0 pt-16`,style:{height:"calc(var(--vh, 1vh) * 100)"},children:[P&&n.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-blue-500 overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-300 animate-pulse",style:{width:"30%"}})}),n.jsx("div",{className:"md:hidden absolute top-4 right-4",children:n.jsx("button",{onClick:()=>Ae(!1),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-xl",children:n.jsx(pn,{className:"h-5 w-5"})})}),n.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[n.jsx("button",{onClick:M,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-xl transition-all md:block hidden",children:n.jsx(_m,{className:"h-5 w-5"})}),n.jsx("h1",{className:"text-xl font-bold text-gray-900 md:block hidden",children:"Bn b"}),n.jsx("button",{onClick:J,disabled:P,className:`p-2 text-gray-600 hover:bg-gray-100 rounded-xl transition-all ${P?"opacity-50":""} md:block hidden`,children:n.jsx(_s,{className:`h-5 w-5 ${P?"animate-spin":""}`})})]}),n.jsxs("div",{className:"relative md:block hidden",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(ph,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",className:"block w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 bg-gray-50/50 transition-all",placeholder:"Tm kim ngi dng...",value:D,onChange:Ue})]})]}),F&&n.jsx("div",{className:"p-2 md:p-3 overflow-auto",children:n.jsx("nav",{className:"space-y-1",children:[{id:"all",icon:KC,label:"Tt c bn b",count:a.length},{id:"pending",icon:Ki,label:"Li mi nhn",count:c.length},{id:"sent",icon:k0,label:" gi",count:u.length},{id:"suggestions",icon:fu,label:"Gi ",count:null},{id:"search",icon:ph,label:"Tm kim",count:me.length>0?me.length:null}].map(Be=>n.jsxs("button",{className:`w-full px-3 md:px-4 py-3 rounded-xl font-medium flex items-center justify-between ${i===Be.id?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-50"} transition-all duration-200`,onClick:()=>{o(Be.id),window.innerWidth<768&&Ae(!1)},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Be.icon,{className:`h-5 w-5 ${i===Be.id?"text-blue-600":"text-gray-400"} mr-2 md:mr-3`}),n.jsx("span",{className:"text-sm md:text-base",children:Be.label})]}),Be.count!==null&&n.jsx("span",{className:`px-2 py-0.5 md:px-2.5 md:py-1 rounded-lg text-xs ${i===Be.id?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:Be.count})]},Be.id))})})]}),Z&&window.innerWidth<768&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 backdrop-blur-sm",onClick:()=>Ae(!1)}),n.jsxs("div",{className:"flex-1 overflow-auto pb-16 md:pb-0",children:[P&&n.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-blue-500 overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-300 animate-pulse",style:{width:"30%"}})}),n.jsxs("div",{className:"p-3 md:p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-6",children:[n.jsxs("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:[i==="all"&&"Tt c bn b",i==="pending"&&"Li mi kt bn",i==="sent"&&"Li mi  gi",i==="suggestions"&&"Gi  kt bn",i==="search"&&"Kt qu tm kim"]}),i==="suggestions"&&n.jsxs("button",{onClick:rt,className:"flex items-center px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm text-blue-600 bg-blue-50 border border-blue-100 rounded-xl hover:bg-blue-100 transition-colors",children:[n.jsx(_s,{className:"h-3.5 w-3.5 md:h-4 md:w-4 mr-1 md:mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Ti thm gi "}),n.jsx("span",{className:"sm:hidden",children:"Ti thm"})]}),i==="sent"&&n.jsxs("button",{onClick:()=>{h(!0),je().finally(()=>h(!1))},className:"flex items-center px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm text-blue-600 bg-blue-50 border border-blue-100 rounded-xl hover:bg-blue-100 transition-colors",children:[n.jsx(_s,{className:"h-3.5 w-3.5 md:h-4 md:w-4 mr-1 md:mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Lm mi danh sch"}),n.jsx("span",{className:"sm:hidden",children:"Lm mi"})]})]}),(Pe||Se)&&n.jsx("div",{className:"flex items-center justify-center h-40 md:h-64",children:n.jsxs("div",{className:"flex flex-col items-center space-y-3 md:space-y-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 md:h-10 md:w-10 border-[3px] border-blue-600 border-t-transparent"}),n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"ang ti..."})]})}),!Pe&&!Se&&$e.length>0&&n.jsx("div",{className:`grid ${i==="sent"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-4":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4"} gap-2 md:gap-4`,children:$e.map(Be=>n.jsx("div",{className:`bg-white rounded-xl ${i==="sent"?"p-4 md:p-5":"p-3 md:p-4"} border border-gray-200 hover:shadow-md transition-all group`,children:n.jsxs("div",{className:"flex items-start space-x-2 md:space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(fn,{src:Be.Image||Be.Avatar,name:Be.FullName||Be.Username,size:"xl",className:"rounded-xl"}),n.jsx("div",{className:`absolute -bottom-1 -right-1 h-3 w-3 md:h-4 md:w-4 rounded-full border-2 border-white ${Be.Status==="ONLINE"?"bg-green-500":"bg-gray-300"}`})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"cursor-pointer",onClick:()=>He(Be.UserID),children:[n.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors truncate",children:Be.FullName||Be.Username}),n.jsxs("p",{className:"text-xs md:text-sm text-gray-500 truncate",children:["@",Be.Username]}),Be.School&&n.jsx("p",{className:"text-xs md:text-sm text-gray-500 mt-0.5 md:mt-1 truncate",children:Be.School})]}),n.jsx("div",{className:"mt-2 md:mt-4 flex items-center space-x-2",children:F&&n.jsxs(n.Fragment,{children:[i==="all"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>Le(Be),className:"flex-1 px-2 md:px-3 py-2 text-xs md:text-sm bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center justify-center",children:[n.jsx($h,{className:"h-3.5 w-3.5 md:h-4 md:w-4 mr-1 md:mr-2"}),"Nhn tin"]}),n.jsx("button",{onClick:()=>St(Be.UserID),className:"px-2 md:px-3 py-2 text-xs md:text-sm text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:n.jsx(_6,{className:"h-4 w-4"})})]}),i==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>st(Be.UserID),className:"flex-1 px-2 md:px-3 py-2 text-xs md:text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[n.jsx(Am,{className:"h-3.5 w-3.5 md:h-4 md:w-4 mr-1 md:mr-2"}),"ng "]}),n.jsxs("button",{onClick:()=>at(Be.UserID),className:"flex-1 px-2 md:px-3 py-2 text-xs md:text-sm border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center",children:[n.jsx(pn,{className:"h-3.5 w-3.5 md:h-4 md:w-4 mr-1 md:mr-2"}),"T chi"]})]}),i==="sent"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 mb-3",children:[n.jsx(Ki,{className:"h-4 w-4"}),n.jsxs("span",{children:[" gi: ",new Date(Be.CreatedAt||Date.now()).toLocaleDateString("vi-VN")]})]}),n.jsxs("button",{onClick:()=>qe(Be.UserID),className:"flex-1 px-3 py-2.5 text-xs md:text-sm border border-red-100 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors flex items-center justify-center",children:[n.jsx(pn,{className:"h-3.5 w-3.5 md:h-4 md:w-4 mr-1.5"}),"Hy li mi"]})]}),(i==="suggestions"||i==="search")&&n.jsxs("button",{onClick:()=>kt(Be.UserID),className:"flex-1 px-2 md:px-3 py-2 text-xs md:text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[n.jsx(k0,{className:"h-3.5 w-3.5 md:h-4 md:w-4 mr-1 md:mr-2"}),"Kt bn"]})]})})]})]})},Be.UserID))}),!Pe&&!Se&&$e.length===0&&n.jsxs("div",{className:"text-center py-8 md:py-12",children:[n.jsx("div",{className:"bg-gray-50 w-12 h-12 md:w-16 md:h-16 rounded-full flex items-center justify-center mx-auto mb-3 md:mb-4",children:n.jsx(uw,{className:"h-6 w-6 md:h-8 md:w-8 text-gray-400"})}),n.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-900 mb-1 md:mb-2",children:i==="all"?"Cha c bn b no":i==="pending"?"Khng c li mi kt bn no":i==="suggestions"?"Cha c gi  bn b":i==="search"?"Khng tm thy kt qu ph hp":"Cha gi li mi no"}),n.jsx("p",{className:"text-xs md:text-sm text-gray-500 max-w-xs md:max-w-sm mx-auto",children:i==="all"?"Hy kt bn vi nhiu ngi  m rng mng li ca bn.":i==="pending"?"Bn khng c li mi kt bn no vo lc ny.":i==="suggestions"?"Chng ti s gi  nhng ngi ph hp  bn kt bn.":i==="search"?"Hy th tm kim vi t kha khc hoc xem cc gi  kt bn.":"Bn cha gi li mi kt bn cho ai."}),i==="sent"&&n.jsx("button",{onClick:()=>{h(!0),je().finally(()=>h(!1))},className:"mt-3 md:mt-4 px-4 py-2 text-xs md:text-sm bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",children:"Lm mi danh sch"})]})]})]})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-40 md:hidden",children:n.jsx("div",{className:"flex items-center justify-around py-2",children:[{id:"all",icon:KC,label:"Bn b"},{id:"pending",icon:Ki,label:"Li mi",badge:c.length},{id:"suggestions",icon:fu,label:"Gi "},{id:"sent",icon:k0,label:" gi",badge:u.length}].map(Be=>n.jsxs("button",{className:`flex flex-col items-center justify-center px-2 py-1 ${i===Be.id?"text-blue-600":"text-gray-500"}`,onClick:()=>o(Be.id),children:[n.jsxs("div",{className:"relative",children:[n.jsx(Be.icon,{className:"h-5 w-5"}),Be.badge>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:Be.badge})]}),n.jsx("span",{className:"text-xs mt-1",children:Be.label})]},Be.id))})})]})},LL=document.createElement("style");LL.innerHTML=`
  @keyframes fadeDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-fadeDown {
    animation: fadeDown 0.2s ease-out;
  }
`;document.head.appendChild(LL);const Ehe=()=>{const e=Mn(),{profileInfo:t,extendedProfile:r,loading:s,error:i,success:o,message:a}=Is(P=>P.user),[l,c]=m.useState(!1),[d,u]=m.useState(!1),[A,f]=m.useState([]),[h,g]=m.useState({fullName:"",bio:"",school:"",pronouns:"",url:"",orcidId:"",email:"",location:"",education:[],workExperience:[],skills:[],interests:[]});m.useEffect(()=>{o&&a&&Re.success(a),i&&Re.error(i)},[o,i,a]),m.useEffect(()=>{e(b0())},[e]),m.useEffect(()=>{if(r)try{const P=ce=>{if(!ce)return[];if(typeof ce=="string")try{return JSON.parse(ce)}catch{return[]}return ce},z=ce=>{if(!ce)return{};if(typeof ce=="string")try{return JSON.parse(ce)}catch{return{}}return ce},G=P(r.Education),he=P(r.WorkExperience);g({fullName:r.FullName||"",bio:r.Bio||"",school:r.School||"",pronouns:r.Pronouns||"",url:r.Url||"",orcidId:r.OrcidId||"",email:r.Email||"",education:G,workExperience:he,skills:P(r.Skills),interests:P(r.Interests),socialLinks:z(r.SocialLinks)})}catch(P){console.error("Error parsing profile data:",P),Re.error("C li khi ti d liu h s")}else t&&g(P=>({...P,fullName:t.fullName||"",email:t.email||"",school:t.school||""}))},[r,t]),m.useEffect(()=>{us.getEmails().then(P=>{const G=(P.data.emails||[]).filter(he=>he.IsVerified===1||he.IsVerified===!0);if(f(G),!h.email&&G.length){const he=G.find(ce=>ce.IsPrimary===1||ce.IsPrimary===!0)||G[0];g(ce=>({...ce,email:he.Email}))}}).catch(P=>console.error("Error fetch verified emails",P))},[]);const p=(P,z)=>{g(G=>({...G,[P]:z}))},b=P=>{P.preventDefault();const z={fullName:h.fullName,bio:h.bio,school:h.school,pronouns:h.pronouns,education:h.education,workExperience:h.workExperience,skills:h.skills||[],interests:h.interests||[],socialLinks:h.socialLinks||{},orcidId:h.orcidId,url:h.url};e(v0(z))},x=()=>{const P={id:Date.now(),school:"",degree:"",field:"",startDate:"",endDate:"",current:!1,description:""};g(z=>({...z,education:[...z.education||[],P]}))},j=(P,z,G)=>{g(he=>({...he,education:he.education.map(ce=>ce.id===P?{...ce,[z]:G}:ce)}))},w=P=>{g(z=>({...z,education:z.education.filter(G=>G.id!==P)}))},S=()=>{const P={id:Date.now(),company:"",position:"",location:"",startDate:"",endDate:"",current:!1,description:""};g(z=>({...z,workExperience:[...z.workExperience||[],P]}))},I=(P,z,G)=>{g(he=>({...he,workExperience:he.workExperience.map(ce=>ce.id===P?{...ce,[z]:G}:ce)}))},F=P=>{g(z=>({...z,workExperience:z.workExperience.filter(G=>G.id!==P)}))},T=P=>{var z;!P||(z=h.skills)!=null&&z.includes(P)||g(G=>({...G,skills:[...G.skills||[],P]}))},U=P=>{g(z=>({...z,skills:z.skills.filter(G=>G!==P)}))},K=P=>{var z;!P||(z=h.interests)!=null&&z.includes(P)||g(G=>({...G,interests:[...G.interests||[],P]}))},B=P=>{g(z=>({...z,interests:z.interests.filter(G=>G!==P)}))},R=(P,z)=>{if(P.key==="Enter"){P.preventDefault();const G=P.target.value.trim();G&&(z==="skill"?T(G):z==="interest"&&K(G),P.target.value="")}},D=async()=>{try{c(!0),await us.updateEducation(h.education),Re.success("Thng tin hc vn  c cp nht!")}catch(P){console.error("Error saving education:",P),Re.error("C li khi lu thng tin hc vn")}finally{c(!1)}},H=async()=>{try{u(!0),await us.updateWorkExperience(h.workExperience),Re.success("Thng tin kinh nghim lm vic  c cp nht!")}catch(P){console.error("Error saving work experience:",P),Re.error("C li khi lu thng tin kinh nghim lm vic")}finally{u(!1)}};return n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"H s c nhn"}),n.jsxs("form",{onSubmit:b,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Tn"}),n.jsx("input",{type:"text",id:"name",name:"name",value:h.fullName,onChange:P=>p("fullName",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Tn ca bn c th xut hin khi bn ng gp hoc c  cp. Bn c th xa n bt c lc no."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email cng khai"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{id:"email",value:h.email||"",onChange:P=>p("email",P.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Chn email  xc thc  hin th"}),A.map(P=>n.jsxs("option",{value:P.Email,children:[P.Email,P.IsPrimary?" (Chnh)":""]},P.Email))]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Bn  t a ch email  ch  ring t.  chuyn i quyn ring t email, hy vo ",n.jsx("span",{className:"text-blue-500",children:"ci t email"}),' v b chn "Gi a ch email ring t."']})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Tiu s"}),n.jsx("textarea",{id:"bio",name:"bio",rows:"4",value:h.bio||"",onChange:P=>p("bio",P.target.value),placeholder:"Hy cho chng ti bit mt cht v bn",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Bn c th @ cp n ngi dng v t chc khc  lin kt n h."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"school",className:"block text-sm font-medium text-gray-700",children:"Trng hc"}),n.jsx("input",{type:"text",id:"school",name:"school",value:h.school||"",onChange:P=>p("school",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Tn trng hc ca bn"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"pronouns",className:"block text-sm font-medium text-gray-700",children:"i t nhn xng"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{id:"pronouns",value:h.pronouns||"",onChange:P=>p("pronouns",P.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Khng ch nh"}),n.jsx("option",{value:"he/him",children:"anh/ca anh"}),n.jsx("option",{value:"she/her",children:"ch/ca ch"}),n.jsx("option",{value:"they/them",children:"h/ca h"})]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Hc vn"}),n.jsxs("button",{type:"button",onClick:x,className:"px-3 py-1 bg-blue-50 text-blue-600 rounded-md text-sm hover:bg-blue-100 flex items-center",children:[n.jsx(Ba,{className:"h-4 w-4 mr-1"}),"Thm hc vn"]})]}),h.education&&h.education.length>0?h.education.map((P,z)=>n.jsxs("div",{className:"p-4 border rounded-md bg-gray-50",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("h4",{className:"font-medium",children:["Hc vn ",z+1]}),n.jsx("button",{type:"button",onClick:()=>w(P.id),className:"text-red-500 hover:text-red-700",children:n.jsx(pn,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng hc"}),n.jsx("input",{type:"text",value:P.school||"",onChange:G=>j(P.id,"school",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bng cp"}),n.jsx("input",{type:"text",value:P.degree||"",onChange:G=>j(P.id,"degree",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngnh hc"}),n.jsx("input",{type:"text",value:P.field||"",onChange:G=>j(P.id,"field",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy bt u"}),n.jsx("input",{type:"date",value:P.startDate||"",onChange:G=>j(P.id,"startDate",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy kt thc"}),n.jsx("input",{type:"date",value:P.endDate||"",onChange:G=>j(P.id,"endDate",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",disabled:P.current})]})]}),n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("input",{type:"checkbox",id:`current-edu-${P.id}`,checked:P.current||!1,onChange:G=>j(P.id,"current",G.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:`current-edu-${P.id}`,className:"ml-2 block text-sm text-gray-700",children:"ang hc"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t"}),n.jsx("textarea",{rows:"2",value:P.description||"",onChange:G=>j(P.id,"description",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]},P.id||z)):n.jsx("div",{className:"p-4 text-gray-500 text-center bg-gray-50 border border-dashed rounded-md",children:'Cha c thng tin hc vn. Nhn "Thm hc vn"  bt u.'}),h.education&&h.education.length>0&&n.jsx("div",{className:"mt-2 flex justify-end",children:n.jsx("button",{type:"button",onClick:D,disabled:l,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",children:l?"ang lu...":"Lu thng tin hc vn"})})]}),n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Kinh nghim lm vic"}),n.jsxs("button",{type:"button",onClick:S,className:"px-3 py-1 bg-blue-50 text-blue-600 rounded-md text-sm hover:bg-blue-100 flex items-center",children:[n.jsx(Ba,{className:"h-4 w-4 mr-1"}),"Thm kinh nghim"]})]}),h.workExperience&&h.workExperience.length>0?h.workExperience.map((P,z)=>n.jsxs("div",{className:"p-4 border rounded-md bg-gray-50",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("h4",{className:"font-medium",children:["Kinh nghim ",z+1]}),n.jsx("button",{type:"button",onClick:()=>F(P.id),className:"text-red-500 hover:text-red-700",children:n.jsx(pn,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cng ty"}),n.jsx("input",{type:"text",value:P.company||"",onChange:G=>I(P.id,"company",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"V tr"}),n.jsx("input",{type:"text",value:P.position||"",onChange:G=>I(P.id,"position",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"a im"}),n.jsx("input",{type:"text",value:P.location||"",onChange:G=>I(P.id,"location",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Thnh ph, Quc gia"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy bt u"}),n.jsx("input",{type:"date",value:P.startDate||"",onChange:G=>I(P.id,"startDate",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy kt thc"}),n.jsx("input",{type:"date",value:P.endDate||"",onChange:G=>I(P.id,"endDate",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",disabled:P.current})]})]}),n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("input",{type:"checkbox",id:`current-work-${P.id}`,checked:P.current||!1,onChange:G=>I(P.id,"current",G.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:`current-work-${P.id}`,className:"ml-2 block text-sm text-gray-700",children:"ang lm vic ti y"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t cng vic"}),n.jsx("textarea",{rows:"2",value:P.description||"",onChange:G=>I(P.id,"description",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"M t trch nhim v thnh tu ca bn"})]})]},P.id||z)):n.jsx("div",{className:"p-4 text-gray-500 text-center bg-gray-50 border border-dashed rounded-md",children:'Cha c thng tin kinh nghim lm vic. Nhn "Thm kinh nghim"  bt u.'}),h.workExperience&&h.workExperience.length>0&&n.jsx("div",{className:"mt-2 flex justify-end",children:n.jsx("button",{type:"button",onClick:H,disabled:d,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",children:d?"ang lu...":"Lu kinh nghim lm vic"})})]}),n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"K nng"}),n.jsxs("div",{className:"mb-2",children:[n.jsx("label",{htmlFor:"skill-input",className:"block text-sm font-medium text-gray-700 mb-1",children:"Thm k nng mi"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"text",id:"skill-input",placeholder:"Nhp k nng v nhn Enter",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyPress:P=>R(P,"skill")}),n.jsx("button",{type:"button",onClick:()=>{const P=document.getElementById("skill-input");P.value.trim()&&(T(P.value.trim()),P.value="")},className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Thm"})]})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:h.skills&&h.skills.length>0?h.skills.map((P,z)=>n.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm flex items-center",children:[n.jsx("span",{children:P}),n.jsx("button",{type:"button",onClick:()=>U(P),className:"ml-2 text-blue-600 hover:text-blue-800",children:n.jsx(pn,{className:"h-4 w-4"})})]},z)):n.jsx("div",{className:"text-gray-500 italic w-full",children:"Cha c k nng no"})})]}),n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"S thch"}),n.jsxs("div",{className:"mb-2",children:[n.jsx("label",{htmlFor:"interest-input",className:"block text-sm font-medium text-gray-700 mb-1",children:"Thm s thch mi"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"text",id:"interest-input",placeholder:"Nhp s thch v nhn Enter",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyPress:P=>R(P,"interest")}),n.jsx("button",{type:"button",onClick:()=>{const P=document.getElementById("interest-input");P.value.trim()&&(K(P.value.trim()),P.value="")},className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Thm"})]})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:h.interests&&h.interests.length>0?h.interests.map((P,z)=>n.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm flex items-center",children:[n.jsx("span",{children:P}),n.jsx("button",{type:"button",onClick:()=>B(P),className:"ml-2 text-green-600 hover:text-green-800",children:n.jsx(pn,{className:"h-4 w-4"})})]},z)):n.jsx("div",{className:"text-gray-500 italic w-full",children:"Cha c s thch no"})})]}),n.jsxs("div",{className:"space-y-2 border-t pt-4",children:[n.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700",children:"URL trang web c nhn"}),n.jsx("input",{type:"url",id:"url",name:"url",value:h.url||"",onChange:P=>p("url",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"orcid",className:"block text-sm font-medium text-gray-700",children:"ORCID iD"}),n.jsx("input",{type:"text",id:"orcid",name:"orcid",value:h.orcidId||"",onChange:P=>p("orcidId",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0000-0000-0000-0000"}),n.jsxs("p",{className:"text-xs text-gray-500",children:["ORCID cung cp mt nh danh lin tc - ORCID iD - gip phn bit bn vi cc nh nghin cu khc. Tm hiu thm ti ",n.jsx("a",{href:"https://orcid.org",className:"text-blue-500",children:"ORCID.org"}),"."]})]}),n.jsx("div",{className:"pt-6",children:n.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 rounded-md text-white bg-green-600 hover:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:s?n.jsxs("span",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang lu..."]}):"Cp nht h s"})})]})]})},CS=()=>{Mn();const[e,t]=m.useState([{id:"pkg-1",name:"@CampusLearning/ui-components",description:"UI components for CampusLearning applications",version:"1.2.3",registry:"npm",visibility:"public",downloads:1245,lastPublished:new Date(2023,9,15),tags:["ui","react","components"]},{id:"pkg-2",name:"@CampusLearning/utils",description:"Utility functions for CampusLearning applications",version:"0.8.5",registry:"npm",visibility:"public",downloads:876,lastPublished:new Date(2023,10,5),tags:["utils","helpers"]},{id:"pkg-3",name:"CampusLearning-server",description:"Docker image for CampusLearning server",version:"2.1.0",registry:"docker",visibility:"private",downloads:53,lastPublished:new Date(2023,8,20),tags:["server","docker","backend"]}]),[r,s]=m.useState("all"),i=c=>new Intl.DateTimeFormat("vi-VN",{year:"numeric",month:"long",day:"numeric"}).format(c),o=c=>{switch(c){case"npm":return n.jsx("div",{className:"bg-red-100 p-1 rounded",children:n.jsx("span",{className:"text-red-600 font-semibold text-xs",children:"npm"})});case"docker":return n.jsx("div",{className:"bg-blue-100 p-1 rounded",children:n.jsx("span",{className:"text-blue-600 font-semibold text-xs",children:"docker"})});case"maven":return n.jsx("div",{className:"bg-green-100 p-1 rounded",children:n.jsx("span",{className:"text-green-600 font-semibold text-xs",children:"maven"})});case"nuget":return n.jsx("div",{className:"bg-purple-100 p-1 rounded",children:n.jsx("span",{className:"text-purple-600 font-semibold text-xs",children:"nuget"})});default:return n.jsx("div",{className:"bg-gray-100 p-1 rounded",children:n.jsx("span",{className:"text-gray-600 font-semibold text-xs",children:c})})}},a=c=>{const d=e.filter(u=>u.id!==c);t(d),Re.success("Gi  c xa thnh cng")},l=r==="all"?e:e.filter(c=>c.registry===r);return n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Qun l gi"}),n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-100 p-5",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(AO,{className:"h-6 w-6 text-blue-600 mt-0.5 mr-3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-blue-900",children:"V gi phn mm"}),n.jsx("p",{className:"mt-2 text-sm text-blue-700",children:"Gi phn mm l mt cch  phn phi m, th vin hoc ng dng ca bn cho ngi khc s dng. Bn c th xut bn gi n cc registry khc nhau nh npm, Docker Hub, Maven Central, NuGet, v nhiu ni khc."}),n.jsx("p",{className:"mt-2 text-sm text-blue-700",children:n.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-800 underline",children:"Tm hiu thm v cch xut bn gi"})})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"B lc registry"})}),n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{onClick:()=>s("all"),className:`px-4 py-2 rounded-md text-sm font-medium ${r==="all"?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:"Tt c"}),n.jsx("button",{onClick:()=>s("npm"),className:`px-4 py-2 rounded-md text-sm font-medium ${r==="npm"?"bg-red-100 text-red-700 border border-red-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:"npm"}),n.jsx("button",{onClick:()=>s("docker"),className:`px-4 py-2 rounded-md text-sm font-medium ${r==="docker"?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:"Docker"}),n.jsx("button",{onClick:()=>s("maven"),className:`px-4 py-2 rounded-md text-sm font-medium ${r==="maven"?"bg-green-100 text-green-700 border border-green-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:"Maven"}),n.jsx("button",{onClick:()=>s("nuget"),className:`px-4 py-2 rounded-md text-sm font-medium ${r==="nuget"?"bg-purple-100 text-purple-700 border border-purple-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:"NuGet"})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Gi ca bn"}),n.jsxs("button",{className:"px-3 py-1.5 bg-green-50 border border-green-300 rounded text-sm text-green-700 hover:bg-green-100 flex items-center",children:[n.jsx(Ba,{className:"h-4 w-4 mr-1"}),n.jsx("span",{children:"Xut bn gi mi"})]})]}),l.length>0?n.jsx("div",{className:"divide-y divide-gray-100",children:l.map(c=>n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:c.name}),n.jsxs("span",{className:"ml-2 text-xs bg-gray-100 text-gray-800 px-2 py-0.5 rounded",children:["v",c.version]}),n.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded ${c.visibility==="public"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:c.visibility==="public"?"Cng khai":"Ring t"}),n.jsx("div",{className:"ml-2",children:o(c.registry)})]}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c.description}),n.jsxs("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:[n.jsxs("div",{className:"flex items-center mr-4",children:[n.jsx(S6,{className:"h-3 w-3 mr-1"}),n.jsxs("span",{children:[c.downloads.toLocaleString()," lt ti"]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(_s,{className:"h-3 w-3 mr-1"}),n.jsxs("span",{children:["Cp nht: ",i(c.lastPublished)]})]})]}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:c.tags.map((d,u)=>n.jsxs("span",{className:"inline-flex items-center bg-gray-100 text-gray-800 text-xs px-2 py-0.5 rounded",children:[n.jsx(gQ,{className:"h-3 w-3 mr-1"}),d]},u))})]}),n.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[n.jsx("button",{className:"text-gray-400 hover:text-blue-600",title:"Xem chi tit",children:n.jsx(bu,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>a(c.id),className:"text-gray-400 hover:text-red-600",title:"Xa gi",children:n.jsx(ac,{className:"h-5 w-5"})})]})]})},c.id))}):n.jsxs("div",{className:"p-10 text-center",children:[n.jsx(Zf,{className:"h-12 w-12 mx-auto text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Khng c gi no"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r==="all"?"Bn cha xut bn gi no. Hy bt u bng cch xut bn gi u tin ca bn.":`Bn cha xut bn gi no trn registry ${r}.`}),n.jsx("div",{className:"mt-6",children:n.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[n.jsx(Ba,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Xut bn gi mi"]})})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Ci t gi"})}),n.jsxs("div",{className:"p-5 space-y-5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"T ng xut bn"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"T ng xut bn gi khi c th mi c to"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:!0,className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Thng bo v phin bn mi"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Nhn thng bo khi c phin bn mi ca gi bn s dng"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:!0,className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Gi mc nh l ring t"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"t gi mi l ring t theo mc nh"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:!1,className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Token truy cp"})}),n.jsxs("div",{className:"p-5",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Token truy cp cho php bn xc thc vi cc registry khc nhau  xut bn v ti gi."}),n.jsx("div",{className:"mt-4",children:n.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[n.jsx(Ba,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"To token truy cp"]})}),n.jsx("div",{className:"mt-6 text-center text-gray-500 text-sm",children:"Bn cha c token truy cp no. To token  bt u xut bn gi."})]})]}),n.jsx("div",{className:"mt-8 p-4 bg-gray-50 border border-gray-200 rounded-md",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(hu,{className:"h-6 w-6 text-gray-400 mr-2"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[" tm hiu thm v cch xut bn v qun l gi, vui lng xem",n.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-800 mx-1",children:"ti liu hng dn"}),"ca chng ti."]})]})})]})]})},Ihe=()=>{Mn();const[e,t]=m.useState([]);m.useEffect(()=>{us.getSessions().then(a=>{t(a.data.sessions)}).catch(a=>{console.error("Error fetching sessions:",a),Re.error("Khng th ti danh sch phin ng nhp")})},[]);const r=a=>{const c=Math.floor((new Date-a)/1e3);return c<60?"Va xong":c<3600?`${Math.floor(c/60)} pht trc`:c<86400?`${Math.floor(c/3600)} gi trc`:`${Math.floor(c/86400)} ngy trc`},s=a=>{switch(a){case"desktop":return n.jsx(ow,{className:"h-8 w-8 text-gray-500"});case"tablet":return n.jsx(gO,{className:"h-8 w-8 text-gray-500"});case"mobile":return n.jsx(W2,{className:"h-8 w-8 text-gray-500"});default:return n.jsx(Nh,{className:"h-8 w-8 text-gray-500"})}},i=a=>{us.deleteSession(a).then(()=>{Re.success("Phin ng nhp  c kt thc"),t(e.filter(l=>l.id!==a))}).catch(l=>{console.error("Error terminating session:",l),Re.error("Li khi kt thc phin ng nhp")})},o=()=>{us.terminateOtherSessions().then(()=>{const a=e.find(l=>l.isCurrent);t(a?[a]:[]),Re.success("Tt c cc phin khc  c kt thc")}).catch(a=>{console.error("Error terminating other sessions:",a),Re.error("Li khi kt thc cc phin khc")})};return n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Phin ng nhp"}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Phin ng nhp hin ti"})}),n.jsx("div",{className:"p-5",children:e.filter(a=>a.isCurrent).map(a=>n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"mr-4 mt-1",children:s(a.device)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs("h4",{className:"font-medium text-gray-900",children:[a.browser," trn ",a.os]}),n.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Hin ti"})]}),n.jsxs("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center text-gray-500",children:[n.jsx(Nh,{className:"h-4 w-4 mr-1"}),n.jsxs("span",{children:[a.location," (",a.ip,")"]})]}),n.jsxs("div",{className:"flex items-center text-gray-500",children:[n.jsx(Ki,{className:"h-4 w-4 mr-1"}),n.jsxs("span",{children:["Hot ng ",r(a.lastActive)]})]})]})]})]},a.id))})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Phin ng nhp khc"}),e.some(a=>!a.isCurrent)&&n.jsx("button",{onClick:o,className:"text-sm text-red-600 hover:text-red-800",children:"Kt thc tt c phin khc"})]}),n.jsx("div",{className:"divide-y divide-gray-100",children:e.filter(a=>!a.isCurrent).length>0?e.filter(a=>!a.isCurrent).map(a=>n.jsxs("div",{className:"p-5 flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start flex-1",children:[n.jsx("div",{className:"mr-4 mt-1",children:s(a.device)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h4",{className:"font-medium text-gray-900",children:[a.browser," trn ",a.os]}),n.jsxs("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center text-gray-500",children:[n.jsx(Nh,{className:"h-4 w-4 mr-1"}),n.jsxs("span",{children:[a.location," (",a.ip,")"]})]}),n.jsxs("div",{className:"flex items-center text-gray-500",children:[n.jsx(Ki,{className:"h-4 w-4 mr-1"}),n.jsxs("span",{children:["Hot ng ",r(a.lastActive)]})]})]})]})]}),n.jsx("button",{onClick:()=>i(a.id),className:"text-gray-400 hover:text-red-600",title:"Kt thc phin ny",children:n.jsx(pn,{className:"h-5 w-5"})})]},a.id)):n.jsx("div",{className:"p-5 text-center text-gray-500",children:"Khng c phin ng nhp no khc"})})]}),n.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-100 p-5",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(vu,{className:"h-6 w-6 text-blue-600 mt-0.5 mr-3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-blue-900",children:"Mo bo mt"}),n.jsxs("ul",{className:"mt-2 text-sm text-blue-700 space-y-2",children:[n.jsx("li",{children:" m bo ng xut trn cc thit b cng cng"}),n.jsx("li",{children:" Kim tra thng xuyn cc phin ng nhp ca bn"}),n.jsx("li",{children:" Bt xc thc hai lp  tng cng bo mt"}),n.jsx("li",{children:" Thay i mt khu ngay lp tc nu bn thy phin ng nhp l"})]})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Lch s ng nhp"})}),n.jsx("div",{className:"p-5",children:e.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thit b"}),n.jsx("th",{className:"px-3 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"V tr"}),n.jsx("th",{className:"px-3 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thi gian"}),n.jsx("th",{className:"px-3 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.sort((a,l)=>new Date(l.lastActive)-new Date(a.lastActive)).map(a=>n.jsxs("tr",{children:[n.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:[a.browser," trn ",a.os]}),n.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-500",children:[a.location," (",a.ip,")"]}),n.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-500",children:r(a.lastActive)}),n.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Thnh cng"})})]},a.id))})]})}):n.jsx("div",{className:"text-center text-gray-500",children:"Cha c lch s ng nhp"})})]})]})]})},The=()=>{Mn();const{profileInfo:e}=Is(I=>I.user),[t,r]=m.useState([]),[s,i]=m.useState(""),[o,a]=m.useState(!1),[l,c]=m.useState(!0),[d,u]=m.useState(!1),[A,f]=m.useState(""),[h,g]=m.useState("");m.useEffect(()=>{us.getEmails().then(I=>{r(I.data.emails)}).catch(I=>{console.error("Error fetching emails:",I),Re.error("Khng th ti danh sch email")})},[]);const p=I=>{if(I.preventDefault(),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)){Re.error("Vui lng nhp mt a ch email hp l");return}if(t.length>=3){Re.error("Bn ch c th thm ti a 3 a ch email");return}us.addEmail(s).then(()=>(Re.success("Email  c thm. Vui lng kim tra hp th  xc thc."),i(""),a(!1),f(s),u(!0),us.getEmails())).then(T=>r(T.data.emails)).catch(T=>{var U,K;console.error("Error adding email:",T),Re.error(((K=(U=T.response)==null?void 0:U.data)==null?void 0:K.message)||"C li khi thm email")})},b=I=>{us.setPrimaryEmail(I).then(()=>(Re.success(" t email chnh thnh cng"),us.getEmails())).then(F=>r(F.data.emails)).catch(F=>{console.error("Error setting primary email:",F),Re.error("C li khi t email chnh")})},x=I=>{us.deleteEmail(I).then(()=>(Re.success("Email  c xa"),us.getEmails())).then(F=>r(F.data.emails)).catch(F=>{var T,U;console.error("Error deleting email:",F),Re.error(((U=(T=F.response)==null?void 0:T.data)==null?void 0:U.message)||"C li khi xa email")})},j=(I,F)=>{us.resendVerificationEmail(I).then(()=>{Re.info(" gi li email xc thc"),f(F),u(!0),g("")}).catch(T=>{var U,K;console.error("Error resending verification:",T),Re.error(((K=(U=T.response)==null?void 0:U.data)==null?void 0:K.message)||"C li khi gi li email xc thc")})},w=I=>{if(I.preventDefault(),!h||h.length<6){Re.error("Vui lng nhp m xc thc hp l");return}us.verifyAdditionalEmail(A,h).then(()=>(Re.success("Xc thc email thnh cng"),u(!1),g(""),f(""),us.getEmails())).then(F=>r(F.data.emails)).catch(F=>{var T,U;console.error("Error verifying email:",F),Re.error(((U=(T=F.response)==null?void 0:T.data)==null?void 0:U.message)||"C li khi xc thc email")})},S=()=>{c(!l)};return n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Ci t Email"}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Quyn ring t Email"})}),n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Gi a ch email ring t"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Chng ti s to mt a ch chuyn tip  bo v a ch email tht ca bn"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:l,onChange:S,className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]}),l&&n.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-md border border-blue-100",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(vu,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-2"}),n.jsxs("p",{className:"text-sm text-blue-700",children:["Khi bn thc hin cc thao tc da trn web, chng ti s s dng",n.jsxs("span",{className:"font-mono mx-1",children:[(e==null?void 0:e.id)||"12345","+",(e==null?void 0:e.username)||"username","@users.noreply.example.com"]}),"thay v a ch email tht ca bn."]})]})})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"a ch Email"})}),n.jsxs("div",{className:"p-5",children:[n.jsx("div",{className:"space-y-5",children:t.map(I=>n.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 pb-4 last:border-b-0 last:pb-0",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(tf,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-2"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"font-medium text-gray-900",children:I.Email}),I.IsPrimary&&n.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Chnh"}),I.IsVerified?n.jsxs("span",{className:"ml-2 inline-flex items-center text-green-600",children:[n.jsx(No,{className:"h-4 w-4 mr-1"}),n.jsx("span",{className:"text-xs",children:" xc thc"})]}):n.jsxs("span",{className:"ml-2 inline-flex items-center text-yellow-600",children:[n.jsx(Xd,{className:"h-4 w-4 mr-1"}),n.jsx("span",{className:"text-xs",children:"Cha xc thc"})]})]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Quyn ring t: ",I.Visibility==="private"?"Ring t":"Cng khai"]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[!I.IsVerified&&n.jsx("button",{onClick:()=>j(I.EmailID,I.Email),className:"text-xs text-blue-600 hover:text-blue-800",children:"Gi li xc thc"}),!I.IsPrimary&&I.IsVerified&&n.jsx("button",{onClick:()=>b(I.EmailID),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700",children:"t lm chnh"}),!I.IsPrimary&&n.jsx("button",{onClick:()=>x(I.EmailID),className:"text-red-500 hover:text-red-700",children:n.jsx(ac,{className:"h-4 w-4"})})]})]},I.EmailID))}),d&&n.jsxs("div",{className:"mt-6 p-4 border border-blue-100 rounded-md bg-blue-50",children:[n.jsxs("div",{className:"flex items-start mb-3",children:[n.jsx(pl,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-2"}),n.jsxs("h4",{className:"font-medium text-blue-800",children:["Xc thc email: ",A]})]}),n.jsxs("form",{onSubmit:w,className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"verificationCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nhp m xc thc  gi n email ca bn"}),n.jsx("input",{type:"text",id:"verificationCode",value:h,onChange:I=>g(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nhp m 6 ch s",maxLength:6,required:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nu bn khng thy email, hy kim tra th mc spam"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Xc thc"}),n.jsx("button",{type:"button",onClick:()=>{us.resendVerificationEmail(A),Re.info(" gi li m xc thc")},className:"px-4 py-2 bg-white border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Gi li m"}),n.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 bg-white border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Sau ny"})]})]})]}),o?n.jsx("div",{className:"mt-6",children:n.jsxs("form",{onSubmit:p,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"newEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Thm a ch email mi"}),n.jsx("input",{type:"email",id:"newEmail",value:s,onChange:I=>i(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"email@example.com",required:!0})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Thm email"}),n.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 bg-white border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Hy"})]})]})}):n.jsxs("div",{className:"mt-6",children:[n.jsxs("button",{onClick:()=>a(!0),className:"flex items-center text-blue-600 hover:text-blue-800",disabled:t.length>=3,children:[n.jsx(oQ,{className:"h-5 w-5 mr-1"}),n.jsxs("span",{children:["Thm a ch email ",t.length>=3&&"( t gii hn)"]})]}),t.length>=3&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Bn ch c th thm ti a 3 a ch email."})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Ty chn thng bo email"})}),n.jsxs("div",{className:"p-5 space-y-5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Thng bo hot ng"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Nhn email khi c hot ng lin quan n bn"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Cp nht kha hc"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Nhn email khi kha hc ca bn c ni dung mi"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Tin tc v khuyn mi"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Nhn thng tin v tnh nng mi v u i c bit"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",defaultChecked:!1,className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Tn sut email"})}),n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"emailFrequency",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"ml-3 block text-gray-900",children:"Ngay lp tc"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"emailFrequency",className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"ml-3 block text-gray-900",children:"Hng ngy"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"emailFrequency",className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"ml-3 block text-gray-900",children:"Hng tun"})]})]}),n.jsx("p",{className:"mt-3 text-sm text-gray-500",children:"Tn sut bn mun nhn email thng bo (khng p dng cho email xc thc v bo mt)"})]})]}),n.jsx("div",{className:"pt-6",children:n.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-white bg-green-600 hover:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Lu thay i"})})]})]})},Fhe=()=>{const e=Mn(),{settings:t,profileInfo:r}=Is(f=>f.user),[s,i]=m.useState({profileVisibility:"public",searchEngineIndex:!0,activityVisibility:"followers",showOnlineStatus:!0,allowMessages:"friends",dataCollection:{analytics:!0,personalization:!0,thirdParty:!1},contentPreferences:{adultContent:!1,sensitiveContent:!1}}),[o,a]=m.useState(!1);m.useEffect(()=>{t||e(cm())},[e,t]),m.useEffect(()=>{t&&t.privacy&&i(f=>({...f,...t.privacy,dataCollection:{...f.dataCollection,...t.privacy.dataCollection},contentPreferences:{...f.contentPreferences,...t.privacy.contentPreferences}}))},[t]);const l=f=>{i({...s,[f]:!s[f]})},c=(f,h)=>{i({...s,[f]:{...s[f],[h]:!s[f][h]}})},d=(f,h)=>{i({...s,[f]:h})},u=async f=>{f.preventDefault();try{const h={...t,privacy:{...t==null?void 0:t.privacy,...s}};await e(Rd(h)).unwrap(),Re.success("Ci t quyn ring t  c cp nht")}catch(h){console.error("Update privacy settings error:",h),Re.error((h==null?void 0:h.message)||"Khng th cp nht ci t")}},A=async()=>{var f,h,g,p;if(!o){a(!0);try{const b=await Zh.exportData();if(b.data instanceof Blob){const x=window.URL.createObjectURL(b.data),j=document.createElement("a");j.href=x,j.download=`user-data-${Date.now()}.json`,document.body.appendChild(j),j.click(),window.URL.revokeObjectURL(x),document.body.removeChild(j),Re.success("D liu  c ti xung thnh cng.")}else Re.success("Yu cu xut d liu  c gi. Vui lng kim tra email ca bn.")}catch(b){console.error("Export data error:",b),b.code==="ERR_NETWORK"?Re.error("Khng th kt ni ti my ch. Vui lng kim tra kt ni mng v th li sau."):((f=b.response)==null?void 0:f.status)===500?Re.error("Li my ch. Vui lng lin h qun tr vin  c h tr."):((h=b.response)==null?void 0:h.status)===401?Re.error("Phin ng nhp ca bn  ht hn. Vui lng ng nhp li."):Re.error(((p=(g=b==null?void 0:b.response)==null?void 0:g.data)==null?void 0:p.message)||"Khng th xut d liu. Vui lng th li sau.")}finally{a(!1)}}};return n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Ci t quyn ring t"}),n.jsxs("form",{onSubmit:u,className:"space-y-8",children:[n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Hin th h s"})}),n.jsxs("div",{className:"p-5 space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"profileVisibility",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ai c th xem h s ca bn"}),n.jsxs("select",{id:"profileVisibility",value:s.profileVisibility,onChange:f=>d("profileVisibility",f.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"public",children:"Cng khai (Mi ngi)"}),n.jsx("option",{value:"registered",children:"Ngi dng  ng k"}),n.jsx("option",{value:"followers",children:"Ngi theo di"}),n.jsx("option",{value:"friends",children:"Ch bn b"}),n.jsx("option",{value:"private",children:"Ring t (Ch mnh ti)"})]}),n.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"iu ny xc nh ai c th xem thng tin h s ca bn, bao gm tn, tiu s v cc thng tin khc."})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Hin th trng thi trc tuyn"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cho php ngi khc bit khi no bn ang hot ng trn h thng"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:s.showOnlineStatus,onChange:()=>l("showOnlineStatus"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Hin th trong kt qu tm kim"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cho php cc cng c tm kim nh Google lp ch mc h s ca bn"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:s.searchEngineIndex,onChange:()=>l("searchEngineIndex"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Quyn ring t hot ng"})}),n.jsxs("div",{className:"p-5 space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"activityVisibility",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ai c th xem hot ng ca bn"}),n.jsxs("select",{id:"activityVisibility",value:s.activityVisibility,onChange:f=>d("activityVisibility",f.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"public",children:"Cng khai (Mi ngi)"}),n.jsx("option",{value:"registered",children:"Ngi dng  ng k"}),n.jsx("option",{value:"followers",children:"Ngi theo di"}),n.jsx("option",{value:"friends",children:"Ch bn b"}),n.jsx("option",{value:"private",children:"Ring t (Ch mnh ti)"})]}),n.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"iu ny xc nh ai c th xem hot ng ca bn nh bnh lun, theo di v ng gp."})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"allowMessages",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ai c th gi tin nhn cho bn"}),n.jsxs("select",{id:"allowMessages",value:s.allowMessages,onChange:f=>d("allowMessages",f.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"Tt c mi ngi"}),n.jsx("option",{value:"registered",children:"Ngi dng  ng k"}),n.jsx("option",{value:"followers",children:"Ngi theo di"}),n.jsx("option",{value:"friends",children:"Ch bn b"}),n.jsx("option",{value:"none",children:"Khng ai"})]}),n.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"iu ny xc nh ai c th gi tin nhn trc tip cho bn."})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Thu thp d liu v c nhn ha"})}),n.jsxs("div",{className:"p-5 space-y-5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Phn tch s dng"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cho php thu thp d liu v cch bn s dng dch v  ci thin tri nghim"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:s.dataCollection.analytics,onChange:()=>c("dataCollection","analytics"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"C nhn ha ni dung"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cho php s dng d liu ca bn  c nhn ha ni dung v  xut"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:s.dataCollection.personalization,onChange:()=>c("dataCollection","personalization"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Chia s d liu vi bn th ba"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cho php chia s d liu ca bn vi cc i tc tin cy"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:s.dataCollection.thirdParty,onChange:()=>c("dataCollection","thirdParty"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Ty chn ni dung"})}),n.jsxs("div",{className:"p-5 space-y-5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Hin th ni dung ngi ln"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cho php hin th ni dung dnh cho ngi ln (18+)"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:s.contentPreferences.adultContent,onChange:()=>c("contentPreferences","adultContent"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Hin th ni dung nhy cm"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cho php hin th ni dung c th gy kh chu hoc tranh ci"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:s.contentPreferences.sensitiveContent,onChange:()=>c("contentPreferences","sensitiveContent"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Qun l d liu ca bn"})}),n.jsxs("div",{className:"p-5 space-y-5",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Xut d liu ca bn"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Ti xung bn sao d liu c nhn ca bn"})]}),n.jsx("button",{type:"button",onClick:A,disabled:o,className:`px-4 py-2 border rounded-md flex items-center ${o?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gray-100 border-gray-300 text-gray-700 hover:bg-gray-200"}`,children:o?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"ang x l..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(S6,{className:"h-5 w-5 mr-2"}),n.jsx("span",{children:"Xut d liu"})]})})]}),n.jsx("div",{className:"border-t border-gray-100 pt-5",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Sao chp d liu"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Yu cu bn sao d liu theo Quy nh bo v d liu"})]}),n.jsxs("button",{type:"button",className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-200 flex items-center",children:[n.jsx(L6,{className:"h-5 w-5 mr-2"}),n.jsx("span",{children:"Yu cu bn sao"})]})]})}),n.jsx("div",{className:"border-t border-gray-100 pt-5",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-red-600",children:"Xa d liu ca bn"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Yu cu xa tt c d liu c nhn ca bn"})]}),n.jsxs("button",{type:"button",className:"px-4 py-2 bg-red-50 border border-red-300 rounded-md text-red-700 hover:bg-red-100 flex items-center",children:[n.jsx(ac,{className:"h-5 w-5 mr-2"}),n.jsx("span",{children:"Yu cu xa d liu"})]})]})})]})]}),n.jsx("div",{className:"pt-6",children:n.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-white bg-green-600 hover:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Lu thay i"})})]}),n.jsx("div",{className:"mt-8 p-4 bg-gray-50 border border-gray-200 rounded-md",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[" tm hiu thm v cch chng ti thu thp, s dng v bo v d liu ca bn, vui lng xem",n.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-800 mx-1",children:"Chnh sch quyn ring t"}),"v",n.jsx("a",{href:"/terms-of-service",className:"text-blue-600 hover:text-blue-800 mx-1",children:"iu khon dch v"}),"ca chng ti."]})})]})},uh={getSSHKeys:async e=>{try{return(await Ht.get(`${jo}/api/users/ssh-keys`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(t){throw console.error("Error fetching SSH keys:",t),t}},addSSHKey:async(e,{title:t,key:r})=>{try{return(await Ht.post(`${jo}/api/users/ssh-keys`,{title:t,key:r},{headers:{Authorization:`Bearer ${e}`}})).data}catch(s){throw console.error("Error adding SSH key:",s),s}},deleteSSHKey:async(e,t)=>{try{return(await Ht.delete(`${jo}/api/users/ssh-keys/${t}`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(r){throw console.error("Error deleting SSH key:",r),r}},getGPGKeys:async e=>{try{return(await Ht.get(`${jo}/api/users/gpg-keys`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(t){throw console.error("Error fetching GPG keys:",t),t}},addGPGKey:async(e,{title:t,key:r})=>{try{return(await Ht.post(`${jo}/api/users/gpg-keys`,{title:t,key:r},{headers:{Authorization:`Bearer ${e}`}})).data}catch(s){throw console.error("Error adding GPG key:",s),s}},deleteGPGKey:async(e,t)=>{try{return(await Ht.delete(`${jo}/api/users/gpg-keys/${t}`,{headers:{Authorization:`Bearer ${e}`}})).data}catch(r){throw console.error("Error deleting GPG key:",r),r}}},Lhe=()=>{Mn(),Is(H=>H.auth.user);const e=Is(H=>H.auth.token),t=m.useRef(null),[r,s]=m.useState([]),[i,o]=m.useState([]),[a,l]=m.useState({ssh:!1,gpg:!1}),[c,d]=m.useState(!1),[u,A]=m.useState({title:"",key:""}),[f,h]=m.useState(!1),[g,p]=m.useState({title:"",key:""});m.useEffect(()=>{b(),x()},[]);const b=async()=>{if(e){l(H=>({...H,ssh:!0}));try{const H=await uh.getSSHKeys(e);H.success?s(H.keys||[]):Re.error("Khng th ti kha SSH")}catch(H){console.error("Error fetching SSH keys:",H),Re.error(" xy ra li khi ti kha SSH")}finally{l(H=>({...H,ssh:!1}))}}},x=async()=>{if(e){l(H=>({...H,gpg:!0}));try{const H=await uh.getGPGKeys(e);H.success?o(H.keys||[]):Re.error("Khng th ti kha GPG")}catch(H){console.error("Error fetching GPG keys:",H),Re.error(" xy ra li khi ti kha GPG")}finally{l(H=>({...H,gpg:!1}))}}},j=H=>{A({...u,[H.target.name]:H.target.value})},w=H=>{p({...g,[H.target.name]:H.target.value})},S=async H=>{var P,z;if(H.preventDefault(),!u.title.trim()){Re.error("Vui lng nhp tiu  cho kha SSH"),t.current.focus();return}if(!u.key.trim()){Re.error("Vui lng nhp kha SSH cng khai");return}if(!B(u.key)){Re.error("Kha SSH khng hp l. Vui lng kim tra li nh dng.");return}try{const G=await uh.addSSHKey(e,{title:u.title,key:u.key});G.success?(b(),A({title:"",key:""}),d(!1),Re.success(" thm kha SSH thnh cng")):Re.error(G.message||"Khng th thm kha SSH")}catch(G){console.error("Error adding SSH key:",G),Re.error(((z=(P=G.response)==null?void 0:P.data)==null?void 0:z.message)||" xy ra li khi thm kha SSH")}},I=async H=>{var P,z;if(H.preventDefault(),!g.title.trim()){Re.error("Vui lng nhp tiu  cho kha GPG");return}if(!g.key.trim()){Re.error("Vui lng nhp kha GPG cng khai");return}try{const G=await uh.addGPGKey(e,{title:g.title,key:g.key});G.success?(x(),p({title:"",key:""}),h(!1),Re.success(" thm kha GPG thnh cng")):Re.error(G.message||"Khng th thm kha GPG")}catch(G){console.error("Error adding GPG key:",G),Re.error(((z=(P=G.response)==null?void 0:P.data)==null?void 0:z.message)||" xy ra li khi thm kha GPG")}},F=async H=>{var P,z;try{const G=await uh.deleteSSHKey(e,H);G.success?(b(),Re.success(" xa kha SSH")):Re.error(G.message||"Khng th xa kha SSH")}catch(G){console.error("Error deleting SSH key:",G),Re.error(((z=(P=G.response)==null?void 0:P.data)==null?void 0:z.message)||" xy ra li khi xa kha SSH")}},T=async H=>{var P,z;try{const G=await uh.deleteGPGKey(e,H);G.success?(x(),Re.success(" xa kha GPG")):Re.error(G.message||"Khng th xa kha GPG")}catch(G){console.error("Error deleting GPG key:",G),Re.error(((z=(P=G.response)==null?void 0:P.data)==null?void 0:z.message)||" xy ra li khi xa kha GPG")}},U=H=>{navigator.clipboard.writeText(H).then(()=>{Re.success(" sao chp vn tay kha vo clipboard")}).catch(()=>{Re.error("Khng th sao chp vo clipboard")})},K=H=>H?new Intl.DateTimeFormat("vi-VN",{year:"numeric",month:"long",day:"numeric"}).format(new Date(H)):"Cha s dng",B=H=>{const P=H.trim();return(P.startsWith("ssh-rsa ")||P.startsWith("ssh-ed25519 ")||P.startsWith("ssh-dss ")||P.startsWith("ecdsa-sha2-nistp"))&&P.length>50},R=H=>{const P=H.KeyID||H.keyID||H.id,z=H.Title||H.title,G=H.Fingerprint||H.fingerprint,he=H.CreatedAt||H.createdAt,ce=H.LastUsedAt||H.lastUsedAt||H.lastUsed;return n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(lw,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:z}),n.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:[n.jsx("span",{className:"font-mono",children:G}),n.jsx("button",{onClick:()=>U(G),className:"ml-2 text-blue-600 hover:text-blue-800",title:"Sao chp vn tay kha",children:n.jsx(_C,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Thm vo ngy ",K(he)," ",ce?n.jsxs("span",{children:[" S dng ln cui: ",K(ce)]}):n.jsx("span",{children:" Cha c s dng"})]})]})]}),n.jsx("button",{onClick:()=>F(P),className:"text-gray-400 hover:text-red-600",title:"Xa kha ny",children:n.jsx(ac,{className:"h-5 w-5"})})]})},P)},D=H=>{const P=H.KeyID||H.keyID||H.id,z=H.Title||H.title,G=H.Fingerprint||H.fingerprint,he=H.CreatedAt||H.createdAt,ce=H.ExpiresAt||H.expiresAt;return n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(vu,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:z}),n.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:[n.jsx("span",{className:"font-mono",children:G}),n.jsx("button",{onClick:()=>U(G),className:"ml-2 text-blue-600 hover:text-blue-800",title:"Sao chp vn tay kha",children:n.jsx(_C,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Thm vo ngy ",K(he),ce&&n.jsxs("span",{children:["  Ht hn vo: ",K(ce)]})]})]})]}),n.jsx("button",{onClick:()=>T(P),className:"text-gray-400 hover:text-red-600",title:"Xa kha ny",children:n.jsx(ac,{className:"h-5 w-5"})})]})},P)};return n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Kha SSH v GPG"}),n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-100 p-5",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(U6,{className:"h-6 w-6 text-blue-600 mt-0.5 mr-3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-blue-900",children:"V kha SSH"}),n.jsx("p",{className:"mt-2 text-sm text-blue-700",children:"Kha SSH cho php bn thit lp kt ni an ton gia my tnh ca bn v my ch ca chng ti. Bn c th s dng kha SSH  xc thc thay v s dng mt khu khi thc hin cc thao tc nh y m hoc kt ni vi my ch."}),n.jsx("p",{className:"mt-2 text-sm text-blue-700",children:n.jsx("a",{href:"https://docs.github.com/en/authentication/connecting-to-github-with-ssh",className:"text-blue-600 hover:text-blue-800 underline",target:"_blank",rel:"noopener noreferrer",children:"Tm hiu thm v kha SSH"})})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Kha SSH"}),n.jsxs("button",{onClick:()=>d(!0),className:"px-3 py-1.5 bg-green-50 border border-green-300 rounded text-sm text-green-700 hover:bg-green-100 flex items-center",disabled:c,children:[n.jsx(Ba,{className:"h-4 w-4 mr-1"}),n.jsx("span",{children:"Thm kha SSH"})]})]}),c&&n.jsx("div",{className:"p-5 border-b border-gray-200 bg-gray-50",children:n.jsxs("form",{onSubmit:S,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tiu "}),n.jsx("input",{type:"text",id:"title",name:"title",ref:t,value:u.title,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"v d: MacBook Pro",autoFocus:!0}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:'t tn m t  d dng nhn bit kha ny (v d: "Laptop c nhn")'})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"key",className:"block text-sm font-medium text-gray-700 mb-1",children:"Kha"}),n.jsx("textarea",{id:"key",name:"key",value:u.key,onChange:j,rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC..."}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:'Dn kha SSH cng khai ca bn vo y. Bt u bng "ssh-rsa", "ssh-ed25519", "ssh-dss", "ecdsa-sha2-nistp"...'})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Thm kha SSH"}),n.jsx("button",{type:"button",onClick:()=>{d(!1),A({title:"",key:""})},className:"px-4 py-2 bg-white border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Hy"})]})]})}),n.jsx("div",{className:"divide-y divide-gray-100",children:a.ssh?n.jsx("div",{className:"p-5 text-center text-gray-500",children:"ang ti kha SSH..."}):r.length>0?r.map(H=>R(H)):n.jsx("div",{className:"p-5 text-center text-gray-500",children:c?"in thng tin  thm kha SSH u tin ca bn":"Bn cha thm kha SSH no. Nhn 'Thm kha SSH'  bt u."})})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Kha GPG"}),n.jsxs("button",{onClick:()=>h(!0),className:"px-3 py-1.5 bg-green-50 border border-green-300 rounded text-sm text-green-700 hover:bg-green-100 flex items-center",disabled:f,children:[n.jsx(Ba,{className:"h-4 w-4 mr-1"}),n.jsx("span",{children:"Thm kha GPG"})]})]}),f&&n.jsx("div",{className:"p-5 border-b border-gray-200 bg-gray-50",children:n.jsxs("form",{onSubmit:I,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"gpg-title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tiu "}),n.jsx("input",{type:"text",id:"gpg-title",name:"title",value:g.title,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"v d: GPG Key cho GitHub",autoFocus:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"gpg-key",className:"block text-sm font-medium text-gray-700 mb-1",children:"Kha"}),n.jsx("textarea",{id:"gpg-key",name:"key",value:g.key,onChange:w,rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"-----BEGIN PGP PUBLIC KEY BLOCK-----..."}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:'Dn kha GPG cng khai ca bn vo y. Bt u bng "-----BEGIN PGP PUBLIC KEY BLOCK-----"'})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Thm kha GPG"}),n.jsx("button",{type:"button",onClick:()=>{h(!1),p({title:"",key:""})},className:"px-4 py-2 bg-white border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Hy"})]})]})}),n.jsx("div",{className:"divide-y divide-gray-100",children:a.gpg?n.jsx("div",{className:"p-5 text-center text-gray-500",children:"ang ti kha GPG..."}):i.length>0?i.map(H=>D(H)):n.jsx("div",{className:"p-5",children:f?n.jsx("div",{className:"text-center text-gray-500",children:"in thng tin  thm kha GPG u tin ca bn"}):n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-start mb-4",children:[n.jsx(vu,{className:"h-6 w-6 text-gray-400 mt-0.5 mr-3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"K xc minh commit ca bn"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"S dng kha GPG  k commit v th ca bn  ngi khc c th xc minh rng chng thc s n t bn."}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:n.jsx("a",{href:"https://docs.github.com/en/authentication/managing-commit-signature-verification",className:"text-blue-600 hover:text-blue-800 underline",target:"_blank",rel:"noopener noreferrer",children:"Tm hiu thm v vic k xc minh commit"})})]})]}),n.jsx("div",{className:"mt-3 text-center text-gray-500",children:"Bn cha thm kha GPG no. Nhn 'Thm kha GPG'  bt u."})]})})})]}),n.jsx("div",{className:"bg-yellow-50 rounded-lg border border-yellow-100 p-5",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx($m,{className:"h-6 w-6 text-yellow-600 mt-0.5 mr-3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-yellow-900",children:"Lu  bo mt"}),n.jsxs("ul",{className:"mt-2 text-sm text-yellow-700 space-y-2",children:[n.jsx("li",{children:" Khng bao gi chia s kha ring t SSH ca bn vi ngi khc"}),n.jsx("li",{children:" Ch thm kha cng khai SSH vo ti khon ca bn"}),n.jsx("li",{children:" Xem xt s dng kha SSH vi mt khu  tng cng bo mt"}),n.jsx("li",{children:" Xa kha SSH khng cn s dng hoc c th  b xm phm"})]})]})]})})]})]})},Phe=()=>{Mn();const[e,t]=m.useState([{id:"repo-1",name:"CampusLearning-web",type:"repository",description:"Main web application for CampusLearning",archivedAt:new Date(2023,8,15),lastActive:new Date(2023,7,30),tags:["react","javascript","web"]},{id:"project-1",name:"Campus Redesign",type:"project",description:"Project for redesigning the campus website",archivedAt:new Date(2023,9,5),lastActive:new Date(2023,8,28),tags:["design","ui/ux"]},{id:"course-1",name:"Introduction to React",type:"course",description:"Beginner course for React development",archivedAt:new Date(2023,7,10),lastActive:new Date(2023,6,15),tags:["react","tutorial"]},{id:"doc-1",name:"API Documentation",type:"document",description:"Documentation for the CampusLearning API",archivedAt:new Date(2023,10,2),lastActive:new Date(2023,9,25),tags:["api","documentation"]}]),[r,s]=m.useState("all"),[i,o]=m.useState(""),[a,l]=m.useState("newest"),c=p=>new Intl.DateTimeFormat("vi-VN",{year:"numeric",month:"long",day:"numeric"}).format(p),d=(p,b="h-5 w-5")=>{switch(p){case"repository":return n.jsx(LO,{className:b});case"project":return n.jsx(Zf,{className:b});case"course":return n.jsx(ef,{className:b});case"document":return n.jsx($C,{className:b});default:return n.jsx(Zf,{className:b})}},u=p=>{const b=e.filter(x=>x.id!==p);t(b),Re.success("Mc  c khi phc thnh cng")},A=p=>{if(window.confirm("Bn c chc chn mun xa vnh vin mc ny? Hnh ng ny khng th hon tc.")){const b=e.filter(x=>x.id!==p);t(b),Re.success("Mc  c xa vnh vin")}},h=[...e.filter(p=>{const b=r==="all"||p.type===r,x=i===""||p.name.toLowerCase().includes(i.toLowerCase())||p.description.toLowerCase().includes(i.toLowerCase());return b&&x})].sort((p,b)=>a==="newest"?b.archivedAt-p.archivedAt:a==="oldest"?p.archivedAt-b.archivedAt:a==="name-asc"?p.name.localeCompare(b.name):a==="name-desc"?b.name.localeCompare(p.name):0),g=p=>{switch(p){case"repository":return"Kho lu tr";case"project":return"D n";case"course":return"Kha hc";case"document":return"Ti liu";default:return p}};return n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Kho lu tr"}),n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-100 p-5",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Zf,{className:"h-6 w-6 text-blue-600 mt-0.5 mr-3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-blue-900",children:"V kho lu tr"}),n.jsx("p",{className:"mt-2 text-sm text-blue-700",children:"Kho lu tr cha cc mc  c lu tr t ti khon ca bn. Cc mc ny khng cn hin th trong danh sch chnh nhng vn c th truy cp v khi phc nu cn."}),n.jsx("p",{className:"mt-2 text-sm text-blue-700",children:"Cc mc c lu tr s t ng b xa sau 90 ngy tr khi bn khi phc chng."})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Tm kim v lc"})}),n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{htmlFor:"search",className:"sr-only",children:"Tm kim"}),n.jsxs("div",{className:"relative rounded-md shadow-sm",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:n.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),n.jsx("input",{type:"text",name:"search",id:"search",value:i,onChange:p=>o(p.target.value),className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Tm kim theo tn hoc m t"})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[n.jsxs("div",{className:"relative inline-block w-full md:w-auto",children:[n.jsx("label",{htmlFor:"type-filter",className:"sr-only",children:"Lc theo loi"}),n.jsx("div",{className:"flex",children:n.jsxs("div",{className:"relative flex items-center",children:[n.jsx(UO,{className:"h-5 w-5 text-gray-400 absolute left-3"}),n.jsxs("select",{id:"type-filter",name:"type-filter",value:r,onChange:p=>s(p.target.value),className:"focus:ring-blue-500 focus:border-blue-500 pl-10 pr-10 py-2 text-base border-gray-300 rounded-md",children:[n.jsx("option",{value:"all",children:"Tt c loi"}),n.jsx("option",{value:"repository",children:"Kho lu tr"}),n.jsx("option",{value:"project",children:"D n"}),n.jsx("option",{value:"course",children:"Kha hc"}),n.jsx("option",{value:"document",children:"Ti liu"})]})]})})]}),n.jsxs("div",{className:"relative inline-block w-full md:w-auto",children:[n.jsx("label",{htmlFor:"sort-order",className:"sr-only",children:"Sp xp theo"}),n.jsx("div",{className:"flex",children:n.jsxs("div",{className:"relative flex items-center",children:[n.jsx(pD,{className:"h-5 w-5 text-gray-400 absolute left-3"}),n.jsxs("select",{id:"sort-order",name:"sort-order",value:a,onChange:p=>l(p.target.value),className:"focus:ring-blue-500 focus:border-blue-500 pl-10 pr-10 py-2 text-base border-gray-300 rounded-md",children:[n.jsx("option",{value:"newest",children:"Mi nht trc"}),n.jsx("option",{value:"oldest",children:"C nht trc"}),n.jsx("option",{value:"name-asc",children:"Tn (A-Z)"}),n.jsx("option",{value:"name-desc",children:"Tn (Z-A)"})]})]})})]})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Cc mc  lu tr"})}),h.length>0?n.jsx("div",{className:"divide-y divide-gray-100",children:h.map(p=>n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"mr-3 text-gray-400",children:d(p.type)}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:p.name}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx("span",{className:"text-xs bg-gray-100 text-gray-800 px-2 py-0.5 rounded",children:g(p.type)}),n.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["Lu tr ngy ",c(p.archivedAt)]})]})]})]}),n.jsx("p",{className:"mt-2 text-sm text-gray-500 ml-8",children:p.description}),n.jsx("div",{className:"mt-2 flex items-center text-xs text-gray-500 ml-8",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(_s,{className:"h-3 w-3 mr-1"}),n.jsxs("span",{children:["Hot ng cui: ",c(p.lastActive)]})]})}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-1 ml-8",children:p.tags.map((b,x)=>n.jsxs("span",{className:"inline-flex items-center bg-gray-100 text-gray-800 text-xs px-2 py-0.5 rounded",children:["#",b]},x))})]}),n.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[n.jsx("button",{className:"text-gray-400 hover:text-blue-600",title:"Xem chi tit",children:n.jsx(bu,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>u(p.id),className:"text-gray-400 hover:text-green-600",title:"Khi phc mc ny",children:n.jsx(SD,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>A(p.id),className:"text-gray-400 hover:text-red-600",title:"Xa vnh vin",children:n.jsx(ac,{className:"h-5 w-5"})})]})]})},p.id))}):n.jsxs("div",{className:"p-10 text-center",children:[n.jsx(Zf,{className:"h-12 w-12 mx-auto text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Khng c mc no"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r==="all"&&i===""?"Bn cha lu tr mc no.":"Khng tm thy mc no ph hp vi b lc ca bn."})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Ci t lu tr"})}),n.jsxs("div",{className:"p-5 space-y-5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"T ng xa sau 90 ngy"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"T ng xa cc mc  lu tr sau 90 ngy"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:!0,className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Thng bo trc khi xa"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Nhn thng bo trc khi cc mc b xa t ng"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:!0,className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]}),n.jsxs("div",{className:"border-t border-gray-100 pt-5",children:[n.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[n.jsx(ac,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Xa tt c cc mc  lu tr"]}),n.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Hnh ng ny s xa vnh vin tt c cc mc  lu tr v khng th hon tc."})]})]})]}),n.jsx("div",{className:"mt-8 p-4 bg-gray-50 border border-gray-200 rounded-md",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx($C,{className:"h-6 w-6 text-gray-400 mt-0.5 mr-2"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Theo chnh sch lu tr ca chng ti, cc mc  lu tr s t ng b xa sau 90 ngy tr khi c khi phc.  bit thm chi tit, vui lng xem",n.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-800 mx-1",children:"chnh sch lu tr"}),"ca chng ti."]})]})})]})]})},Uhe=()=>{Mn();const[e,t]=m.useState([{id:"cs-1",name:"CampusLearning-web-dev",repository:"CampusLearning/CampusLearning-web",branch:"main",status:"running",createdAt:new Date(2023,10,15),lastUsed:new Date(2023,10,25),machine:{cpu:4,memory:8,storage:32},expiresAt:new Date(2023,11,15)},{id:"cs-2",name:"api-feature-auth",repository:"CampusLearning/CampusLearning-api",branch:"feature/auth",status:"stopped",createdAt:new Date(2023,9,20),lastUsed:new Date(2023,10,10),machine:{cpu:2,memory:4,storage:16},expiresAt:new Date(2023,11,20)},{id:"cs-3",name:"mobile-app-dev",repository:"CampusLearning/CampusLearning-mobile",branch:"develop",status:"stopped",createdAt:new Date(2023,10,5),lastUsed:new Date(2023,10,18),machine:{cpu:4,memory:8,storage:32},expiresAt:new Date(2023,11,5)}]),r=[{id:"basic",name:"C bn",cpu:2,memory:4,storage:16},{id:"standard",name:"Tiu chun",cpu:4,memory:8,storage:32},{id:"premium",name:"Cao cp",cpu:8,memory:16,storage:64}],[s,i]=m.useState(!1),[o,a]=m.useState({repository:"",branch:"main",machinePreset:"standard"}),l=p=>new Intl.DateTimeFormat("vi-VN",{year:"numeric",month:"long",day:"numeric"}).format(p),c=p=>{const x=Math.floor((new Date-p)/1e3);return x<60?"Va xong":x<3600?`${Math.floor(x/60)} pht trc`:x<86400?`${Math.floor(x/3600)} gi trc`:`${Math.floor(x/86400)} ngy trc`},d=p=>{const b=e.map(x=>x.id===p?{...x,status:"running",lastUsed:new Date}:x);t(b),Re.success("Codespace  c khi ng")},u=p=>{const b=e.map(x=>x.id===p?{...x,status:"stopped"}:x);t(b),Re.success("Codespace  c dng")},A=p=>{if(window.confirm("Bn c chc chn mun xa codespace ny? Tt c d liu khng c commit s b mt.")){const b=e.filter(x=>x.id!==p);t(b),Re.success("Codespace  c xa")}},f=p=>{a({...o,[p.target.name]:p.target.value})},h=p=>{if(p.preventDefault(),!o.repository.trim()){Re.error("Vui lng chn mt repository");return}const b=r.find(j=>j.id===o.machinePreset),x={id:`cs-${Date.now()}`,name:o.repository.split("/").pop()+"-"+o.branch.replace("/","-"),repository:o.repository,branch:o.branch,status:"starting",createdAt:new Date,lastUsed:new Date,machine:{cpu:b.cpu,memory:b.memory,storage:b.storage},expiresAt:new Date(Date.now()+30*24*60*60*1e3)};t([x,...e]),a({repository:"",branch:"main",machinePreset:"standard"}),i(!1),Re.success("Codespace ang c to"),setTimeout(()=>{t(j=>j.map(w=>w.id===x.id?{...w,status:"running"}:w)),Re.success("Codespace  sn sng  s dng")},3e3)},g=p=>{switch(p){case"running":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[n.jsx("span",{className:"w-2 h-2 mr-1 bg-green-500 rounded-full"}),"ang chy"]});case"stopped":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[n.jsx("span",{className:"w-2 h-2 mr-1 bg-gray-500 rounded-full"})," dng"]});case"starting":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[n.jsx("span",{className:"w-2 h-2 mr-1 bg-blue-500 rounded-full animate-pulse"}),"ang khi ng"]});default:return n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:p})}};return n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Codespaces"}),n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-100 p-5",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Vh,{className:"h-6 w-6 text-blue-600 mt-0.5 mr-3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-blue-900",children:"V Codespaces"}),n.jsx("p",{className:"mt-2 text-sm text-blue-700",children:"Codespaces l mi trng pht trin da trn m my, cho php bn pht trin hon ton trong trnh duyt. Mi codespace bao gm mt my o vi cc cng c, th vin v runtime bn cn  pht trin."}),n.jsx("p",{className:"mt-2 text-sm text-blue-700",children:n.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-800 underline",children:"Tm hiu thm v Codespaces"})})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[n.jsx(Ba,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"To codespace mi"]})}),s&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"To codespace mi"})}),n.jsx("div",{className:"p-5",children:n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"repository",className:"block text-sm font-medium text-gray-700 mb-1",children:"Repository"}),n.jsxs("select",{id:"repository",name:"repository",value:o.repository,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Chn repository"}),n.jsx("option",{value:"CampusLearning/CampusLearning-web",children:"CampusLearning/CampusLearning-web"}),n.jsx("option",{value:"CampusLearning/CampusLearning-api",children:"CampusLearning/CampusLearning-api"}),n.jsx("option",{value:"CampusLearning/CampusLearning-mobile",children:"CampusLearning/CampusLearning-mobile"}),n.jsx("option",{value:"CampusLearning/CampusLearning-docs",children:"CampusLearning/CampusLearning-docs"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"branch",className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),n.jsx("input",{type:"text",id:"branch",name:"branch",value:o.branch,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"main"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"machinePreset",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cu hnh my"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:r.map(p=>n.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer ${o.machinePreset===p.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,onClick:()=>a({...o,machinePreset:p.id}),children:[n.jsx("div",{className:"font-medium text-gray-900",children:p.name}),n.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(HC,{className:"h-4 w-4 mr-1"}),n.jsxs("span",{children:[p.cpu," CPU"]})]}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx(D6,{className:"h-4 w-4 mr-1"}),n.jsxs("span",{children:[p.memory," GB RAM"]})]}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx(L6,{className:"h-4 w-4 mr-1"}),n.jsxs("span",{children:[p.storage," GB Storage"]})]})]})]},p.id))})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsxs("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[n.jsx(M6,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"To codespace"]}),n.jsx("button",{type:"button",onClick:()=>i(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Hy"})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Codespaces ca bn"})}),e.length>0?n.jsx("div",{className:"divide-y divide-gray-100",children:e.map(p=>n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"mr-3 text-gray-400",children:n.jsx(ow,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:p.name}),n.jsxs("div",{className:"flex items-center mt-1",children:[g(p.status),n.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:[p.repository,"  ",p.branch]})]})]})]}),n.jsxs("div",{className:"mt-3 ml-9 grid grid-cols-1 md:grid-cols-3 gap-2",children:[n.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[n.jsx(HC,{className:"h-3 w-3 mr-1"}),n.jsxs("span",{children:[p.machine.cpu," CPU  ",p.machine.memory," GB RAM  ",p.machine.storage," GB"]})]}),n.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[n.jsx(Ki,{className:"h-3 w-3 mr-1"}),n.jsxs("span",{children:["S dng ln cui: ",c(p.lastUsed)]})]}),n.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[n.jsx(_s,{className:"h-3 w-3 mr-1"}),n.jsxs("span",{children:["Ht hn: ",l(p.expiresAt)]})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[p.status==="running"?n.jsx("button",{onClick:()=>u(p.id),className:"text-gray-400 hover:text-red-600",title:"Dng codespace",children:n.jsx(Q6,{className:"h-5 w-5"})}):p.status==="stopped"?n.jsx("button",{onClick:()=>d(p.id),className:"text-gray-400 hover:text-green-600",title:"Khi ng codespace",children:n.jsx(sQ,{className:"h-5 w-5"})}):null,n.jsx("button",{onClick:()=>A(p.id),className:"text-gray-400 hover:text-red-600",title:"Xa codespace",children:n.jsx(ac,{className:"h-5 w-5"})})]})]}),p.status==="running"&&n.jsx("div",{className:"mt-4 ml-9",children:n.jsx("button",{className:"px-3 py-1.5 bg-blue-50 border border-blue-300 rounded text-sm text-blue-700 hover:bg-blue-100",children:"M trong trnh duyt"})})]},p.id))}):n.jsxs("div",{className:"p-10 text-center",children:[n.jsx(ow,{className:"h-12 w-12 mx-auto text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Khng c codespace no"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Bn cha to codespace no. Hy bt u bng cch to codespace u tin ca bn."}),n.jsx("div",{className:"mt-6",children:n.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[n.jsx(Ba,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"To codespace mi"]})})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Ci t Codespace"})}),n.jsxs("div",{className:"p-5 space-y-5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"T ng dng sau thi gian khng hot ng"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"T ng dng codespace sau mt khong thi gian khng hot ng  tit kim ti nguyn"})]}),n.jsx("div",{className:"w-32",children:n.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"30",children:"30 pht"}),n.jsx("option",{value:"60",children:"1 gi"}),n.jsx("option",{value:"120",children:"2 gi"}),n.jsx("option",{value:"never",children:"Khng bao gi"})]})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"T ng lu thay i"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"T ng lu cc thay i vo repository ca bn"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:!0,className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"T ng ng b dotfiles"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"ng b cc tp cu hnh c nhn ca bn vi codespace"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:!1,className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Thng tin thanh ton"})}),n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Thi gian s dng trong thng ny"}),n.jsxs("div",{className:"mt-2 text-sm",children:[n.jsxs("div",{className:"flex items-center text-gray-500",children:[n.jsx("span",{className:"font-medium text-gray-900 mr-1",children:"15 gi"})," s dng"]}),n.jsxs("div",{className:"flex items-center text-gray-500 mt-1",children:[n.jsx("span",{className:"font-medium text-gray-900 mr-1",children:"60 gi"})," cn li trong gi min ph"]})]})]}),n.jsx("div",{className:"mt-4 md:mt-0",children:n.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-800",children:"Xem chi tit thanh ton"})})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"20%"}})}),n.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Bn  s dng 20% thi gian min ph trong thng ny"})]})]})]})]})]})},Rhe=()=>{const e=Mn(),{loading:t}=Is(T=>T.user),r=Is(T=>T.auth.user),s=Is(T=>T.auth.token),[i,o]=m.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,l]=m.useState(!1),[c,d]=m.useState(!1),[u,A]=m.useState(!1),[f,h]=m.useState(null),[g,p]=m.useState([]);m.useEffect(()=>{window.PublicKeyCredential&&PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable?PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable().then(T=>{l(T)}).catch(T=>{console.error("Error checking platform authenticator:",T),l(!1)}):l(!1)},[]),m.useEffect(()=>{r&&s&&b()},[r,s]);const b=async()=>{try{const T=await Ht.get("/api/passkeys/list",{headers:{Authorization:`Bearer ${s}`}});d(T.data.hasPasskey),p(T.data.passkeys||[])}catch(T){console.error("Error checking passkey status:",T),d(!1)}},x=T=>{const U=window.atob(T.replace(/-/g,"+").replace(/_/g,"/")),K=new Uint8Array(U.length);for(let B=0;B<U.length;B++)K[B]=U.charCodeAt(B);return K.buffer},j=T=>{const U=new Uint8Array(T);let K="";for(let B=0;B<U.byteLength;B++)K+=String.fromCharCode(U[B]);return window.btoa(K).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},w=async()=>{var T,U;if(!a){Re.error("Thit b ca bn khng h tr xc thc sinh trc hc.");return}A(!0),h(null);try{const K=await Ht.post("/api/passkeys/register/options",{},{headers:{Authorization:`Bearer ${s}`}});if(!K.data.success)throw new Error(K.data.message||"Khng th to yu cu ng k");const B=K.data.options;B.challenge=x(B.challenge),B.user.id=x(B.user.id),B.excludeCredentials&&B.excludeCredentials.forEach(P=>{P.id=x(P.id)});const R=await navigator.credentials.create({publicKey:B}),D={id:R.id,type:R.type,rawId:j(R.rawId),response:{clientDataJSON:j(R.response.clientDataJSON),attestationObject:j(R.response.attestationObject)},name:`Passkey on ${navigator.platform}`},H=await Ht.post("/api/passkeys/register/verify",D,{headers:{Authorization:`Bearer ${s}`}});if(!H.data.success)throw new Error(H.data.message||"ng k khng thnh cng");Re.success(" ng k xc thc sinh trc hc thnh cng!"),d(!0),b()}catch(K){console.error("Error registering passkey:",K),h(((U=(T=K.response)==null?void 0:T.data)==null?void 0:U.message)||"Khng th ng k xc thc sinh trc hc."),Re.error("Khng th ng k xc thc sinh trc hc. Vui lng th li sau.")}finally{A(!1)}},S=async T=>{var U,K;A(!0),h(null);try{const B=await Ht.delete(`/api/passkeys/${T||""}`,{headers:{Authorization:`Bearer ${s}`}});Re.success(" xa xc thc sinh trc hc."),d(B.data.hasPasskey),b()}catch(B){console.error("Error removing passkey:",B),h(((K=(U=B.response)==null?void 0:U.data)==null?void 0:K.message)||"Khng th xa xc thc sinh trc hc."),Re.error("Khng th xa xc thc sinh trc hc. Vui lng th li sau.")}finally{A(!1)}},I=T=>{o({...i,[T.target.name]:T.target.value})},F=T=>{if(T.preventDefault(),i.newPassword!==i.confirmPassword){Re.error("Mt khu mi v xc nhn mt khu khng khp");return}e(j0({currentPassword:i.currentPassword,newPassword:i.newPassword})),o({currentPassword:"",newPassword:"",confirmPassword:""})};return n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Mt khu v xc thc"}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("form",{onSubmit:F,className:"space-y-5 max-w-md",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Mt khu hin ti"}),n.jsx("input",{type:"password",name:"currentPassword",value:i.currentPassword,onChange:I,required:!0,className:"w-full px-3 py-2 rounded-md border border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nhp mt khu hin ti"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Mt khu mi"}),n.jsx("input",{type:"password",name:"newPassword",value:i.newPassword,onChange:I,required:!0,minLength:8,className:"w-full px-3 py-2 rounded-md border border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ti thiu 8 k t"}),n.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Mt khu phi c t nht 8 k t."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Xc nhn mt khu mi"}),n.jsx("input",{type:"password",name:"confirmPassword",value:i.confirmPassword,onChange:I,required:!0,className:"w-full px-3 py-2 rounded-md border border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nhp li mt khu mi"})]}),n.jsx("div",{className:"pt-2",children:n.jsx("button",{type:"submit",disabled:t,className:"w-full px-4 py-2 rounded-md text-white font-medium bg-blue-600 hover:bg-blue-700 active:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:t?"ang cp nht...":"Cp nht mt khu"})})]}),n.jsxs("div",{className:"mt-10 pt-10 border-t border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-medium mb-5 text-gray-800 flex items-center",children:[n.jsx(P6,{className:"h-6 w-6 mr-2 text-blue-500"}),"Xc thc sinh trc hc"]}),n.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:a?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx(vu,{className:"h-8 w-8 text-green-500 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Bo mt cao cp"}),n.jsx("p",{className:"text-sm mt-1 text-gray-600",children:"S dng vn tay, khun mt hoc phng thc sinh trc hc khc trn thit b ca bn  ng nhp m khng cn nh mt khu. Chng ti khng lu tr d liu sinh trc hc ca bn - ch mt kha bo mt c lu trong c s d liu."})]})]}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:c?"Xc thc sinh trc hc ang hot ng":"ng k xc thc sinh trc hc"}),n.jsx("p",{className:"text-sm text-gray-600",children:c?"Bn c th s dng vn tay hoc khun mt  ng nhp vo ti khon ca mnh.":"Thit lp xc thc sinh trc hc  ng nhp nhanh chng v an ton hn."})]}),u?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-blue-500 rounded-full border-t-transparent"}),n.jsx("span",{className:"text-blue-600",children:"ang x l..."})]}):c?n.jsx("button",{onClick:()=>g.length>0?S(g[0].id):null,className:"px-4 py-2 border border-red-300 text-red-700 bg-white rounded-md hover:bg-red-50",children:"Xa"}):n.jsx("button",{onClick:w,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:"Thit lp ngay"})]})}),f&&n.jsx("div",{className:"bg-red-50 text-red-800 p-3 rounded-md text-sm",children:f}),c&&g.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Thit b  ng k"}),n.jsx("ul",{className:"space-y-2",children:g.map((T,U)=>n.jsxs("li",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-md",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(lw,{className:"h-5 w-5 text-blue-500 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:T.name}),n.jsx("div",{className:"text-xs text-gray-500",children:new Date(T.createdAt).toLocaleDateString()})]})]}),n.jsx("button",{onClick:()=>S(T.id),className:"text-sm text-red-600 hover:text-red-800",children:"Xa"})]},U))})]}),c&&n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(lw,{className:"h-5 w-5 text-blue-500 mt-0.5 mr-3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-blue-900",children:"Mo s dng"}),n.jsx("p",{className:"mt-2 text-sm text-blue-700",children:"Khi ng nhp, bn s thy ty chn s dng sinh trc hc thay v nhp mt khu. Xc thc sinh trc hc ch hot ng trn thit b  ng k."})]})]})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Chng ti s dng cng ngh Web Authentication (WebAuthn)  xc thc sinh trc hc. D liu sinh trc hc khng bao gi ri khi thit b ca bn."})]}):n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Xd,{className:"h-6 w-6 text-yellow-500 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Thit b khng h tr"}),n.jsx("p",{className:"text-sm mt-1 text-gray-600",children:"Trnh duyt hoc thit b ca bn khng h tr xc thc sinh trc hc. Vui lng s dng trnh duyt hin i hn hoc thit b c cm bin vn tay/khun mt."}),n.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Cc trnh duyt c h tr: Chrome (phin bn 67+), Edge (phin bn 18+), Firefox (phin bn 60+), Safari (phin bn 13+)"})]})]})})]}),n.jsxs("div",{className:"mt-10 pt-10 border-t border-gray-200",children:[n.jsx("h3",{className:"text-lg font-medium mb-5 text-gray-800",children:"Xc thc hai lp (2FA)"}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Bo v ti khon ca bn"}),n.jsx("p",{className:"text-sm mt-1 text-gray-600",children:"Thm lp bo mt b sung  ngn chn truy cp tri php vo ti khon ca bn"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                      peer-focus:ring-4 peer-focus:ring-blue-300
                      after:content-[''] after:absolute after:top-0.5 after:left-0.5
                      after:bg-white after:rounded-full after:h-5 after:w-5
                      after:transition-all peer-checked:after:translate-x-5`})]})]})})]})]})]})},Mhe=()=>{var F;const e=Mn(),t=rn(),{settings:r,profileInfo:s,loading:i}=Is(T=>T.user),[o,a]=m.useState(r?{...r}:null),[l,c]=m.useState(!1),[d,u]=m.useState({password:"",reason:"",confirmation:""}),[A,f]=m.useState(null),[h,g]=m.useState([]),[p,b]=m.useState(!0);m.useEffect(()=>{b(!0),us.getEmails().then(T=>{g(T.data.emails);const U=T.data.emails.find(K=>K.IsPrimary);U&&f(U),b(!1)}).catch(T=>{console.error("Error fetching emails:",T),b(!1)})},[]);const x=(T,U,K)=>{o&&a({...o,[T]:{...o[T],[U]:K}})},j=T=>{T.preventDefault(),o&&e(Rd(o))},w=T=>{u({...d,[T.target.name]:T.target.value})},S=T=>{if(T.preventDefault(),d.confirmation!=="XA"){Re.error('Vui lng nhp "XA"  xc nhn');return}e(C0({password:d.password,reason:d.reason})).then(U=>{U.error||(e(K2()),t("/login"))})},I=()=>{!A||A.IsVerified||us.resendVerificationEmail(A.EmailID).then(()=>{Re.info(" gi email xc thc. Vui lng kim tra hp th ca bn.")}).catch(T=>{console.error("Error sending verification email:",T),Re.error("C li khi gi email xc thc")})};return n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Ti khon"}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Thng tin ti khon"})}),n.jsxs("div",{className:"p-5 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn ngi dng"}),n.jsx("div",{className:"text-gray-900 bg-gray-50 border border-gray-300 rounded-md px-3 py-2",children:(s==null?void 0:s.username)||"username"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"text-gray-900 bg-gray-50 border border-gray-300 rounded-md px-3 py-2 flex-1 mr-2",children:p?"Loading...":(A==null?void 0:A.Email)||(s==null?void 0:s.email)||"email@example.com"}),!p&&A&&(A.IsVerified?n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[n.jsx(No,{className:"h-4 w-4 mr-1"})," xc thc"]}):n.jsxs("button",{onClick:I,className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:[n.jsx(Xd,{className:"h-4 w-4 mr-1"}),"Xc thc ngay"]}))]}),h.length>1&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[h.length,' email  lin kt. Qun l ti trang "Email".']})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy tham gia"}),n.jsx("div",{className:"text-gray-900 bg-gray-50 border border-gray-300 rounded-md px-3 py-2",children:s!=null&&s.createdAt?new Date(s.createdAt).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}):new Date().toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Ty chn ti khon"})}),n.jsxs("div",{className:"p-5 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngn ng mc nh"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:(F=o==null?void 0:o.preferences)==null?void 0:F.language,onChange:T=>x("preferences","language",T.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"vi",children:"Ting Vit"}),n.jsx("option",{value:"en",children:"Ting Anh"}),n.jsx("option",{value:"fr",children:"Ting Php"}),n.jsx("option",{value:"ja",children:"Ting Nht"}),n.jsx("option",{value:"zh",children:"Ting Trung"})]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mi gi"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"Asia/Ho_Chi_Minh",children:"(GMT+7:00) H Ch Minh, H Ni, Bangkok"}),n.jsx("option",{value:"Asia/Tokyo",children:"(GMT+9:00) Tokyo, Osaka"}),n.jsx("option",{value:"Europe/London",children:"(GMT+0:00) London, Edinburgh"}),n.jsx("option",{value:"America/New_York",children:"(GMT-5:00) New York, Miami"}),n.jsx("option",{value:"America/Los_Angeles",children:"(GMT-8:00) Los Angeles, Seattle"})]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Trng thi hot ng"}),n.jsx("p",{className:"text-sm text-gray-500",children:"T ng nh du l ang hot ng khi ng nhp"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:!0,className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                    peer-focus:ring-4 peer-focus:ring-blue-300
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Dch v  kt ni"})}),n.jsxs("div",{className:"p-5 space-y-5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:n.jsx("svg",{className:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Google"}),n.jsx("p",{className:"text-sm text-gray-500",children:" kt ni vi ti khon Google"})]})]}),n.jsx("button",{className:"px-3 py-1 bg-white border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50",children:"Ngt kt ni"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center mr-3",children:n.jsx("svg",{className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Facebook"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Cha kt ni vi ti khon Facebook"})]})]}),n.jsx("button",{className:"px-3 py-1 bg-blue-50 border border-blue-300 rounded text-sm text-blue-700 hover:bg-blue-100",children:"Kt ni"})]})]})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-8",children:[n.jsxs("div",{className:"rounded-lg bg-red-50 border border-red-200",children:[n.jsx("div",{className:"px-5 py-4 border-b border-red-200",children:n.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Vng nguy him"})}),n.jsx("div",{className:"p-5 space-y-5",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Xa ti khon"}),n.jsx("p",{className:"text-sm text-red-700",children:"Xa vnh vin ti khon v tt c d liu ca bn. Hnh ng ny khng th hon tc."})]}),n.jsx("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-white border border-red-300 rounded text-sm font-medium text-red-700 hover:bg-red-50",children:"Xa ti khon"})]})})]}),l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-medium text-red-600",children:"Xc nhn xa ti khon"}),n.jsx("button",{onClick:()=>{c(!1),u({password:"",reason:"",confirmation:""})},className:"text-gray-400 hover:text-gray-500",children:n.jsx(pn,{className:"h-5 w-5"})})]}),n.jsxs("form",{onSubmit:S,className:"p-4 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Mt khu"}),n.jsx("input",{type:"password",name:"password",value:d.password,onChange:w,required:!0,className:"w-full px-3 py-2 rounded-md border border-gray-300 shadow-sm focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Nhp mt khu  xc nhn"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"L do xa ti khon (ty chn)"}),n.jsx("textarea",{name:"reason",value:d.reason,onChange:w,rows:3,className:"w-full px-3 py-2 rounded-md border border-gray-300 shadow-sm focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Hy cho chng ti bit l do bn mun xa ti khon"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Xc nhn xa ti khon"}),n.jsx("p",{className:"text-sm mb-2 text-gray-500",children:'Nhp "XA"  xc nhn rng bn mun xa ti khon'}),n.jsx("input",{type:"text",name:"confirmation",value:d.confirmation,onChange:w,required:!0,className:"w-full px-3 py-2 rounded-md border border-gray-300 shadow-sm focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),n.jsxs("div",{className:"flex space-x-4 pt-2",children:[n.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex-1",children:i?"ang x l...":"Xa vnh vin ti khon"}),n.jsx("button",{type:"button",onClick:()=>{c(!1),u({password:"",reason:"",confirmation:""})},className:"px-4 py-2 rounded-md bg-gray-100 text-gray-700 hover:bg-gray-200 flex-1",children:"Hy"})]})]})]})})]}),n.jsx("div",{className:"pt-4",children:n.jsx("button",{type:"submit",onClick:j,disabled:i,className:"px-4 py-2 rounded-md text-white bg-green-600 hover:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:i?"ang lu...":"Lu thay i"})})]})]})};function a1(){return(a1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function PL(e,t){if(e==null)return{};var r,s,i={},o=Object.keys(e);for(s=0;s<o.length;s++)t.indexOf(r=o[s])>=0||(i[r]=e[r]);return i}function B2(e){var t=m.useRef(e),r=m.useRef(function(s){t.current&&t.current(s)});return t.current=e,r.current}var fp=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e<t?t:e},Pm=function(e){return"touches"in e},k2=function(e){return e&&e.ownerDocument.defaultView||self},NS=function(e,t,r){var s=e.getBoundingClientRect(),i=Pm(t)?function(o,a){for(var l=0;l<o.length;l++)if(o[l].identifier===a)return o[l];return o[0]}(t.touches,r):t;return{left:fp((i.pageX-(s.left+k2(e).pageXOffset))/s.width),top:fp((i.pageY-(s.top+k2(e).pageYOffset))/s.height)}},BS=function(e){!Pm(e)&&e.preventDefault()},UL=Xt.memo(function(e){var t=e.onMove,r=e.onKey,s=PL(e,["onMove","onKey"]),i=m.useRef(null),o=B2(t),a=B2(r),l=m.useRef(null),c=m.useRef(!1),d=m.useMemo(function(){var h=function(b){BS(b),(Pm(b)?b.touches.length>0:b.buttons>0)&&i.current?o(NS(i.current,b,l.current)):p(!1)},g=function(){return p(!1)};function p(b){var x=c.current,j=k2(i.current),w=b?j.addEventListener:j.removeEventListener;w(x?"touchmove":"mousemove",h),w(x?"touchend":"mouseup",g)}return[function(b){var x=b.nativeEvent,j=i.current;if(j&&(BS(x),!function(S,I){return I&&!Pm(S)}(x,c.current)&&j)){if(Pm(x)){c.current=!0;var w=x.changedTouches||[];w.length&&(l.current=w[0].identifier)}j.focus(),o(NS(j,x,l.current)),p(!0)}},function(b){var x=b.which||b.keyCode;x<37||x>40||(b.preventDefault(),a({left:x===39?.05:x===37?-.05:0,top:x===40?.05:x===38?-.05:0}))},p]},[a,o]),u=d[0],A=d[1],f=d[2];return m.useEffect(function(){return f},[f]),Xt.createElement("div",a1({},s,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:A,tabIndex:0,role:"slider"}))}),bj=function(e){return e.filter(Boolean).join(" ")},RL=function(e){var t=e.color,r=e.left,s=e.top,i=s===void 0?.5:s,o=bj(["react-colorful__pointer",e.className]);return Xt.createElement("div",{className:o,style:{top:100*i+"%",left:100*r+"%"}},Xt.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Zs=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r},Dhe=function(e){return $he(S2(e))},S2=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Zs(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Zs(parseInt(e.substring(6,8),16)/255,2):1}},Ohe=function(e){return Hhe(_he(e))},Qhe=function(e){var t=e.s,r=e.v,s=e.a,i=(200-t)*r/100;return{h:Zs(e.h),s:Zs(i>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0),l:Zs(i/2),a:Zs(s,2)}},E2=function(e){var t=Qhe(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},_he=function(e){var t=e.h,r=e.s,s=e.v,i=e.a;t=t/360*6,r/=100,s/=100;var o=Math.floor(t),a=s*(1-r),l=s*(1-(t-o)*r),c=s*(1-(1-t+o)*r),d=o%6;return{r:Zs(255*[s,l,a,a,c,s][d]),g:Zs(255*[c,s,s,l,a,a][d]),b:Zs(255*[a,a,c,s,s,l][d]),a:Zs(i,2)}},s0=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Hhe=function(e){var t=e.r,r=e.g,s=e.b,i=e.a,o=i<1?s0(Zs(255*i)):"";return"#"+s0(t)+s0(r)+s0(s)+o},$he=function(e){var t=e.r,r=e.g,s=e.b,i=e.a,o=Math.max(t,r,s),a=o-Math.min(t,r,s),l=a?o===t?(r-s)/a:o===r?2+(s-t)/a:4+(t-r)/a:0;return{h:Zs(60*(l<0?l+6:l)),s:Zs(o?a/o*100:0),v:Zs(o/255*100),a:i}},Vhe=Xt.memo(function(e){var t=e.hue,r=e.onChange,s=bj(["react-colorful__hue",e.className]);return Xt.createElement("div",{className:s},Xt.createElement(UL,{onMove:function(i){r({h:360*i.left})},onKey:function(i){r({h:fp(t+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":Zs(t),"aria-valuemax":"360","aria-valuemin":"0"},Xt.createElement(RL,{className:"react-colorful__hue-pointer",left:t/360,color:E2({h:t,s:100,v:100,a:1})})))}),Khe=Xt.memo(function(e){var t=e.hsva,r=e.onChange,s={backgroundColor:E2({h:t.h,s:100,v:100,a:1})};return Xt.createElement("div",{className:"react-colorful__saturation",style:s},Xt.createElement(UL,{onMove:function(i){r({s:100*i.left,v:100-100*i.top})},onKey:function(i){r({s:fp(t.s+100*i.left,0,100),v:fp(t.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Zs(t.s)+"%, Brightness "+Zs(t.v)+"%"},Xt.createElement(RL,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:E2(t)})))}),ML=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},zhe=function(e,t){return e.toLowerCase()===t.toLowerCase()||ML(S2(e),S2(t))};function Whe(e,t,r){var s=B2(r),i=m.useState(function(){return e.toHsva(t)}),o=i[0],a=i[1],l=m.useRef({color:t,hsva:o});m.useEffect(function(){if(!e.equal(t,l.current.color)){var d=e.toHsva(t);l.current={hsva:d,color:t},a(d)}},[t,e]),m.useEffect(function(){var d;ML(o,l.current.hsva)||e.equal(d=e.fromHsva(o),l.current.color)||(l.current={hsva:o,color:d},s(d))},[o,e,s]);var c=m.useCallback(function(d){a(function(u){return Object.assign({},u,d)})},[]);return[o,c]}var Ghe=typeof window<"u"?m.useLayoutEffect:m.useEffect,qhe=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},kS=new Map,Xhe=function(e){Ghe(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!kS.has(t)){var r=t.createElement("style");r.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,kS.set(t,r);var s=qhe();s&&r.setAttribute("nonce",s),t.head.appendChild(r)}},[])},Jhe=function(e){var t=e.className,r=e.colorModel,s=e.color,i=s===void 0?r.defaultColor:s,o=e.onChange,a=PL(e,["className","colorModel","color","onChange"]),l=m.useRef(null);Xhe(l);var c=Whe(r,i,o),d=c[0],u=c[1],A=bj(["react-colorful",t]);return Xt.createElement("div",a1({},a,{ref:l,className:A}),Xt.createElement(Khe,{hsva:d,onChange:u}),Xt.createElement(Vhe,{hue:d.h,onChange:u,className:"react-colorful__last-control"}))},Yhe={defaultColor:"000",toHsva:Dhe,fromHsva:function(e){return Ohe({h:e.h,s:e.s,v:e.v,a:1})},equal:zhe},Zhe=function(e){return Xt.createElement(Jhe,a1({},e,{colorModel:Yhe}))};const efe=()=>{var U,K,B,R,D,H,P,z,G,he,ce,ye,X;const e=Mn(),{settings:t,loading:r}=Is(re=>re.user),[s,i]=m.useState(t?{...t}:null),{theme:o,themeColor:a,setThemeMode:l,setThemeColor:c,setCustomColors:d,availableColors:u}=HE(),[A,f]=m.useState(!1),[h,g]=m.useState("#3b82f6"),[p,b]=m.useState("primary"),[x,j]=m.useState({primary:"#3b82f6",secondary:"#60a5fa",accent:"#dbeafe",hover:"#2563eb",active:"#1d4ed8"}),w=(re,_,Q)=>{s&&(i({...s,[re]:{...s[re],[_]:Q}}),_==="theme"&&l(Q),_==="accentColor"&&c(Q))},S=(re,_)=>{s&&i({...s,[re]:{...s[re],[_]:!s[re][_]}})},I=(re,_)=>{g(re),j({...x,[_]:re})},F=()=>{d(x),w("preferences","accentColor","custom"),f(!1)},T=re=>{re.preventDefault(),s&&e(Rd(s))};return m.useEffect(()=>{t&&t.preferences&&(t.preferences.theme&&l(t.preferences.theme),t.preferences.accentColor&&c(t.preferences.accentColor))},[]),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-white border-b pb-2",children:"Giao din"}),n.jsxs("form",{onSubmit:T,className:"space-y-8",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200 dark:border-gray-700",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Ch "})}),n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{onClick:()=>w("preferences","theme","light"),className:`relative rounded-xl p-4 border-2 cursor-pointer transition-all ${((U=s==null?void 0:s.preferences)==null?void 0:U.theme)==="light"?"border-theme-primary bg-theme-accent bg-opacity-50":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"}`,children:[n.jsx("div",{className:"h-24 bg-white rounded-lg shadow-inner flex items-center justify-center mb-3",children:n.jsx("div",{className:"w-3/4 h-4 bg-theme-primary rounded-md"})}),n.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Sng"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Giao din nn sng"}),((K=s==null?void 0:s.preferences)==null?void 0:K.theme)==="light"&&n.jsx("div",{className:"absolute top-2 right-2 h-4 w-4 bg-theme-primary rounded-full"})]}),n.jsxs("div",{onClick:()=>w("preferences","theme","dark"),className:`relative rounded-xl p-4 border-2 cursor-pointer transition-all ${((B=s==null?void 0:s.preferences)==null?void 0:B.theme)==="dark"?"border-theme-primary bg-theme-accent bg-opacity-20":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"}`,children:[n.jsx("div",{className:"h-24 bg-gray-900 rounded-lg shadow-inner flex items-center justify-center mb-3",children:n.jsx("div",{className:"w-3/4 h-4 bg-theme-secondary rounded-md"})}),n.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Ti"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Giao din nn ti"}),((R=s==null?void 0:s.preferences)==null?void 0:R.theme)==="dark"&&n.jsx("div",{className:"absolute top-2 right-2 h-4 w-4 bg-theme-primary rounded-full"})]}),n.jsxs("div",{onClick:()=>w("preferences","theme","system"),className:`relative rounded-xl p-4 border-2 cursor-pointer transition-all ${((D=s==null?void 0:s.preferences)==null?void 0:D.theme)==="system"?"border-theme-primary bg-theme-accent bg-opacity-50 dark:bg-opacity-20":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"}`,children:[n.jsx("div",{className:"h-24 bg-gradient-to-r from-white to-gray-900 rounded-lg shadow-inner flex items-center justify-center mb-3",children:n.jsx("div",{className:"w-3/4 h-4 bg-purple-500 rounded-md"})}),n.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"H thng"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"T ng theo h thng"}),((H=s==null?void 0:s.preferences)==null?void 0:H.theme)==="system"&&n.jsx("div",{className:"absolute top-2 right-2 h-4 w-4 bg-theme-primary rounded-full"})]})]})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200 dark:border-gray-700",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"C ch"})}),n.jsx("div",{className:"p-5",children:n.jsxs("div",{className:"max-w-md",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsx("button",{type:"button",onClick:()=>w("preferences","fontSize","small"),className:`
                    px-4 py-2 rounded-lg font-medium text-sm focus:outline-none border-2
                    ${((P=s==null?void 0:s.preferences)==null?void 0:P.fontSize)==="small"?"border-theme-primary bg-theme-accent text-theme-primary":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300"}
                    transition-colors
                  `,children:"Nh"}),n.jsx("button",{type:"button",onClick:()=>w("preferences","fontSize","medium"),className:`
                    px-4 py-2 rounded-lg font-medium text-base focus:outline-none border-2
                    ${((z=s==null?void 0:s.preferences)==null?void 0:z.fontSize)==="medium"?"border-theme-primary bg-theme-accent text-theme-primary":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300"}
                    transition-colors
                  `,children:"Va"}),n.jsx("button",{type:"button",onClick:()=>w("preferences","fontSize","large"),className:`
                    px-4 py-2 rounded-lg font-medium text-lg focus:outline-none border-2
                    ${((G=s==null?void 0:s.preferences)==null?void 0:G.fontSize)==="large"?"border-theme-primary bg-theme-accent text-theme-primary":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300"}
                    transition-colors
                  `,children:"Ln"})]}),n.jsx("p",{className:"mt-3 text-sm text-gray-500 dark:text-gray-400",children:"iu chnh kch thc ch cho ton b ng dng"})]})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200 dark:border-gray-700",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Mu sc"})}),n.jsxs("div",{className:"p-5",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mu ch o"}),n.jsxs("div",{className:"grid grid-cols-6 gap-3",children:[u.filter(re=>re!=="custom").map(re=>{var _;return n.jsx("button",{type:"button",onClick:()=>w("preferences","accentColor",re),className:`
                    w-10 h-10 rounded-full focus:outline-none border-2
                    ${((_=s==null?void 0:s.preferences)==null?void 0:_.accentColor)===re?"border-gray-600 dark:border-gray-300":"border-transparent"}
                    transition-colors
                  `,style:{backgroundColor:{blue:"#3b82f6",red:"#ef4444",green:"#10b981",purple:"#8b5cf6",orange:"#f97316"}[re]},"aria-label":`Mu ${re}`},re)}),n.jsx("button",{type:"button",onClick:()=>f(!A),className:`
                  w-10 h-10 rounded-full focus:outline-none border-2
                  ${((he=s==null?void 0:s.preferences)==null?void 0:he.accentColor)==="custom"?"border-gray-600 dark:border-gray-300":"border-transparent"}
                  transition-colors bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 text-white flex items-center justify-center
                `,"aria-label":"Ty chnh mu",children:"+"})]}),n.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Thay i mu ch o ca giao din ngi dng"}),A&&n.jsx("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ty chnh mu sc"}),n.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:""})]}),n.jsx("div",{className:"flex space-x-3 mb-4",children:["primary","secondary","accent","hover","active"].map(re=>n.jsx("button",{type:"button",onClick:()=>b(re),className:`px-3 py-1.5 rounded text-xs font-medium ${p===re?"bg-theme-primary text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:re},re))}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("div",{children:n.jsx(Zhe,{color:x[p],onChange:re=>I(re,p)})}),n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Gi tr hex"}),n.jsx("input",{type:"text",value:x[p],onChange:re=>I(re.target.value,p),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Xem trc"}),n.jsx("div",{className:"w-full h-24 rounded-md flex items-center justify-center",style:{backgroundColor:x.primary},children:n.jsx("span",{className:"text-white font-bold",children:"Chnh"})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("div",{className:"w-1/2 h-12 rounded-md flex items-center justify-center",style:{backgroundColor:x.secondary},children:n.jsx("span",{className:"text-white text-sm",children:"Ph"})}),n.jsx("div",{className:"w-1/2 h-12 rounded-md flex items-center justify-center",style:{backgroundColor:x.accent},children:n.jsx("span",{className:"text-gray-800 text-sm",children:"Nhn"})})]})]})]})]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx("button",{type:"button",onClick:F,className:"px-4 py-2 bg-theme-primary text-white rounded-md hover:bg-theme-hover",children:"p dng"})})]})})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200 dark:border-gray-700",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"B cc"})}),n.jsxs("div",{className:"p-5 space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Hin th thanh bn"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:((ce=s==null?void 0:s.preferences)==null?void 0:ce.sidebarPosition)||"left",onChange:re=>w("preferences","sidebarPosition",re.target.value),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-2 focus:ring-theme-primary focus:border-theme-primary bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[n.jsx("option",{value:"left",children:"Bn tri"}),n.jsx("option",{value:"right",children:"Bn phi"}),n.jsx("option",{value:"hidden",children:"n"})]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:n.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),n.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"V tr hin th ca thanh iu hng bn"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Hiu ng chuyn ng"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bt/tt hiu ng chuyn ng trong giao din ngi dng"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:((ye=s==null?void 0:s.preferences)==null?void 0:ye.animations)!==!1,onChange:()=>S("preferences","animations"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 dark:bg-gray-700 peer-checked:bg-theme-primary
                    peer-focus:ring-4 peer-focus:ring-theme-accent
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Ch  tit kim d liu"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Gim ti hnh nh v hiu ng  tit kim d liu"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:((X=s==null?void 0:s.preferences)==null?void 0:X.dataSaver)===!0,onChange:()=>S("preferences","dataSaver"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 dark:bg-gray-700 peer-checked:bg-theme-primary
                    peer-focus:ring-4 peer-focus:ring-theme-accent
                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                    after:bg-white after:rounded-full after:h-5 after:w-5
                    after:transition-all peer-checked:after:translate-x-5`})]})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200 dark:border-gray-700",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"CSS ty chnh"})}),n.jsx("div",{className:"p-5",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"M CSS ty chnh"}),n.jsx("textarea",{rows:"5",placeholder:"/* Nhp m CSS ty chnh ca bn ti y */",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-theme-primary focus:border-theme-primary font-mono text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Thm m CSS ty chnh  iu chnh giao din ngi dng. Ci t ny ch p dng cho ti khon ca bn."})]})})]}),n.jsx("div",{className:"pt-6",children:n.jsx("button",{type:"submit",disabled:r,className:"px-4 py-2 rounded-md text-white bg-theme-primary hover:bg-theme-hover active:bg-theme-active focus:outline-none focus:ring-2 focus:ring-theme-primary focus:ring-offset-2",children:r?"ang lu...":"Lu thay i"})})]})]})},tfe=()=>{var H,P,z,G,he,ce,ye,X,re,_,Q,Z,Ae,me,ae,ie,te,fe,pe,we;const e=Mn(),t=rn(),r=m.useRef(null),{settings:s,profileInfo:i,loading:o,error:a,success:l,message:c}=Is(je=>je.user),[d,u]=m.useState("general"),[A,f]=m.useState(null),[h,g]=m.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[p,b]=m.useState({password:"",reason:"",confirmation:""}),[x,j]=m.useState(!1),[w,S]=m.useState(!1);m.useEffect(()=>{e(cm())},[e]),m.useEffect(()=>{var je;s&&(f({...s}),((je=s.preferences)==null?void 0:je.theme)==="dark"&&S(!0))},[s]),m.useEffect(()=>{l&&c&&(Re.success(c),e(MC())),a&&(Re.error(a),e(MC()))},[l,a,c,e]);const I=je=>{u(je)},F=(je,De,Ue)=>{A&&f({...A,[je]:{...A[je],[De]:Ue}})},T=(je,De)=>{A&&f({...A,[je]:{...A[je],[De]:!A[je][De]}})},U=je=>{je.preventDefault(),A&&e(Rd(A))},K=()=>{r.current.click()},B=je=>{if(je.target.files&&je.target.files[0]){const De=je.target.files[0],Ue=new FormData;Ue.append("image",De),e(w0(Ue))}},R=()=>{e(K2()),t("/login")};if(!A||!i)return n.jsx("div",{className:"flex justify-center items-center h-96",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const D=[{id:"general",label:"H s c nhn",icon:Km},{id:"account",label:"Ti khon",icon:iw},{id:"appearance",label:"Giao din",icon:bu},{id:"accessibility",label:"Tr nng",icon:Km},{id:"notifications",label:"Thng bo",icon:dm}];return n.jsxs("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-8 py-6 bg-white text-gray-900",children:[n.jsx(A6,{position:"top-right",autoClose:5e3,theme:"light"}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[n.jsxs("div",{className:"lg:w-1/4",children:[n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{onClick:K,className:"w-16 h-16 rounded-full overflow-hidden bg-gray-200 mr-4 cursor-pointer relative group",children:[i.profileImage?n.jsx("img",{src:i.profileImage,alt:"Profile",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:n.jsx("span",{className:"text-2xl font-bold",children:((H=i.fullName)==null?void 0:H.charAt(0))||"?"})}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(J0,{className:"h-5 w-5 text-white"})})]}),n.jsx("input",{type:"file",ref:r,className:"hidden",onChange:B,accept:"image/*"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:i.fullName||"Ngi dng"}),n.jsx("p",{className:"text-gray-600",children:"Ti khon c nhn ca bn"})]})]})}),n.jsx("nav",{className:"border-l-4 border-transparent",children:D.map(je=>n.jsx("button",{onClick:()=>I(je.id),className:`flex items-center w-full px-4 py-2 mb-1 border-l-4 transition-all ${d===je.id?"border-l-blue-500 text-black font-medium bg-blue-50":"border-l-transparent text-gray-700 hover:bg-gray-100"}`,style:{marginLeft:"-1rem"},children:n.jsx("span",{children:je.label})},je.id))}),n.jsxs("div",{className:"mt-8",children:[n.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Truy cp"}),n.jsxs("nav",{className:"border-l-4 border-transparent",children:[n.jsx("button",{onClick:()=>I("payment"),className:`flex items-center w-full px-4 py-2 mb-1 border-l-4 transition-all ${d==="payment"?"border-l-blue-500 text-black font-medium bg-blue-50":"border-l-transparent text-gray-700 hover:bg-gray-100"}`,style:{marginLeft:"-1rem"},children:n.jsx("span",{children:"Thanh ton v giy php"})}),n.jsx("button",{onClick:()=>I("email"),className:`flex items-center w-full px-4 py-2 mb-1 border-l-4 transition-all ${d==="email"?"border-l-blue-500 text-black font-medium bg-blue-50":"border-l-transparent text-gray-700 hover:bg-gray-100"}`,style:{marginLeft:"-1rem"},children:n.jsx("span",{children:"Email"})}),n.jsx("button",{onClick:()=>I("security"),className:`flex items-center w-full px-4 py-2 mb-1 border-l-4 transition-all ${d==="security"?"border-l-blue-500 text-black font-medium bg-blue-50":"border-l-transparent text-gray-700 hover:bg-gray-100"}`,style:{marginLeft:"-1rem"},children:n.jsx("span",{children:"Mt khu v xc thc"})}),n.jsx("button",{onClick:()=>I("loginsession"),className:`flex items-center w-full px-4 py-2 mb-1 border-l-4 transition-all ${d==="loginsession"?"border-l-blue-500 text-black font-medium bg-blue-50":"border-l-transparent text-gray-700 hover:bg-gray-100"}`,style:{marginLeft:"-1rem"},children:n.jsx("span",{children:"Phin ng nhp"})}),n.jsx("button",{onClick:()=>I("privacy"),className:`flex items-center w-full px-4 py-2 mb-1 border-l-4 transition-all ${d==="privacy"?"border-l-blue-500 text-black font-medium bg-blue-50":"border-l-transparent text-gray-700 hover:bg-gray-100"}`,style:{marginLeft:"-1rem"},children:n.jsx("span",{children:"Quyn ring t"})}),n.jsx("button",{onClick:()=>I("ssh"),className:`flex items-center w-full px-4 py-2 mb-1 border-l-4 transition-all ${d==="ssh"?"border-l-blue-500 text-black font-medium bg-blue-50":"border-l-transparent text-gray-700 hover:bg-gray-100"}`,style:{marginLeft:"-1rem"},children:n.jsx("span",{children:"Kha SSH v GPG"})})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"M ngun, quy hoch v t ng ha"}),n.jsxs("nav",{className:"border-l-4 border-transparent",children:[n.jsx("button",{onClick:()=>I("archive"),className:`flex items-center w-full px-4 py-2 mb-1 border-l-4 transition-all ${d==="archive"?"border-l-blue-500 text-black font-medium bg-blue-50":"border-l-transparent text-gray-700 hover:bg-gray-100"}`,style:{marginLeft:"-1rem"},children:n.jsx("span",{children:"Kho lu tr"})}),n.jsx("button",{onClick:()=>I("codespace"),className:`flex items-center w-full px-4 py-2 mb-1 border-l-4 transition-all ${d==="codespace"?"border-l-blue-500 text-black font-medium bg-blue-50":"border-l-transparent text-gray-700 hover:bg-gray-100"}`,style:{marginLeft:"-1rem"},children:n.jsx("span",{children:"Khng gian m"})}),n.jsx("button",{onClick:()=>I("package"),className:`flex items-center w-full px-4 py-2 mb-1 border-l-4 transition-all ${d==="package"?"border-l-blue-500 text-black font-medium bg-blue-50":"border-l-transparent text-gray-700 hover:bg-gray-100"}`,style:{marginLeft:"-1rem"},children:n.jsx("span",{children:"Gi"})})]})]}),n.jsx("div",{className:"mt-8",children:n.jsxs("button",{onClick:R,className:"flex items-center w-full px-4 py-2 mb-1 text-gray-700 hover:bg-red-50 hover:text-red-600 transition-all border border-transparent hover:border-red-300 rounded-md",children:[n.jsx(bD,{className:"h-5 w-5 mr-2 text-red-500"}),n.jsx("span",{children:"ng xut"})]})})]}),n.jsx("div",{className:"lg:w-3/4",children:n.jsx(G5,{mode:"wait",children:n.jsxs(ur.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[d==="payment"&&n.jsx(CS,{}),d==="email"&&n.jsx(The,{}),d==="loginsession"&&n.jsx(Ihe,{}),d==="privacy"&&n.jsx(Fhe,{}),d==="ssh"&&n.jsx(Lhe,{}),d==="archive"&&n.jsx(Phe,{}),d==="codespace"&&n.jsx(Uhe,{}),d==="package"&&n.jsx(CS,{}),d==="account"&&n.jsx(Mhe,{}),d==="general"&&n.jsx(Ehe,{}),d==="security"&&n.jsx(Rhe,{}),d==="appearance"&&n.jsx(efe,{}),d==="notifications"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Thng bo"}),n.jsxs("form",{onSubmit:U,className:"space-y-6",children:[n.jsxs("div",{className:"divide-y divide-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between py-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Thng bo email"}),n.jsx("p",{className:"text-sm mt-1 text-gray-500",children:"Nhn thng bo qua email"})]}),n.jsx("div",{className:"ml-3",children:n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:(P=A==null?void 0:A.notifications)==null?void 0:P.email,onChange:()=>T("notifications","email"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                                  peer-focus:ring-4 peer-focus:ring-blue-300
                                  after:content-[''] after:absolute after:top-0.5 after:left-0.5
                                after:bg-white after:rounded-full after:h-5 after:w-5
                                after:transition-all peer-checked:after:translate-x-5`})]})})]}),n.jsxs("div",{className:"flex items-center justify-between py-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Thng bo y"}),n.jsx("p",{className:"text-sm mt-1 text-gray-500",children:"Nhn thng bo trn thit b"})]}),n.jsx("div",{className:"ml-3",children:n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:(z=A==null?void 0:A.notifications)==null?void 0:z.push,onChange:()=>T("notifications","push"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                                peer-focus:ring-4 peer-focus:ring-blue-300
                                after:content-[''] after:absolute after:top-0.5 after:left-0.5
                                after:bg-white after:rounded-full after:h-5 after:w-5
                                after:transition-all peer-checked:after:translate-x-5`})]})})]}),n.jsxs("div",{className:"flex items-center justify-between py-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Cp nht kha hc"}),n.jsx("p",{className:"text-sm mt-1 text-gray-500",children:"Thng bo khi kha hc c cp nht mi"})]}),n.jsx("div",{className:"ml-3",children:n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:(G=A==null?void 0:A.notifications)==null?void 0:G.courseUpdates,onChange:()=>T("notifications","courseUpdates"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                                peer-focus:ring-4 peer-focus:ring-blue-300
                                after:content-[''] after:absolute after:top-0.5 after:left-0.5
                                after:bg-white after:rounded-full after:h-5 after:w-5
                                after:transition-all peer-checked:after:translate-x-5`})]})})]})]}),n.jsx("div",{className:"pt-6",children:n.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 rounded-md text-white bg-green-600 hover:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:o?"ang lu...":"Lu thay i"})})]})]}),d==="accessibility"&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Tr nng"}),n.jsxs("form",{onSubmit:U,className:"space-y-8",children:[n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"H tr trnh c mn hnh"})}),n.jsxs("div",{className:"p-5 space-y-5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Ci thin trnh c mn hnh"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Ti u ha trang web cho ngi dng trnh c mn hnh"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:((he=A==null?void 0:A.accessibility)==null?void 0:he.screenReader)===!0,onChange:()=>T("accessibility","screenReader"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                                    peer-focus:ring-4 peer-focus:ring-blue-300
                                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                                    after:bg-white after:rounded-full after:h-5 after:w-5
                                    after:transition-all peer-checked:after:translate-x-5`})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"M t hnh nh"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Hin th m t chi tit cho hnh nh"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:((ce=A==null?void 0:A.accessibility)==null?void 0:ce.imageDescriptions)===!0,onChange:()=>T("accessibility","imageDescriptions"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                                    peer-focus:ring-4 peer-focus:ring-blue-300
                                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                                    after:bg-white after:rounded-full after:h-5 after:w-5
                                    after:transition-all peer-checked:after:translate-x-5`})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"iu hng bn phm"})}),n.jsxs("div",{className:"p-5 space-y-5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Ch bo tiu im"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Hin th ng vin r rng xung quanh phn t ang c chn"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:((ye=A==null?void 0:A.accessibility)==null?void 0:ye.focusIndicator)!==!1,onChange:()=>T("accessibility","focusIndicator"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                                    peer-focus:ring-4 peer-focus:ring-blue-300
                                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                                    after:bg-white after:rounded-full after:h-5 after:w-5
                                    after:transition-all peer-checked:after:translate-x-5`})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" tr phm (ms)"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"range",min:"0",max:"1000",step:"50",value:((X=A==null?void 0:A.accessibility)==null?void 0:X.keyboardDelay)||0,onChange:je=>F("accessibility","keyboardDelay",parseInt(je.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),n.jsx("span",{className:"text-sm text-gray-700 w-12 text-center",children:((re=A==null?void 0:A.accessibility)==null?void 0:re.keyboardDelay)||0})]}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"iu chnh  tr khi nhn v gi phm"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Chuyn ng & Hiu ng"})}),n.jsxs("div",{className:"p-5 space-y-5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Gim chuyn ng"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Gim thiu hoc loi b cc hiu ng chuyn ng"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:((_=A==null?void 0:A.accessibility)==null?void 0:_.reducedMotion)===!0,onChange:()=>T("accessibility","reducedMotion"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                                    peer-focus:ring-4 peer-focus:ring-blue-300
                                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                                    after:bg-white after:rounded-full after:h-5 after:w-5
                                    after:transition-all peer-checked:after:translate-x-5`})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"B qua hiu ng"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Tt cc hiu ng c bit nh lp lnh v hiu ng hover"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:((Q=A==null?void 0:A.accessibility)==null?void 0:Q.disableEffects)===!0,onChange:()=>T("accessibility","disableEffects"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                                    peer-focus:ring-4 peer-focus:ring-blue-300
                                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                                    after:bg-white after:rounded-full after:h-5 after:w-5
                                    after:transition-all peer-checked:after:translate-x-5`})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tc  hiu ng"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"range",min:"50",max:"200",step:"10",value:((Z=A==null?void 0:A.accessibility)==null?void 0:Z.animationSpeed)||100,onChange:je=>F("accessibility","animationSpeed",parseInt(je.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),n.jsxs("span",{className:"text-sm text-gray-700 w-12 text-center",children:[((Ae=A==null?void 0:A.accessibility)==null?void 0:Ae.animationSpeed)||100,"%"]})]}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"iu chnh tc  hiu ng chuyn ng (100% l bnh thng)"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"iu chnh hin th"})}),n.jsxs("div",{className:"p-5 space-y-5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Ch  tng phn cao"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Tng cng tng phn gia vn bn v nn"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:((me=A==null?void 0:A.accessibility)==null?void 0:me.highContrast)===!0,onChange:()=>T("accessibility","highContrast"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                                    peer-focus:ring-4 peer-focus:ring-blue-300
                                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                                    after:bg-white after:rounded-full after:h-5 after:w-5
                                    after:transition-all peer-checked:after:translate-x-5`})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Khong cch ch"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"range",min:"0",max:"10",step:"1",value:((ae=A==null?void 0:A.accessibility)==null?void 0:ae.letterSpacing)||0,onChange:je=>F("accessibility","letterSpacing",parseInt(je.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),n.jsx("span",{className:"text-sm text-gray-700 w-12 text-center",children:((ie=A==null?void 0:A.accessibility)==null?void 0:ie.letterSpacing)||0})]}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"iu chnh khong cch gia cc ch ci"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Khong cch dng"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"range",min:"100",max:"200",step:"10",value:((te=A==null?void 0:A.accessibility)==null?void 0:te.lineHeight)||150,onChange:je=>F("accessibility","lineHeight",parseInt(je.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),n.jsxs("span",{className:"text-sm text-gray-700 w-12 text-center",children:[((fe=A==null?void 0:A.accessibility)==null?void 0:fe.lineHeight)||150,"%"]})]}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"iu chnh khong cch gia cc dng ch"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Ty chn ni dung"})}),n.jsxs("div",{className:"p-5 space-y-5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Hin th ph "}),n.jsx("p",{className:"text-sm text-gray-500",children:"T ng hin th ph  cho video v m thanh"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:((pe=A==null?void 0:A.accessibility)==null?void 0:pe.alwaysShowCaptions)===!0,onChange:()=>T("accessibility","alwaysShowCaptions"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                                    peer-focus:ring-4 peer-focus:ring-blue-300
                                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                                    after:bg-white after:rounded-full after:h-5 after:w-5
                                    after:transition-all peer-checked:after:translate-x-5`})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"T ng pht"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Ngn t ng pht ni dung m thanh v video"})]}),n.jsxs("label",{className:"relative inline-flex cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:((we=A==null?void 0:A.accessibility)==null?void 0:we.preventAutoplay)===!0,onChange:()=>T("accessibility","preventAutoplay"),className:"sr-only peer"}),n.jsx("div",{className:`w-11 h-6 rounded-full peer bg-gray-200 peer-checked:bg-blue-600
                                    peer-focus:ring-4 peer-focus:ring-blue-300
                                    after:content-[''] after:absolute after:top-0.5 after:left-0.5
                                    after:bg-white after:rounded-full after:h-5 after:w-5
                                    after:transition-all peer-checked:after:translate-x-5`})]})]})]})]}),n.jsx("div",{className:"pt-6",children:n.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 rounded-md text-white bg-green-600 hover:bg-green-700 active:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:o?"ang lu...":"Lu thay i"})})]})]})]},d)})})]})]})},rfe=()=>{const e=typeof window.PublicKeyCredential<"u",t=e&&typeof window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable=="function";return console.log("WebAuthn Support Check:",{hasCredentials:e,hasBiometricCheck:t}),e},nfe=()=>{const e=lo(),t=rn(),r=Mn(),{login:s,isAuthenticated:i}=co(),[o,a]=m.useState(!1),[l,c]=m.useState({email:"",password:"",remember:!1}),[d,u]=m.useState(!1),[A,f]=m.useState(!1),[h,g]=m.useState(""),[p,b]=m.useState(""),[x,j]=m.useState(!1),[w,S]=m.useState(!1),[I,F]=m.useState(0),T=3,U=m.useRef(null),K=m.useRef(null);m.useEffect(()=>{const H=rfe();S(H),H&&typeof window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable=="function"&&window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable().then(P=>{console.log(`Platform authenticator (biometrics) available: ${P}`)}).catch(P=>{console.error("Error checking platform authenticator:",P)})},[]),m.useEffect(()=>()=>{U.current&&clearTimeout(U.current)},[]),m.useEffect(()=>{var H;(H=e.state)!=null&&H.message&&b(e.state.message),i&&!x&&t("/",{replace:!0}),j(!0)},[e,i,t,x]);const B=async H=>{H.preventDefault(),g(""),u(!0);try{const P=await s(l.email,l.password);P.success?R(P.user):g(P.error||"ng nhp tht bi")}catch(P){g(P.message||"ng nhp tht bi")}finally{u(!1)}},R=m.useCallback(H=>{console.log("handleLoginSuccess called with:",H);const P={...H,id:H.id||H.UserID,UserID:H.UserID||H.id,username:H.username||H.Username,email:H.email||H.Email,role:(H.role||H.Role||"STUDENT").toUpperCase(),token:H.token};r(s6(P)),P.token&&(localStorage.setItem("token",P.token),localStorage.setItem("authToken",P.token)),localStorage.setItem("user",JSON.stringify(P)),Fr.success("ng nhp thnh cng!"),console.log("Navigating to home page after successful login"),t("/home",{replace:!0})},[r,t]),D=async()=>{if(I>=T){Fr.error("Qu nhiu ln th khng thnh cng. Vui lng s dng mt khu.");return}if(!window.PublicKeyCredential){Fr.error("Trnh duyt ca bn khng h tr xc thc sinh trc hc."),console.error("WebAuthn is not supported in this browser");return}if(g(""),!l.email){g("Vui lng nhp email  ng nhp bng sinh trc hc"),Fr.error("Vui lng nhp email trc khi s dng sinh trc hc"),K.current&&K.current.focus();return}try{f(!0);let H;console.log(`Requesting authentication options for email: ${l.email}`);try{const X="http://localhost:5001";console.log(`Using API base URL: ${X}`);const re=await Ht.post(`${X}/api/passkeys/auth/options`,{email:l.email});if(console.log("Server response for auth options:",re.data),!re.data.success)throw new Error(re.data.message||"Khng th to yu cu xc thc");H=re.data.options}catch(X){throw console.error("Error fetching authentication options:",X),X.response?(console.error("Server response:",X.response.data),console.error("Status code:",X.response.status)):X.request?(console.error("No response received:",X.request),console.error("Network error or server not running")):console.error("Error setting up request:",X.message),new Error(`Li khi ly thng tin xc thc: ${X.message}`)}try{H.challenge=Uint8Array.from(atob(H.challenge.replace(/-/g,"+").replace(/_/g,"/")),X=>X.charCodeAt(0)),H.allowCredentials&&(H.allowCredentials=H.allowCredentials.map(X=>({...X,id:Uint8Array.from(atob(X.id.replace(/-/g,"+").replace(/_/g,"/")),re=>re.charCodeAt(0))})))}catch(X){throw console.error("Error preparing WebAuthn options:",X),new Error("Li nh dng d liu xc thc")}Fr("Vui lng xc thc bng sinh trc hc ca thit b khi c yu cu"),console.log(" Activating device biometric authentication - watch for native OS prompt"),console.log("Authentication options:",JSON.stringify({...H,challenge:"Uint8Array",allowCredentials:H.allowCredentials?"Array of credentials":void 0})),await new Promise(X=>setTimeout(X,100));const P=await navigator.credentials.get({publicKey:H});console.log(" Native biometric authentication successful - processing server verification");let z;try{z={id:P.id,rawId:btoa(String.fromCharCode(...new Uint8Array(P.rawId))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),response:{clientDataJSON:btoa(String.fromCharCode(...new Uint8Array(P.response.clientDataJSON))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),authenticatorData:btoa(String.fromCharCode(...new Uint8Array(P.response.authenticatorData))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),signature:btoa(String.fromCharCode(...new Uint8Array(P.response.signature))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),userHandle:P.response.userHandle?btoa(String.fromCharCode(...new Uint8Array(P.response.userHandle))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""):null},type:P.type}}catch(X){throw console.error("Error encoding credential for server:",X),new Error("Li x l d liu sinh trc hc")}let G;try{if(G=await Ht.post("http://localhost:5001/api/passkeys/auth/verify",{email:l.email,response:z}),console.log("Server verification response:",G.data),!G.data.success)throw new Error(G.data.message||"Xc thc khng thnh cng")}catch(X){throw console.error("Error during server verification:",X),X.response?(console.error("Server response:",X.response.data),console.error("Status code:",X.response.status)):X.request?console.error("No response received:",X.request):console.error("Error setting up request:",X.message),new Error(`Li xc thc vi my ch: ${X.message}`)}F(0);const{user:he,tokens:ce}=G.data,ye={...he,token:ce.accessToken,UserID:he.id,username:he.username,role:he.role||"STUDENT"};console.log("Constructed user object for login:",ye),localStorage.setItem("token",ce.accessToken),localStorage.setItem("authToken",ce.accessToken),R(ye),Fr.success("ng nhp bng sinh trc hc thnh cng!"),setTimeout(()=>{window.location.pathname.includes("/login")&&(console.log("Backup navigation to home triggered"),t("/home",{replace:!0}))},1e3)}catch(H){console.error(" Passkey authentication error:",H);const P=I+1;if(F(P),P>=T)g("Qu nhiu ln th khng thnh cng. Vui lng s dng mt khu."),Fr.error("Qu nhiu ln th khng thnh cng. Vui lng s dng mt khu.");else{let z=`Xc thc sinh trc hc tht bi (ln th ${P}/${T}).`;H.name==="NotAllowedError"?z+=" Ngi dng t chi xc thc hoc khng c sinh trc hc c ng k.":H.name==="SecurityError"?z+=" Li bo mt: yu cu xc thc phi n t ngun an ton (HTTPS).":H.name==="AbortError"?z+=" Xc thc b hy.":H.name==="NotSupportedError"?z+=" Phng thc xc thc khng c h tr.":z+=` ${H.message||""}`,g(z),Fr.error(z)}}finally{f(!1),U.current&&(clearTimeout(U.current),U.current=null)}};return n.jsxs("div",{className:"flex flex-col min-h-screen",children:[n.jsxs("div",{className:"flex min-h-screen",children:[n.jsx("div",{className:"flex-1 flex items-center justify-center bg-white",children:n.jsxs(ur.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full px-6 py-12",children:[n.jsxs(ur.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.5},className:"text-center",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("img",{className:"h-14 w-auto",src:"/images/education-icon.svg",alt:"Education Icon"}),n.jsx("h1",{className:"text-4xl font-bold text-blue-600",children:"Learning"})]}),n.jsx("h2",{className:"mt-8 text-3xl font-extrabold text-gray-900",children:"Cho mng tr li!"}),n.jsx("p",{className:"mt-3 text-base text-gray-600",children:"ng nhp  tip tc hnh trnh hc tp ca bn"})]}),p&&n.jsx(ur.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-6 bg-blue-50 border-l-4 border-blue-400 p-4 rounded-md",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1V9a1 1 0 00-1-1z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm text-blue-700",children:p})})]})}),h&&n.jsx("p",{className:"mt-6 text-sm text-red-600 text-center",children:h}),n.jsxs(ur.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},className:"mt-8 space-y-6",onSubmit:B,children:[n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-between items-center mb-2",children:n.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Email"})}),n.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(tf,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"email",required:!0,value:l.email,onChange:H=>c({...l,email:H.target.value}),className:"pl-10 block w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com",ref:K})]})]}),n.jsx("div",{children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mt khu"})}),n.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(pl,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:o?"text":"password",required:!0,value:l.password,onChange:H=>c({...l,password:H.target.value}),className:"pl-10 block w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""}),n.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o?n.jsx(Vm,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):n.jsx(bu,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"remember",type:"checkbox",checked:l.remember,onChange:H=>c({...l,remember:H.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer"}),n.jsx("label",{htmlFor:"remember",className:"ml-2 block text-sm text-gray-700 cursor-pointer",children:"Ghi nh ng nhp"})]}),n.jsx("div",{className:"text-sm",children:n.jsx(Zt,{to:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Qun mt khu?"})})]}),n.jsx("div",{className:"mt-6",children:n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{type:"submit",disabled:d,className:`flex-1 flex justify-center items-center py-3 px-4 border border-black rounded-lg shadow-sm text-base font-medium text-white transform transition-all duration-200 hover:scale-[1.02] active:scale-[0.98] ${d?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}`,children:d?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ng nhp..."]}):"ng nhp"}),w&&n.jsxs("button",{type:"button",onClick:D,disabled:A||!l.email||d,className:`flex items-center justify-center p-3 border border-black rounded-lg shadow-sm transform transition-all duration-200 hover:scale-[1.05] active:scale-[0.95] ${A||!l.email||d?"bg-gray-300 cursor-not-allowed opacity-70 text-gray-500":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"} relative group`,title:l.email?"ng nhp bng sinh trc hc":"Vui lng nhp email trc khi s dng ng nhp sinh trc hc",children:[!l.email&&n.jsx("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Nhp email trc"}),A?n.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):n.jsx(P6,{className:`h-6 w-6 ${l.email?"text-red-500":"text-gray-500"}`})]})]})}),n.jsxs("div",{className:"relative my-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-300"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Hoc ng nhp vi"})})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsx("button",{type:"button",className:"inline-flex justify-center items-center py-2.5 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:n.jsx("svg",{className:"h-5 w-5 text-[#1877F2]",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})}),n.jsx("button",{type:"button",className:"inline-flex justify-center items-center py-2.5 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:n.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[n.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),n.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),n.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),n.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),n.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]})}),n.jsx("button",{type:"button",className:"inline-flex justify-center items-center py-2.5 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:n.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"})})}),n.jsx("button",{type:"button",className:"inline-flex justify-center items-center py-2.5 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:n.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:n.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})]}),n.jsx("div",{className:"text-center mt-6",children:n.jsxs("span",{className:"text-sm text-gray-600",children:["Cha c ti khon?"," ",n.jsx(Zt,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"ng k ngay"})]})})]}),!w&&n.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Xd,{className:"h-6 w-6 text-yellow-500 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Thit b khng h tr"}),n.jsx("p",{className:"text-sm mt-1 text-gray-600",children:"Trnh duyt hoc thit b ca bn khng h tr xc thc sinh trc hc."})]})]})})]})}),n.jsxs("div",{className:"hidden lg:block relative flex-1",children:[n.jsx("img",{className:"absolute inset-0 h-full w-full object-cover",src:"https://images.unsplash.com/photo-1523240795612-9a054b0db644?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80",alt:"Learning background"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/80 to-indigo-700/80",children:n.jsx("div",{className:"flex flex-col h-full",children:n.jsx("div",{className:"flex items-center justify-center flex-1",children:n.jsxs(ur.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8},className:"max-w-2xl mx-auto text-center text-white px-4",children:[n.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-6",children:"Learning"}),n.jsx("p",{className:"text-xl sm:text-2xl mb-8",children:"Khm ph th gii kin thc khng gii hn"}),n.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:space-x-4 sm:space-y-0 justify-center",children:[n.jsx("div",{className:"flex items-center justify-center bg-white/20 backdrop-blur-sm rounded-lg p-4",children:n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold text-lg",children:"10,000+"}),n.jsx("div",{className:"text-sm text-white/80",children:"Kha hc a dng"})]})}),n.jsx("div",{className:"flex items-center justify-center bg-white/20 backdrop-blur-sm rounded-lg p-4",children:n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold text-lg",children:"24/7"}),n.jsx("div",{className:"text-sm text-white/80",children:"H tr mi lc"})]})}),n.jsx("div",{className:"flex items-center justify-center bg-white/20 backdrop-blur-sm rounded-lg p-4",children:n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold text-lg",children:"100%"}),n.jsx("div",{className:"text-sm text-white/80",children:"Cam kt cht lng"})]})})]}),n.jsx("div",{className:"mt-10",children:n.jsxs("button",{onClick:()=>{document.getElementById("about-us").scrollIntoView({behavior:"smooth"})},className:"flex items-center mx-auto space-x-2 text-white bg-white/20 backdrop-blur-sm px-5 py-2.5 rounded-full hover:bg-white/30 transition-all duration-200",children:[n.jsx("span",{children:"V Chng Ti"}),n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 animate-bounce",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})]})})]})})})})]})]}),n.jsx("div",{id:"about-us",className:"bg-gradient-to-b from-gray-50 to-white py-16",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(ur.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0,margin:"-100px"},className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"V Chng Ti"}),n.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"CampusLearning l nn tng hc tp trc tuyn hng u ti Vit Nam, c thnh lp vi s mnh mang n c hi tip cn kin thc cng ngh cht lng cao cho mi ngi. Chng ti t ho l i tc o to tin cy ca nhiu doanh nghip cng ngh hng u trong v ngoi nc."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[{title:"Tm Nhn",content:"Tr thnh nn tng gio dc cng ngh s 1 Vit Nam, o to 100,000+ lp trnh vin chuyn nghip n nm 2025. Xy dng cng ng hc tp cng ngh ln mnh vi hn 1 triu thnh vin, gp phn thc y s pht trin ca ngnh cng ngh thng tin Vit Nam.",icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})},{title:"S Mnh",content:"Cung cp nn tng hc tp cng ngh ton din vi chi ph ti u nht. o to ngun nhn lc cht lng cao p ng nhu cu chuyn i s ca doanh nghip. To mi trng hc tp v pht trin ngh nghip chuyn nghip cho cng ng IT Vit Nam.",icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{title:"Gi Tr Ct Li",content:`- Cht lng o to l u tin hng u
- i mi sng to trong phng php ging dy
- Tn tm h tr ngi hc
- Cam kt ng hnh cng s pht trin ca hc vin
- Lin tc cp nht v nng cao cht lng`,icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}].map((H,P)=>n.jsxs(ur.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:P*.1},viewport:{once:!0,margin:"-100px"},className:"bg-white p-6 rounded-xl shadow-md transition-all duration-300 hover:shadow-lg border border-gray-100",children:[n.jsx("div",{className:"h-14 w-14 mx-auto mb-4 rounded-lg bg-blue-100 flex items-center justify-center",children:H.icon}),n.jsx("h3",{className:"text-xl font-semibold text-center mb-3 text-gray-900",children:H.title}),n.jsx("p",{className:"text-gray-600 text-center whitespace-pre-line",children:H.content})]},P))}),n.jsx(ur.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0,margin:"-100px"},className:"mt-16 bg-white rounded-xl shadow-md overflow-hidden border border-gray-100",children:n.jsxs("div",{className:"md:flex",children:[n.jsx("div",{className:"md:flex-shrink-0",children:n.jsx("img",{className:"h-full w-full object-cover md:w-72",src:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=600&q=80",alt:"i ng ging vin"})}),n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"uppercase tracking-wide text-sm text-blue-600 font-semibold",children:"i Ng Chuyn Gia"}),n.jsx("h2",{className:"mt-2 text-2xl font-bold leading-tight text-gray-900",children:"Ging vin hng u trong lnh vc cng ngh"}),n.jsx("p",{className:"mt-4 text-gray-600 leading-relaxed",children:"i ng ging vin ca CampusLearning gm cc chuyn gia c trn 10 nm kinh nghim n t cc cng ty cng ngh hng u nh Google, Microsoft, AWS, FPT Software. Vi kinh nghim thc t phong ph, cc ging vin khng ch truyn t kin thc chuyn mn m cn chia s nhng bi hc qu gi t d n thc t."}),n.jsxs("div",{className:"mt-6 flex flex-wrap gap-2",children:[n.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:"Front-end"}),n.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:"Back-end"}),n.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:"DevOps"}),n.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:"AI & ML"}),n.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:"Mobile Dev"}),n.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:"Cloud Computing"})]})]})]})}),n.jsx("div",{className:"mt-16",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[n.jsxs(ur.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.5},viewport:{once:!0,margin:"-100px"},className:"bg-white p-8 rounded-xl shadow-md border border-gray-100",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Phng Php o To"}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),n.jsx("p",{className:"ml-3 text-gray-600",children:"Hc tp da trn d n thc t (Project-based learning)"})]}),n.jsxs("li",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),n.jsx("p",{className:"ml-3 text-gray-600",children:"Ni dung hc tp c c nhn ha theo trnh  v mc tiu"})]}),n.jsxs("li",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),n.jsx("p",{className:"ml-3 text-gray-600",children:"H thng h tr hc tp 1-1 vi ging vin v mentor"})]}),n.jsxs("li",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),n.jsx("p",{className:"ml-3 text-gray-600",children:"Cp nht lin tc kin thc mi nht theo xu hng cng ngh"})]})]})]}),n.jsxs(ur.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.5},viewport:{once:!0,margin:"-100px"},className:"bg-white p-8 rounded-xl shadow-md border border-gray-100",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Cam Kt Vi Hc Vin"}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),n.jsx("p",{className:"ml-3 text-gray-600",children:"Bo mt thng tin c nhn v d liu hc tp"})]}),n.jsxs("li",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),n.jsx("p",{className:"ml-3 text-gray-600",children:"Hon tr hc ph nu khng hi lng trong 7 ngy u"})]}),n.jsxs("li",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),n.jsx("p",{className:"ml-3 text-gray-600",children:"H tr k thut v gii p thc mc 24/7"})]}),n.jsxs("li",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),n.jsx("p",{className:"ml-3 text-gray-600",children:"Cp chng ch hon thnh c gi tr trong ngnh cng ngh"})]})]})]})]})}),n.jsxs(ur.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0,margin:"-100px"},className:"mt-16 text-center",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"i Tc Ca Chng Ti"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{title:"FPT Software",image:"https://upload.wikimedia.org/wikipedia/commons/1/11/FPT_logo_2010.svg"},{title:"VNG Corporation",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8f/VNG_Corp._logo.svg/1200px-VNG_Corp._logo.svg.png"},{title:"Microsoft Vietnam",image:"https://upload.wikimedia.org/wikipedia/commons/9/96/Microsoft_logo_%282012%29.svg"},{title:"Amazon Web Services",image:"https://upload.wikimedia.org/wikipedia/commons/9/93/Amazon_Web_Services_Logo.svg"},{title:"Google",image:"https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png"},{title:"MoMo",image:"https://upload.wikimedia.org/wikipedia/vi/f/fe/MoMo_Logo.png"},{title:"Tiki",image:"https://upload.wikimedia.org/wikipedia/commons/4/43/Logo_Tiki_2023.png"},{title:"Shopee",image:"https://upload.wikimedia.org/wikipedia/commons/f/fe/Shopee.svg"}].map((H,P)=>n.jsx(ur.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.3,delay:P*.05},whileHover:{y:-5,boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},className:"bg-white p-8 rounded-lg shadow-sm flex items-center justify-center h-32 border border-gray-100",children:n.jsx("img",{src:H.image,alt:H.title,className:"w-36 h-16 object-contain"})},P))}),n.jsx("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-8",children:["i Tc Tuyn Dng","i Tc o To","i Tc Cng Ngh"].map((H,P)=>n.jsxs(ur.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.4,delay:P*.1},className:"bg-blue-50 p-6 rounded-xl",children:[n.jsx("h4",{className:"font-semibold text-lg text-blue-900 mb-2",children:H}),n.jsx("p",{className:"text-blue-700",children:"200+ doanh nghip cng ngh tuyn dng trc tip t CampusLearning"})]},P))})]})]})}),n.jsx("div",{className:"mt-20 bg-blue-50 py-16",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(ur.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Lin H Vi Chng Ti"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Hy lin h vi chng ti nu bn cn h tr hoc c bt k cu hi no"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[{title:"in thoi",content:["0332029410","Th 2 - Ch nht: 8:00 - 22:00"],icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})},{title:"Email",content:["support@CampusLearning.edu.vn","quyen.nd19@outlook.com"],icon:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})},{title:"a ch",content:["Tng 15, Ta nh Innovation","Qun 1, TP. H Ch Minh"],icon:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})]})}].map((H,P)=>n.jsxs(ur.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.5,delay:P*.1},className:"bg-white p-6 rounded-xl shadow-md text-center",children:[n.jsx("div",{className:"h-12 w-12 mx-auto mb-4 rounded-full bg-blue-100 flex items-center justify-center",children:H.icon}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:H.title}),H.content.map((z,G)=>n.jsx("p",{className:"text-gray-600",children:z},G))]},P))}),n.jsx(ur.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"mt-12 max-w-3xl mx-auto",children:n.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[n.jsx("h3",{className:"text-2xl font-bold text-center mb-6",children:"Gi Tin Nhn Cho Chng Ti"}),n.jsxs("form",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"H v tn"}),n.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),n.jsx("input",{type:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tiu "}),n.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ni dung"}),n.jsx("textarea",{rows:"4",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),n.jsx("div",{className:"text-center",children:n.jsx("button",{type:"submit",className:"inline-flex justify-center py-3 px-6 border border-transparent shadow-sm text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Gi tin nhn"})})]})]})}),n.jsx(ur.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.5,delay:.2},className:"mt-12 text-center",children:n.jsxs("div",{className:"flex justify-center space-x-6",children:[n.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[n.jsx("span",{className:"sr-only",children:"Facebook"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),n.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[n.jsx("span",{className:"sr-only",children:"Youtube"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{fillRule:"evenodd",d:"M19.812 5.418c.861.23 1.538.907 1.768 1.768C21.998 8.746 22 12 22 12s0 3.255-.418 4.814a2.504 2.504 0 0 1-1.768 1.768c-1.56.419-7.814.419-7.814.419s-6.255 0-7.814-.419a2.505 2.505 0 0 1-1.768-1.768C2 15.255 2 12 2 12s0-3.255.418-4.814a2.507 2.507 0 0 1 1.768-1.768C5.746 5 11.998 5 11.998 5s6.255 0 7.814.418ZM15.194 12 10 15V9l5.194 3Z",clipRule:"evenodd"})})]}),n.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:[n.jsx("span",{className:"sr-only",children:"LinkedIn"}),n.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{fillRule:"evenodd",d:"M20.447 20.452h-3.554v-5.569c0-1.328-.07-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z",clipRule:"evenodd"})})]})]})})]})}),n.jsx(ur.footer,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5},className:"bg-gray-900 text-white py-8",children:n.jsx("div",{className:"container mx-auto px-4 text-center",children:n.jsx("p",{className:"text-gray-400",children:" 2025 CampusLearning. Tt c quyn c bo lu."})})})]})},sfe=()=>{const e=rn(),[t,r]=m.useState(!1),[s,i]=m.useState({username:"",email:"",password:"",fullName:"",dateOfBirth:"",school:""}),[o,a]=m.useState(""),[l,c]=m.useState(!1),[d,u]=m.useState(!1),A=h=>{i({...s,[h.target.name]:h.target.value})},f=async h=>{if(h.preventDefault(),!d){a("Vui lng ng  vi iu khon s dng v Chnh sch bo mt");return}a(""),c(!0);try{const g=await fetch("http://localhost:5001/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),p=await g.json();if(!g.ok)throw new Error(p.message||"ng k tht bi");e("/login",{state:{message:"ng k thnh cng! Vui lng ng nhp."}})}catch(g){a(g.message||" c li xy ra")}finally{c(!1)}};return n.jsxs("div",{className:"min-h-screen flex",children:[n.jsx("div",{className:"flex-1 flex items-center justify-center bg-white py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("img",{className:"h-14 w-auto",src:"/images/education-icon.svg",alt:"Education Icon"}),n.jsx("h1",{className:"text-4xl font-bold text-blue-600",children:"Learning"})]}),n.jsx("h2",{className:"mt-8 text-3xl font-extrabold text-gray-900",children:"To ti khon mi"}),n.jsx("p",{className:"mt-3 text-base text-gray-600",children:"Bt u hnh trnh hc tp ca bn ngay hm nay"})]}),o&&n.jsx("div",{className:"mt-6 bg-red-50 border-l-4 border-red-400 p-4 rounded-md",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm text-red-700",children:o})})]})}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Tn ng nhp"}),n.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Km,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"pl-10 block w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tn ng nhp",value:s.username,onChange:A})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),n.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(tf,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"pl-10 block w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Email",value:s.email,onChange:A})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mt khu"}),n.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(pl,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"password",name:"password",type:t?"text":"password",required:!0,className:"pl-10 block w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mt khu",value:s.password,onChange:A}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!t),children:t?n.jsx(Vm,{className:"h-5 w-5 text-gray-400"}):n.jsx(bu,{className:"h-5 w-5 text-gray-400"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"H v tn"}),n.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Km,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!0,className:"pl-10 block w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"H v tn",value:s.fullName,onChange:A})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-700",children:"Ngy sinh"}),n.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(qd,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"dateOfBirth",name:"dateOfBirth",type:"date",className:"pl-10 block w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:s.dateOfBirth,onChange:A})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"school",className:"block text-sm font-medium text-gray-700",children:"Trng hc"}),n.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Au,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"school",name:"school",type:"text",className:"pl-10 block w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Trng hc",value:s.school,onChange:A})]})]})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex items-center h-5",children:n.jsx("input",{id:"terms",name:"terms",type:"checkbox",checked:d,onChange:h=>u(h.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer"})}),n.jsx("div",{className:"ml-3 text-sm",children:n.jsxs("label",{htmlFor:"terms",className:"text-gray-600",children:["Ti ng  vi"," ",n.jsx(Zt,{to:"/support/terms-of-use",target:"_blank",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"iu khon s dng"})," ","v"," ",n.jsx(Zt,{to:"/support/privacy-policy",target:"_blank",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Chnh sch bo mt"})]})})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:l||!d,className:`w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-white ${l||!d?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"}`,children:l?"ang x l...":"ng k"})}),n.jsx("div",{className:"text-center mt-4",children:n.jsxs("span",{className:"text-sm text-gray-600",children:[" c ti khon?"," ",n.jsx(Zt,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"ng nhp ngay"})]})})]})]})}),n.jsxs("div",{className:"hidden lg:block relative flex-1",children:[n.jsx("img",{className:"absolute inset-0 h-full w-full object-cover",src:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80",alt:"Learning background"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/80 to-indigo-700/80",children:n.jsx("div",{className:"flex h-full items-center justify-center",children:n.jsxs("div",{className:"max-w-2xl mx-auto text-center text-white px-4",children:[n.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-6",children:"Learning"}),n.jsx("p",{className:"text-xl sm:text-2xl mb-8",children:"Cng nhau khm ph th gii tri thc"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-6 text-left",children:[n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Hc tp linh hot"}),n.jsx("p",{className:"text-white/80",children:"Hn 10,000 kha hc trc tuyn t cc chuyn gia hng u th gii"})]}),n.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-6 text-left",children:[n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Cng ng nng ng"}),n.jsx("p",{className:"text-white/80",children:"Kt ni v hc hi cng hng triu ngi hc trn ton cu"})]}),n.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-6 text-left",children:[n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Chng ch gi tr"}),n.jsx("p",{className:"text-white/80",children:"Nhn chng ch c cng nhn rng ri trong ngnh"})]}),n.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-6 text-left",children:[n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Hc mi lc, mi ni"}),n.jsx("p",{className:"text-white/80",children:"Truy cp hc liu trn mi thit b, khng gii hn thi gian"})]})]})]})})})]})]})},ife=()=>{const e=rn(),[t,r]=m.useState(1),[s,i]=m.useState(""),[o,a]=m.useState(""),[l,c]=m.useState(""),[d,u]=m.useState(""),[A,f]=m.useState(!1),[h,g]=m.useState(!1),[p,b]=m.useState(""),[x,j]=m.useState(""),w=async F=>{var T,U,K,B;if(F.preventDefault(),!s){b("Vui lng nhp email ca bn");return}g(!0),b("");try{(await Ht.post("/api/verification/password/forgot",{email:s})).data.message&&(j("M xc thc  c gi n email ca bn"),r(2))}catch(R){console.error("Error requesting OTP:",R),b(((U=(T=R.response)==null?void 0:T.data)==null?void 0:U.message)||"Khng th gi m xc thc"),Fr.error(((B=(K=R.response)==null?void 0:K.data)==null?void 0:B.message)||"Khng th gi m xc thc")}finally{g(!1)}},S=async F=>{var T,U,K,B;if(F.preventDefault(),!o){b("Vui lng nhp m xc thc");return}if(!l){b("Vui lng nhp mt khu mi");return}if(l!==d){b("Mt khu xc nhn khng khp");return}if(l.length<6){b("Mt khu phi c t nht 6 k t");return}g(!0),b("");try{(await Ht.post("/api/verification/password/reset",{email:s,otp:o,newPassword:l})).data.success&&(j("Mt khu  c t li thnh cng"),Fr.success("Mt khu  c t li thnh cng"),setTimeout(()=>{e("/login",{state:{message:"Mt khu  c t li thnh cng. Vui lng ng nhp vi mt khu mi."}})},2e3))}catch(R){console.error("Error resetting password:",R),b(((U=(T=R.response)==null?void 0:T.data)==null?void 0:U.message)||"Khng th t li mt khu"),Fr.error(((B=(K=R.response)==null?void 0:K.data)==null?void 0:B.message)||"Khng th t li mt khu")}finally{g(!1)}},I=async()=>{var F,T;if(!s){b("Email khng hp l");return}g(!0),b("");try{(await Ht.post("/api/verification/password/forgot",{email:s})).data.message&&Fr.success("M xc thc mi  c gi n email ca bn")}catch(U){console.error("Error resending OTP:",U),b(((T=(F=U.response)==null?void 0:F.data)==null?void 0:T.message)||"Khng th gi li m xc thc")}finally{g(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"t li mt khu"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:t===1?"Nhp email ca bn  nhn m xc thc":"Nhp m xc thc v mt khu mi ca bn"})]}),n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[p&&n.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-500 p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm text-red-700",children:p})})]})}),x&&n.jsx("div",{className:"mb-4 bg-green-50 border-l-4 border-green-500 p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm text-green-700",children:x})})]})}),t===1?n.jsxs("form",{className:"space-y-6",onSubmit:w,children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),n.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(tf,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),n.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:s,onChange:F=>i(F.target.value),required:!0,className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md",placeholder:"Nhp email ca bn"})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:h,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${h?"opacity-50 cursor-not-allowed":""}`,children:h?"ang gi...":"Gi m xc thc"})}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("div",{className:"text-sm",children:n.jsx(Zt,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:n.jsxs("span",{className:"flex items-center",children:[n.jsx(_m,{className:"h-4 w-4 mr-1"}),"Quay li ng nhp"]})})})})]}):n.jsxs("form",{className:"space-y-6",onSubmit:S,children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700",children:"M xc thc"}),n.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(vu,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),n.jsx("input",{id:"otp",name:"otp",type:"text",value:o,onChange:F=>a(F.target.value),required:!0,className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md",placeholder:"Nhp m xc thc"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mt khu mi"}),n.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(pl,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),n.jsx("input",{id:"password",name:"password",type:A?"text":"password",autoComplete:"new-password",value:l,onChange:F=>c(F.target.value),required:!0,className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md",placeholder:"Nhp mt khu mi"}),n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n.jsx("button",{type:"button",onClick:()=>f(!A),className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:A?n.jsx(Vm,{className:"h-5 w-5","aria-hidden":"true"}):n.jsx(bu,{className:"h-5 w-5","aria-hidden":"true"})})})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Xc nhn mt khu"}),n.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(pl,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),n.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:A?"text":"password",autoComplete:"new-password",value:d,onChange:F=>u(F.target.value),required:!0,className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md",placeholder:"Xc nhn mt khu mi"})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:h,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${h?"opacity-50 cursor-not-allowed":""}`,children:h?"ang xc thc...":"t li mt khu"})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("button",{type:"button",onClick:()=>r(1),className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:n.jsxs("span",{className:"flex items-center",children:[n.jsx(_m,{className:"h-4 w-4 mr-1"}),"Quay li"]})}),n.jsx("button",{type:"button",onClick:I,disabled:h,className:`text-sm font-medium text-blue-600 hover:text-blue-500 ${h?"opacity-50 cursor-not-allowed":""}`,children:"Gi li m"})]})]})]})})]})},ofe=()=>{const e=rn(),[t]=lP(),r=t.get("token"),[s,i]=m.useState(!1),[o,a]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState(""),[A,f]=m.useState({}),[h,g]=m.useState(!1),[p,b]=m.useState({password:"",confirmPassword:""});m.useEffect(()=>{r||u("Lin kt t li mt khu khng hp l hoc  ht hn. Vui lng yu cu lin kt mi.")},[r]);const x=I=>{const F=I.length>=8,T=/[A-Z]/.test(I),U=/[a-z]/.test(I),K=/\d/.test(I),B={};return F||(B.minLength="Mt khu phi c t nht 8 k t"),T||(B.hasUppercase="Mt khu phi c t nht 1 ch hoa"),U||(B.hasLowercase="Mt khu phi c t nht 1 ch thng"),K||(B.hasNumber="Mt khu phi c t nht 1 ch s"),{isValid:Object.keys(B).length===0,errors:B}},j=I=>{const F=I.target.value;if(b({...p,password:F}),p.confirmPassword&&p.confirmPassword!==F)f({...A,confirmPassword:"Mt khu khng khp"});else if(p.confirmPassword&&p.confirmPassword===F){const{confirmPassword:T,...U}=A;f(U)}if(F){const{isValid:T,errors:U}=x(F);if(!T)f({...A,password:U});else{const{password:K,...B}=A;f(B)}}},w=I=>{const F=I.target.value;if(b({...p,confirmPassword:F}),F&&F!==p.password)f({...A,confirmPassword:"Mt khu khng khp"});else{const{confirmPassword:T,...U}=A;f(U)}},S=async I=>{I.preventDefault(),u("");const{isValid:F,errors:T}=x(p.password);if(!F){f({...A,password:T});return}if(p.password!==p.confirmPassword){f({...A,confirmPassword:"Mt khu khng khp"});return}if(!r){u("Lin kt t li mt khu khng hp l hoc  ht hn.");return}c(!0);try{const K=await fetch("http://localhost:5001/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r,newPassword:p.password})}),B=await K.json();if(!K.ok)throw new Error(B.message||"Khng th t li mt khu");g(!0),setTimeout(()=>{e("/login",{state:{message:"t li mt khu thnh cng! Vui lng ng nhp bng mt khu mi."}})},3e3)}catch(U){console.error("Reset password error:",U),u(U.message||" xy ra li. Vui lng th li sau.")}finally{c(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto h-14 w-14 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(pl,{className:"h-8 w-8 text-blue-600"})}),n.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:h?"t li mt khu thnh cng!":"t li mt khu"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600",children:h?"Mt khu ca bn  c t li. Bn s c chuyn hng n trang ng nhp...":"Nhp mt khu mi ca bn"})]}),d&&n.jsx("div",{className:"rounded-md bg-red-50 p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Xd,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Li"}),n.jsx("div",{className:"mt-2 text-sm text-red-700",children:n.jsx("p",{children:d})})]})]})}),h&&n.jsx("div",{className:"rounded-md bg-green-50 p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(No,{className:"h-5 w-5 text-green-400","aria-hidden":"true"})}),n.jsx("div",{className:"ml-3",children:n.jsx("div",{className:"mt-2 text-sm text-green-700",children:n.jsx("p",{children:"Mt khu ca bn  c t li thnh cng. Bn c th ng nhp bng mt khu mi."})})})]})}),!h&&n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:S,children:[n.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mt khu mi"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(pl,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"password",name:"password",type:s?"text":"password",required:!0,value:p.password,onChange:j,className:`appearance-none relative block w-full px-3 py-2 pl-10 border ${A.password?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`,placeholder:"Nhp mt khu mi"}),n.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s?n.jsx(Vm,{className:"h-5 w-5 text-gray-400"}):n.jsx(bu,{className:"h-5 w-5 text-gray-400"})})]}),A.password&&n.jsx("div",{className:"mt-2 text-sm text-red-600",children:n.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[A.password.minLength&&n.jsx("li",{children:A.password.minLength}),A.password.hasUppercase&&n.jsx("li",{children:A.password.hasUppercase}),A.password.hasLowercase&&n.jsx("li",{children:A.password.hasLowercase}),A.password.hasNumber&&n.jsx("li",{children:A.password.hasNumber})]})}),n.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Mt khu phi c t nht 8 k t, bao gm ch hoa, ch thng v s."})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Xc nhn mt khu mi"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(pl,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",required:!0,value:p.confirmPassword,onChange:w,className:`appearance-none relative block w-full px-3 py-2 pl-10 border ${A.confirmPassword?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm`,placeholder:"Xc nhn mt khu mi"}),n.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o?n.jsx(Vm,{className:"h-5 w-5 text-gray-400"}):n.jsx(bu,{className:"h-5 w-5 text-gray-400"})})]}),A.confirmPassword&&n.jsx("p",{className:"mt-2 text-sm text-red-600",children:A.confirmPassword})]})]}),n.jsx("div",{children:n.jsxs("button",{type:"submit",disabled:l||!r,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${l||!r?"opacity-50 cursor-not-allowed":""}`,children:[l?n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,l?"ang x l...":"t li mt khu"]})})]})]})})},afe=({children:e})=>{const t=lo(),{isAuthenticated:r,loading:s,refreshUserToken:i}=co(),[o,a]=m.useState(!0),[l,c]=m.useState(!1);return m.useEffect(()=>{(async()=>{try{if(r){c(!0),a(!1);return}const u=localStorage.getItem("token"),A=localStorage.getItem("refreshToken");if(u){if(c(!0),A)try{const f=await i();c(f)}catch(f){console.log("Token refresh error:",f.message),c(!!localStorage.getItem("token"))}}else c(!1)}catch(u){console.error("Auth middleware error:",u),c(!!localStorage.getItem("token"))}finally{a(!1)}})()},[r,i]),s||o?n.jsx("div",{className:"flex justify-center items-center h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l?e:n.jsx(Xf,{to:"/login",state:{from:t.pathname},replace:!0})},lfe=()=>{const e=rn(),[t,r]=m.useState(""),[s,i]=m.useState(""),[o,a]=m.useState([]),[l,c]=m.useState(!1),[d,u]=m.useState(null),A=m.useRef(null),f=async p=>{if(p.preventDefault(),!s.trim()){Re.error("Tiu  khng c  trng");return}if(!t.trim()&&o.length===0){Re.error("Ni dung khng c  trng");return}c(!0),u(null);try{const b=new FormData;b.append("title",s),b.append("content",t),o.forEach(S=>{b.append("media",S)});const x=localStorage.getItem("token");if(!x)throw new Error("Bn cn ng nhp  to cu chuyn");const j=await fetch("/api/stories",{method:"POST",headers:{Authorization:`Bearer ${x}`},body:b});if(!j.ok)try{const S=await j.json();throw new Error(S.message||"Khng th to cu chuyn")}catch{throw new Error(`Li ${j.status}: Khng th to cu chuyn`)}const w=await j.json();Re.success("Cu chuyn  c to thnh cng!"),e("/stories")}catch(b){console.error("Create story error:",b),u(b.message||"C li xy ra khi to cu chuyn"),Re.error(b.message||"C li xy ra khi to cu chuyn")}finally{c(!1)}},h=p=>{const b=Array.from(p.target.files);b.length>0&&a([...o,...b])},g=p=>{a(o.filter((b,x)=>x!==p))};return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden max-w-2xl mx-auto mt-6",children:[n.jsx("div",{className:"p-4 border-b border-gray-100",children:n.jsx("h2",{className:"font-semibold text-lg",children:"To cu chuyn mi"})}),n.jsxs("form",{onSubmit:f,className:"p-4",children:[d&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border-l-4 border-red-500 text-red-700 rounded",children:n.jsx("p",{children:d})}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tiu "}),n.jsx("input",{type:"text",id:"title",value:s,onChange:p=>i(p.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg focus-within:border-blue-300 focus-within:ring-1 focus-within:ring-blue-300 transition duration-200",placeholder:"Nhp tiu  cu chuyn"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ni dung"}),n.jsx("div",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-lg focus-within:border-blue-300 focus-within:ring-1 focus-within:ring-blue-300 transition duration-200",children:n.jsx("textarea",{id:"content",value:t,onChange:p=>r(p.target.value),rows:5,className:"w-full focus:outline-none bg-transparent resize-none",placeholder:"Vit ni dung cu chuyn ca bn..."})})]}),o.length>0&&n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"flex flex-wrap gap-3",children:o.map((p,b)=>n.jsx("div",{className:"relative group",children:n.jsxs("div",{className:"h-32 w-32 border border-gray-200 rounded-lg overflow-hidden bg-gray-100 flex items-center justify-center",children:[p.type.startsWith("image/")?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 z-0",children:n.jsxs("svg",{className:"animate-spin h-8 w-8 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),n.jsx("img",{src:URL.createObjectURL(p),alt:"Preview",className:"w-full h-full object-cover relative z-10",onLoad:x=>{const w=x.target.parentNode.querySelector("div.absolute");w&&w.remove()}})]}):p.type.startsWith("video/")?n.jsx("div",{className:"flex items-center justify-center h-full w-full bg-gray-800",children:n.jsx(Bh,{className:"h-12 w-12 text-white opacity-70"})}):n.jsx("div",{className:"flex items-center justify-center h-full w-full",children:n.jsx(R6,{className:"h-12 w-12 text-gray-400"})}),n.jsx("button",{type:"button",onClick:()=>g(b),className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(pn,{className:"h-4 w-4"})})]})},b))})}),n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mt-4",children:[n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{type:"button",onClick:()=>A.current.click(),className:"flex items-center space-x-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm",children:[n.jsx(J0,{className:"h-5 w-5 text-green-500"}),n.jsx("span",{children:"Thm nh/video"})]}),n.jsx("input",{ref:A,type:"file",hidden:!0,accept:"image/*,video/*",multiple:!0,onChange:h})]}),n.jsx("button",{type:"submit",disabled:l||!t.trim()&&!s.trim()&&o.length===0,className:`px-6 py-2.5 rounded-lg font-medium ${l||!t.trim()&&!s.trim()&&o.length===0?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:l?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"ang to..."})]}):"To cu chuyn"})]})]})]})},cfe=()=>{const e=[{question:"Lm th no  ng k ti khon?",answer:"Bn c th ng k ti khon bng cch nhp vo nt 'ng k'  gc trn bn phi ca trang web. Sau  in y  thng tin theo yu cu v xc nhn email ca bn."},{question:"Ti c th hc th trc khi ng k khng?",answer:"C, chng ti cung cp cc bi hc th min ph cho mi kha hc. Bn c th xem trc ni dung v tri nghim cht lng ging dy trc khi quyt nh ng k."},{question:"Lm th no  thanh ton kha hc?",answer:"Chng ti chp nhn nhiu phng thc thanh ton nh chuyn khon ngn hng, v in t, v th tn dng. Sau khi chn kha hc, bn s c chuyn n trang thanh ton  hon tt giao dch."},{question:"Ti c th hc trn thit b di ng khng?",answer:"C, nn tng ca chng ti c thit k responsive v hot ng tt trn c my tnh v thit b di ng. Bn c th hc mi lc, mi ni."},{question:"Lm th no  nhn chng ch sau khi hon thnh kha hc?",answer:"Sau khi hon thnh tt c bi hc v vt qua cc bi kim tra ca kha hc, bn s nhn c chng ch in t. Chng ch ny c th ti xung v chia s trn LinkedIn."}];return n.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Cu hi thng gp"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Tm cu tr li cho nhng thc mc ph bin nht"})]}),n.jsx("div",{className:"space-y-4",children:e.map((t,r)=>n.jsx(ur.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:r*.1},className:"bg-white rounded-lg shadow-md overflow-hidden",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t.question}),n.jsx(hm,{className:"h-5 w-5 text-gray-500"})]}),n.jsx("div",{className:"mt-4 text-gray-600",children:t.answer})]})},r))}),n.jsxs("div",{className:"mt-12 text-center",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Khng tm thy cu tr li bn cn?"}),n.jsx("a",{href:"/support/contact",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:"Lin h h tr"})]})]})})},ufe=()=>{const e=[{title:"Bt u hc",icon:ef,description:"Hng dn cch bt u hc v s dng nn tng",items:["Cch ng k ti khon","Cch chn kha hc ph hp","Hng dn s dng giao din hc tp","Cch theo di tin  hc tp"]},{title:"Kha hc",icon:Au,description:"Thng tin v cc kha hc v chng trnh hc",items:["Cc loi kha hc c sn","Cch ng k kha hc","Chnh sch hon tin","Cch nhn chng ch"]},{title:"Thanh ton",icon:uO,description:"Hng dn v cc phng thc thanh ton",items:["Cc phng thc thanh ton c chp nhn","Cch s dng m gim gi","Ha n v bin lai","X l s c thanh ton"]},{title:"H tr k thut",icon:W2,description:"Gii quyt cc vn  k thut",items:["Yu cu h thng","Khc phc s c ng nhp","S c video/m thanh","H tr thit b di ng"]},{title:"Ti liu",icon:hu,description:"Ti liu hng dn v ti nguyn hc tp",items:["Hng dn s dng nn tng","Ti liu hc tp","Mu bi tp","Ti nguyn b sung"]},{title:"Cu hi thng gp",icon:cQ,description:"Gii p cc thc mc ph bin",items:["Cu hi v ti khon","Cu hi v kha hc","Cu hi v thanh ton","Cu hi v chng ch"]}];return n.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Trung tm tr gip"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Tm kim hng dn v h tr cho mi vn  ca bn"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,r)=>n.jsx(ur.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:r*.1},className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(t.icon,{className:"h-8 w-8 text-indigo-600 mr-3"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:t.title})]}),n.jsx("p",{className:"text-gray-600 mb-4",children:t.description}),n.jsx("ul",{className:"space-y-2",children:t.items.map((s,i)=>n.jsxs("li",{className:"flex items-center text-gray-600",children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-600 rounded-full mr-2"}),s]},i))})]})},r))}),n.jsxs("div",{className:"mt-12 text-center",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Vn cn h tr thm?"}),n.jsx("a",{href:"/support/contact",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:"Lin h h tr"})]})]})})},dfe=()=>{const e=[{title:"Gii thiu",content:"Chng ti cam kt bo v quyn ring t v thng tin c nhn ca ngi dng. Chnh sch bo mt ny gii thch cch chng ti thu thp, s dng v bo v thng tin ca bn khi bn s dng nn tng Campus Learning."},{title:"Thng tin chng ti thu thp",content:"Chng ti thu thp cc thng tin sau:",items:["Thng tin c nhn (h tn, email, s in thoi)","Thng tin thanh ton","D liu hc tp v tin ","Thng tin thit b v trnh duyt","D liu tng tc vi nn tng"]},{title:"Cch chng ti s dng thng tin",content:"Chng ti s dng thng tin ca bn :",items:["Cung cp v ci thin dch v","X l thanh ton v giao dch","Gi thng bo v cp nht","Phn tch v ti u ha tri nghim ngi dng","Tun th cc yu cu php l"]},{title:"Bo mt thng tin",content:"Chng ti p dng cc bin php bo mt sau:",items:["M ha d liu nhy cm","Kim sot truy cp nghim ngt","Bo mt h thng v mng","o to nhn vin v bo mt","nh gi bo mt nh k"]},{title:"Chia s thng tin",content:"Chng ti ch chia s thng tin ca bn trong cc trng hp:",items:["Vi s ng  ca bn"," cung cp dch v","Tun th php lut","Bo v quyn li hp php","Hp tc vi i tc ng tin cy"]},{title:"Quyn ca ngi dng",content:"Bn c quyn:",items:["Truy cp thng tin c nhn","Yu cu sa i thng tin","Yu cu xa thng tin","T chi tip th","Khiu ni v vic x l d liu"]},{title:"Cookie v cng ngh theo di",content:"Chng ti s dng cookie :",items:["Ci thin tri nghim ngi dng","Phn tch lu lng truy cp","Nh ty chn ca bn","Cung cp ni dung ph hp","Bo mt ti khon"]},{title:"Lin h",content:"Nu bn c cu hi v chnh sch bo mt, vui lng lin h:",items:["Email: contact@Campus Learning.vn","a ch: 123 ng Nguyn Vn Linh, Qun 7, TP. H Ch Minh","in thoi: (84) 123-456-789"]}];return n.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Chnh sch bo mt"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Cp nht ln cui: 01/01/2024"})]}),n.jsx("div",{className:"space-y-8",children:e.map((t,r)=>n.jsxs(ur.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:r*.1},className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:t.title}),n.jsx("p",{className:"text-gray-600 mb-4",children:t.content}),t.items&&n.jsx("ul",{className:"space-y-2",children:t.items.map((s,i)=>n.jsxs("li",{className:"flex items-center text-gray-600",children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-600 rounded-full mr-2"}),s]},i))})]},r))})]})})},Afe=()=>{const e=[{title:"Gii thiu",content:"Bng vic s dng nn tng Campus Learning, bn ng  vi cc iu khon v iu kin c nu trong ti liu ny. Vui lng c k cc iu khon trc khi s dng dch v."},{title:"iu kin s dng",content:" s dng nn tng, bn phi:",items:[" 13 tui tr ln","C ti khon hp l","Cung cp thng tin chnh xc","Tun th cc quy nh ca nn tng","Khng vi phm bn quyn"]},{title:"Quyn s hu tr tu",content:"Tt c ni dung trn nn tng thuc s hu ca Campus Learning hoc c cp php s dng. Bn khng c:",items:["Sao chp hoc phn phi ni dung","S dng ni dung cho mc ch thng mi","Chnh sa hoc to tc phm phi sinh","Xa thng tin bn quyn","Chia s ti khon vi ngi khc"]},{title:"Quy nh v ni dung",content:"Ngi dng khng c ng ti ni dung:",items:["Vi phm php lut","Xc phm, e da ngi khc","Cha thng tin sai lch","Qung co tri php","Cha virus hoc m c"]},{title:"Thanh ton v hon tin",content:"Cc quy nh v thanh ton:",items:["Gi c c nim yt r rng","Thanh ton trc khi s dng","Hon tin trong vng 7 ngy nu cha hc","Khng hon tin sau khi  hc","Chnh sch hon tin chi tit"]},{title:"Chm dt ti khon",content:"Chng ti c quyn chm dt ti khon nu:",items:["Vi phm iu khon s dng","Gian ln hoc la o","Khng hot ng trong thi gian di","Cung cp thng tin gi mo","Vi phm php lut"]},{title:"Gii hn trch nhim",content:"Chng ti khng chu trch nhim v:",items:["Mt mt d liu","Gin on dch v","Thit hi gin tip","Hnh vi ca ngi dng khc","Vn  k thut ngoi tm kim sot"]},{title:"Thay i iu khon",content:"Chng ti c quyn:",items:["Cp nht iu khon khi cn","Thng bo trc 30 ngy","p dng cho tt c ngi dng","Lu tr cc phin bn c","Gii thch r cc thay i"]},{title:"Gii quyt tranh chp",content:"Trong trng hp c tranh chp:",items:["u tin gii quyt ha gii","p dng lut Vit Nam","Ta n c thm quyn ti TP. HCM","Thi hn khiu ni 30 ngy","Bi thng theo quy nh php lut"]},{title:"Lin h",content:"Nu bn c cu hi v iu khon s dng, vui lng lin h:",items:["Email: contact@Campus Learning.vn","a ch: 123 ng Nguyn Vn Linh, Qun 7, TP. H Ch Minh","in thoi: (84) 123-456-789"]}];return n.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"iu khon s dng"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Cp nht ln cui: 01/01/2024"})]}),n.jsx("div",{className:"space-y-8",children:e.map((t,r)=>n.jsxs(ur.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:r*.1},className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:t.title}),n.jsx("p",{className:"text-gray-600 mb-4",children:t.content}),t.items&&n.jsx("ul",{className:"space-y-2",children:t.items.map((s,i)=>n.jsxs("li",{className:"flex items-center text-gray-600",children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-600 rounded-full mr-2"}),s]},i))})]},r))})]})})},hfe=()=>{const e=rn(),[t,r]=m.useState("frontend"),s={frontend:{title:"Front-end Development",description:"L trnh hc  tr thnh nh pht trin Front-end chuyn nghip",icon:Vh,color:"bg-rose-500",timeToComplete:"6-8 thng",level:"C bn n nng cao",steps:[{id:1,title:"Nn tng c bn",description:"Hc cc kin thc c bn v HTML, CSS v JavaScript",courses:["HTML & CSS Fundamentals","JavaScript Basics","Responsive Web Design"],duration:"4-6 tun",isActive:!0,isCompleted:!1},{id:2,title:"JavaScript nng cao",description:"Tm hiu su v JavaScript v DOM manipulation",courses:["Advanced JavaScript","ES6+ Features","JavaScript Data Structures"],duration:"4-6 tun",isActive:!1,isCompleted:!1},{id:3,title:"Framework c bn",description:"Lm quen vi React.js, Vue.js hoc Angular",courses:["React Fundamentals","State Management","Component Architecture"],duration:"6-8 tun",isActive:!1,isCompleted:!1},{id:4,title:"Tools & Workflow",description:"Hc cch s dng cc cng c pht trin v quy trnh lm vic",courses:["Git & GitHub","Webpack","Package Managers (npm/yarn)"],duration:"2-3 tun",isActive:!1,isCompleted:!1},{id:5,title:"Front-end nng cao",description:"Hc cc k thut nng cao v ti u ha hiu sut",courses:["Performance Optimization","Advanced React Patterns","Testing (Jest, RTL)"],duration:"6-8 tun",isActive:!1,isCompleted:!1},{id:6,title:"D n thc t",description:"Xy dng portfolio vi cc d n thc t",courses:["E-commerce Project","Social Media Application","Real-time Dashboard"],duration:"8-10 tun",isActive:!1,isCompleted:!1}]},backend:{title:"Back-end Development",description:"L trnh hc  tr thnh nh pht trin Back-end chuyn nghip",icon:D6,color:"bg-violet-500",timeToComplete:"8-10 thng",level:"C bn n nng cao",steps:[{id:1,title:"Nn tng lp trnh",description:"Hc c bn v ngn ng lp trnh back-end (JavaScript/Node.js, Python, Java, PHP)",courses:["Programming Fundamentals","Algorithm Basics","Data Structures"],duration:"6-8 tun",isActive:!0,isCompleted:!1},{id:2,title:"C s d liu",description:"Tm hiu v SQL v NoSQL databases",courses:["SQL Fundamentals","Database Design","MongoDB Basics"],duration:"4-6 tun",isActive:!1,isCompleted:!1},{id:3,title:"Web server & API",description:"Hc cch xy dng web server v RESTful APIs",courses:["Node.js & Express","REST API Design","Authentication & Authorization"],duration:"6-8 tun",isActive:!1,isCompleted:!1},{id:4,title:"DevOps c bn",description:"Lm quen vi cc cng c DevOps v deployment",courses:["Docker Basics","CI/CD Pipelines","Cloud Services (AWS/GCP/Azure)"],duration:"4-6 tun",isActive:!1,isCompleted:!1},{id:5,title:"Back-end nng cao",description:"Hc cc k thut nng cao v ti u ha hiu sut",courses:["Microservices Architecture","Caching Strategies","Performance Optimization"],duration:"6-8 tun",isActive:!1,isCompleted:!1},{id:6,title:"Bo mt & Testing",description:"Hiu v bo mt web v k thut testing",courses:["Web Security","Unit & Integration Testing","Load Testing"],duration:"4-6 tun",isActive:!1,isCompleted:!1}]},mobile:{title:"Mobile Development",description:"L trnh hc  tr thnh nh pht trin ng dng di ng",icon:W2,color:"bg-sky-500",timeToComplete:"8-10 thng",level:"Trung cp n nng cao",steps:[{id:1,title:"C bn lp trnh",description:"Hc c bn v lp trnh v ngn ng cn thit (JavaScript, Java, Swift, Dart)",courses:["Programming Fundamentals","Object-Oriented Programming","UI/UX Basics"],duration:"6-8 tun",isActive:!0,isCompleted:!1},{id:2,title:"Cross-platform Development",description:"Hc React Native hoc Flutter  pht trin a nn tng",courses:["React Native Basics","Flutter Fundamentals","Navigation & State Management"],duration:"6-8 tun",isActive:!1,isCompleted:!1},{id:3,title:"Native Development",description:"Tm hiu v pht trin native cho iOS (Swift) hoc Android (Kotlin)",courses:["iOS Development with Swift","Android Development with Kotlin"],duration:"8-10 tun",isActive:!1,isCompleted:!1},{id:4,title:"Mobile UI/UX",description:"Thit k giao din ngi dng di ng hiu qu",courses:["Mobile UI Design","UX Best Practices","Animation & Interaction"],duration:"4-6 tun",isActive:!1,isCompleted:!1},{id:5,title:"Backend Integration",description:"Kt ni ng dng di ng vi backend v APIs",courses:["RESTful API Integration","Mobile Authentication","Offline Storage"],duration:"4-6 tun",isActive:!1,isCompleted:!1},{id:6,title:"Publishing & Monetization",description:"Xut bn ng dng ln App Store, Google Play v kim tin",courses:["App Store Submission","Google Play Deployment","Monetization Strategies"],duration:"2-4 tun",isActive:!1,isCompleted:!1}]},devops:{title:"DevOps & Cloud",description:"L trnh hc  tr thnh chuyn gia DevOps v Cloud",icon:Nh,color:"bg-amber-500",timeToComplete:"10-12 thng",level:"Trung cp n nng cao",steps:[{id:1,title:"Nn tng Linux & Networking",description:"Hc c bn v h iu hnh Linux v mng my tnh",courses:["Linux Administration","Networking Fundamentals","Shell Scripting"],duration:"6-8 tun",isActive:!0,isCompleted:!1},{id:2,title:"Containerization",description:"Tm hiu v Docker v container orchestration",courses:["Docker Fundamentals","Kubernetes Basics","Container Security"],duration:"6-8 tun",isActive:!1,isCompleted:!1},{id:3,title:"CI/CD & Automation",description:"Hc cch thit lp CI/CD pipelines v t ng ha",courses:["Jenkins","GitHub Actions","Infrastructure as Code (Terraform)"],duration:"6-8 tun",isActive:!1,isCompleted:!1},{id:4,title:"Cloud Platforms",description:"Lm quen vi cc nn tng cloud chnh",courses:["AWS Essentials","Azure Fundamentals","Google Cloud Platform"],duration:"8-10 tun",isActive:!1,isCompleted:!1},{id:5,title:"Monitoring & Logging",description:"Trin khai cc gii php gim st v logging",courses:["Prometheus & Grafana","ELK Stack","Distributed Tracing"],duration:"4-6 tun",isActive:!1,isCompleted:!1},{id:6,title:"Security & Compliance",description:"Bo mt v tun th trong mi trng cloud",courses:["Cloud Security","Compliance in DevOps","Security Automation"],duration:"4-6 tun",isActive:!1,isCompleted:!1}]}};return n.jsxs("div",{className:"min-h-screen bg-white",children:[n.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-indigo-600 to-violet-600 pt-16 pb-24",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600 to-violet-600 opacity-90"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-white",style:{clipPath:"polygon(0 100%, 100% 100%, 100% 0, 0 100%)"}}),n.jsx("div",{className:"container relative mx-auto px-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ur.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-4xl md:text-5xl font-bold mb-6 text-white leading-tight",children:"L trnh hc tp"}),n.jsx(ur.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.1},className:"text-lg md:text-xl mb-10 text-indigo-100 leading-relaxed max-w-3xl mx-auto",children:"Khm ph l trnh hc tp ton din, c thit k bi chuyn gia  gip bn t c mc tiu ngh nghip trong lnh vc cng ngh."})]})})]}),n.jsx("section",{className:"py-12 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:Object.keys(s).map(i=>n.jsx(ur.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>r(i),className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${t===i?"bg-indigo-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:n.jsxs("div",{className:"flex items-center",children:[Xt.createElement(s[i].icon,{className:"w-5 h-5 mr-2"}),s[i].title]})},i))}),n.jsxs("div",{className:"mb-16",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-xl ${s[t].color} flex items-center justify-center`,children:Xt.createElement(s[t].icon,{className:"w-8 h-8 text-white"})}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:s[t].title}),n.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-6",children:s[t].description}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ki,{className:"w-5 h-5 mr-2 text-indigo-600"}),n.jsx("span",{children:s[t].timeToComplete})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Au,{className:"w-5 h-5 mr-2 text-indigo-600"}),n.jsx("span",{children:s[t].level})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ef,{className:"w-5 h-5 mr-2 text-indigo-600"}),n.jsxs("span",{children:[s[t].steps.length," giai on"]})]})]})]}),n.jsx("div",{className:"max-w-5xl mx-auto",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-gray-200"}),s[t].steps.map((i,o)=>n.jsxs(ur.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:o*.1},viewport:{once:!0},className:"relative mb-16 last:mb-0",children:[n.jsx("div",{className:`absolute left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 w-12 h-12 rounded-full flex items-center justify-center border-4 border-white ${i.isCompleted?"bg-green-500":i.isActive?s[t].color:"bg-gray-300"}`,children:i.isCompleted?n.jsx(No,{className:"w-6 h-6 text-white"}):n.jsx("span",{className:"text-white font-bold",children:i.id})}),n.jsxs("div",{className:`bg-white rounded-xl shadow-lg border ${i.isActive?"border-indigo-200":"border-gray-100"} p-6 ml-12 lg:ml-0 ${o%2===0?"lg:mr-auto lg:ml-0 lg:text-right lg:pr-12":"lg:ml-auto lg:mr-0 lg:pl-12"} lg:w-5/12`,children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:i.title}),n.jsx("p",{className:"text-gray-600 mb-4",children:i.description}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Kha hc  xut:"}),n.jsx("ul",{className:"space-y-1",children:i.courses.map((a,l)=>n.jsxs("li",{className:"flex items-start",children:[n.jsx(No,{className:"w-5 h-5 mr-2 text-indigo-600 flex-shrink-0 mt-0.5"}),n.jsx("span",{children:a})]},l))})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[n.jsx(Ki,{className:"w-4 h-4 mr-1"}),i.duration]}),n.jsx("button",{onClick:()=>e("/courses"),className:`px-4 py-2 text-sm rounded-lg font-medium transition-colors ${i.isActive?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:i.isCompleted?"Xem li":"Khm ph"})]})]})]},i.id))]})})]})]})}),n.jsx("section",{className:"py-16 bg-gray-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[n.jsxs("div",{className:"p-10 bg-gradient-to-br from-indigo-600 to-violet-600 text-white",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Bt u hnh trnh hc tp ca bn"}),n.jsx("p",{className:"mb-6",children:"ng k ti khon  lu li l trnh hc tp v theo di tin  ca bn."}),n.jsxs("ul",{className:"space-y-3 mb-8",children:[n.jsxs("li",{className:"flex items-center",children:[n.jsx(No,{className:"w-5 h-5 mr-2"}),n.jsx("span",{children:"L trnh hc c c nhn ha"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx(No,{className:"w-5 h-5 mr-2"}),n.jsx("span",{children:"Theo di tin  hc tp"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx(No,{className:"w-5 h-5 mr-2"}),n.jsx("span",{children:"Nhn chng ch hon thnh"})]})]}),n.jsx("button",{onClick:()=>e("/register"),className:"px-6 py-2 bg-white text-indigo-600 rounded-lg font-medium hover:bg-opacity-90 transition-colors",children:"ng k ngay"})]}),n.jsxs("div",{className:"p-10",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Bn cn t vn?"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Khng chc chn v l trnh hc no ph hp vi bn? Hy  chng ti gip bn la chn con ng s nghip ph hp nht."}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center p-4 bg-gray-50 rounded-lg",children:[n.jsx(lc,{className:"w-10 h-10 text-indigo-600 mr-4"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"T vn min ph"}),n.jsx("p",{className:"text-sm text-gray-600",children:"t lch t vn 1:1 vi chuyn gia"})]})]}),n.jsxs("div",{className:"flex items-center p-4 bg-gray-50 rounded-lg",children:[n.jsx(G2,{className:"w-10 h-10 text-indigo-600 mr-4"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"nh gi nng lc"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Lm bi test nh gi nng lc min ph"})]})]})]}),n.jsx("div",{className:"mt-6",children:n.jsxs("button",{onClick:()=>e("/contact"),className:"w-full px-6 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors flex items-center justify-center",children:["Lin h t vn ",n.jsx(E6,{className:"w-5 h-5 ml-2"})]})})]})]})})})}),n.jsx("section",{className:"py-20 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Cu hi thng gp"}),n.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Gii p nhng thc mc ph bin v l trnh hc tp"})]}),n.jsx("div",{className:"max-w-3xl mx-auto",children:n.jsx("div",{className:"space-y-6",children:[{question:"Lm th no  chn l trnh hc ph hp?",answer:"Vic chn l trnh ph thuc vo mc tiu ngh nghip, s thch v k nng hin ti ca bn. Bn c th nh gi nng lc hoc lin h vi i ng t vn ca chng ti  c hng dn c th."},{question:"Mt bao lu  hon thnh mt l trnh?",answer:"Thi gian hon thnh mi l trnh khc nhau, thng t 6-12 thng ty thuc vo l trnh v thi gian bn dnh cho vic hc. Bn c th hc theo tc  ring v khng c thi hn c nh  hon thnh."},{question:"Ti cn kin thc nn tng g trc khi bt u?",answer:"Hu ht cc l trnh u bt u t c bn v khng yu cu kin thc chuyn su. Tuy nhin, vic c nn tng v my tnh c bn v t duy logic s rt hu ch."},{question:"Ti c th chuyn i gia cc l trnh khng?",answer:"C, bn c th chuyn i gia cc l trnh bt c lc no. Nhiu kha hc c bn cn c dng chung cho nhiu l trnh khc nhau nn vic chuyn i s khng lm mt tin  ca bn."},{question:"Ti c nhn c h tr trong qu trnh hc khng?",answer:"Tt nhin! Chng ti cung cp h tr thng qua din n cng ng, phin hi p trc tip vi ging vin, v nhm hc tp. Bn s khng n c trong hnh trnh hc tp ca mnh."}].map((i,o)=>n.jsxs(ur.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"bg-gray-50 rounded-xl p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:i.question}),n.jsx("p",{className:"text-gray-600",children:i.answer})]},o))})})]})})]})},ffe=`You are an AI assistant that helps users by creating test cases for programming problems. 
Please follow these guidelines:

1. Given a problem description, create comprehensive test cases that cover various edge cases, normal inputs, and special situations.
2. For each test case, provide an input and the expected output.
3. Format your test cases as a JSON array with "input" and "expected" fields.
4. Keep your explanations clear and in Vietnamese when possible.
5. Format the test cases in this exact format:

\`\`\`json
[
  {
    "input": <input value (can be number, string, array, or object)>,
    "expected": <expected output (can be number, string, array, or object)>
  },
  // more test cases...
]
\`\`\`

For example, if the problem is to sum two numbers:

\`\`\`json
[
  {
    "input": [1, 2],
    "expected": 3
  },
  {
    "input": [-1, 5],
    "expected": 4
  }
]
\`\`\`

If you're asked to generate test cases for an algorithm problem, provide 5-10 diverse test cases that adequately test the solution.`,mfe="AIzaSyD5MLI0_km4T5XdoFzdF6izDoFfgPiBp_g",pfe="gemini-1.5-flash-latest",gfe=`https://generativelanguage.googleapis.com/v1beta/models/${pfe}:generateContent?key=${mfe}`,SS=async(e,t=[])=>{try{const r=t.map(o=>({role:o.role==="user"?"user":"model",parts:[{text:o.content}]})),s={contents:[{role:"user",parts:[{text:`${ffe}

Conversation History:
${t.map(o=>`${o.role}: ${o.content}`).join(`
`)}

User: ${e}`}]}],generationConfig:{temperature:.2,topP:.95,topK:64,maxOutputTokens:8192}};console.log("Sending request to Gemini API:",JSON.stringify(s));const i=await Ht.post(gfe,s);if(i.data.candidates&&i.data.candidates.length>0){const o=i.data.candidates[0];if(o.content&&o.content.parts&&o.content.parts.length>0)return o.content.parts[0].text}throw new Error("No valid response from Gemini API")}catch(r){return console.error("Error sending message to Gemini:",r),r.response&&console.error("Response data:",r.response.data),`Xin li, c li khi kt ni vi AI. Error: ${r.message||"Unknown error"}`}},xfe=[{id:"javascript",name:"JavaScript"},{id:"python",name:"Python"},{id:"cpp",name:"C++"},{id:"java",name:"Java"}],i0={javascript:`// Write your JavaScript code here

function solution(input) {
  // Your code here
  return input;
}

// Example usage
console.log(solution(42));`,python:`# Write your Python code here

def solution(input):
    # Your code here
    return input

# Example usage
print(solution(42))`,cpp:`#include <iostream>
using namespace std;

// Write your C++ code here
int solution(int input) {
    // Your code here
    return input;
}

int main() {
    cout << solution(42) << endl;
    return 0;
}`,java:`public class Main {
    // Write your Java code here
    public static int solution(int input) {
        // Your code here
        return input;
    }

    public static void main(String[] args) {
        System.out.println(solution(42));
    }
}`},yfe=()=>{const[e,t]=m.useState([]),[r,s]=m.useState(""),[i,o]=m.useState(!1),[a,l]=m.useState([]),[c,d]=m.useState("javascript"),[u,A]=m.useState(i0.javascript),[f,h]=m.useState(""),[g,p]=m.useState(!1),[b,x]=m.useState([]),[j,w]=m.useState("chat"),[S,I]=m.useState([]),[F,T]=m.useState({total:0,passed:0,failed:0}),[U,K]=m.useState([]),[B,R]=m.useState(""),[D,H]=m.useState(!1),[P,z]=m.useState("trung bnh"),[G,he]=m.useState("x l chui"),ce=m.useRef(null),ye=["x l chui","mng v ma trn"," quy","tm kim","sp xp","cu trc d liu","thut ton tham lam","quy hoch ng","ton hc","x l bit"],X=["d","trung bnh","kh"];m.useEffect(()=>{const ae=localStorage.getItem("aiTestLocalMessages"),ie=localStorage.getItem("aiTestLocalTestCases"),te=localStorage.getItem("aiTestLocalLanguage"),fe=localStorage.getItem(`aiTestLocalCode_${c}`),pe=localStorage.getItem("aiTestLocalChatHistory"),we=localStorage.getItem("aiTestLocalProblemDescription");if(ae)try{t(JSON.parse(ae))}catch(je){console.error("Failed to parse saved messages",je)}else{const je={role:"assistant",content:'Xin cho! Ti l tr l AI ca CampusLearning. Ti c th gip bn to bi ton lp trnh km test cases. Nhn nt "To bi ton mi"  bt u.'};t([je]),localStorage.setItem("aiTestLocalMessages",JSON.stringify([je]))}if(ie)try{l(JSON.parse(ie))}catch(je){console.error("Failed to parse saved test cases",je)}if(te&&d(te),fe&&A(fe),pe)try{I(JSON.parse(pe))}catch(je){console.error("Failed to parse saved chat history",je),I([])}we&&R(we)},[]),m.useEffect(()=>{B&&localStorage.setItem("aiTestLocalProblemDescription",B)},[B]),m.useEffect(()=>{e.length>0&&localStorage.setItem("aiTestLocalMessages",JSON.stringify(e))},[e]),m.useEffect(()=>{a.length>0&&localStorage.setItem("aiTestLocalTestCases",JSON.stringify(a))},[a]),m.useEffect(()=>{localStorage.setItem("aiTestLocalLanguage",c);const ae=localStorage.getItem(`aiTestLocalCode_${c}`);A(ae||i0[c])},[c]),m.useEffect(()=>{localStorage.setItem(`aiTestLocalCode_${c}`,u)},[u,c]);const re=async ae=>{if(ae.preventDefault(),!r.trim())return;const ie=r.trim();s(""),R(ie),t(te=>[...te,{role:"user",content:ie}]),o(!0);try{const te=await SS(ie,e);t(je=>[...je,{role:"assistant",content:te}]);const fe=Q(te);fe.length>0&&l(fe);const we=[{id:Date.now(),title:ie.substring(0,30)+(ie.length>30?"...":""),timestamp:new Date().toISOString(),messages:[...e,{role:"user",content:ie},{role:"assistant",content:te}],testCases:fe.length>0?fe:a,problemDescription:ie},...S].slice(0,10);I(we),localStorage.setItem("aiTestLocalChatHistory",JSON.stringify(we))}catch(te){console.error("Error sending message:",te),t(fe=>[...fe,{role:"assistant",content:"C li xy ra khi gi tin nhn. Vui lng th li sau."}])}finally{o(!1)}},_=async()=>{var ae;H(!0),t([]),R(""),l([]),A(i0[c]),h(""),x([]);try{const ie=P,te=G,fe=`Hy to mt bi ton lp trnh ${ie} v ${te}. 
      
      Yu cu:
      1. M t bi ton chi tit vi v d input/output
      2. Bi ton phi ph hp vi ngn ng ${(ae=xfe.find(Ce=>Ce.id===c))==null?void 0:ae.name}
      3. To 5-8 test cases vi input v expected output
      4. Format kt qu nh sau:
      
      ## <Tn bi ton>
      
      <M t chi tit v bi ton>
      
      ### V d:
      Input: <v d input>
      Output: <v d output>
      
      ### Test cases:
      \`\`\`json
      [
        {
          "input": <input>,
          "expected": <expected output>
        },
        ...
      ]
      \`\`\`
      `;t(Ce=>[...Ce,{role:"assistant",content:`ang to bi ton ${ie} v ${te}... Vui lng i trong giy lt.`}]);const pe=await SS(fe,[]),we=pe.split("```")[0];we&&R(we.trim());const je=Q(pe);je.length>0&&l(je),t([{role:"assistant",content:pe}]);const Ue=[{id:Date.now(),title:`Bi ton ${ie} v ${te}`,timestamp:new Date().toISOString(),messages:[{role:"assistant",content:pe}],testCases:je,problemDescription:we?we.trim():""},...S].slice(0,10);I(Ue),localStorage.setItem("aiTestLocalChatHistory",JSON.stringify(Ue))}catch(ie){console.error("Error generating problem:",ie),t([{role:"assistant",content:"C li xy ra khi to bi ton mi. Vui lng th li sau."}])}finally{H(!1)}},Q=ae=>{const ie=/```(?:json|javascript)?\s*(\[(?:\s|\S)*?\])\s*```/g,te=[...ae.matchAll(ie)];if(te&&te.length>0)for(const fe of te)try{const pe=fe[1].trim(),we=JSON.parse(pe);if(Array.isArray(we)&&we.length>0&&we[0].hasOwnProperty("input")&&we[0].hasOwnProperty("expected"))return we}catch(pe){console.error("Failed to parse test cases from response match",pe)}try{const fe=/\[\s*\{\s*"input"[\s\S]*?\}\s*\]/g,pe=ae.match(fe);if(pe){const we=JSON.parse(pe[0]);if(Array.isArray(we)&&we.length>0&&we[0].hasOwnProperty("input")&&we[0].hasOwnProperty("expected"))return we}}catch(fe){console.error("Failed to extract JSON from plain text",fe)}return[]},Z=()=>{t([{role:"assistant",content:'Xin cho! Ti l tr l AI ca CampusLearning. Ti c th gip bn to bi ton lp trnh km test cases. Nhn nt "To bi ton mi"  bt u.'}]),s(""),l([]),A(i0[c]),h(""),x([]),R(""),localStorage.removeItem("aiTestLocalMessages"),localStorage.removeItem("aiTestLocalTestCases"),localStorage.removeItem("aiTestLocalProblemDescription"),localStorage.setItem("aiTestLocalMessages",JSON.stringify([{role:"assistant",content:'Xin cho! Ti l tr l AI ca CampusLearning. Ti c th gip bn to bi ton lp trnh km test cases. Nhn nt "To bi ton mi"  bt u.'}]))},Ae=ae=>{A(ae)},me=ae=>{t(ae.messages),ae.testCases&&ae.testCases.length>0&&l(ae.testCases),ae.problemDescription&&R(ae.problemDescription),w("chat")};return n.jsxs("div",{className:"h-[93vh] flex flex-col p-2 max-w-[100vw] mx-auto bg-gradient-to-br from-gray-50 to-blue-50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-gray-200",children:[n.jsx("h1",{className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600",children:"AI Test Case Generator"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("select",{value:P,onChange:ae=>z(ae.target.value),className:"px-2 py-1.5 bg-white border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:X.map(ae=>n.jsxs("option",{value:ae,children:[" kh: ",ae]},ae))}),n.jsx("select",{value:G,onChange:ae=>he(ae.target.value),className:"px-2 py-1.5 bg-white border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:ye.map(ae=>n.jsxs("option",{value:ae,children:["Loi: ",ae]},ae))})]}),n.jsxs("button",{onClick:_,disabled:D,className:"flex items-center px-3 py-1.5 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(fu,{className:"h-4 w-4 mr-1"}),n.jsx("span",{children:D?"ang to...":"To bi ton mi"})]}),n.jsxs("button",{onClick:Z,className:"flex items-center px-3 py-1.5 bg-white hover:bg-gray-50 rounded-lg transition-all shadow-sm border border-gray-200 hover:shadow",children:[n.jsx(_s,{className:"h-4 w-4 mr-1 text-blue-600"}),n.jsx("span",{className:"text-gray-700",children:"Bt u li"})]})]})]}),n.jsxs("div",{className:"flex-1 flex gap-3 overflow-hidden",children:[n.jsxs("div",{className:"w-1/5 flex flex-col overflow-hidden rounded-lg shadow-lg bg-white backdrop-blur-sm bg-opacity-90",children:[n.jsxs("div",{className:"flex border-b border-gray-200",children:[n.jsxs("button",{onClick:()=>w("chat"),className:`flex items-center justify-center py-2.5 px-4 text-sm font-medium focus:outline-none w-1/2 ${j==="chat"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx($h,{className:"w-4 h-4 mr-2"}),"Tr chuyn"]}),n.jsxs("button",{onClick:()=>w("history"),className:`flex items-center justify-center py-2.5 px-4 text-sm font-medium focus:outline-none w-1/2 ${j==="history"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Lch s"]})]}),j==="chat"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-blue-100 scrollbar-track-transparent",children:n.jsxs("div",{className:"p-3 space-y-3",children:[e.map((ae,ie)=>n.jsx("div",{className:`flex ${ae.role==="user"?"justify-end":"justify-start"} animate-fadeIn`,children:n.jsx("div",{className:`max-w-[95%] p-2 rounded-lg shadow-sm text-xs ${ae.role==="user"?"bg-gradient-to-r from-blue-600 to-blue-500 text-white":"bg-white border border-gray-200 text-gray-800"}`,children:ae.role==="assistant"?n.jsx(nc,{components:{p:({node:te,...fe})=>n.jsx("p",{className:"mb-1 text-xs text-gray-800",...fe}),h1:({node:te,...fe})=>n.jsx("h1",{className:"text-sm font-bold my-1 text-gray-800",...fe}),h2:({node:te,...fe})=>n.jsx("h2",{className:"text-xs font-bold my-1 text-gray-800",...fe}),h3:({node:te,...fe})=>n.jsx("h3",{className:"text-xs font-bold my-1 text-gray-800",...fe}),ul:({node:te,...fe})=>n.jsx("ul",{className:"list-disc pl-4 mb-1 text-xs text-gray-800",...fe}),ol:({node:te,...fe})=>n.jsx("ol",{className:"list-decimal pl-4 mb-1 text-xs text-gray-800",...fe}),li:({node:te,...fe})=>n.jsx("li",{className:"mb-0.5 text-xs text-gray-800",...fe}),code:({node:te,inline:fe,...pe})=>fe?n.jsx("code",{className:"bg-gray-100 px-1 rounded text-xs",...pe}):n.jsx("code",{className:"block bg-gray-100 p-1 rounded text-xs my-1 overflow-x-auto",...pe}),pre:({node:te,...fe})=>n.jsx("pre",{className:"bg-gray-100 p-1 rounded my-1 overflow-x-auto text-xs",...fe})},children:ae.content}):n.jsx("p",{className:"text-xs",children:ae.content})})},ie)),i||D?n.jsx("div",{className:"flex justify-start animate-pulse",children:n.jsx("div",{className:"bg-white border border-gray-200 p-2 rounded-lg shadow-sm",children:n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"h-1.5 w-1.5 bg-blue-400 rounded-full animate-bounce"}),n.jsx("div",{className:"h-1.5 w-1.5 bg-blue-500 rounded-full animate-bounce delay-75"}),n.jsx("div",{className:"h-1.5 w-1.5 bg-blue-600 rounded-full animate-bounce delay-150"})]})})}):null,n.jsx("div",{ref:ce})]})}),n.jsxs("form",{onSubmit:re,className:"flex items-center px-2 py-2 border-t border-gray-100",children:[n.jsx("input",{type:"text",value:r,onChange:ae=>s(ae.target.value),placeholder:"Hi thm v bi ton...",className:"flex-1 px-3 py-1.5 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-xs shadow-sm",disabled:i||D}),n.jsx("button",{type:"submit",disabled:i||D||!r.trim(),className:"ml-1 flex items-center justify-center h-7 w-7 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-full hover:opacity-90 transition-all shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(X0,{className:"h-3.5 w-3.5"})})]})]}),j==="history"&&n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsx("div",{className:"p-3",children:S.length>0?n.jsx("div",{className:"space-y-2",children:S.map(ae=>{var ie;return n.jsxs("div",{onClick:()=>me(ae),className:"p-2 bg-gray-50 rounded-lg border border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors",children:[n.jsx("div",{className:"text-xs font-medium truncate",children:ae.title}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(ae.timestamp).toLocaleString()}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[((ie=ae.testCases)==null?void 0:ie.length)||0," test cases"]})]},ae.id)})}):n.jsxs("div",{className:"text-center p-4 text-gray-500",children:[n.jsx(Ki,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),n.jsx("p",{className:"text-sm",children:"Cha c cuc tr chuyn no"})]})})})]}),n.jsx("div",{className:"w-4/5 flex flex-col overflow-hidden",children:n.jsx("div",{className:"flex-1 overflow-hidden rounded-lg shadow-lg bg-white backdrop-blur-sm bg-opacity-90",children:n.jsx(U8,{code:u,language:c,onChange:Ae})})})]})]})},bfe=`${jo}/api`,hc=Ht.create({baseURL:bfe});hc.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const vfe=async()=>(await hc.get("/competitions")).data,_0=async e=>{var t,r,s,i,o;try{console.log(`Fetching competition ${e} details`);const a=await hc.get(`/competitions/${e}`);return console.log("Competition API response:",a.data),console.log("Current participants count:",(r=(t=a.data)==null?void 0:t.data)==null?void 0:r.CurrentParticipants),(s=a.data)!=null&&s.data?a.data:(console.error("Invalid competition response format:",a.data),{success:!1,message:"Invalid competition data format returned from server"})}catch(a){return console.error(`Error fetching competition ${e}:`,a.response?{status:a.response.status,data:a.response.data}:a.message),{success:!1,message:((o=(i=a.response)==null?void 0:i.data)==null?void 0:o.message)||"Error fetching competition details",error:a.message}}},ES=async(e,t)=>{var r,s,i;try{return console.log(`Fetching problem details for competition ${e}, problem ${t}`),(await hc.get(`/competitions/${e}/problems/${t}`)).data}catch(o){return console.error(`Error fetching problem details for competition ${e}, problem ${t}:`,o.response?{status:o.response.status,data:o.response.data}:o.message),((r=o.response)==null?void 0:r.status)===401?{success:!1,message:"You must be logged in to view problem details.",isAuthError:!0}:((s=o.response)==null?void 0:s.status)===403?{success:!1,message:o.response.data.message||"You do not have permission to view this problem.",isPermissionError:!0}:((i=o.response)==null?void 0:i.status)===500?{success:!1,message:"Server error occurred while loading problem details. Please try again later.",isServerError:!0}:o.response?{success:!1,message:o.response.data.message||"An error occurred while fetching problem details.",status:o.response.status}:{success:!1,message:"Unable to connect to the server. Please check your internet connection.",isNetworkError:!0}}},wfe=async e=>{var t,r,s;try{console.log(`Registering for competition ${e}`);const i=await hc.post(`/competitions/${e}/register`);return console.log("Registration response:",i.data),i.data}catch(i){if(console.error(`Registration error for competition ${e}:`,i.response?{status:i.response.status,data:i.response.data}:i.message),((t=i.response)==null?void 0:t.status)===400){if(console.log("Checking for already registered error:",i.response.data),i.response.data.code==="ALREADY_REGISTERED")return console.log("Detected ALREADY_REGISTERED error code, returning success with flag"),{success:!0,message:i.response.data.message||"You are already registered for this competition",alreadyRegistered:!0};if((r=i.response.data.message)!=null&&r.includes("not open for registration"))return{success:!1,message:"This competition is not open for registration at this time.",notOpen:!0};if((s=i.response.data.message)!=null&&s.includes("full"))return{success:!1,message:"This competition is full. No more registrations are being accepted.",isFull:!0};const o=i.response.data.message||"";if(o.includes("already registered")||o.includes("already enrolled")||o.includes("already signed up")||o.includes("already a participant"))return console.log("Detected already registered error through message, returning success with flag"),{success:!0,message:"You are already registered for this competition",alreadyRegistered:!0}}throw i}},DL=async e=>{var t,r;try{console.log(`Starting competition ${e}`);const s=await hc.post(`/competitions/${e}/start`);return console.log("Start competition response:",s.data),s.data}catch(s){if(console.error(`Error starting competition ${e}:`,s.response?{status:s.response.status,data:s.response.data}:s.message),((t=s.response)==null?void 0:t.status)===400){console.log("Checking start competition error:",s.response.data);const i=s.response.data.message||"";if(i.includes("not currently ongoing"))return console.log("Competition is not ongoing, returning with friendly message"),{success:!1,message:"This competition cannot be started right now. It may not have begun yet or has already ended.",notOngoing:!0};if(i.includes("already started"))return console.log("User already started this competition, redirecting"),{success:!0,message:"You have already started this competition",alreadyStarted:!0}}if(((r=s.response)==null?void 0:r.status)===500)return console.log("Server error when starting competition, returning friendly message"),{success:!1,message:"Unable to start competition due to a server error. Please try again later.",isServerError:!0};throw s}},IS=async(e,t,r,s)=>{var i,o,a,l;try{console.log(`Submitting solution for competition ${e}, problem ${t}`);const c=await hc.post(`/competitions/${e}/problems/${t}/submit`,{sourceCode:r,language:s});if(console.log("Submission response:",c.data),(o=(i=c.data)==null?void 0:i.data)!=null&&o.results){const d=c.data.data.results;return{...c.data,data:{...c.data.data,diffInfo:d.diffInfo||null}}}return c.data}catch(c){return console.error(`Submission error for competition ${e}, problem ${t}:`,c.response?{status:c.response.status,data:c.response.data}:c.message),{success:!1,message:((l=(a=c.response)==null?void 0:a.data)==null?void 0:l.message)||"Error submitting solution",error:c.message}}},jfe=async e=>(await hc.get(`/competitions/${e}/scoreboard`)).data,Cfe=async e=>(await hc.get(`/competitions/submissions/${e}`)).data,Nfe=()=>{const[e,t]=m.useState([]),[r,s]=m.useState(!0),[i,o]=m.useState(null),[a,l]=m.useState("all");m.useEffect(()=>{(async()=>{try{s(!0);const g=await vfe();g.success?t(g.data||[]):o("Failed to load competitions")}catch(g){console.error("Error fetching competitions:",g),o("An error occurred while fetching competitions")}finally{s(!1)}})()},[]);const c=e.filter(h=>a==="all"?!0:h.Status===a),d=(h,g,p)=>{const b=new Date,x=new Date(g),j=new Date(p);return b<x?"upcoming":b>=x&&b<=j?"ongoing":"completed"},u=h=>{switch(h){case"upcoming":return"Sp din ra";case"ongoing":return"ang din ra";case"completed":return" kt thc";case"cancelled":return" hy";default:return"Cha xc nh"}},A=h=>{switch(h){case"upcoming":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=h=>{try{return eI(new Date(h),{addSuffix:!0,locale:xl})}catch{return"Invalid date"}};return n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Cuc Thi Lp Trnh"}),n.jsx("p",{className:"text-gray-600",children:"Tham gia cc cuc thi lp trnh  nng cao k nng v cnh tranh vi nhng ngi khc"})]}),n.jsxs("div",{className:"flex mb-6 border-b",children:[n.jsx("button",{onClick:()=>l("all"),className:`px-4 py-2 font-medium ${a==="all"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Tt c"}),n.jsx("button",{onClick:()=>l("upcoming"),className:`px-4 py-2 font-medium ${a==="upcoming"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Sp din ra"}),n.jsx("button",{onClick:()=>l("ongoing"),className:`px-4 py-2 font-medium ${a==="ongoing"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"ang din ra"}),n.jsx("button",{onClick:()=>l("completed"),className:`px-4 py-2 font-medium ${a==="completed"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:" kt thc"})]}),r?n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i?n.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-md",children:i}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.length>0?c.map(h=>{const g=d(h.Status,h.StartTime,h.EndTime);return n.jsxs(Zt,{to:`/competitions/${h.CompetitionID}`,className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow",children:[n.jsx("div",{className:"aspect-w-16 aspect-h-9 overflow-hidden",children:n.jsx("img",{src:h.ThumbnailUrl||"https://via.placeholder.com/600x400?text=Competition",alt:h.Title,className:"w-full h-48 object-cover"})}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("h2",{className:"text-xl font-semibold mb-2 line-clamp-2",children:h.Title}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A(g)}`,children:u(g)})]}),n.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:h.Description}),n.jsxs("div",{className:"text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center mb-1",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("span",{children:[g==="upcoming"&&`Bt u ${f(h.StartTime)}`,g==="ongoing"&&`Kt thc ${f(h.EndTime)}`,g==="completed"&&`Kt thc ${f(h.EndTime)}`]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),n.jsx("span",{children:h.Difficulty||"Trung Bnh"})]})]})]})]},h.CompetitionID)}):n.jsx("div",{className:"col-span-full py-16 text-center",children:n.jsx("p",{className:"text-gray-500",children:"Khng tm thy cuc thi no ph hp vi b lc."})})})]})},Bfe=()=>{var ye,X;const{id:e}=Lo(),t=rn(),{isAuthenticated:r}=co(),[s,i]=m.useState(null),[o,a]=m.useState(!0),[l,c]=m.useState(null),[d,u]=m.useState(!1),[A,f]=m.useState(!1),[h,g]=m.useState("overview"),[p,b]=m.useState(null),[x,j]=m.useState(!1),[w,S]=m.useState(!1),[I,F]=m.useState(0),T=async()=>{try{console.log("Manually refreshing competition data"),a(!0);const re=await _0(e);re.success?(console.log("Refreshed competition data:",re.data),console.log("Refreshed participant count:",re.data.CurrentParticipants),i(re.data),re.data.isRegistered&&console.log("User is already registered for this competition")):(console.error("Failed to refresh competition data:",re),c("Failed to load competition details"))}catch(re){console.error("Error refreshing competition data:",re),c("An error occurred while fetching competition details")}finally{a(!1)}};m.useEffect(()=>{T()},[e,I]);const U=async()=>{if(s)try{j(!0);const re=await jfe(e);re.success?b(re.data):Re.error("Failed to load scoreboard")}catch(re){console.error("Error fetching scoreboard:",re),Re.error("An error occurred while fetching scoreboard")}finally{j(!1)}};m.useEffect(()=>{h==="scoreboard"&&!p&&U()},[h,p]);const K=async()=>{if(!r){Re.info("Please log in to register for this competition"),t("/login",{state:{from:`/competitions/${e}`}});return}try{u(!0),console.log("Attempting to register for competition:",e);const re=await wfe(e);console.log("Registration response received:",re),re.success?(re.alreadyRegistered?(console.log("User is already registered, showing info toast"),Re.info(re.message||"You are already registered for this competition"),S(!0)):(console.log("Registration successful, showing success toast"),Re.success("Successfully registered for the competition"),S(!0)),setTimeout(()=>{console.log("Triggering competition data refresh after registration"),F(_=>_+1)},1e3)):re.notOpen?Re.error("This competition is not open for registration at this time"):re.isFull?Re.error("This competition is full. No more registrations are being accepted"):(console.log("Registration response indicates failure:",re),Re.error(re.message||"Failed to register for the competition"))}catch(re){if(console.error("Error registering for competition:",re),re.response&&console.error("Error response details:",{status:re.response.status,statusText:re.response.statusText,data:re.response.data,headers:re.response.headers}),re.response){const{status:_,data:Q}=re.response;switch(_){case 400:if(Q.message&&Q.message.toLowerCase().includes("already registered")){console.log("Handling already registered error in component"),Re.info("You are already registered for this competition");const Z=await _0(e);Z.success&&i({...Z.data,isRegistered:!0});break}else if(Q.message&&Q.message.toLowerCase().includes("not open for registration")){Re.error("This competition is not open for registration at this time");break}else if(Q.message&&Q.message.toLowerCase().includes("full")){Re.error("This competition is full. No more registrations are being accepted");break}Re.error(Q.message||"Invalid registration request");break;case 401:Re.error("Please log in to register for this competition"),t("/login",{state:{from:`/competitions/${e}`}});break;case 404:Re.error("Competition not found");break;case 500:Re.error("Server error. Please try again later.");break;default:Re.error(Q.message||"An error occurred while registering")}}else Re.error("Connection error. Please check your internet connection and try again.")}finally{u(!1)}},B=async()=>{var re,_;try{f(!0);const Q=await DL(e);if(Q.success)if(Re.success("Competition started successfully"),s.problems&&s.problems.length>0)t(`/competitions/${e}/problems/${s.problems[0].ProblemID}`);else{const Z=await _0(e);Z.success&&i(Z.data)}else Re.error(Q.message||"Failed to start the competition")}catch(Q){console.error("Error starting competition:",Q),Re.error(((_=(re=Q.response)==null?void 0:re.data)==null?void 0:_.message)||"An error occurred while starting the competition")}finally{f(!1)}},R=()=>{if(!s)return"";const re=new Date,_=new Date(s.StartTime),Q=new Date(s.EndTime);return re<_?"upcoming":re>=_&&re<=Q?"ongoing":"completed"},D=re=>{try{return gl(new Date(re),"HH:mm dd/MM/yyyy",{locale:xl})}catch{return"Invalid date"}},H=re=>{switch(re){case"upcoming":return"Sp din ra";case"ongoing":return"ang din ra";case"completed":return" kt thc";case"cancelled":return" hy";default:return"Cha xc nh"}},P=re=>{switch(re){case"upcoming":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},z=re=>{switch(re){case"D":return"text-green-600";case"Trung bnh":return"text-yellow-600";case"Kh":return"text-red-600";default:return"text-gray-600"}},G=()=>{var Z;if(!s)return null;if(R()==="completed")return n.jsx("button",{disabled:!0,className:"w-full bg-gray-300 text-gray-600 font-medium py-2 px-4 rounded-md cursor-not-allowed",children:"Cuc thi  kt thc"});if(!r)return n.jsx("button",{onClick:()=>t("/login",{state:{from:`/competitions/${e}`}}),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md",children:"ng nhp  tham gia"});const re=R(),_=s.isRegistered||w,Q=s.participantStatus;return _&&Q&&Q.Status==="active"?n.jsxs("div",{children:[n.jsx(Zt,{to:`/competitions/${e}/problems/${(Z=s.problems[0])==null?void 0:Z.ProblemID}`,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md block text-center",children:"Tip tc thi u"}),n.jsxs("div",{className:"mt-2 text-sm text-gray-500 text-center",children:["Cuc thi kt thc vo: ",D(Q.EndTime)]})]}):_&&(!Q||Q.Status==="registered"||w)?re==="ongoing"||w?n.jsxs("div",{children:[w&&n.jsxs("div",{className:"bg-green-50 border border-green-100 rounded-md p-3 mb-4",children:[n.jsxs("div",{className:"flex items-center text-green-700",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("span",{className:"font-medium",children:"ng k thnh cng!"})]}),n.jsx("p",{className:"mt-1 text-sm text-green-600",children:"Bn  ng k tham gia cuc thi thnh cng v c th bt u ngay by gi."})]}),n.jsx("button",{onClick:B,disabled:A,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md",children:A?"ang khi to...":"Vo thi u ngay"})]}):re==="upcoming"?n.jsxs("div",{children:[w&&n.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-md p-3 mb-4",children:[n.jsxs("div",{className:"flex items-center text-blue-700",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("span",{className:"font-medium",children:"ng k thnh cng!"})]}),n.jsx("p",{className:"mt-1 text-sm text-blue-600",children:"Bn  ng k tham gia cuc thi thnh cng. Hy quay li khi cuc thi bt u."})]}),n.jsx("button",{disabled:!0,className:"w-full bg-gray-300 text-gray-600 font-medium py-2 px-4 rounded-md cursor-not-allowed",children:" ng k - Ch cuc thi bt u"})]}):n.jsxs("div",{children:[w&&n.jsxs("div",{className:"bg-gray-50 border border-gray-100 rounded-md p-3 mb-4",children:[n.jsxs("div",{className:"flex items-center text-gray-700",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("span",{className:"font-medium",children:"ng k thnh cng!"})]}),n.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Bn  ng k thnh cng, nhng rt tic cuc thi  kt thc."})]}),n.jsx("button",{disabled:!0,className:"w-full bg-gray-300 text-gray-600 font-medium py-2 px-4 rounded-md cursor-not-allowed",children:" kt thc - Bn cha tham gia"})]}):re==="upcoming"||re==="ongoing"?n.jsx("button",{onClick:K,disabled:d,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md",children:d?"ang ng k...":"ng k tham gia"}):n.jsx("button",{disabled:!0,className:"w-full bg-gray-300 text-gray-600 font-medium py-2 px-4 rounded-md cursor-not-allowed",children:"Cuc thi  kt thc"})},he=()=>{var re;if(!s)return null;switch(h){case"overview":return n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"M t cuc thi"}),n.jsx("div",{className:"prose max-w-none",children:n.jsx("p",{children:s.Description})}),n.jsx("h3",{className:"text-xl font-semibold mt-8 mb-4",children:"Thng tin chung"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Thi gian bt u"}),n.jsx("p",{children:D(s.StartTime)})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Thi gian kt thc"}),n.jsx("p",{children:D(s.EndTime)})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Thi lng"}),n.jsxs("p",{children:[s.Duration," pht"]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-500",children:" kh"}),n.jsx("p",{className:z(s.Difficulty),children:s.Difficulty||"Trung bnh"})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"S lng ngi tham gia"}),n.jsxs("p",{children:[s.CurrentParticipants," / ",s.MaxParticipants]})]}),s.OrganizerName&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"T chc bi"}),n.jsx("p",{children:s.OrganizerName})]})]})]});case"problems":return n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Danh sch bi tp"}),s.isRegistered?((re=s.participantStatus)==null?void 0:re.Status)!=="active"?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-gray-500 mb-4",children:"Bn cn vo thi u  xem chi tit"}),n.jsx("button",{onClick:B,disabled:A||R()!=="ongoing",className:`bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md ${R()!=="ongoing"?"opacity-50 cursor-not-allowed":""}`,children:A?"ang khi to...":"Vo thi u ngay"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tn bi"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" kh"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"im"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.problems.map(_=>n.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>t(`/competitions/${e}/problems/${_.ProblemID}`),children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-blue-600 hover:text-blue-800",children:_.Title})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`text-sm ${z(_.Difficulty)}`,children:_.Difficulty})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:_.Points}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.submission?_.submission.accepted?n.jsx("span",{className:"text-sm text-green-600",children:" chp nhn"}):n.jsxs("span",{className:"text-sm text-yellow-600",children:[" np (",_.submission.attempts," lt)"]}):n.jsx("span",{className:"text-sm text-gray-500",children:"Cha np bi"})})]},_.ProblemID))})]})}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-gray-500 mb-4",children:"Bn cn ng k tham gia cuc thi  xem chi tit bi tp"}),n.jsx("button",{onClick:K,disabled:d,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md",children:d?"ang ng k...":"ng k ngay"})]})]});case"scoreboard":return n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Bng xp hng"}),x?n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):p?p.participants.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"Cha c ngi tham gia"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Xp hng"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngi tham gia"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"im"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S bi  gii"}),p.problems.map(_=>n.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:_.Title.split(" ")[0]},_.ProblemID))]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.participants.map(_=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:_.rank}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(fn,{src:_.Image,alt:_.FullName||"Ngi dng",name:_.FullName,size:"small"}),n.jsx("div",{className:"ml-3",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.FullName})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:_.Score}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.TotalProblemsSolved}),p.problems.map(Q=>{const Z=_.problems[Q.ProblemID];return n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:Z?Z.accepted?n.jsx("span",{className:"text-green-600 font-medium",children:Z.score}):n.jsxs("span",{className:"text-red-600",children:["-",Z.attempts]}):n.jsx("span",{className:"text-gray-400",children:"-"})},Q.ProblemID)})]},_.ParticipantID))})]})}):n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"Khng th ti bng xp hng"})})]});default:return null}};if(m.useEffect(()=>{if(w){const re=setTimeout(()=>{S(!1)},6e4);return()=>clearTimeout(re)}},[w]),o)return n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"flex justify-center items-center py-32",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})});if(l||!s)return n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-md",children:l||"Competition not found"}),n.jsx("div",{className:"mt-4",children:n.jsx(Zt,{to:"/competitions",className:"text-blue-600 hover:text-blue-800",children:" Quay li danh sch cuc thi"})})]});const ce=R();return n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("div",{className:"mb-4",children:n.jsx(Zt,{to:"/competitions",className:"text-blue-600 hover:text-blue-800",children:" Quay li danh sch cuc thi"})}),n.jsxs("div",{className:"relative w-full h-64 md:h-80 rounded-xl overflow-hidden mb-6",children:[n.jsx("img",{src:s.CoverImageURL||"https://placehold.co/1200x400?text=Competition+Cover",alt:s.Title,className:"w-full h-full object-cover",onError:re=>{re.target.onerror=null,re.target.src="https://placehold.co/1200x400?text=No+Image"}}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-end",children:n.jsxs("div",{className:"p-6 text-white w-full",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-3xl font-bold",children:s.Title}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${P(ce)}`,children:H(ce)})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-3",children:[n.jsxs("span",{className:"text-sm bg-black bg-opacity-30 px-2 py-1 rounded",children:["Bt u: ",D(s.StartTime)]}),n.jsxs("span",{className:"text-sm bg-black bg-opacity-30 px-2 py-1 rounded",children:["Kt thc: ",D(s.EndTime)]}),n.jsxs("span",{className:"text-sm bg-black bg-opacity-30 px-2 py-1 rounded",children:["Thi lng: ",s.Duration," pht"]}),n.jsxs("span",{className:"text-sm bg-black bg-opacity-30 px-2 py-1 rounded",children:[" kh: ",s.Difficulty]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("div",{className:"mb-6 bg-white rounded-lg shadow-md overflow-hidden",children:n.jsxs("div",{className:"flex border-b",children:[n.jsx("button",{className:`flex-1 py-3 px-4 text-center ${h==="overview"?"border-b-2 border-blue-500 font-medium text-blue-600":"text-gray-600 hover:text-gray-800"}`,onClick:()=>g("overview"),children:"Tng quan"}),n.jsx("button",{className:`flex-1 py-3 px-4 text-center ${h==="problems"?"border-b-2 border-blue-500 font-medium text-blue-600":"text-gray-600 hover:text-gray-800"}`,onClick:()=>g("problems"),children:"Bi tp"}),n.jsx("button",{className:`flex-1 py-3 px-4 text-center ${h==="scoreboard"?"border-b-2 border-blue-500 font-medium text-blue-600":"text-gray-600 hover:text-gray-800"}`,onClick:()=>{g("scoreboard"),U()},children:"Bng xp hng"})]})}),he()]}),n.jsx("div",{className:"md:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Tham gia cuc thi"}),s.isRegistered&&n.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-md p-3 mb-4",children:[n.jsxs("div",{className:"flex items-center text-blue-800",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("span",{className:"font-medium",children:"Bn  ng k tham gia"})]}),((ye=s.participantStatus)==null?void 0:ye.StartTime)&&n.jsxs("p",{className:"mt-1 text-sm text-blue-700",children:["Bt u lc: ",D(s.participantStatus.StartTime)]})]}),n.jsx("div",{className:"mt-4",children:G()}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase mb-2",children:"Thng tin thm"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"S lng bi tp:"}),n.jsx("span",{className:"text-sm font-medium",children:((X=s.problems)==null?void 0:X.length)||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Ngi tham gia:"}),n.jsxs("span",{className:"text-sm font-medium",children:[s.CurrentParticipants," / ",s.MaxParticipants]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:" kh:"}),n.jsx("span",{className:`text-sm font-medium ${z(s.Difficulty)}`,children:s.Difficulty})]})]})]})]})})]})]})};function kfe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,s)}return r}function FS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(s){kfe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Sfe(e,t){if(e==null)return{};var r={},s=Object.keys(e),i,o;for(o=0;o<s.length;o++)i=s[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Efe(e,t){if(e==null)return{};var r=Sfe(e,t),s,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)s=o[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Ife(e,t){return Tfe(e)||Ffe(e,t)||Lfe(e,t)||Pfe()}function Tfe(e){if(Array.isArray(e))return e}function Ffe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],s=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),l;!(s=(l=a.next()).done)&&(r.push(l.value),!(t&&r.length===t));s=!0);}catch(c){i=!0,o=c}finally{try{!s&&a.return!=null&&a.return()}finally{if(i)throw o}}return r}}function Lfe(e,t){if(e){if(typeof e=="string")return LS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LS(e,t)}}function LS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Pfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ufe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,s)}return r}function US(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(r),!0).forEach(function(s){Ufe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Rfe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){return t.reduceRight(function(i,o){return o(i)},s)}}function sm(e){return function t(){for(var r=this,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return t.apply(r,[].concat(i,l))}}}function Ex(e){return{}.toString.call(e).includes("Object")}function Mfe(e){return!Object.keys(e).length}function mp(e){return typeof e=="function"}function Dfe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ofe(e,t){return Ex(t)||xu("changeType"),Object.keys(t).some(function(r){return!Dfe(e,r)})&&xu("changeField"),t}function Qfe(e){mp(e)||xu("selectorType")}function _fe(e){mp(e)||Ex(e)||xu("handlerType"),Ex(e)&&Object.values(e).some(function(t){return!mp(t)})&&xu("handlersType")}function Hfe(e){e||xu("initialIsRequired"),Ex(e)||xu("initialType"),Mfe(e)&&xu("initialContent")}function $fe(e,t){throw new Error(e[t]||e.default)}var Vfe={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},xu=sm($fe)(Vfe),o0={changes:Ofe,selector:Qfe,handler:_fe,initial:Hfe};function Kfe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o0.initial(e),o0.handler(t);var r={current:e},s=sm(Gfe)(r,t),i=sm(Wfe)(r),o=sm(o0.changes)(e),a=sm(zfe)(r);function l(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return o0.selector(d),d(r.current)}function c(d){Rfe(s,i,o,a)(d)}return[l,c]}function zfe(e,t){return mp(t)?t(e.current):t}function Wfe(e,t){return e.current=US(US({},e.current),t),t}function Gfe(e,t,r){return mp(t)?t(e.current):Object.keys(r).forEach(function(s){var i;return(i=t[s])===null||i===void 0?void 0:i.call(t,e.current[s])}),r}var qfe={create:Kfe},Xfe={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function Jfe(e){return function t(){for(var r=this,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return t.apply(r,[].concat(i,l))}}}function Yfe(e){return{}.toString.call(e).includes("Object")}function Zfe(e){return e||RS("configIsRequired"),Yfe(e)||RS("configType"),e.urls?(eme(),{paths:{vs:e.urls.monacoBase}}):e}function eme(){console.warn(OL.deprecation)}function tme(e,t){throw new Error(e[t]||e.default)}var OL={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},RS=Jfe(tme)(OL),rme={config:Zfe},nme=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return function(i){return r.reduceRight(function(o,a){return a(o)},i)}};function QL(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],QL(e[r],t[r]))}),FS(FS({},e),t)}var sme={type:"cancelation",msg:"operation is manually canceled"};function Nv(e){var t=!1,r=new Promise(function(s,i){e.then(function(o){return t?i(sme):s(o)}),e.catch(i)});return r.cancel=function(){return t=!0},r}var ime=qfe.create({config:Xfe,isInitialized:!1,resolve:null,reject:null,monaco:null}),_L=Ife(ime,2),Vp=_L[0],l1=_L[1];function ome(e){var t=rme.config(e),r=t.monaco,s=Efe(t,["monaco"]);l1(function(i){return{config:QL(i.config,s),monaco:r}})}function ame(){var e=Vp(function(t){var r=t.monaco,s=t.isInitialized,i=t.resolve;return{monaco:r,isInitialized:s,resolve:i}});if(!e.isInitialized){if(l1({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Nv(Bv);if(window.monaco&&window.monaco.editor)return HL(window.monaco),e.resolve(window.monaco),Nv(Bv);nme(lme,ume)(dme)}return Nv(Bv)}function lme(e){return document.body.appendChild(e)}function cme(e){var t=document.createElement("script");return e&&(t.src=e),t}function ume(e){var t=Vp(function(s){var i=s.config,o=s.reject;return{config:i,reject:o}}),r=cme("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function dme(){var e=Vp(function(r){var s=r.config,i=r.resolve,o=r.reject;return{config:s,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){HL(r),e.resolve(r)},function(r){e.reject(r)})}function HL(e){Vp().monaco||l1({monaco:e})}function Ame(){return Vp(function(e){var t=e.monaco;return t})}var Bv=new Promise(function(e,t){return l1({resolve:e,reject:t})}),$L={config:ome,init:ame,__getMonacoInstance:Ame},hme={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},kv=hme,fme={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},mme=fme;function pme({children:e}){return Xt.createElement("div",{style:mme.container},e)}var gme=pme,xme=gme;function yme({width:e,height:t,isEditorReady:r,loading:s,_ref:i,className:o,wrapperProps:a}){return Xt.createElement("section",{style:{...kv.wrapper,width:e,height:t},...a},!r&&Xt.createElement(xme,null,s),Xt.createElement("div",{ref:i,style:{...kv.fullWidth,...!r&&kv.hide},className:o}))}var bme=yme,VL=m.memo(bme);function vme(e){m.useEffect(e,[])}var KL=vme;function wme(e,t,r=!0){let s=m.useRef(!0);m.useEffect(s.current||!r?()=>{s.current=!1}:e,t)}var wo=wme;function Um(){}function wh(e,t,r,s){return jme(e,s)||Cme(e,t,r,s)}function jme(e,t){return e.editor.getModel(zL(e,t))}function Cme(e,t,r,s){return e.editor.createModel(t,r,s?zL(e,s):void 0)}function zL(e,t){return e.Uri.parse(t)}function Nme({original:e,modified:t,language:r,originalLanguage:s,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:a,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:d="light",loading:u="Loading...",options:A={},height:f="100%",width:h="100%",className:g,wrapperProps:p={},beforeMount:b=Um,onMount:x=Um}){let[j,w]=m.useState(!1),[S,I]=m.useState(!0),F=m.useRef(null),T=m.useRef(null),U=m.useRef(null),K=m.useRef(x),B=m.useRef(b),R=m.useRef(!1);KL(()=>{let z=$L.init();return z.then(G=>(T.current=G)&&I(!1)).catch(G=>(G==null?void 0:G.type)!=="cancelation"&&console.error("Monaco initialization: error:",G)),()=>F.current?P():z.cancel()}),wo(()=>{if(F.current&&T.current){let z=F.current.getOriginalEditor(),G=wh(T.current,e||"",s||r||"text",o||"");G!==z.getModel()&&z.setModel(G)}},[o],j),wo(()=>{if(F.current&&T.current){let z=F.current.getModifiedEditor(),G=wh(T.current,t||"",i||r||"text",a||"");G!==z.getModel()&&z.setModel(G)}},[a],j),wo(()=>{let z=F.current.getModifiedEditor();z.getOption(T.current.editor.EditorOption.readOnly)?z.setValue(t||""):t!==z.getValue()&&(z.executeEdits("",[{range:z.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),z.pushUndoStop())},[t],j),wo(()=>{var z,G;(G=(z=F.current)==null?void 0:z.getModel())==null||G.original.setValue(e||"")},[e],j),wo(()=>{let{original:z,modified:G}=F.current.getModel();T.current.editor.setModelLanguage(z,s||r||"text"),T.current.editor.setModelLanguage(G,i||r||"text")},[r,s,i],j),wo(()=>{var z;(z=T.current)==null||z.editor.setTheme(d)},[d],j),wo(()=>{var z;(z=F.current)==null||z.updateOptions(A)},[A],j);let D=m.useCallback(()=>{var he;if(!T.current)return;B.current(T.current);let z=wh(T.current,e||"",s||r||"text",o||""),G=wh(T.current,t||"",i||r||"text",a||"");(he=F.current)==null||he.setModel({original:z,modified:G})},[r,t,i,e,s,o,a]),H=m.useCallback(()=>{var z;!R.current&&U.current&&(F.current=T.current.editor.createDiffEditor(U.current,{automaticLayout:!0,...A}),D(),(z=T.current)==null||z.editor.setTheme(d),w(!0),R.current=!0)},[A,d,D]);m.useEffect(()=>{j&&K.current(F.current,T.current)},[j]),m.useEffect(()=>{!S&&!j&&H()},[S,j,H]);function P(){var G,he,ce,ye;let z=(G=F.current)==null?void 0:G.getModel();l||((he=z==null?void 0:z.original)==null||he.dispose()),c||((ce=z==null?void 0:z.modified)==null||ce.dispose()),(ye=F.current)==null||ye.dispose()}return Xt.createElement(VL,{width:h,height:f,isEditorReady:j,loading:u,_ref:U,className:g,wrapperProps:p})}var Bme=Nme;m.memo(Bme);function kme(e){let t=m.useRef();return m.useEffect(()=>{t.current=e},[e]),t.current}var Sme=kme,a0=new Map;function Eme({defaultValue:e,defaultLanguage:t,defaultPath:r,value:s,language:i,path:o,theme:a="light",line:l,loading:c="Loading...",options:d={},overrideServices:u={},saveViewState:A=!0,keepCurrentModel:f=!1,width:h="100%",height:g="100%",className:p,wrapperProps:b={},beforeMount:x=Um,onMount:j=Um,onChange:w,onValidate:S=Um}){let[I,F]=m.useState(!1),[T,U]=m.useState(!0),K=m.useRef(null),B=m.useRef(null),R=m.useRef(null),D=m.useRef(j),H=m.useRef(x),P=m.useRef(),z=m.useRef(s),G=Sme(o),he=m.useRef(!1),ce=m.useRef(!1);KL(()=>{let re=$L.init();return re.then(_=>(K.current=_)&&U(!1)).catch(_=>(_==null?void 0:_.type)!=="cancelation"&&console.error("Monaco initialization: error:",_)),()=>B.current?X():re.cancel()}),wo(()=>{var _,Q,Z,Ae;let re=wh(K.current,e||s||"",t||i||"",o||r||"");re!==((_=B.current)==null?void 0:_.getModel())&&(A&&a0.set(G,(Q=B.current)==null?void 0:Q.saveViewState()),(Z=B.current)==null||Z.setModel(re),A&&((Ae=B.current)==null||Ae.restoreViewState(a0.get(o))))},[o],I),wo(()=>{var re;(re=B.current)==null||re.updateOptions(d)},[d],I),wo(()=>{!B.current||s===void 0||(B.current.getOption(K.current.editor.EditorOption.readOnly)?B.current.setValue(s):s!==B.current.getValue()&&(ce.current=!0,B.current.executeEdits("",[{range:B.current.getModel().getFullModelRange(),text:s,forceMoveMarkers:!0}]),B.current.pushUndoStop(),ce.current=!1))},[s],I),wo(()=>{var _,Q;let re=(_=B.current)==null?void 0:_.getModel();re&&i&&((Q=K.current)==null||Q.editor.setModelLanguage(re,i))},[i],I),wo(()=>{var re;l!==void 0&&((re=B.current)==null||re.revealLine(l))},[l],I),wo(()=>{var re;(re=K.current)==null||re.editor.setTheme(a)},[a],I);let ye=m.useCallback(()=>{var re;if(!(!R.current||!K.current)&&!he.current){H.current(K.current);let _=o||r,Q=wh(K.current,s||e||"",t||i||"",_||"");B.current=(re=K.current)==null?void 0:re.editor.create(R.current,{model:Q,automaticLayout:!0,...d},u),A&&B.current.restoreViewState(a0.get(_)),K.current.editor.setTheme(a),l!==void 0&&B.current.revealLine(l),F(!0),he.current=!0}},[e,t,r,s,i,o,d,u,A,a,l]);m.useEffect(()=>{I&&D.current(B.current,K.current)},[I]),m.useEffect(()=>{!T&&!I&&ye()},[T,I,ye]),z.current=s,m.useEffect(()=>{var re,_;I&&w&&((re=P.current)==null||re.dispose(),P.current=(_=B.current)==null?void 0:_.onDidChangeModelContent(Q=>{ce.current||w(B.current.getValue(),Q)}))},[I,w]),m.useEffect(()=>{if(I){let re=K.current.editor.onDidChangeMarkers(_=>{var Z;let Q=(Z=B.current.getModel())==null?void 0:Z.uri;if(Q&&_.find(Ae=>Ae.path===Q.path)){let Ae=K.current.editor.getModelMarkers({resource:Q});S==null||S(Ae)}});return()=>{re==null||re.dispose()}}return()=>{}},[I,S]);function X(){var re,_;(re=P.current)==null||re.dispose(),f?A&&a0.set(o,B.current.saveViewState()):(_=B.current.getModel())==null||_.dispose(),B.current.dispose()}return Xt.createElement(VL,{width:h,height:g,isEditorReady:I,loading:c,_ref:R,className:p,wrapperProps:b})}var Ime=Eme,Tme=m.memo(Ime),Fme=Tme;const Lme=()=>{const{competitionId:e,problemId:t}=Lo(),r=rn(),[s,i]=m.useState(null),[o,a]=m.useState(null),[l,c]=m.useState([]),[d,u]=m.useState([]),[A,f]=m.useState(!0),[h,g]=m.useState(!1),[p,b]=m.useState(""),[x,j]=m.useState("cpp"),[w,S]=m.useState("problem"),[I,F]=m.useState(null),[T,U]=m.useState(null),K=m.useRef(null),B=T!==null,R=I?"500px":"700px",D=[{id:"cpp",name:"C++",extension:"cpp"},{id:"c",name:"C",extension:"c"},{id:"java",name:"Java",extension:"java"},{id:"python",name:"Python",extension:"py"},{id:"javascript",name:"JavaScript",extension:"js"}],H={cpp:`#include <iostream>
using namespace std;

int main() {
    // Vit code ca bn ti y
    
    return 0;
}`,c:`#include <stdio.h>

int main() {
    // Vit code ca bn ti y
    
    return 0;
}`,java:`import java.util.*;

public class Main {
    public static void main(String[] args) {
        // Vit code ca bn ti y
    }
}`,python:`# Vit code ca bn ti y
`,javascript:`// Vit code ca bn ti y
`};m.useEffect(()=>{(async()=>{try{const _=await _0(e);_.success&&_.data.problems?(c(_.data.problems),i(_.data)):console.error("Khng th ti danh sch bi tp")}catch(_){console.error("Li khi ti chi tit cuc thi:",_)}})()},[e]);const P=s&&new Date>new Date(s.EndTime);m.useEffect(()=>{(async()=>{try{f(!0);const _=await ES(e,t);if(!_.success){if(_.isAuthError){Re.error("Vui lng ng nhp  xem chi tit bi tp"),r("/login",{state:{from:`/competitions/${e}/problems/${t}`}}),f(!1);return}if(_.isPermissionError){Re.error(_.message||"Bn khng c quyn xem bi tp ny"),f(!1);return}if(_.isServerError){Re.error(_.message||"Li my ch xy ra"),f(!1);return}Re.error(_.message||"Khng th ti chi tit bi tp"),f(!1);return}a(_.data),_.userSubmissions&&u(_.userSubmissions),_.data.StarterCode?b(_.data.StarterCode):b(H[x]);try{if(_.data.TestCasesVisible)try{const Q=JSON.parse(_.data.TestCasesVisible);_.data.TestCasesVisible=Array.isArray(Q)?Q:[]}catch(Q){console.error("Li phn tch test case hin th:",Q),_.data.TestCasesVisible=[]}}catch(Q){console.error("Li x l test case:",Q),_.data.TestCasesVisible=[]}}catch(_){console.error("Li khi ti chi tit bi tp:",_),Re.error(" xy ra li khi ti chi tit bi tp")}finally{f(!1)}})()},[e,t,x,r]);const z=re=>{const _=re.target.value;j(_),(!p||p===H[x])&&b(H[_])},G=(re,_)=>{K.current=re},he=async()=>{var re,_;if(!p.trim()){Re.warning("Vui lng vit code trc khi np bi");return}try{g(!0),F(null);let Q=await IS(e,t,p,x);if(!Q.success&&Q.message&&Q.message.toLowerCase().includes("not started")){console.warn('Detected "not started" error, attempting to start competition automatically...');const Z=await DL(e);Z.success?(console.log("Competition started programmatically. Retrying submission..."),Q=await IS(e,t,p,x)):Re.error(Z.message||"Khng th bt u cuc thi.")}if(Q.success){Re.success("Np bi thnh cng");let Z="pending",Ae=0;const me=10,ae=2e3,ie=async()=>{var te;try{Ae++,console.log(`Kim tra trng thi bi np (ln ${Ae}/${me})...`);const fe=await ES(e,t);if(fe.isServerError){Re.error(fe.message||"Li my ch xy ra"),g(!1);return}if(!fe.success){Re.error(fe.message||"Khng th kim tra trng thi bi np"),g(!1);return}const pe=(te=fe.userSubmissions)==null?void 0:te[0];if(!pe){console.error("Khng tm thy bi np no sau khi gi code"),g(!1);return}console.log("Trng thi bi np mi nht:",pe.Status),Z=pe.Status.toLowerCase(),u(fe.userSubmissions||[]),["pending","running","compiling"].includes(Z)&&Ae<me?setTimeout(ie,ae):(g(!1),Z==="accepted"?Re.success("Bi lm c chp nhn! "):Z==="wrong_answer"?Re.error("Sai p n. Hy th li!"):Z==="compilation_error"?Re.error("Li bin dch. Kim tra c php code ca bn."):Z==="runtime_error"?Re.error("Li thc thi. Kim tra logic code ca bn."):Z==="time_limit_exceeded"?Re.error("Qu thi gian gii hn. Hy ti u gii php ca bn."):Z==="memory_limit_exceeded"?Re.error("Qu b nh gii hn. Hy ti u gii php ca bn."):Re.error(" xy ra li khi chm bi ca bn."),F({status:Z,message:pe.ErrorMessage||null,score:pe.Score,executionTime:pe.ExecutionTime,memoryUsed:pe.MemoryUsed}))}catch(fe){console.error("Li khi kim tra trng thi bi np:",fe),g(!1),Re.error("Khng th kim tra trng thi bi np")}};setTimeout(ie,1e3)}else Re.error(Q.message||"Np bi khng thnh cng"),g(!1)}catch(Q){console.error("Li khi np code:",Q),Re.error(((_=(re=Q.response)==null?void 0:re.data)==null?void 0:_.message)||"Li khi np code"),g(!1)}},ce=async re=>{try{const _=await Cfe(re);_.success?(U(_.data),S("submissions")):Re.error("Khng th ti chi tit bi np")}catch(_){console.error("Li khi ti chi tit bi np:",_),Re.error("Li khi ti chi tit bi np")}},ye=re=>{switch(re){case"accepted":return n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"t"});case"wrong_answer":return n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Sai p n"});case"compilation_error":return n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Li bin dch"});case"runtime_error":return n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-orange-100 text-orange-800",children:"Li thc thi"});case"time_limit_exceeded":return n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800",children:"Qu thi gian"});case"memory_limit_exceeded":return n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-indigo-100 text-indigo-800",children:"Qu b nh"});case"pending":case"running":case"compiling":return n.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 flex items-center",children:[n.jsxs("svg",{className:"w-3 h-3 mr-1 animate-spin",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),re==="pending"?"ang ch":re==="running"?"ang chy":"ang bin dch"]});default:return n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",children:re})}},X=re=>{try{return re?gl(new Date(re),"HH:mm:ss dd/MM/yyyy"):"-"}catch{return"Ngy khng hp l"}};return A?n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"flex justify-center items-center py-32",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})}):o?n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("div",{className:"mb-4",children:n.jsx(Zt,{to:`/competitions/${e}`,className:"text-blue-600 hover:text-blue-800",children:" Quay li cuc thi"})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[n.jsxs("div",{className:"lg:col-span-4 bg-white rounded-lg shadow-md overflow-hidden",children:[n.jsxs("div",{className:"flex border-b",children:[n.jsx("button",{className:`flex-1 py-3 px-4 text-center ${w==="problem"?"border-b-2 border-blue-500 font-medium text-blue-600":"text-gray-600 hover:text-gray-800"}`,onClick:()=>S("problem"),children:" bi"}),n.jsx("button",{className:`flex-1 py-3 px-4 text-center ${w==="submissions"?"border-b-2 border-blue-500 font-medium text-blue-600":"text-gray-600 hover:text-gray-800"}`,onClick:()=>S("submissions"),children:"Bi np"})]}),n.jsx("div",{className:"p-4 overflow-auto",style:{maxHeight:"calc(100vh - 250px)"},children:w==="problem"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsx("h1",{className:"text-2xl font-bold",children:o.Title}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium ${o.Difficulty==="D"?"bg-green-100 text-green-800":o.Difficulty==="Trung bnh"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:o.Difficulty}),n.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:[o.Points," im"]})]})]}),n.jsxs("div",{className:"mb-6 border-b pb-4",children:[n.jsx("h3",{className:"text-md font-semibold mb-2",children:"Danh sch bi tp"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:l&&l.map(re=>n.jsx("button",{onClick:()=>re.ProblemID!==parseInt(t)&&r(`/competitions/${e}/problems/${re.ProblemID}`),className:`px-3 py-1 text-sm rounded-full ${re.ProblemID===parseInt(t)?"bg-blue-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:re.Title},re.ProblemID))})]}),n.jsxs("div",{className:"prose max-w-none",children:[n.jsx("div",{className:"mb-6",children:n.jsx("p",{children:o.Description})}),o.InputFormat&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"nh dng u vo"}),n.jsx("p",{children:o.InputFormat})]}),o.OutputFormat&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"nh dng u ra"}),n.jsx("p",{children:o.OutputFormat})]}),o.Constraints&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Rng buc"}),n.jsx("p",{children:o.Constraints})]}),(o.SampleInput||o.SampleOutput)&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"V d"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.SampleInput&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-2",children:"u vo mu"}),n.jsx("pre",{className:"bg-gray-50 p-3 rounded-md text-sm overflow-x-auto",children:o.SampleInput})]}),o.SampleOutput&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-2",children:"u ra mu"}),n.jsx("pre",{className:"bg-gray-50 p-3 rounded-md text-sm overflow-x-auto",children:o.SampleOutput})]})]})]}),o.Explanation&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Gii thch"}),n.jsx("p",{children:o.Explanation})]}),o.TestCasesVisible&&o.TestCasesVisible.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Test Case"}),n.jsx("div",{className:"space-y-4",children:o.TestCasesVisible.map((re,_)=>n.jsx("div",{className:"border rounded-md p-4",children:n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-2",children:"u vo"}),n.jsx("pre",{className:"bg-gray-50 p-3 rounded-md text-sm overflow-x-auto",children:re.input})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-2",children:"u ra mong i"}),n.jsx("pre",{className:"bg-gray-50 p-3 rounded-md text-sm overflow-x-auto",children:re.output})]})]})},_))})]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Bi np ca bn"}),T?n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(fn,{src:T.UserImage,alt:T.UserName||"Ngi dng",name:T.UserName||"Ngi dng",size:"small",className:"mr-3"}),n.jsxs("h3",{className:"text-lg font-semibold",children:["Bi np #",T.SubmissionID]})]}),n.jsx("button",{onClick:()=>U(null),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Quay li danh sch"})]}),n.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Trng thi:"}),n.jsx("div",{className:"mt-1",children:ye(T.Status)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"im:"}),n.jsxs("div",{className:"mt-1 font-medium",children:[T.Score," im"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Thi gian:"}),n.jsx("div",{className:"mt-1",children:T.ExecutionTime?`${T.ExecutionTime} giy`:"-"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"B nh:"}),n.jsx("div",{className:"mt-1",children:T.MemoryUsed?`${T.MemoryUsed} KB`:"-"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Ngn ng:"}),n.jsx("div",{className:"mt-1",children:T.Language})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Thi gian np:"}),n.jsx("div",{className:"mt-1",children:X(T.SubmittedAt)})]})]}),T.ErrorMessage&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-sm font-medium text-red-600 mb-2",children:"Li:"}),n.jsx("pre",{className:"bg-red-50 p-3 rounded-md text-sm overflow-x-auto whitespace-pre-wrap text-red-700",children:T.ErrorMessage})]})]}):d.length===0?n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-gray-500",children:"Cha c bi np"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"im"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngn ng"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thi gian"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"B nh"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" np"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(re=>n.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>ce(re.SubmissionID),children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(fn,{src:re.UserImage,alt:re.UserName||"Ngi dng",name:re.UserName||"Ngi dng",size:"small",className:"mr-2"}),re.SubmissionID]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ye(re.Status)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:re.Score}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:re.Language}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:re.ExecutionTime?`${re.ExecutionTime} s`:"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:re.MemoryUsed?`${re.MemoryUsed} KB`:"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:X(re.SubmittedAt)})]},re.SubmissionID))})]})})]})})]}),n.jsxs("div",{className:"lg:col-span-8 bg-white rounded-lg shadow-md overflow-hidden",children:[n.jsxs("div",{className:"border-b px-4 py-3 flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("label",{htmlFor:"language",className:"text-sm font-medium text-gray-700",children:"Ngn ng:"}),n.jsx("select",{id:"language",value:B?T.Language:x,onChange:z,disabled:B||P,className:"block w-32 pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md disabled:bg-gray-100 disabled:cursor-not-allowed",children:D.map(re=>n.jsx("option",{value:re.id,children:re.name},re.id))})]}),n.jsx("button",{onClick:he,disabled:h||B||P,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white ${h?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:h?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang np..."]}):"Np bi"})]}),n.jsx("div",{className:"border-b",children:n.jsx(Fme,{height:R,language:B?T.Language:x,value:B?T.SourceCode:p,onChange:B||P?void 0:b,onMount:G,options:{readOnly:B||P,minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:14}})}),I&&n.jsxs("div",{className:"p-4",style:{marginTop:"-10px"},children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Kt qu"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-sm font-medium mr-2",children:"Trng thi:"}),ye(I.status)]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-sm font-medium mr-2",children:"im:"}),n.jsxs("span",{className:"text-sm font-medium",children:[I.score," / ",o.Points]})]}),I.executionTime&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium mr-2",children:"Thi gian thc thi:"}),n.jsxs("span",{className:"text-sm",children:[I.executionTime," giy"]})]}),I.memoryUsed&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium mr-2",children:"B nh s dng:"}),n.jsxs("span",{className:"text-sm",children:[I.memoryUsed," KB"]})]}),I.message&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-red-600 mb-1 block",children:"Li:"}),n.jsx("pre",{className:"bg-red-50 p-3 rounded-md text-sm overflow-x-auto whitespace-pre-wrap text-red-700",children:I.message}),I.message.includes("Outputs differ")&&I.diffInfo&&n.jsxs("div",{className:"mt-2 border-t border-red-200 pt-2",children:[n.jsx("h4",{className:"text-sm font-medium text-red-600 mb-1",children:"Chi tit li so snh:"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-red-700 mb-1",children:"Kt qu mong i:"}),n.jsx("pre",{className:"bg-green-50 p-2 rounded-md text-xs overflow-x-auto whitespace-pre-wrap text-green-800",children:I.diffInfo.expectedContext})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-red-700 mb-1",children:"Kt qu ca bn:"}),n.jsx("pre",{className:"bg-red-50 p-2 rounded-md text-xs overflow-x-auto whitespace-pre-wrap text-red-800",children:I.diffInfo.actualContext})]})]})]})]})]})]})]})]})]}):n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-md",children:"Khng tm thy bi tp"}),n.jsx("div",{className:"mt-4",children:n.jsx(Zt,{to:`/competitions/${e}`,className:"text-blue-600 hover:text-blue-800",children:" Quay li cuc thi"})})]})},Pme=()=>{var S;const{transactionCode:e}=Lo(),t=rn(),s=lo().state||{},{vietQRData:i,courseId:o}=s,[a,l]=m.useState(i),[c,d]=m.useState(!1),[u,A]=m.useState(null),[f,h]=m.useState(!0);if(m.useEffect(()=>{a||(Re.error("Khng tm thy d liu giao dch. Vui lng to QR li."),t(-1))},[a,t]),m.useEffect(()=>{(async()=>{if(!o){h(!1);return}try{const F=await Er.getCourseDetails(o);F.success&&F.data&&A(F.data)}catch(F){console.error("Error fetching course details:",F)}finally{h(!1)}})()},[o]),!a)return null;const g="9999991909",p="MBBANK",b="MB",x="NGUYEN DUC QUYEN",j=`https://img.vietqr.io/image/${b}-${g}-compact.png?amount=${a.amount}&addInfo=${a.description}`,w=I=>{if(I==null)return"0";const F=parseFloat(I);return isNaN(F)?"0":F.toLocaleString()};return n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6 flex items-center text-sm text-gray-500",children:[n.jsx(Zt,{to:"/",className:"hover:text-blue-600",children:"Trang ch"}),n.jsx("span",{className:"mx-2",children:"/"}),n.jsx(Zt,{to:"/courses",className:"hover:text-blue-600",children:"Kha hc"}),u&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mx-2",children:"/"}),n.jsx(Zt,{to:`/courses/${o}`,className:"hover:text-blue-600",children:u.Title})]}),n.jsx("span",{className:"mx-2",children:"/"}),n.jsx("span",{className:"text-gray-700",children:"Thanh ton VietQR"})]}),f?n.jsx($6,{}):n.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[n.jsx("div",{className:"md:w-1/2 lg:w-3/5",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h1",{className:"text-xl font-bold mb-4",children:"Thanh ton VietQR"}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"mb-4 w-full max-w-xs mx-auto",children:n.jsx("img",{src:j,alt:"VietQR",className:"w-64 h-64 object-contain rounded-lg shadow-sm mx-auto",onError:I=>{I.target.onerror=null,I.target.src=a.qrImageUrl}})}),n.jsxs("div",{className:"w-full bg-gray-50 p-5 rounded-lg border border-gray-200 mb-6",children:[n.jsx("h3",{className:"font-semibold mb-3 text-gray-800",children:"Thng tin chuyn khon"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Ngn hng:"}),n.jsx("span",{className:"font-medium",children:p})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"S ti khon:"}),n.jsx("span",{className:"font-medium",children:g})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Tn ti khon:"}),n.jsx("span",{className:"font-medium",children:x})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"S tin:"}),n.jsxs("span",{className:"font-medium",children:[w(a.amount)," VND"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Ni dung:"}),n.jsx("span",{className:"font-medium",children:a.description})]})]})]})]})]})}),n.jsx("div",{className:"md:w-1/2 lg:w-2/5 mt-6 md:mt-0",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-6",children:[n.jsx("h2",{className:"text-lg font-bold mb-4",children:"Thng tin kha hc"}),u?n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-start border-b pb-4 mb-4",children:[u.ImageUrl?n.jsx("img",{src:u.ImageUrl,alt:u.Title,className:"w-24 h-24 object-cover rounded-md mr-4",onError:I=>{I.target.onerror=null,I.target.src="https://placehold.co/600x400?text=Course+Image"}}):n.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-md mr-4 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500 text-xs",children:"Khng c hnh nh"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-lg mb-1",children:u.Title}),n.jsx("p",{className:"text-gray-600 text-sm mb-2",children:u.ShortDescription||((S=u.Description)==null?void 0:S.substring(0,100))||"Khng c m t"}),n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full text-xs mr-2",children:u.Level||"All Levels"}),n.jsxs("span",{children:[u.Duration||0," pht"]})]})]})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Gi gc:"}),n.jsxs("span",{children:[w(u.Price)," VND"]})]}),u.DiscountPrice&&u.DiscountPrice<u.Price&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:"Gim gi:"}),n.jsxs("span",{children:["- ",w(u.Price-u.DiscountPrice)," VND"]})]}),n.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 border-t",children:[n.jsx("span",{children:"Tng thanh ton:"}),n.jsxs("span",{children:[w(u.DiscountPrice||u.Price)," VND"]})]})]})]}):n.jsx("div",{className:"py-4 text-center text-gray-500",children:"Khng tm thy thng tin kha hc"}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Bn s nhn c:"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),n.jsx("span",{children:"Truy cp trn i vo kha hc"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),n.jsx("span",{children:"Hc theo tc  ca ring bn"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),n.jsx("span",{children:"Giy chng nhn hon thnh"})]})]})]})]})})]})]})};function Ume(){return n.jsx($E,{children:n.jsx(Che,{children:n.jsxs(vJ,{children:[n.jsx(A6,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,className:"toast-container-custom",toastClassName:"toast-custom",style:{top:"70px"}}),n.jsx(hD,{position:"top-right",toastOptions:{style:{marginTop:"70px"}}}),n.jsx(FL,{}),n.jsxs(zS,{children:[n.jsx(Pn,{path:"/login",element:n.jsx(nfe,{})}),n.jsx(Pn,{path:"/register",element:n.jsx(sfe,{})}),n.jsx(Pn,{path:"/forgot-password",element:n.jsx(ife,{})}),n.jsx(Pn,{path:"/reset-password",element:n.jsx(ofe,{})}),n.jsx(Pn,{path:"/courses/*",element:n.jsx(vre,{})}),n.jsx(Pn,{path:"/courses/:courseId",element:n.jsx(wre,{})}),n.jsx(Pn,{path:"/events/:eventId",element:n.jsx(yde,{})}),n.jsx(Pn,{path:"/roadmaps",element:n.jsx(hfe,{})}),n.jsx(Pn,{path:"/payment/callback",element:n.jsx(Av,{})}),n.jsx(Pn,{path:"/payment/paypal/success",element:n.jsx(Av,{})}),n.jsx(Pn,{path:"/payment/paypal/cancel",element:n.jsx(Av,{})}),[{path:"/home",element:n.jsx(fre,{})},{path:"/profile",element:n.jsx(wS,{})},{path:"/profile/:userId",element:n.jsx(wS,{})},{path:"/friends",element:n.jsx(She,{})},{path:"/events",element:n.jsx(pde,{})},{path:"/posts",element:n.jsx(LAe,{})},{path:"/notifications",element:n.jsx(PAe,{})},{path:"/ranking",element:n.jsx(RAe,{})},{path:"/ai-chat",element:n.jsx(phe,{})},{path:"/ai-test-local",element:n.jsx(yfe,{})},{path:"/other-courses",element:n.jsx(xhe,{})},{path:"/chat",element:n.jsx(Nhe,{})},{path:"/reports",element:n.jsx(Bhe,{})},{path:"/settings",element:n.jsx(tfe,{})},{path:"/exams/*",element:n.jsx(ghe,{})},{path:"/competitions",element:n.jsx(Nfe,{})},{path:"/competitions/:id",element:n.jsx(Bfe,{})},{path:"/competitions/:competitionId/problems/:problemId",element:n.jsx(Lme,{})},{path:"/courses/:courseId/learn",element:n.jsx(vce,{})},{path:"/courses/:courseId/edit-code/:lessonId",element:n.jsx(gre,{})},{path:"/payment/:courseId",element:n.jsx(jce,{})},{path:"/payment/vietqr/:transactionCode",element:n.jsx(Pme,{})},{path:"/payment-history",element:n.jsx(aue,{})},{path:"/payment-history/print-course",element:n.jsx(hde,{})}].map(({path:e,element:t})=>n.jsx(Pn,{path:e,element:n.jsx(afe,{children:t})},e)),n.jsx(Pn,{path:"/stories/create",element:n.jsx(lfe,{})}),n.jsx(Pn,{path:"/",element:localStorage.getItem("token")?n.jsx(Xf,{to:"/home",replace:!0}):n.jsx(Xf,{to:"/login",replace:!0})}),n.jsx(Pn,{path:"*",element:localStorage.getItem("token")?n.jsx(Xf,{to:"/home",replace:!0}):n.jsx(Xf,{to:"/login",replace:!0})}),n.jsx(Pn,{path:"/support/faq",element:n.jsx(cfe,{})}),n.jsx(Pn,{path:"/support/help-center",element:n.jsx(ufe,{})}),n.jsx(Pn,{path:"/support/privacy-policy",element:n.jsx(dfe,{})}),n.jsx(Pn,{path:"/support/terms-of-use",element:n.jsx(Afe,{})})]})]})})})}window.global=window;window.process={env:{}};typeof window<"u"&&typeof window.browser>"u"&&(window.browser=window.browser||window.chrome||{},window.browser.runtime||(window.browser.runtime={sendMessage:()=>Promise.resolve({}),onMessage:{addListener:()=>{},removeListener:()=>{}}}));window.Buffer=qS.Buffer;xR();window.timer=null;window.remainingSeconds=900;window.updateTime=function(){try{if(window.remainingSeconds<=0){clearInterval(window.timer),window.timer=null;return}window.remainingSeconds--;const e=document.getElementById("minutes"),t=document.getElementById("seconds");if(e&&t){const r=Math.floor(window.remainingSeconds/60),s=window.remainingSeconds%60;e.textContent=r<10?"0"+r:r,t.textContent=s<10?"0"+s:s}}catch(e){console.warn("VNPay timer error handled:",e.message)}};window.startTimer=function(e){return window.remainingSeconds=e||900,window.timer&&clearInterval(window.timer),window.timer=setInterval(function(){typeof window.updateTime=="function"&&window.updateTime()},1e3),window.timer};window.addEventListener("error",e=>e.message&&(e.message.includes("browser is not defined")||e.message.includes("vsda")||e.message.includes("Workspace does not exist")||e.message.includes("404 (Not Found)"))?(console.warn("Suppressing VS Code/code-server error:",e.message),e.preventDefault(),!0):!1,!0);const Rme=new zce;Ev.createRoot(document.getElementById("root")).render(n.jsx(Xt.StrictMode,{children:n.jsx($P,{store:j6,children:n.jsx(cP,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:n.jsx(Gce,{client:Rme,children:n.jsx(CU,{children:n.jsx(vR,{children:n.jsx($E,{children:n.jsx(Ume,{})})})})})})})}));export{xn as _,ude as r};
//# sourceMappingURL=index-mRUO9BYL.js.map
